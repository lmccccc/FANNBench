Start time: 06:59
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 30
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.822s ] Loaded metadata, 10000000 attr's found
[ 0.822s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.825s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.826s ] Loaded 10000 spacev10m queries
[ 0.833s ] Loaded ground truth, gt_size: 10
[ 0.833s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 4.250s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 76.633s ] Query results (vector ids, then distances):
query 0 nn's (20, 20): 6443191 (20) 4699240 (20) 7019431 (20) 4283885 (20) 9935667 (20) 3931559 (20) 5199441 (20) 6118204 (20) 8723167 (20) 8237360 (20) 
     dis: 	12183.217 12270.143 16160.129 17880.533 17992.535 18207.014 18672.984 19150.332 19745.900 19920.078 
query 1 nn's (20, 20): 9246122 (20) 6649015 (20) 9227196 (20) 8711930 (20) 662332 (20) 7923085 (20) 6779370 (20) 4889973 (20) 9004403 (20) 7856374 (20) 
     dis: 	13139.062 14440.965 14605.871 15184.494 15359.936 16701.602 16707.025 17081.066 17207.820 17775.973 
query 2 nn's (20, 20): 3713444 (20) 8465646 (20) 5699749 (20) 8198536 (20) 328170 (20) 8979320 (20) 9630261 (20) 4791587 (20) 5616307 (20) 7809929 (20) 
     dis: 	11821.822 13209.668 14546.093 14743.147 15838.992 16158.321 16812.693 17017.117 17466.766 17800.916 
query 3 nn's (20, 20): 5023237 (20) 4869461 (20) 6286207 (20) 5515303 (20) 5321494 (20) 2934450 (20) 6165841 (20) 6170727 (20) 9673289 (20) 1150990 (20) 
     dis: 	15682.982 16343.217 16877.375 17505.180 17942.729 18345.178 19071.053 19403.707 19721.559 19924.023 
query 4 nn's (20, 20): 2805400 (20) 2867132 (20) 5608022 (20) 3733057 (20) 7541936 (20) 3722920 (20) 8876586 (20) 5495283 (20) 7312851 (20) 4365971 (20) 
     dis: 	8020.513 8795.764 9016.697 9049.032 9677.945 9754.618 10004.038 10073.567 10130.991 10571.021 
[ 76.633s ] *** Query time: 13.719
qps: 728.916
 *** ivfpq recall 
ivfpq get 40578 postive res from 100000 results, recall@10:0.406
recall dist(10% per bucket): 0.043 0.086 0.138 0.158 0.169 0.145 0.116 0.075 0.043 0.021 0.007 
finished ivfpq index examples
[ 76.634s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 30 100"
	User time (seconds): 74.13
	System time (seconds): 1.47
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:16.77
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2391160
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 612344
	Voluntary context switches: 3995
	Involuntary context switches: 145
	Swaps: 0
	File system inputs: 111456
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
