Start time: 23:16
====================
START: running TEST_IVFPQ, sift data --

dataset: sift1M
N: 1000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json
qrange file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json
gt file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json
index file: /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_8_random_4
nprobe: 1
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json
[ 0.066s ] Loaded metadata, 1000000 attr's found
[ 0.066s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.069s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
[ 0.070s ] Loaded 10000 sift1M queries
[ 0.077s ] Loaded ground truth, gt_size: 10
[ 0.077s ] Index Params -- d: 128, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 0.275s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.125
[ 234.505s ] Query results (vector ids, then distances):
query 0 nn's (2, 2): 957845 (2) 619829 (2) 87578 (2) 554637 (2) 746238 (2) 701108 (2) 95545 (2) 842594 (2) 68862 (2) 844361 (2) 
     dis: 	80619.266 82959.977 84799.172 85685.695 86414.797 87156.180 87433.953 87559.617 87932.328 92351.461 
query 1 nn's (7, 7): 987696 (7) 390999 (7) 679280 (7) 845176 (7) 594433 (7) 631737 (7) 377118 (7) 424265 (7) 696756 (7) 214905 (7) 
     dis: 	63369.535 63550.453 66479.953 72331.812 75297.727 77288.203 80211.203 81705.844 81717.953 83730.406 
query 2 nn's (1, 1): 256075 (1) 742474 (1) 633719 (1) 523150 (1) 323277 (1) 701834 (1) 125431 (1) 586915 (1) 449196 (1) 943196 (1) 
     dis: 	49753.207 49851.637 52555.484 53385.836 55191.602 57333.645 57573.430 58726.703 63010.711 64564.594 
query 3 nn's (0, 0): 191115 (0) 190999 (0) 546487 (0) 81437 (0) 183026 (0) 9825 (0) 889094 (0) 310401 (0) 918812 (0) 947268 (0) 
     dis: 	37069.359 39087.145 40603.445 42559.781 43196.012 45189.703 46023.332 47493.094 47658.656 47773.641 
query 4 nn's (7, 7): 416604 (7) 106921 (7) 460675 (7) 410705 (7) 487771 (7) 622600 (7) 3462 (7) 125019 (7) 5897 (7) 130437 (7) 
     dis: 	58939.301 65681.203 67565.750 69247.828 69918.125 74224.180 76336.344 76482.797 76672.422 78224.750 
[ 234.505s ] *** Query time: 94.792
qps: 105.494
 *** ivfpq recall 
ivfpq get 20125 postive res from 100000 results, recall@10:0.201
recall dist(10% per bucket): 0.241 0.259 0.188 0.118 0.081 0.045 0.029 0.019 0.011 0.007 0.002 
finished ivfpq index examples
[ 234.507s ] -----DONE-----
