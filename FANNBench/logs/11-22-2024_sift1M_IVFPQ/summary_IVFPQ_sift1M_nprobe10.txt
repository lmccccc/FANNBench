Start time: 23:16
====================
START: running TEST_IVFPQ, sift data --

dataset: sift1M
N: 1000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json
qrange file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json
gt file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json
index file: /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_8_random_4
nprobe: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json
[ 0.066s ] Loaded metadata, 1000000 attr's found
[ 0.066s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.069s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
[ 0.070s ] Loaded 10000 sift1M queries
[ 0.078s ] Loaded ground truth, gt_size: 10
[ 0.078s ] Index Params -- d: 128, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 0.277s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.125
[ 206.361s ] Query results (vector ids, then distances):
query 0 nn's (2, 2): 565419 (2) 908244 (2) 158640 (2) 2837 (2) 957845 (2) 619829 (2) 4009 (2) 835683 (2) 87578 (2) 565750 (2) 
     dis: 	73409.617 74105.305 79125.602 79284.297 80619.266 82959.977 83700.906 83936.227 84799.172 84939.977 
query 1 nn's (7, 7): 849742 (7) 987696 (7) 390999 (7) 918322 (7) 731804 (7) 275323 (7) 679280 (7) 14748 (7) 502137 (7) 915764 (7) 
     dis: 	60732.359 63369.535 63550.453 64257.102 65362.223 65936.883 66479.953 67115.148 68443.555 69357.906 
query 2 nn's (1, 1): 402106 (1) 861882 (1) 778799 (1) 869379 (1) 311367 (1) 23781 (1) 260648 (1) 218945 (1) 762362 (1) 861555 (1) 
     dis: 	34723.961 37482.953 38608.336 40410.574 42115.754 42116.000 44125.398 45114.789 46050.617 46336.148 
query 3 nn's (0, 0): 722075 (0) 191115 (0) 190999 (0) 190795 (0) 546487 (0) 190587 (0) 609251 (0) 81437 (0) 183026 (0) 102152 (0) 
     dis: 	36264.012 37069.359 39087.145 40130.699 40603.445 41257.195 41788.289 42559.781 43196.012 43341.039 
query 4 nn's (7, 7): 59308 (7) 81533 (7) 416604 (7) 279082 (7) 278801 (7) 671857 (7) 356787 (7) 495828 (7) 472001 (7) 106921 (7) 
     dis: 	56261.574 56276.129 58939.301 61617.391 62651.574 63320.273 64042.832 64556.285 65030.004 65681.203 
[ 206.361s ] *** Query time: 63.353
qps: 157.846
 *** ivfpq recall 
ivfpq get 60050 postive res from 100000 results, recall@10:0.601
recall dist(10% per bucket): 0.002 0.015 0.035 0.074 0.117 0.148 0.170 0.176 0.152 0.094 0.018 
finished ivfpq index examples
[ 206.362s ] -----DONE-----
