Start time: 09:41
====================
START: running TEST_IVFPQ, sift data --

dataset: YTRGB1m
N: 1000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json
index file: /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_2_100000_random_1024
nprobe: 120
dim: 1024
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 0.135s ] Loaded metadata, 2000000 attr's found
[ 0.135s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.161s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
[ 0.164s ] Loaded 10000 YTRGB1m queries
[ 0.231s ] Loaded ground truth, gt_size: 100
[ 0.231s ] Index Params -- d: 1024, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.142s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 2511.854s ] Query results (vector ids, then distances):
query 0 nn's (6, 10418, 93742): 889953 (68213) 807214 (6) 333483 (49490) 521249 (14113) 418474 (6) 662806 (6) 467816 (6) 239994 (6) 694505 (89822) 809944 (6) 906365 (1357) 86717 (55411) 671708 (19) 680375 (7456) 208021 (27012) 469118 (6) 99619 (34814) 745412 (6) 510683 (52996) 366566 (6) 319303 (40463) 583355 (58432) 263709 (28654) 956741 (35358) 59455 (23428) 821751 (25331) 497627 (10015) 776796 (6) 32077 (71252) 597593 (68414) 31562 (6) 178374 (6) 496578 (10) 19514 (10) 295187 (33654) 451807 (45339) 935441 (55339) 973705 (67902) 327418 (6) 110922 (6) 912768 (10) 945815 (13463) 159538 (10) 110112 (10) 315673 (54436) 751978 (6) 610812 (6) 953921 (90763) 956829 (47144) 765668 (6) 395220 (6) 785594 (6) 913246 (6) 403197 (59207) 70165 (60550) 242795 (45681) 301781 (63772) 428766 (6) 772499 (97312) 168854 (6) 687363 (7141) 207759 (10788) 157018 (6) 899164 (10) 777637 (65099) 915739 (95843) 365062 (10) 606062 (19) 267332 (20) 970397 (5976) 714835 (83413) 38549 (91268) 361766 (19) 211790 (6) 876826 (10) 966722 (6) 177205 (39945) 696449 (10777) 82279 (53010) 497267 (54918) 528429 (44210) 487597 (59976) 745278 (6) 546302 (6) 807295 (77211) 399500 (6) 251722 (10) 196808 (6) 617300 (6) 513185 (72532) 591405 (4638) 372361 (85961) 877336 (10) 771516 (10) 110109 (13095) 342682 (6) 115812 (10) 424122 (6) 837078 (10) 29840 (10) 
     dis: 	83.516 85.612 86.873 88.147 88.692 88.695 89.513 90.033 90.728 91.388 91.974 92.091 92.331 92.644 92.735 92.760 92.873 92.880 92.913 92.921 93.022 93.203 93.379 93.672 93.676 93.858 94.155 94.710 94.786 94.796 94.844 94.859 94.882 94.938 95.019 95.106 95.158 95.377 95.489 95.552 95.821 95.955 96.019 96.020 96.054 96.251 96.327 96.530 96.599 96.611 96.746 96.753 96.804 96.821 96.955 96.978 97.038 97.339 97.545 97.689 97.784 97.900 97.971 98.044 98.064 98.083 98.118 98.152 98.245 98.265 98.291 98.394 98.402 98.504 98.514 98.515 98.532 98.579 98.603 98.605 98.606 98.613 98.623 98.728 98.747 98.792 98.810 98.812 98.816 98.832 98.850 98.874 98.928 98.969 98.993 99.014 99.105 99.165 99.183 99.218 
query 1 nn's (6, 871, 84222): 963956 (19) 506689 (83207) 630027 (60046) 326679 (4165) 172456 (6) 627139 (56170) 689633 (43777) 867145 (68811) 380703 (15922) 546210 (6) 360005 (57928) 183639 (42501) 910863 (57125) 731008 (6) 365136 (10) 641093 (3367) 383855 (34983) 146981 (3175) 368711 (18112) 546146 (6) 25928 (6) 941312 (6) 267568 (6) 997115 (69441) 499809 (11743) 567484 (19) 273324 (10) 482286 (6) 513153 (85700) 466827 (61473) 400581 (1071) 928147 (64302) 666817 (61632) 305876 (6) 30138 (6) 179696 (6) 324596 (10) 316563 (51845) 658247 (2404) 791360 (10) 87814 (6) 613044 (6) 289226 (19) 936153 (10770) 68977 (13200) 192956 (6) 202435 (37321) 519648 (6) 548866 (10) 900179 (40079) 926918 (6) 532606 (6) 736563 (56856) 944075 (14260) 899467 (99182) 554657 (78426) 427979 (29253) 633004 (6) 726691 (50015) 23747 (51527) 325785 (97247) 946883 (13843) 889441 (18617) 978444 (6) 475413 (1857) 28365 (70417) 171157 (19293) 233078 (10) 469118 (6) 844413 (13139) 890430 (10) 806534 (10) 970271 (62778) 150833 (4314) 105535 (39459) 984612 (10) 52602 (6) 114503 (98188) 351223 (90980) 927330 (6) 343722 (6) 797475 (13940) 543197 (52680) 805675 (78600) 367427 (78807) 707130 (10) 980092 (6) 606832 (6) 82279 (53010) 990959 (64178) 401052 (10) 912768 (10) 486635 (26174) 751767 (83527) 428023 (31676) 796772 (10) 226109 (29249) 771649 (86306) 502299 (31871) 974111 (92852) 
     dis: 	53.152 53.410 53.657 54.385 54.616 54.616 54.666 55.627 55.658 56.392 56.612 56.656 56.945 57.303 57.366 57.625 57.810 57.848 57.850 57.862 58.312 58.594 58.730 58.811 58.939 58.983 59.049 59.130 59.278 59.389 59.490 59.547 59.605 59.614 59.638 59.741 59.745 60.023 60.157 60.179 60.285 60.293 60.308 60.316 60.405 60.556 60.654 60.658 60.716 60.751 60.794 60.963 60.994 61.050 61.068 61.084 61.247 61.315 61.417 61.464 61.465 61.559 61.574 61.606 61.659 61.669 61.705 61.713 61.762 61.906 62.014 62.037 62.104 62.115 62.138 62.163 62.263 62.307 62.369 62.404 62.495 62.503 62.588 62.689 62.833 62.892 62.939 63.054 63.077 63.115 63.134 63.149 63.178 63.197 63.290 63.310 63.321 63.336 63.350 63.380 
query 2 nn's (6, 2953, 86302): 423205 (46713) 531527 (49795) 871743 (85658) 947479 (343) 633590 (10) 308085 (55976) 528201 (60263) 529153 (96313) 509845 (63335) 666817 (61632) 979613 (81292) 195836 (6) 619819 (1093) 432506 (10) 667162 (10) 37850 (6) 926192 (19) 44203 (93218) 383560 (10) 771658 (6) 443951 (68829) 223022 (6) 823721 (77026) 486952 (6) 867372 (6) 475413 (1857) 386531 (34566) 423023 (54660) 917665 (82189) 770187 (86189) 915528 (6) 266781 (97988) 450839 (93589) 932640 (6) 831224 (6) 851559 (98771) 946688 (10) 181413 (24999) 641427 (89826) 118685 (12231) 613701 (60694) 969746 (6) 467041 (60072) 1692 (10) 376833 (4585) 162558 (6) 854562 (20) 519648 (6) 320908 (6) 707130 (10) 597155 (49171) 51398 (6) 302286 (10) 166005 (79633) 62301 (35156) 756943 (44515) 680642 (10) 899160 (6) 645520 (6) 868923 (47335) 849697 (96603) 50122 (6) 240815 (40572) 732994 (10) 233174 (6) 519970 (6) 767371 (2956) 763020 (10) 863223 (57172) 989419 (46238) 605288 (10) 741618 (6) 236165 (37184) 932857 (79926) 389086 (460) 564154 (10) 819590 (10) 900209 (53577) 231378 (10) 546302 (6) 184392 (10) 446219 (13170) 101393 (23273) 829520 (10) 345118 (6) 671349 (96998) 980178 (19) 508045 (65780) 352065 (29942) 883168 (19) 579013 (68467) 408274 (6) 228636 (6) 343114 (6) 305326 (10) 726382 (19) 452756 (10) 70165 (60550) 534146 (10) 358307 (36225) 
     dis: 	132.549 135.341 136.082 137.181 137.406 137.751 137.994 138.967 139.102 139.333 139.433 139.858 140.198 140.416 140.482 141.040 141.458 141.607 141.910 141.939 142.064 142.559 143.118 143.297 143.377 143.395 143.428 143.619 143.622 143.893 144.104 144.177 144.194 144.229 144.352 144.620 144.645 144.656 144.663 144.665 144.720 144.766 144.779 144.780 144.866 144.883 144.912 144.923 144.924 144.965 145.049 145.086 145.104 145.106 145.259 145.266 145.277 145.327 145.364 145.364 145.375 145.377 145.519 145.700 145.755 145.852 145.875 145.944 145.955 145.956 146.008 146.028 146.051 146.075 146.088 146.199 146.220 146.234 146.249 146.314 146.329 146.377 146.401 146.404 146.444 146.453 146.513 146.538 146.669 146.753 146.771 146.831 146.835 146.835 146.900 146.911 146.926 147.041 147.051 147.075 
query 3 nn's (6, 1285, 84611): 462979 (51579) 421752 (10) 505074 (20) 870912 (19) 26879 (16840) 99295 (13036) 873503 (85666) 62225 (27952) 469561 (29678) 376313 (57309) 954742 (10) 969523 (68289) 198287 (56316) 295339 (15720) 827991 (93691) 203555 (47047) 608874 (6) 440840 (10) 120516 (10) 26211 (3207) 200440 (6) 32195 (71759) 483464 (6) 260825 (60869) 647424 (6) 362437 (4827) 762909 (78521) 770187 (86189) 613254 (6) 343722 (6) 250943 (47745) 542275 (61745) 311972 (6) 609297 (98643) 878957 (63781) 976180 (10) 750794 (10) 647454 (6) 827077 (8594) 287394 (6) 368216 (6) 717608 (10) 350197 (85649) 523139 (5437) 107516 (6) 465693 (5803) 665690 (6) 20352 (6) 942390 (6) 939051 (28425) 312252 (10) 258253 (7999) 605960 (10) 635582 (6) 365062 (10) 998487 (22486) 340693 (7460) 551602 (6) 119304 (6) 829520 (10) 203452 (6) 874268 (6) 132271 (42597) 855530 (10) 509845 (63335) 179696 (6) 774110 (6) 826248 (20) 360005 (57928) 983218 (6) 666817 (61632) 861784 (6) 366715 (17682) 242694 (6) 486205 (29326) 436833 (92412) 101897 (47285) 999383 (91865) 784098 (6) 75583 (32230) 492607 (76015) 588086 (6) 831892 (6) 489829 (83296) 764097 (94323) 346637 (56874) 278033 (58339) 858706 (6) 589676 (6) 346234 (10) 75419 (70004) 521248 (10) 194228 (6) 70519 (99134) 488682 (19) 754658 (6) 648631 (39433) 233803 (6270) 782913 (7121) 750013 (22378) 
     dis: 	141.945 145.214 147.416 153.019 159.994 167.020 167.142 168.651 170.421 170.594 171.924 173.666 173.831 175.377 176.326 176.564 177.455 179.224 179.359 179.790 180.851 182.836 183.205 183.456 183.458 183.476 183.524 183.528 183.766 183.771 183.923 184.227 184.297 184.374 184.508 184.647 184.776 185.221 185.221 185.590 185.898 185.944 186.251 186.340 186.457 186.544 186.644 186.675 186.842 186.864 186.910 186.947 187.434 187.551 187.560 187.600 187.609 187.863 188.027 188.201 188.292 188.563 188.602 188.700 188.701 188.793 188.805 188.805 188.851 188.938 189.008 189.072 189.091 189.194 189.244 189.292 189.378 189.421 189.458 189.698 189.719 189.736 189.784 189.858 189.858 189.889 189.893 189.992 190.056 190.132 190.160 190.248 190.284 190.290 190.334 190.373 190.399 190.435 190.442 190.456 
query 4 nn's (6, 13289, 96651): 314093 (51859) 719380 (6) 690285 (95271) 223865 (30084) 461345 (34528) 89809 (62375) 829463 (43989) 62933 (58365) 135316 (6) 33136 (6) 27286 (20) 271174 (10) 100485 (69965) 332639 (97742) 47460 (6) 273627 (12670) 241446 (6) 644921 (11190) 959418 (10) 815136 (458) 111408 (6) 615031 (83519) 559665 (67063) 819848 (6) 343865 (61946) 272496 (6) 983374 (6) 135954 (10) 226676 (6) 267268 (6) 447933 (75321) 15399 (74866) 501953 (93631) 649968 (19) 992816 (10) 209754 (10) 786745 (86323) 874168 (6) 663997 (49774) 757368 (10) 385674 (264) 717300 (6) 70344 (6) 720829 (29434) 584795 (78727) 291344 (10) 912472 (6) 4088 (10) 145195 (42834) 275060 (6) 360806 (46) 728524 (6) 718745 (330) 333654 (19) 193355 (77964) 190353 (32199) 223642 (6) 775952 (10) 544230 (10) 728440 (6) 615042 (10) 502520 (6) 256494 (10) 198041 (78085) 701387 (9786) 176390 (6) 128627 (63722) 901010 (6) 696717 (20675) 355417 (62155) 407187 (31223) 274537 (41572) 751330 (6) 116068 (6) 571909 (16061) 650585 (92572) 700992 (6) 566403 (50360) 293069 (68487) 448311 (66254) 347553 (20340) 610034 (6) 407673 (94196) 609376 (6) 982288 (6) 337667 (37187) 308421 (25341) 180535 (16805) 45967 (2430) 176623 (86525) 322526 (6) 707209 (80255) 798623 (21348) 685064 (6) 534413 (74569) 131072 (10) 148450 (10) 447832 (10) 792438 (6) 165335 (6864) 
     dis: 	52.786 56.196 63.005 65.580 71.458 72.469 74.054 75.221 75.255 75.782 76.677 77.875 79.395 80.090 80.358 82.816 84.231 85.317 85.317 87.252 89.307 89.341 92.778 92.861 93.215 93.315 95.233 95.897 96.217 96.401 96.965 96.986 97.398 97.870 98.326 98.675 99.512 99.790 101.158 101.634 102.367 102.834 104.757 105.017 105.362 106.052 106.222 107.484 108.852 108.906 109.878 111.165 111.898 112.054 112.918 113.481 114.109 114.706 115.105 115.612 116.312 116.614 116.962 117.282 117.314 117.448 117.679 117.832 117.870 118.201 118.546 118.571 118.680 120.196 120.971 120.978 121.864 121.949 122.287 122.571 123.128 123.405 124.652 124.827 125.079 126.988 127.087 127.159 127.228 127.849 127.917 128.650 129.118 129.982 131.533 131.625 131.680 131.695 132.246 132.643 
[ 2511.855s ] *** Query time: 2457.442
qps: 4.069
 *** ivfpq recall 
ivfpq get 987383 postive res from 1000000 results, recall@100:0.987
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.005 0.634 0.360 
finished ivfpq index examples
[ 2511.893s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query_arbi YTRGB1m 1000000 100 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_2_100000_random_1024 120 1024"
	User time (seconds): 2508.77
	System time (seconds): 2.03
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 41:51.96
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1106852
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 545967
	Voluntary context switches: 4068
	Involuntary context switches: 3621
	Swaps: 0
	File system inputs: 221408
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 14:21
====================
START: running TEST_IVFPQ, sift data --

dataset: YTRGB1m
N: 1000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_100.json
index file: /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_2_100000_random_1024
nprobe: 120
dim: 1024
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 0.135s ] Loaded metadata, 2000000 attr's found
[ 0.135s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.158s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
[ 0.161s ] Loaded 10000 YTRGB1m queries
[ 0.228s ] Loaded ground truth, gt_size: 100
[ 0.228s ] Index Params -- d: 1024, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 0.903s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 1297.548s ] Query results (vector ids, then distances):
query 0 nn's (10, 29652, 63053): 980214 (6) 737273 (55252) 952701 (65239) 336603 (41586) 16765 (90599) 991479 (76766) 863882 (6) 202136 (20) 76521 (96391) 283397 (4891) 38338 (6) 405113 (4692) 880087 (88572) 23924 (6) 854843 (81776) 98367 (20006) 97757 (97472) 14572 (6) 566237 (90773) 907166 (10) 692591 (59001) 205648 (6) 960618 (10) 653907 (70875) 853828 (10) 602233 (27014) 647117 (72611) 938241 (80726) 572163 (94233) 79495 (46857) 530134 (10) 46453 (97470) 47728 (6) 637198 (19) 835729 (51185) 905468 (6) 140520 (10) 418968 (10) 686522 (6) 532484 (6) 235320 (6) 367910 (10) 228262 (6) 190812 (10) 85354 (6) 611212 (10) 996333 (48281) 251277 (62010) 762918 (10) 34801 (2617) 138882 (6) 921296 (20) 943920 (6) 76351 (68696) 509501 (47799) 509461 (36340) 262977 (38663) 908662 (10) 354998 (20) 920739 (33718) 973665 (41275) 326896 (6) 436338 (10) 972846 (10) 909386 (6) 169182 (6) 872582 (6) 465103 (70679) 237067 (49420) 677320 (6) 73121 (47482) 311612 (6) 444807 (92897) 918714 (6) 290212 (6) 635913 (96982) 175778 (6) 493744 (10) 658912 (6) 735131 (16829) 396345 (90842) 157092 (6) 110692 (6) 528552 (10) 457419 (39543) 762745 (54626) 290862 (10) 185244 (6) 716782 (6) 743733 (86222) 887033 (73330) 999700 (10) 743543 (29338) 458513 (81943) 192507 (55835) 491210 (10) 704163 (82630) 307075 (89617) 364296 (6) 811962 (10) 
     dis: 	88.558 91.190 93.345 94.030 94.103 95.997 96.198 96.274 96.676 96.720 96.858 96.982 97.318 97.532 98.256 98.303 98.384 98.618 98.748 98.752 98.860 99.045 99.052 99.185 99.200 99.251 99.403 99.743 99.763 99.764 100.310 100.404 100.405 100.413 100.455 100.525 100.585 100.700 100.729 100.827 100.882 100.890 100.906 100.957 100.988 101.056 101.093 101.288 101.352 101.372 101.400 101.481 101.590 101.614 101.736 101.757 101.859 102.025 102.043 102.087 102.088 102.280 102.300 102.359 102.475 102.557 102.644 102.670 102.767 102.782 102.848 103.027 103.059 103.152 103.200 103.211 103.219 103.304 103.465 103.505 103.522 103.570 103.756 103.856 103.869 103.885 103.941 103.976 104.035 104.073 104.110 104.119 104.131 104.211 104.255 104.338 104.375 104.392 104.435 104.442 
query 1 nn's (10, 21798, 55183): 358433 (13457) 411735 (53826) 762596 (6) 653907 (70875) 753176 (10) 485054 (6) 295338 (20) 908662 (10) 821906 (6) 578863 (50735) 87796 (10) 861989 (12103) 262977 (38663) 201766 (6) 872582 (6) 598416 (19) 464047 (17568) 340079 (17638) 35170 (6) 14572 (6) 535625 (24065) 556221 (26788) 278656 (10) 313093 (41092) 835729 (51185) 351099 (11075) 918714 (6) 863882 (6) 754475 (58313) 871976 (10) 51014 (6) 70119 (78795) 231139 (41432) 453938 (6) 619909 (89118) 527178 (6) 999700 (10) 698508 (6) 625380 (10) 783250 (6) 465103 (70679) 934185 (63402) 704034 (10) 522644 (6) 228262 (6) 176600 (6) 671996 (6) 206596 (6) 19408 (6) 708681 (23054) 219449 (88735) 290862 (10) 916336 (10) 166090 (6) 223863 (82750) 773993 (24572) 992896 (10) 743543 (29338) 917755 (25107) 485103 (77501) 716782 (6) 457407 (31553) 816324 (6) 616256 (6) 958235 (64118) 905468 (6) 372120 (6) 108235 (72865) 393302 (10) 311612 (6) 217143 (53059) 407042 (20) 203528 (10) 157092 (6) 540026 (6) 184588 (19) 356370 (6) 102411 (14770) 727304 (6) 222500 (10) 153248 (10) 533120 (6) 377220 (6) 871467 (60537) 219149 (83133) 285773 (52082) 458513 (81943) 713260 (6) 364296 (6) 352265 (8734) 134647 (69838) 229646 (6) 652677 (52074) 914998 (19) 753612 (6) 806133 (13693) 934843 (84064) 530134 (10) 672310 (10) 863861 (46624) 
     dis: 	54.557 55.073 57.300 59.085 59.367 59.387 59.486 60.146 60.200 60.917 61.043 61.277 61.363 61.829 61.958 61.978 62.243 62.516 62.746 62.778 62.850 62.909 63.416 63.425 63.594 63.764 64.260 64.329 64.355 64.413 64.603 64.674 64.788 64.826 64.961 65.035 65.298 65.406 65.464 65.467 65.612 65.715 65.806 65.947 66.269 66.333 66.408 66.457 66.560 66.566 66.581 66.650 66.665 66.803 66.934 66.950 67.051 67.155 67.170 67.241 67.316 67.332 67.334 67.368 67.434 67.515 67.541 67.546 67.595 67.642 67.655 67.687 67.689 67.694 67.711 67.796 67.906 67.991 68.010 68.102 68.136 68.221 68.263 68.271 68.451 68.566 68.567 68.676 68.732 68.758 68.811 68.878 68.884 69.014 69.050 69.054 69.065 69.113 69.171 69.296 
query 2 nn's (10, 52376, 85679): 225875 (13229) 464997 (41748) 698610 (6) 677717 (22673) 67581 (54414) 907166 (10) 812421 (30697) 39208 (10) 189077 (61917) 308623 (70098) 970371 (30202) 379259 (76229) 65926 (19) 963167 (15886) 294714 (6) 985228 (10) 885167 (32560) 229020 (10) 890591 (76656) 167842 (6) 176700 (6) 114680 (6) 270729 (95477) 522587 (69672) 493744 (10) 16765 (90599) 641688 (6) 279236 (10) 19718 (10) 873666 (6) 455567 (36063) 865750 (6) 256604 (6) 997428 (6) 973717 (46390) 630699 (57296) 203721 (7955) 599616 (6) 253116 (19) 830171 (72875) 270509 (35802) 548941 (41367) 695289 (66111) 289462 (19) 352736 (10) 716952 (242) 733667 (78182) 38471 (88194) 64796 (340) 854843 (81776) 284285 (65011) 172732 (6) 421503 (20362) 668924 (6) 821004 (6) 559256 (6) 674462 (6) 102143 (22318) 892535 (19147) 605208 (6) 309919 (98386) 802406 (6) 436338 (10) 947106 (6) 544539 (30051) 187671 (26375) 883515 (9728) 213806 (10) 790325 (11223) 51529 (24404) 735131 (16829) 835969 (22964) 73121 (47482) 388315 (78642) 928263 (65316) 47728 (6) 85354 (6) 162632 (6) 302376 (10) 908417 (30069) 490135 (39607) 827562 (10) 900834 (6) 844816 (10) 2729 (27883) 665817 (40953) 791402 (10) 647117 (72611) 612740 (6) 756056 (10) 323657 (73639) 232119 (26330) 328546 (6) 410906 (10) 281526 (19) 872582 (6) 402019 (38594) 2081 (24752) 835655 (6717) 97179 (87939) 
     dis: 	136.548 139.450 140.792 140.878 142.192 142.652 142.720 143.307 143.495 143.934 144.540 144.635 144.852 145.235 145.264 145.523 145.722 145.879 146.005 146.234 146.303 146.361 146.428 146.494 146.590 146.754 146.867 147.432 147.661 148.021 148.111 148.114 148.302 148.340 148.628 148.749 148.986 149.013 149.140 149.331 149.355 149.417 149.432 149.439 149.463 149.464 149.557 149.762 149.839 149.858 149.861 149.895 150.119 150.253 150.285 150.531 150.535 150.551 150.557 150.631 150.660 150.670 150.679 150.709 150.883 150.928 151.048 151.117 151.118 151.215 151.231 151.245 151.397 151.427 151.439 151.505 151.647 151.726 151.732 151.746 151.796 151.833 151.845 151.871 151.899 152.003 152.019 152.027 152.102 152.115 152.115 152.206 152.230 152.412 152.539 152.692 152.752 152.817 152.903 152.909 
query 3 nn's (10, 54432, 87740): 263195 (52685) 178166 (6) 136177 (10503) 117658 (10) 159269 (1572) 960065 (21061) 373736 (6) 496154 (6) 195003 (84381) 242590 (6) 677532 (10) 64796 (340) 426874 (6) 835969 (22964) 807589 (73759) 653204 (6) 97774 (6) 827562 (10) 189727 (48796) 19718 (10) 909386 (6) 115719 (19164) 552971 (58166) 608405 (95542) 465564 (10) 698610 (6) 357878 (6) 2729 (27883) 73098 (6) 182112 (10) 979120 (10) 352736 (10) 659173 (66756) 671949 (74101) 94354 (6) 745235 (59119) 733667 (78182) 403384 (6) 193631 (52701) 386751 (3637) 848163 (89255) 112011 (8120) 837597 (17499) 16765 (90599) 385541 (58258) 111055 (13077) 379259 (76229) 907166 (10) 854843 (81776) 637198 (19) 493028 (6) 712157 (80500) 47728 (6) 712523 (17317) 520793 (53412) 878354 (6) 481032 (6) 270729 (95477) 106103 (44231) 203425 (42644) 284800 (10) 835321 (71312) 85354 (6) 638987 (78941) 658311 (58595) 405398 (10) 847514 (6) 822524 (6) 656478 (10) 454214 (6) 404152 (6) 657501 (20955) 494541 (38687) 287177 (97584) 309919 (98386) 790325 (11223) 410906 (10) 83588 (6) 328546 (6) 667968 (6) 331219 (54950) 207049 (95839) 997428 (6) 827250 (6) 119905 (87933) 536042 (10) 82575 (23386) 235037 (74495) 901880 (6) 845691 (37511) 97179 (87939) 388315 (78642) 455847 (79705) 835074 (6) 114680 (6) 898971 (73447) 835655 (6717) 501231 (25876) 665817 (40953) 624459 (95278) 
     dis: 	178.014 180.412 181.342 184.246 184.687 186.296 186.831 187.131 187.153 187.452 187.553 188.449 188.490 189.004 190.132 190.284 190.513 190.670 190.708 190.761 190.912 190.961 191.154 191.188 191.245 191.355 191.484 191.581 191.708 191.760 191.905 191.981 192.253 192.427 192.435 192.649 192.847 192.889 192.935 192.941 192.968 193.046 193.087 193.098 193.126 193.138 193.378 193.412 193.450 193.635 193.690 193.785 193.902 193.915 193.930 193.947 193.965 193.996 194.035 194.104 194.124 194.143 194.177 194.192 194.208 194.232 194.348 194.418 194.451 194.494 194.546 194.680 194.695 194.890 194.912 194.920 194.966 195.002 195.058 195.098 195.140 195.143 195.231 195.258 195.289 195.307 195.368 195.409 195.419 195.444 195.450 195.522 195.549 195.638 195.658 195.677 195.684 195.715 195.720 195.726 
query 4 nn's (10, 16884, 50269): 729225 (73615) 725265 (93655) 565522 (10) 693282 (10) 203716 (10) 561793 (81060) 258251 (47005) 86342 (6) 88323 (53150) 652567 (22431) 382982 (6) 497393 (73465) 793285 (15515) 418523 (87516) 586210 (6) 480782 (10) 751020 (20) 496231 (64385) 634282 (6) 434257 (37749) 474720 (6) 900499 (89801) 234841 (4728) 634836 (6) 600385 (4631) 956064 (6) 213707 (11876) 446732 (10) 723059 (36217) 202074 (6) 163715 (84174) 651961 (31468) 403198 (10) 910329 (40584) 536874 (20) 279470 (10) 138157 (32412) 334155 (14233) 607112 (6) 965992 (10) 303448 (6) 939092 (6) 8392 (6) 151820 (20) 366400 (6) 506874 (6) 607488 (6) 347625 (98853) 144265 (2655) 644907 (81091) 63868 (20) 881431 (64222) 149989 (46564) 415170 (6) 602590 (10) 806477 (89754) 924371 (46460) 582598 (6) 295658 (20) 958692 (6) 666383 (75288) 943167 (8709) 538703 (21248) 938224 (6) 612286 (10) 188931 (97125) 734859 (54810) 359408 (6) 129474 (10) 437574 (6) 970956 (6) 773041 (47137) 908777 (22652) 74027 (84215) 95200 (6) 607596 (10) 954831 (47452) 90291 (97132) 180040 (6) 974505 (52660) 848068 (10) 436165 (63320) 176165 (42503) 583217 (43192) 649981 (23639) 155706 (6) 372588 (6) 148107 (65386) 658838 (6) 298834 (6) 240676 (19) 60385 (30137) 418307 (68523) 755708 (6) 597996 (6) 555369 (50602) 211805 (6580) 726827 (76160) 1291 (79334) 179242 (6) 
     dis: 	74.408 78.044 79.706 79.910 93.073 94.450 96.538 99.218 101.477 101.703 102.764 104.533 105.224 109.245 109.262 111.257 115.863 117.584 118.138 118.323 121.996 124.768 127.449 127.961 128.929 133.227 134.973 140.514 141.150 143.085 145.507 145.639 156.980 158.612 159.619 161.352 161.681 163.338 165.937 166.160 166.553 171.095 173.743 174.081 176.972 177.515 177.677 179.778 179.965 180.430 182.488 183.134 183.807 186.289 187.432 187.483 187.963 189.986 190.152 190.363 190.513 191.272 191.794 193.441 193.548 195.290 195.754 195.922 196.683 197.209 200.861 200.957 201.488 203.480 203.968 205.925 206.498 207.174 207.558 208.125 209.224 209.448 209.930 211.507 211.516 214.518 214.521 216.196 216.947 217.848 218.092 218.336 218.515 218.691 220.010 220.118 221.751 222.325 222.511 222.553 
[ 1297.548s ] *** Query time: 1248.900
qps: 8.007
 *** ivfpq recall 
ivfpq get 985314 postive res from 1000000 results, recall@100:0.985
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.007 0.680 0.314 
finished ivfpq index examples
[ 1297.587s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query_arbi YTRGB1m 1000000 100 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_100.json /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_2_100000_random_1024 120 1024"
	User time (seconds): 1295.65
	System time (seconds): 1.97
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 21:37.69
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1107880
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 509100
	Voluntary context switches: 1
	Involuntary context switches: 1686
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 18:10
====================
START: running TEST_IVFPQ, sift data --

dataset: YTRGB1m
N: 1000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_100.json
index file: /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_2_100000_random_1024
nprobe: 120
dim: 1024
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 0.139s ] Loaded metadata, 2000000 attr's found
[ 0.139s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.162s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
[ 0.165s ] Loaded 10000 YTRGB1m queries
[ 0.231s ] Loaded ground truth, gt_size: 100
[ 0.231s ] Index Params -- d: 1024, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 0.905s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 972.918s ] Query results (vector ids, then distances):
query 0 nn's (19, 35475, 55518): 728698 (6) 473207 (39051) 659286 (10) 2220 (6) 331569 (72957) 990950 (6) 849185 (32777) 655750 (10) 272648 (6) 258094 (19) 500029 (54101) 632806 (6) 251068 (10) 206887 (74425) 366836 (19) 735169 (91651) 540539 (80759) 212075 (5520) 872768 (10) 658906 (6) 897916 (6) 410071 (38887) 499646 (6) 428651 (32807) 964337 (89413) 280568 (10) 500782 (6) 875177 (52396) 813407 (81420) 106693 (71989) 644791 (56615) 447909 (38782) 215216 (6) 938375 (22394) 25825 (29595) 54240 (6) 205354 (10) 247467 (86176) 153389 (82454) 167557 (70643) 565254 (6) 66549 (49348) 800472 (10) 169358 (6) 540863 (17248) 799180 (6) 719459 (47228) 380046 (10) 39762 (6) 832435 (13840) 743842 (6) 298577 (31214) 401585 (35631) 27592 (6) 484920 (10) 754797 (32898) 757856 (6) 666327 (78940) 209943 (95170) 140791 (86222) 771173 (98707) 523643 (84782) 55186 (10) 532333 (11345) 595028 (6) 713304 (6) 239740 (6) 402464 (6) 888625 (85599) 61632 (6) 331892 (6) 783634 (6) 174135 (38840) 29268 (6) 989108 (10) 116644 (6) 954556 (10) 653668 (6) 222316 (10) 879226 (10) 181013 (50433) 148455 (7082) 844143 (74300) 576095 (90397) 289727 (59223) 647485 (14472) 513085 (93307) 813211 (1033) 455 (94112) 320384 (6) 441218 (6) 486548 (10) 268403 (48159) 377330 (6) 465304 (6) 557696 (10) 222766 (6) 691423 (61506) 101623 (79345) 498584 (6) 
     dis: 	96.656 97.137 100.994 101.973 102.150 102.511 103.214 103.514 104.384 105.058 105.121 106.169 106.320 106.633 106.882 106.997 107.468 107.540 107.632 107.648 107.671 107.894 107.913 107.978 107.991 108.620 109.491 109.613 109.869 109.983 110.390 110.532 110.612 110.630 110.648 110.753 110.781 110.888 110.902 111.130 111.133 111.165 111.382 111.673 111.683 111.730 111.763 111.893 112.189 112.219 112.284 112.313 112.588 112.946 113.031 113.105 113.148 113.238 113.296 113.318 113.394 113.580 113.610 113.692 113.881 113.922 114.156 114.198 114.257 114.260 114.336 114.445 114.470 114.650 114.723 115.232 115.248 115.295 115.312 115.340 115.465 115.489 115.505 115.525 115.556 115.684 115.782 115.858 116.142 116.323 116.356 116.426 116.528 116.746 116.812 116.981 117.253 117.297 117.314 117.322 
query 1 nn's (19, 70907, 90904): 431933 (96745) 203058 (6) 556209 (43738) 146952 (10) 157212 (6) 369868 (6) 351530 (10) 202887 (39932) 867961 (50113) 684080 (10) 849317 (75099) 70844 (6) 842440 (6) 464164 (6) 573589 (63630) 712707 (9525) 536587 (69446) 352882 (10) 34525 (77246) 523995 (3680) 263567 (38990) 345459 (79721) 452063 (13410) 821009 (43874) 457003 (19722) 324504 (10) 111482 (6) 956833 (69329) 734983 (55829) 168063 (15319) 798243 (16035) 38724 (19) 289167 (89105) 737686 (6) 134385 (6396) 125832 (6) 878113 (86779) 971948 (6) 86468 (6) 536595 (35676) 41769 (38515) 929035 (76924) 90996 (10) 293419 (38731) 887381 (4714) 523457 (6988) 574600 (6) 207584 (10) 991259 (7513) 972394 (6) 335507 (90555) 703848 (6) 5046 (6) 239800 (10) 198924 (6) 284738 (6) 19403 (86261) 172345 (51947) 89350 (10) 802680 (6) 463595 (60021) 241057 (45476) 443185 (21351) 954818 (6) 697256 (6) 517613 (30756) 964841 (71183) 84214 (6) 590741 (6710) 677432 (10) 408926 (10) 592646 (6) 47587 (73471) 841405 (33559) 91950 (6) 425322 (20) 845733 (20787) 494636 (6) 630048 (20) 991690 (6) 701768 (10) 151863 (91970) 132322 (6) 609905 (82693) 420031 (66563) 626107 (98504) 506186 (6) 673492 (10) 80440 (6) 673189 (74744) 764683 (68208) 292827 (64002) 157898 (6) 919829 (81547) 766616 (6) 38324 (6) 509273 (25130) 873240 (20) 745057 (20574) 110852 (10) 
     dis: 	56.503 59.131 59.257 63.415 64.445 65.169 65.652 66.587 66.922 67.861 69.515 70.186 70.588 70.840 70.956 71.124 71.542 72.054 72.531 72.752 72.830 73.261 73.770 73.996 74.287 74.478 74.702 74.921 75.163 75.206 75.344 75.387 75.605 75.982 76.099 76.265 76.324 76.468 76.595 77.047 77.059 77.128 77.141 77.331 77.354 77.398 77.415 77.480 77.649 77.820 78.056 78.246 78.560 78.582 78.685 78.743 78.763 78.796 78.904 78.979 79.085 79.088 79.303 79.472 79.679 79.774 79.778 79.917 79.975 79.989 80.034 80.142 80.447 80.546 80.691 81.035 81.107 81.127 81.350 81.438 81.694 81.715 81.777 81.869 81.950 81.957 81.979 82.112 82.118 82.149 82.189 82.287 82.354 82.409 82.501 82.572 82.572 82.582 82.625 82.672 
query 2 nn's (19, 61384, 81348): 146952 (10) 497144 (6) 816913 (70996) 351530 (10) 172345 (51947) 420878 (19) 524848 (10) 612816 (6) 641608 (10) 712707 (9525) 134385 (6396) 218697 (96770) 203058 (6) 329925 (9695) 745057 (20574) 329093 (24195) 764683 (68208) 206601 (95113) 523457 (6988) 91950 (6) 168063 (15319) 547139 (59508) 90996 (10) 964841 (71183) 335507 (90555) 734983 (55829) 406395 (72204) 420031 (66563) 978205 (9558) 425322 (20) 5046 (6) 41769 (38515) 89350 (10) 241057 (45476) 908589 (73426) 582695 (22371) 352868 (6) 592646 (6) 322805 (36531) 802680 (6) 14413 (98826) 192802 (19) 749023 (82047) 956894 (6) 283464 (6) 506186 (6) 802347 (71646) 284738 (6) 292668 (6) 934060 (10) 277795 (15503) 893646 (10) 907673 (46034) 977854 (6) 706569 (97169) 929035 (76924) 79689 (89803) 798243 (16035) 19403 (86261) 345459 (79721) 80440 (6) 997095 (36439) 576948 (6) 597014 (10) 443185 (21351) 535674 (10) 483710 (6) 524851 (62757) 348967 (2106) 626107 (98504) 568821 (80942) 196172 (6) 603465 (44791) 556209 (43738) 667785 (77398) 702386 (6) 536595 (35676) 97777 (9235) 313904 (6) 568824 (10) 82831 (90250) 184772 (10) 34054 (10) 352882 (10) 128606 (10) 265624 (6) 523995 (3680) 579177 (33705) 463595 (60021) 375784 (10) 431933 (96745) 106455 (33950) 315557 (65844) 884189 (48367) 153530 (6) 937915 (20531) 903148 (6) 597126 (6) 975616 (6) 569587 (43237) 
     dis: 	145.562 145.609 151.249 151.760 151.940 153.166 153.303 153.708 153.927 154.312 154.606 154.657 154.947 155.182 155.543 155.675 155.702 156.110 156.333 156.391 156.517 156.810 156.982 157.371 157.477 157.649 157.694 157.713 157.809 157.906 158.302 158.415 158.431 158.472 158.529 158.566 158.893 158.980 159.178 159.472 159.531 159.668 159.669 159.765 159.796 159.922 160.005 160.208 160.211 160.279 160.457 160.478 160.493 160.496 160.639 160.645 160.712 160.773 161.139 161.175 161.178 161.291 161.378 161.493 161.509 161.568 161.625 161.647 161.719 161.730 161.975 161.986 162.020 162.184 162.225 162.282 162.463 162.659 162.777 162.792 162.885 162.887 162.902 162.939 162.956 163.091 163.325 163.333 163.740 163.929 164.014 164.166 164.177 164.217 164.297 164.361 164.368 164.379 164.616 164.632 
query 3 nn's (19, 50119, 70114): 46589 (32443) 530994 (6) 298927 (58988) 297587 (69918) 940112 (19) 365898 (6) 27592 (6) 990950 (6) 106455 (33950) 659286 (10) 388985 (56292) 728698 (6) 45930 (6) 889201 (18435) 977854 (6) 908589 (73426) 922066 (6) 153530 (6) 34054 (10) 816991 (57414) 547139 (59508) 149755 (97278) 968137 (71043) 631909 (64436) 736487 (82719) 532333 (11345) 97777 (9235) 568532 (10) 9444 (10) 222446 (6) 163627 (67585) 479824 (10) 497144 (6) 510802 (10) 641608 (10) 319186 (10) 184772 (10) 209943 (95170) 415283 (61034) 851736 (10) 205354 (10) 342597 (13234) 79689 (89803) 642850 (10) 92738 (10) 897916 (6) 206601 (95113) 209061 (79171) 265730 (6) 572808 (6) 772643 (59838) 207732 (20) 952746 (19) 406395 (72204) 907673 (46034) 55186 (10) 313904 (6) 568607 (25914) 628692 (6) 632823 (19441) 767733 (95892) 723513 (68194) 391949 (75169) 465205 (60357) 347554 (20) 714371 (2588) 630305 (99149) 377675 (31888) 597014 (10) 586242 (10) 99501 (64791) 155245 (62158) 659430 (6) 128606 (10) 873527 (71254) 249686 (10) 305796 (6) 749023 (82047) 95494 (10) 816173 (13977) 39762 (6) 446015 (81078) 414583 (24692) 126676 (6) 576948 (6) 823300 (6) 862706 (10) 71675 (88375) 391885 (93586) 352868 (6) 540863 (17248) 973251 (80601) 978205 (9558) 274048 (6) 706569 (97169) 586320 (42) 106390 (6) 532654 (10) 535674 (10) 765255 (32725) 
     dis: 	188.891 191.681 192.302 192.700 193.305 193.398 193.810 194.131 194.531 194.917 195.921 196.357 196.380 196.663 196.665 197.056 197.112 197.397 198.187 198.719 198.847 199.021 200.050 200.106 200.143 200.310 200.654 200.700 200.965 201.277 201.324 201.466 201.478 201.483 201.768 201.825 201.850 202.010 202.037 202.047 202.094 202.284 202.285 202.339 202.375 202.548 202.606 202.621 202.623 202.627 203.145 203.410 203.455 203.757 203.809 204.060 204.315 204.330 204.451 204.642 204.729 204.779 204.834 205.008 205.194 205.379 205.441 205.487 205.516 205.793 205.799 205.837 206.007 206.043 206.125 206.140 206.183 206.382 206.387 206.654 206.742 206.797 206.800 206.880 206.901 207.020 207.052 207.070 207.108 207.126 207.204 207.278 207.286 207.337 207.368 207.392 207.641 207.672 207.688 207.749 
query 4 nn's (19, 45372, 65351): 404547 (38677) 991503 (45735) 433585 (69454) 124062 (10) 950946 (6) 694298 (6) 728540 (6) 746526 (6) 146434 (6) 784584 (10) 117718 (10) 86156 (10) 542205 (89610) 359850 (6) 659843 (1326) 914424 (10) 502642 (6) 377675 (31888) 376563 (47226) 334729 (68215) 359515 (3328) 899014 (6) 201829 (32110) 97677 (28381) 355257 (43963) 293384 (6) 979396 (10) 929685 (815) 473207 (39051) 611786 (10) 212075 (5520) 232820 (6) 816991 (57414) 510802 (10) 331569 (72957) 658906 (6) 940112 (19) 298577 (31214) 659286 (10) 908589 (73426) 265730 (6) 297587 (69918) 999437 (17101) 108729 (20162) 296010 (6) 204220 (10) 455 (94112) 406395 (72204) 947164 (19) 990950 (6) 696933 (80236) 728698 (6) 888625 (85599) 331892 (6) 743842 (6) 447909 (38782) 465205 (60357) 497564 (20) 491173 (1415) 218252 (6) 631909 (64436) 765255 (32725) 754797 (32898) 667917 (22671) 771173 (98707) 530994 (6) 222316 (10) 55186 (10) 61632 (6) 535674 (10) 410071 (38887) 666327 (78940) 9444 (10) 252636 (10) 524848 (10) 655750 (10) 532333 (11345) 954556 (10) 889111 (86442) 45930 (6) 289727 (59223) 31248 (6) 205354 (10) 305796 (6) 783634 (6) 43634 (6) 897916 (6) 352868 (6) 414583 (24692) 800472 (10) 181013 (50433) 968137 (71043) 352784 (6) 415283 (61034) 792540 (6) 209943 (95170) 389456 (6) 260480 (10) 327540 (10) 357716 (10) 
     dis: 	104.324 116.395 145.421 180.170 194.709 197.356 202.046 208.402 220.483 220.893 220.925 230.677 238.808 240.096 241.481 252.111 255.029 255.410 257.963 259.318 259.735 261.997 263.682 263.774 264.267 268.282 268.711 271.193 271.694 272.581 272.676 273.477 275.138 275.332 275.722 276.549 276.922 276.974 277.172 277.183 277.388 277.466 277.521 277.591 277.626 277.904 278.081 278.304 278.382 278.613 279.035 279.268 279.295 279.552 279.775 279.779 280.065 280.388 280.591 280.648 280.770 280.779 280.785 280.954 281.077 281.460 281.605 281.673 282.119 282.122 282.215 282.396 282.402 282.446 282.786 282.919 282.928 282.941 283.006 283.053 283.071 283.206 283.296 283.310 283.326 283.373 283.508 283.661 283.869 283.873 283.986 284.003 284.426 284.462 284.498 284.523 284.550 284.591 284.762 284.821 
[ 972.918s ] *** Query time: 957.532
qps: 10.444
 *** ivfpq recall 
ivfpq get 970869 postive res from 1000000 results, recall@100:0.971
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.010 0.868 0.122 
finished ivfpq index examples
[ 972.964s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query_arbi YTRGB1m 1000000 100 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_100.json /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_2_100000_random_1024 120 1024"
	User time (seconds): 971.43
	System time (seconds): 1.58
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 16:13.05
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1108900
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 347756
	Voluntary context switches: 1
	Involuntary context switches: 800
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 21:45
====================
START: running TEST_IVFPQ, sift data --

dataset: YTRGB1m
N: 1000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_20_2_100000_random_20.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_20_2_100000_random_20_100.json
index file: /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_2_100000_random_1024
nprobe: 120
dim: 1024
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 0.133s ] Loaded metadata, 2000000 attr's found
[ 0.133s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.156s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
[ 0.159s ] Loaded 10000 YTRGB1m queries
[ 0.301s ] Loaded ground truth, gt_size: 100
[ 0.301s ] Index Params -- d: 1024, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.593s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 936.899s ] Query results (vector ids, then distances):
query 0 nn's (20, 52366, 55541): 966312 (10) 293077 (11046) 501174 (10) 911796 (10) 45197 (30012) 697711 (48237) 250619 (45982) 467970 (6) 498029 (18473) 962648 (6) 98769 (15501) 619136 (10) 991752 (10) 114884 (6) 507223 (33728) 529809 (25263) 806544 (10) 711420 (6) 189560 (10) 196443 (67915) 84760 (19) 255542 (19) 896017 (15613) 666452 (10) 942687 (11087) 652652 (10) 682524 (6) 841333 (85203) 948275 (25840) 881896 (6) 938680 (10) 408118 (10) 870043 (14509) 214522 (19) 3952 (6) 881804 (6) 986262 (10) 67537 (56455) 790659 (22773) 958961 (59146) 812854 (10) 905514 (6) 270078 (10) 30036 (6) 706733 (68129) 666913 (86251) 827397 (76294) 334001 (24722) 513699 (88233) 830840 (19) 229070 (6) 588829 (85906) 7421 (91355) 123277 (17729) 266671 (22349) 165556 (10) 581068 (6) 394490 (6) 742882 (6) 668219 (66567) 964999 (34810) 772286 (6) 571000 (10) 982644 (10) 126850 (6) 661752 (6) 864033 (24408) 355633 (35158) 394658 (10) 459608 (19) 885356 (20) 823238 (6) 984434 (10) 916988 (6) 139284 (6) 557497 (5123) 693670 (10) 301724 (6) 179306 (20) 538809 (93496) 339240 (6) 76978 (6) 916848 (6) 624488 (10) 742173 (18229) 530056 (6) 834459 (14432) 385530 (19) 580008 (10) 114102 (6) 288414 (6) 241733 (98268) 42231 (72125) 37855 (16994) 776243 (7563) 937581 (37986) 84802 (6) 90659 (92076) 727949 (83238) 317 (34213) 
     dis: 	104.460 105.624 106.296 108.365 109.112 109.150 110.078 111.136 111.251 111.842 111.855 113.381 113.833 114.717 115.821 116.108 116.637 116.768 116.840 117.577 117.819 118.507 120.632 120.686 121.431 121.508 123.182 123.361 123.755 123.980 124.210 124.424 124.630 124.923 124.939 125.071 125.504 125.880 126.223 126.287 126.327 126.671 127.360 128.490 129.388 129.605 129.889 130.049 130.057 130.315 131.024 131.247 131.411 132.146 132.711 132.863 133.121 133.428 133.621 133.667 133.986 134.146 134.684 134.889 135.049 135.056 135.370 135.564 137.252 137.787 138.170 138.900 139.268 139.346 139.368 139.931 140.911 141.814 143.893 145.407 145.949 146.068 146.103 146.269 146.445 146.512 146.953 147.144 147.227 147.524 148.124 148.144 148.407 148.545 149.351 149.719 150.375 151.052 151.185 151.248 
query 1 nn's (20, 94640, 97818): 856461 (31740) 786669 (96545) 351730 (10) 708462 (6) 103866 (10) 304402 (6) 215200 (10) 136247 (77501) 678651 (15157) 778496 (10) 790595 (54701) 599067 (79068) 982484 (20) 195272 (6) 410203 (3979) 424014 (10) 768651 (49409) 111462 (6) 986060 (6) 21350 (6) 17103 (68129) 914443 (19939) 904733 (56491) 395638 (6) 61585 (96726) 542101 (29635) 934771 (13024) 175853 (73320) 715643 (76028) 885812 (19) 718847 (58660) 632223 (71354) 451146 (6) 356022 (6) 10984 (228) 559623 (32745) 135273 (88045) 739198 (20) 948787 (98542) 398780 (19) 543303 (83411) 719847 (26462) 152993 (62812) 524454 (6) 564792 (19) 67782 (10) 818062 (10) 715203 (25536) 226105 (73659) 973204 (6) 126595 (61244) 815053 (80025) 555689 (95475) 867963 (46939) 277706 (6) 832174 (6) 732414 (10) 547208 (6) 81769 (43561) 761414 (6) 217796 (19) 729368 (6) 600307 (82325) 116685 (8295) 427767 (17901) 761614 (6) 833058 (6) 807115 (15984) 191326 (19) 278129 (53771) 624861 (91069) 261038 (6) 827939 (44045) 32823 (36638) 1229 (18164) 950627 (87062) 516683 (52514) 390129 (55153) 453408 (6) 103765 (62012) 691142 (10) 114538 (6) 129914 (6) 384486 (10) 38832 (6) 426403 (55208) 638823 (65600) 182440 (20) 325427 (82054) 712238 (10) 827597 (9917) 91466 (10) 257757 (42574) 69086 (6) 571068 (469) 16855 (29543) 448814 (10) 11056 (10) 166757 (64457) 848421 (52508) 
     dis: 	73.089 74.667 74.692 76.844 79.357 79.587 79.758 79.995 80.526 81.745 81.940 81.965 82.065 82.510 83.608 83.796 85.273 86.382 86.704 86.896 87.283 88.700 89.250 89.688 90.071 90.253 90.279 90.826 90.949 91.732 92.579 93.350 94.122 94.126 94.719 95.421 95.664 95.717 95.823 96.242 96.277 96.410 96.721 96.857 96.910 98.000 98.515 99.340 99.733 101.042 101.551 102.304 102.383 102.461 102.548 102.743 102.852 102.876 103.152 103.855 104.011 104.331 104.533 104.702 104.816 104.989 105.518 105.601 105.941 106.314 106.982 107.730 108.172 108.539 109.088 109.124 109.613 110.074 110.215 110.298 110.641 110.695 110.889 110.901 110.911 111.450 111.501 111.520 111.533 111.593 111.656 111.782 111.915 112.026 112.256 112.573 112.803 112.833 113.040 113.949 
query 2 nn's (20, 18490, 21686): 640372 (6) 353112 (6) 673709 (4967) 448666 (6) 623032 (6) 919000 (6) 785720 (10) 590717 (63869) 383435 (65757) 148314 (6) 304525 (21895) 284075 (90872) 524120 (10) 362115 (93102) 746892 (6) 121571 (69306) 136944 (6) 123979 (25619) 94545 (21119) 711979 (313) 884187 (77234) 463287 (10223) 687428 (6) 347729 (74604) 429929 (33214) 201471 (18713) 872870 (10) 958129 (49780) 106059 (76961) 493372 (6) 67117 (14868) 40845 (7997) 466655 (24436) 130664 (10) 283317 (16673) 275781 (21834) 471876 (10) 241003 (3480) 920911 (54317) 405204 (6) 976722 (6) 197684 (10) 287344 (6) 35425 (67391) 383381 (16713) 179371 (20485) 706211 (37855) 188020 (10) 876517 (80270) 747757 (33025) 820553 (3627) 933159 (72549) 853288 (6) 586585 (34876) 21943 (90432) 890695 (94725) 250600 (6) 366783 (70401) 169354 (6) 886705 (96144) 974253 (96116) 60249 (12075) 740424 (6) 781619 (3993) 46729 (21610) 120470 (10) 58894 (10) 81600 (6) 309359 (57537) 288880 (10) 633572 (6) 892048 (10) 705327 (2481) 303311 (99282) 643542 (6) 565536 (6) 703717 (72414) 594083 (77731) 14393 (83062) 194790 (10) 424296 (6) 116096 (6) 221566 (6) 399839 (71840) 926743 (2059) 640465 (93245) 316454 (6) 743365 (93485) 337835 (44004) 521083 (35598) 277120 (6) 591621 (75773) 913644 (6) 737728 (6) 127493 (86774) 96553 (70616) 402934 (6) 805457 (81833) 800291 (68683) 247549 (64051) 
     dis: 	148.720 155.499 159.212 159.639 161.774 162.692 165.035 165.408 165.577 166.105 166.436 166.709 166.999 167.042 167.497 167.640 169.127 169.373 169.863 170.224 170.279 171.037 172.846 173.112 173.731 173.857 174.767 174.930 175.577 175.718 175.806 175.930 176.759 176.882 177.625 177.893 178.298 178.728 178.890 179.573 179.855 179.899 180.110 180.577 180.839 181.082 181.480 181.628 181.917 181.918 182.632 182.658 182.948 183.841 184.920 185.760 185.810 185.994 186.075 186.992 187.335 188.066 188.274 189.051 189.515 190.777 190.849 192.385 192.507 192.674 192.826 192.932 192.972 193.208 193.395 193.482 193.869 194.322 194.897 195.029 195.170 195.690 195.816 195.934 196.031 196.562 197.958 197.967 198.798 199.045 199.190 199.416 199.431 199.703 199.759 200.230 200.257 200.393 200.422 200.461 
query 3 nn's (20, 71282, 74428): 317517 (17710) 825275 (64292) 685421 (77854) 6588 (20) 297760 (10) 483968 (6) 350348 (467) 716207 (40138) 949860 (10) 671011 (60517) 701650 (10) 123702 (10) 406563 (18467) 546360 (6) 489047 (52091) 445074 (10) 225128 (6) 732287 (76561) 349965 (79010) 954581 (92340) 622294 (6) 816551 (78191) 262326 (6) 846514 (19) 884935 (47536) 123629 (3107) 29586 (10) 450714 (409) 316470 (6) 194478 (51) 928622 (6) 430669 (10928) 369373 (17119) 258814 (6) 910410 (10) 939701 (84426) 23676 (171) 252335 (40110) 108067 (19907) 971716 (10) 202715 (87320) 751035 (70606) 744182 (10) 690475 (81757) 39268 (10) 394853 (97740) 193404 (10) 217656 (6) 651729 (39396) 260311 (4606) 190945 (73554) 442899 (76743) 744071 (5230) 368929 (83382) 687237 (45260) 29881 (10565) 287770 (6) 134429 (92878) 599987 (99003) 66651 (85862) 892924 (10) 565181 (14421) 543902 (6) 606383 (64730) 409512 (6) 421563 (21448) 76516 (6) 883262 (283) 871402 (6) 122104 (20) 282284 (6) 1018 (10) 682881 (62895) 255946 (6) 314907 (69644) 599639 (63035) 699047 (83475) 278603 (76223) 643459 (17648) 452813 (74364) 142180 (10) 379241 (99019) 188950 (10) 104124 (6) 571929 (94829) 467078 (10) 265665 (98158) 145334 (6) 714346 (19) 571784 (6) 2844 (20) 757688 (10) 535859 (93671) 168468 (6) 528921 (90732) 37194 (10) 670462 (6) 485531 (48910) 550659 (77135) 397136 (6) 
     dis: 	193.674 195.039 199.359 201.404 201.803 202.900 203.929 203.963 204.828 204.885 205.038 205.296 205.642 205.998 206.872 207.909 208.825 211.917 212.056 212.246 212.810 213.764 214.573 214.592 214.615 214.859 215.321 215.708 215.876 216.195 216.397 216.417 217.331 217.650 218.076 218.899 218.989 219.290 220.058 220.082 220.217 220.364 220.608 220.747 220.806 221.714 224.239 224.308 224.584 224.785 225.341 225.990 226.651 227.138 227.139 227.144 227.537 227.749 227.901 227.946 230.125 230.726 231.236 232.017 232.826 232.948 233.250 233.781 234.275 234.621 235.278 235.344 235.569 235.912 236.146 237.613 237.633 238.100 238.381 239.258 239.304 239.560 239.866 239.918 242.182 242.355 242.435 242.850 242.936 242.948 243.296 243.685 243.725 243.953 244.308 244.362 244.487 244.627 245.505 245.766 
query 4 nn's (20, 73484, 76659): 621045 (82006) 93355 (12287) 6588 (20) 350348 (467) 953092 (10) 949836 (6) 669169 (66209) 618969 (70000) 701650 (10) 23676 (171) 445074 (10) 732287 (76561) 370967 (99922) 478613 (12292) 908454 (6) 78929 (80335) 371534 (6) 217172 (6) 341401 (53124) 236511 (27869) 89202 (6) 174696 (6) 816551 (78191) 123629 (3107) 563656 (6) 773972 (6) 912315 (21167) 217656 (6) 353731 (80623) 410907 (21732) 282460 (10) 546360 (6) 134389 (67552) 911051 (9721) 826363 (17352) 652833 (9029) 892924 (10) 928622 (6) 612819 (6933) 447198 (10) 521970 (10) 316470 (6) 785754 (10) 934460 (6) 141237 (43274) 64668 (6) 884935 (47536) 688251 (39364) 522718 (6) 477924 (6) 923785 (97112) 255946 (6) 743444 (6) 328927 (90289) 467078 (10) 825036 (6) 983661 (28278) 568976 (6) 493254 (6) 600268 (6) 920638 (10) 961190 (6) 857713 (23661) 615366 (6) 108920 (6) 121658 (6) 181771 (9288) 479340 (10) 282284 (6) 202715 (87320) 609801 (23190) 388360 (10) 209653 (23114) 312956 (6) 599987 (99003) 400683 (14754) 871402 (6) 269439 (33974) 754472 (19) 206871 (89637) 460208 (6) 293065 (65711) 802876 (6) 265665 (98158) 855797 (15925) 474770 (6) 242449 (14824) 526444 (20) 635167 (43592) 571929 (94829) 850452 (6) 413850 (6) 512682 (19) 188950 (10) 165787 (22812) 104124 (6) 67901 (91525) 847140 (6) 857111 (166) 261397 (57145) 
     dis: 	268.564 270.876 273.394 273.677 274.653 276.417 278.472 281.618 283.093 283.932 284.192 284.214 284.226 284.229 284.444 285.131 285.347 286.073 286.905 287.399 288.058 288.398 288.521 289.698 290.005 290.103 290.313 291.172 291.977 292.272 292.593 294.691 295.609 296.624 297.196 297.396 297.406 297.544 297.951 298.002 298.943 299.531 299.941 299.948 299.965 300.026 300.056 300.851 300.917 301.940 303.080 303.204 303.938 304.488 304.723 304.771 304.953 306.172 307.641 308.242 308.452 308.455 308.733 308.773 308.846 309.197 309.287 310.383 310.878 311.573 311.770 311.957 312.479 312.503 312.534 312.551 312.858 313.056 313.073 313.247 313.341 314.141 314.183 314.254 315.495 316.510 316.642 317.096 317.735 318.062 318.188 318.996 319.601 319.784 320.727 320.791 321.047 321.549 321.906 322.083 
[ 936.900s ] *** Query time: 922.276
qps: 10.843
 *** ivfpq recall 
ivfpq get 815859 postive res from 1000000 results, recall@100:0.816
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.008 0.310 0.645 0.038 0.000 
finished ivfpq index examples
[ 936.932s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query_arbi YTRGB1m 1000000 100 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_20_2_100000_random_20.json /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_20_2_100000_random_20_100.json /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_2_100000_random_1024 120 1024"
	User time (seconds): 934.19
	System time (seconds): 1.30
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 15:37.04
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1107880
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 295118
	Voluntary context switches: 3041
	Involuntary context switches: 1465
	Swaps: 0
	File system inputs: 113376
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:51
====================
START: running TEST_IVFPQ, sift data --

dataset: YTRGB1m
N: 1000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_100.json
index file: /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_500_random_1024
nprobe: 120
dim: 1024
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.129s ] Loaded metadata, 1000000 attr's found
[ 0.129s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.256s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
[ 0.259s ] Loaded 10000 YTRGB1m queries
[ 0.405s ] Loaded ground truth, gt_size: 100
[ 0.405s ] Index Params -- d: 1024, N: 1000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_500_random_1024 for reading: No such file or directory
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/ivfpq_query YTRGB1m 1000000 100 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_100.json /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_500_random_1024 120 1024"
	User time (seconds): 0.20
	System time (seconds): 0.06
	Percent of CPU this job got: 45%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:00.60
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 62376
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 16
	Minor (reclaiming a frame) page faults: 14541
	Voluntary context switches: 84
	Involuntary context switches: 0
	Swaps: 0
	File system inputs: 168
	File system outputs: 0
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:20
====================
START: running TEST_IVFPQ, sift data --

dataset: YTRGB1m
N: 1000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_100.json
index file: /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_500_random_1024
nprobe: 120
dim: 1024
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.071s ] Loaded metadata, 1000000 attr's found
[ 0.071s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.095s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
[ 0.096s ] Loaded 10000 YTRGB1m queries
[ 0.164s ] Loaded ground truth, gt_size: 100
[ 0.164s ] Index Params -- d: 1024, N: 1000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_500_random_1024 for reading: No such file or directory
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/ivfpq_query YTRGB1m 1000000 100 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_100.json /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_500_random_1024 120 1024"
	User time (seconds): 0.13
	System time (seconds): 0.03
	Percent of CPU this job got: 44%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:00.38
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 62372
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 4
	Minor (reclaiming a frame) page faults: 14561
	Voluntary context switches: 15
	Involuntary context switches: 2
	Swaps: 0
	File system inputs: 144
	File system outputs: 0
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:37
====================
START: running TEST_IVFPQ, sift data --

dataset: YTRGB1m
N: 1000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_100.json
index file: /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_500_random_1024
nprobe: 120
dim: 1024
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.068s ] Loaded metadata, 1000000 attr's found
[ 0.068s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.093s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
[ 0.095s ] Loaded 10000 YTRGB1m queries
[ 0.161s ] Loaded ground truth, gt_size: 100
[ 0.161s ] Index Params -- d: 1024, N: 1000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_500_random_1024 for reading: No such file or directory
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/ivfpq_query YTRGB1m 1000000 100 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_100.json /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_500_random_1024 120 1024"
	User time (seconds): 0.13
	System time (seconds): 0.03
	Percent of CPU this job got: 47%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:00.35
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 63396
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 14496
	Voluntary context switches: 3
	Involuntary context switches: 1
	Swaps: 0
	File system inputs: 0
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:45
====================
START: running TEST_IVFPQ, sift data --

dataset: YTRGB1m
N: 1000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_100.json
index file: /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_500_random_1024
nprobe: 120
dim: 1024
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.067s ] Loaded metadata, 1000000 attr's found
[ 0.067s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.093s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
[ 0.094s ] Loaded 10000 YTRGB1m queries
[ 0.160s ] Loaded ground truth, gt_size: 100
[ 0.160s ] Index Params -- d: 1024, N: 1000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_500_random_1024 for reading: No such file or directory
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/ivfpq_query YTRGB1m 1000000 100 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_100.json /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_500_random_1024 120 1024"
	User time (seconds): 0.13
	System time (seconds): 0.03
	Percent of CPU this job got: 50%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:00.32
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 63400
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 14533
	Voluntary context switches: 3
	Involuntary context switches: 1
	Swaps: 0
	File system inputs: 0
	File system outputs: 0
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 06:24
====================
START: running TEST_IVFPQ, sift data --

dataset: YTRGB1m
N: 1000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_100.json
index file: /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_500_random_1024
nprobe: 120
dim: 1024
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.073s ] Loaded metadata, 1000000 attr's found
[ 0.073s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.100s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
[ 0.101s ] Loaded 10000 YTRGB1m queries
[ 0.167s ] Loaded ground truth, gt_size: 100
[ 0.167s ] Index Params -- d: 1024, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 0.872s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 2598.348s ] Query results (vector ids, then distances):
query 0 nn's (6, 6): 929361 (6) 986245 (6) 889953 (6) 333483 (6) 418474 (6) 599702 (6) 70519 (6) 239994 (6) 802406 (6) 210398 (6) 694505 (6) 737273 (6) 809944 (6) 916929 (6) 86717 (6) 550823 (6) 34525 (6) 938806 (6) 457861 (6) 208021 (6) 469118 (6) 745412 (6) 510683 (6) 366566 (6) 319303 (6) 583355 (6) 577684 (6) 952701 (6) 59455 (6) 478122 (6) 336603 (6) 16765 (6) 497627 (6) 673940 (6) 492327 (6) 58954 (6) 776796 (6) 178374 (6) 19514 (6) 295187 (6) 935441 (6) 276234 (6) 110922 (6) 991479 (6) 159538 (6) 110112 (6) 681683 (6) 610812 (6) 229523 (6) 437459 (6) 765668 (6) 728698 (6) 76521 (6) 395220 (6) 785594 (6) 840311 (6) 373440 (6) 242795 (6) 405113 (6) 928790 (6) 428766 (6) 151446 (6) 827562 (6) 618047 (6) 23924 (6) 857336 (6) 168854 (6) 767101 (6) 961694 (6) 207759 (6) 981881 (6) 899164 (6) 777637 (6) 938641 (6) 915739 (6) 606062 (6) 909771 (6) 970397 (6) 284043 (6) 955633 (6) 98367 (6) 97757 (6) 876826 (6) 966722 (6) 177205 (6) 332465 (6) 218663 (6) 82279 (6) 528429 (6) 487597 (6) 845691 (6) 277275 (6) 927007 (6) 546302 (6) 807295 (6) 599070 (6) 399500 (6) 196808 (6) 617300 (6) 513185 (6) 
     dis: 	80.445 82.474 83.516 86.873 88.692 89.418 89.743 90.033 90.083 90.665 90.728 91.190 91.388 91.692 92.091 92.250 92.440 92.440 92.563 92.735 92.760 92.880 92.913 92.921 93.022 93.203 93.277 93.345 93.676 93.898 94.030 94.103 94.155 94.161 94.283 94.588 94.710 94.859 94.938 95.019 95.158 95.481 95.552 95.997 96.019 96.020 96.136 96.327 96.368 96.564 96.611 96.656 96.676 96.746 96.753 96.764 96.801 96.978 96.982 97.106 97.339 97.342 97.528 97.530 97.532 97.679 97.689 97.726 97.757 97.900 97.944 98.044 98.064 98.075 98.083 98.152 98.263 98.265 98.290 98.298 98.303 98.384 98.514 98.515 98.532 98.587 98.601 98.603 98.606 98.613 98.661 98.696 98.721 98.728 98.747 98.764 98.792 98.812 98.816 98.832 
query 1 nn's (6, 6): 302746 (6) 187245 (6) 630027 (6) 320776 (6) 735378 (6) 138086 (6) 373852 (6) 627139 (6) 1795 (6) 411735 (6) 586453 (6) 380703 (6) 212675 (6) 183639 (6) 997428 (6) 762596 (6) 365136 (6) 229020 (6) 397076 (6) 546146 (6) 138764 (6) 25928 (6) 267568 (6) 209172 (6) 997115 (6) 273324 (6) 653907 (6) 482286 (6) 203058 (6) 51529 (6) 513153 (6) 341272 (6) 485054 (6) 878354 (6) 295338 (6) 30138 (6) 328546 (6) 179696 (6) 324596 (6) 422255 (6) 301766 (6) 316563 (6) 908662 (6) 3603 (6) 87814 (6) 289226 (6) 936153 (6) 145755 (6) 672148 (6) 491892 (6) 302319 (6) 47728 (6) 437618 (6) 548866 (6) 900179 (6) 695165 (6) 926918 (6) 578863 (6) 532606 (6) 736563 (6) 899467 (6) 826157 (6) 788576 (6) 861989 (6) 262977 (6) 946883 (6) 889441 (6) 746330 (6) 171157 (6) 233078 (6) 776677 (6) 469118 (6) 499646 (6) 380657 (6) 844413 (6) 832537 (6) 118351 (6) 872582 (6) 812570 (6) 806534 (6) 970271 (6) 486673 (6) 984612 (6) 880286 (6) 16765 (6) 718254 (6) 52602 (6) 595012 (6) 711659 (6) 827069 (6) 763545 (6) 24798 (6) 322796 (6) 340079 (6) 543197 (6) 504235 (6) 367427 (6) 535625 (6) 556221 (6) 112949 (6) 
     dis: 	50.926 53.613 53.657 53.799 54.242 54.280 54.370 54.616 54.924 55.073 55.554 55.658 55.762 56.656 57.068 57.300 57.366 57.610 57.670 57.862 58.266 58.312 58.730 58.762 58.811 59.049 59.085 59.130 59.131 59.187 59.278 59.371 59.387 59.414 59.486 59.638 59.645 59.741 59.745 59.834 59.860 60.023 60.146 60.202 60.285 60.308 60.316 60.424 60.425 60.541 60.554 60.617 60.673 60.716 60.751 60.789 60.794 60.917 60.963 60.994 61.068 61.220 61.252 61.277 61.363 61.559 61.574 61.580 61.705 61.713 61.716 61.762 61.879 61.906 61.906 61.920 61.940 61.958 62.033 62.037 62.104 62.106 62.163 62.167 62.193 62.212 62.263 62.312 62.350 62.380 62.416 62.427 62.475 62.516 62.588 62.589 62.833 62.850 62.909 62.918 
query 2 nn's (6, 6): 326896 (6) 435470 (6) 871743 (6) 529153 (6) 509845 (6) 464997 (6) 365485 (6) 432506 (6) 367807 (6) 667162 (6) 698610 (6) 86011 (6) 677717 (6) 44203 (6) 604626 (6) 970399 (6) 856461 (6) 223022 (6) 236892 (6) 823721 (6) 630882 (6) 486952 (6) 39208 (6) 423023 (6) 382361 (6) 770187 (6) 542590 (6) 915528 (6) 949063 (6) 437618 (6) 266781 (6) 450839 (6) 932640 (6) 970371 (6) 851559 (6) 379259 (6) 118685 (6) 969746 (6) 81314 (6) 376833 (6) 389702 (6) 854562 (6) 624459 (6) 916929 (6) 597155 (6) 51398 (6) 166005 (6) 254396 (6) 356703 (6) 680642 (6) 2689 (6) 899160 (6) 633712 (6) 645520 (6) 50122 (6) 985228 (6) 861469 (6) 732994 (6) 471780 (6) 989069 (6) 519970 (6) 229020 (6) 562484 (6) 763020 (6) 863223 (6) 989419 (6) 923617 (6) 890591 (6) 605288 (6) 741618 (6) 236165 (6) 932857 (6) 564154 (6) 167842 (6) 546302 (6) 743543 (6) 829520 (6) 671349 (6) 658912 (6) 980178 (6) 508045 (6) 493744 (6) 883168 (6) 16765 (6) 579013 (6) 411758 (6) 228636 (6) 641688 (6) 726382 (6) 652652 (6) 653907 (6) 272992 (6) 914987 (6) 310661 (6) 536706 (6) 263698 (6) 21324 (6) 179696 (6) 9254 (6) 746075 (6) 
     dis: 	135.140 135.740 136.082 138.967 139.102 139.450 140.249 140.416 140.477 140.482 140.792 140.821 140.878 141.607 141.862 141.909 142.304 142.559 142.877 143.118 143.279 143.297 143.307 143.619 143.867 143.893 143.976 144.104 144.151 144.164 144.177 144.194 144.229 144.540 144.620 144.635 144.665 144.766 144.790 144.866 144.912 144.912 144.977 144.984 145.049 145.086 145.106 145.110 145.242 145.277 145.301 145.327 145.329 145.364 145.377 145.523 145.562 145.700 145.734 145.805 145.852 145.879 145.887 145.944 145.955 145.956 146.005 146.005 146.008 146.028 146.051 146.075 146.199 146.234 146.314 146.377 146.404 146.453 146.505 146.513 146.538 146.590 146.753 146.754 146.771 146.793 146.835 146.867 146.911 146.920 146.997 146.997 147.173 147.269 147.299 147.299 147.387 147.419 147.428 147.453 
query 3 nn's (6, 6): 505074 (6) 870912 (6) 551084 (6) 873503 (6) 581576 (6) 759272 (6) 469561 (6) 376313 (6) 954742 (6) 979326 (6) 198287 (6) 827991 (6) 203555 (6) 608874 (6) 542702 (6) 263195 (6) 976442 (6) 997286 (6) 178166 (6) 200440 (6) 951355 (6) 136177 (6) 32195 (6) 749807 (6) 204727 (6) 260825 (6) 362437 (6) 762909 (6) 770187 (6) 250943 (6) 976180 (6) 827077 (6) 433245 (6) 916832 (6) 465003 (6) 287394 (6) 863647 (6) 871467 (6) 368216 (6) 717608 (6) 363654 (6) 13341 (6) 350197 (6) 106987 (6) 523139 (6) 107516 (6) 665690 (6) 447077 (6) 20352 (6) 373736 (6) 942390 (6) 312252 (6) 496154 (6) 195003 (6) 371257 (6) 980968 (6) 635582 (6) 551602 (6) 828216 (6) 430803 (6) 119304 (6) 968556 (6) 829520 (6) 64796 (6) 728851 (6) 426874 (6) 470530 (6) 874268 (6) 237251 (6) 132271 (6) 679824 (6) 369664 (6) 509845 (6) 356583 (6) 179696 (6) 774110 (6) 826248 (6) 784717 (6) 983218 (6) 488731 (6) 835969 (6) 366715 (6) 486205 (6) 289356 (6) 436833 (6) 263846 (6) 257989 (6) 101897 (6) 999383 (6) 790206 (6) 75583 (6) 492607 (6) 588086 (6) 346637 (6) 278033 (6) 631062 (6) 810965 (6) 346234 (6) 75419 (6) 521248 (6) 
     dis: 	147.416 153.019 164.082 167.142 168.555 169.606 170.421 170.594 171.924 173.319 173.831 176.326 176.564 177.455 177.646 178.014 179.547 180.006 180.412 180.851 181.178 181.342 182.836 182.886 183.038 183.456 183.476 183.524 183.528 183.923 184.647 185.221 185.353 185.442 185.514 185.590 185.607 185.881 185.898 185.944 185.977 186.141 186.251 186.256 186.340 186.457 186.644 186.669 186.675 186.831 186.842 186.910 187.131 187.153 187.206 187.243 187.551 187.863 187.881 187.883 188.027 188.152 188.201 188.449 188.467 188.490 188.531 188.563 188.590 188.602 188.643 188.689 188.701 188.744 188.793 188.805 188.805 188.869 188.938 188.967 189.004 189.091 189.244 189.259 189.292 189.299 189.301 189.378 189.421 189.470 189.698 189.719 189.736 189.889 189.893 189.928 190.000 190.132 190.160 190.248 
query 4 nn's (6, 6): 719380 (6) 223865 (6) 895955 (6) 461345 (6) 829463 (6) 729225 (6) 62933 (6) 135316 (6) 33136 (6) 969735 (6) 27286 (6) 286063 (6) 181639 (6) 332639 (6) 47460 (6) 241446 (6) 644921 (6) 815136 (6) 626915 (6) 266702 (6) 188274 (6) 898427 (6) 559665 (6) 819848 (6) 272496 (6) 170938 (6) 135954 (6) 739152 (6) 258251 (6) 447933 (6) 15399 (6) 278147 (6) 80326 (6) 455363 (6) 992816 (6) 661394 (6) 874168 (6) 710790 (6) 721826 (6) 589669 (6) 663997 (6) 88323 (6) 382982 (6) 497393 (6) 720829 (6) 793285 (6) 291344 (6) 229832 (6) 395213 (6) 498294 (6) 4088 (6) 827290 (6) 257393 (6) 145195 (6) 275060 (6) 418523 (6) 935609 (6) 256684 (6) 974457 (6) 552830 (6) 386301 (6) 223642 (6) 775952 (6) 544230 (6) 728440 (6) 480531 (6) 274883 (6) 256494 (6) 198041 (6) 901010 (6) 696717 (6) 972938 (6) 407187 (6) 274537 (6) 751330 (6) 116068 (6) 571909 (6) 700992 (6) 474720 (6) 293069 (6) 448311 (6) 190638 (6) 347553 (6) 617093 (6) 843689 (6) 609376 (6) 982288 (6) 491474 (6) 308421 (6) 234841 (6) 176623 (6) 634836 (6) 231767 (6) 685064 (6) 948961 (6) 237758 (6) 263908 (6) 534413 (6) 131072 (6) 148450 (6) 
     dis: 	56.196 65.580 68.268 71.458 74.054 74.408 75.221 75.255 75.782 75.798 76.677 79.549 80.061 80.090 80.358 84.231 85.317 87.252 89.504 89.601 90.151 91.740 92.778 92.861 93.315 93.648 95.897 96.488 96.538 96.965 96.986 97.359 98.294 98.313 98.326 98.827 99.790 100.464 100.815 101.026 101.158 101.477 102.764 104.533 105.017 105.224 106.052 106.207 106.648 107.319 107.484 107.514 107.739 108.852 108.906 109.245 109.461 109.698 111.801 112.233 112.543 114.109 114.706 115.105 115.612 116.053 116.945 116.962 117.282 117.832 117.870 118.064 118.546 118.571 118.680 120.196 120.971 121.864 121.996 122.287 122.571 122.660 123.128 123.742 124.136 124.827 125.079 125.908 127.087 127.449 127.849 127.961 128.153 129.982 130.998 131.337 131.454 131.533 131.625 131.680 
[ 2598.348s ] *** Query time: 2591.615
qps: 3.859
 *** ivfpq recall 
ivfpq get 987257 postive res from 1000000 results, recall@100:0.987
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.006 0.634 0.360 
finished ivfpq index examples
[ 2598.377s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query YTRGB1m 1000000 100 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_100.json /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_500_random_1024 120 1024"
	User time (seconds): 2597.18
	System time (seconds): 1.10
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 43:18.44
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1104804
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 343213
	Voluntary context switches: 2
	Involuntary context switches: 2116
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 07:50
====================
START: running TEST_IVFPQ, sift data --

dataset: YTRGB1m
N: 1000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_100.json
index file: /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_500_random_1024
nprobe: 120
dim: 1024
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.073s ] Loaded metadata, 1000000 attr's found
[ 0.073s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.097s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
[ 0.099s ] Loaded 10000 YTRGB1m queries
[ 0.165s ] Loaded ground truth, gt_size: 100
[ 0.165s ] Index Params -- d: 1024, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 0.854s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 1245.192s ] Query results (vector ids, then distances):
query 0 nn's (10, 10): 467816 (10) 616256 (10) 821751 (10) 597593 (10) 31562 (10) 327418 (10) 945815 (10) 80751 (10) 863882 (10) 751978 (10) 283397 (10) 821639 (10) 126306 (10) 403197 (10) 38338 (10) 742291 (10) 772499 (10) 687363 (10) 446150 (10) 267332 (10) 497267 (10) 771516 (10) 110109 (10) 921897 (10) 619819 (10) 278160 (10) 572163 (10) 819134 (10) 905926 (10) 160171 (10) 743615 (10) 577390 (10) 957699 (10) 203807 (10) 239982 (10) 340096 (10) 532484 (10) 291097 (10) 235320 (10) 523963 (10) 309399 (10) 929374 (10) 153527 (10) 621256 (10) 30000 (10) 762918 (10) 468098 (10) 949757 (10) 45401 (10) 76351 (10) 605960 (10) 64977 (10) 551872 (10) 472828 (10) 323331 (10) 145583 (10) 273787 (10) 323891 (10) 526687 (10) 186302 (10) 660733 (10) 628490 (10) 810333 (10) 277825 (10) 362588 (10) 129092 (10) 990950 (10) 962935 (10) 282445 (10) 237067 (10) 633259 (10) 73121 (10) 695839 (10) 710612 (10) 500285 (10) 247033 (10) 194053 (10) 686536 (10) 259357 (10) 840279 (10) 80442 (10) 949139 (10) 78304 (10) 152212 (10) 157092 (10) 120347 (10) 626007 (10) 183474 (10) 357199 (10) 817369 (10) 457419 (10) 946913 (10) 43447 (10) 783326 (10) 583053 (10) 41531 (10) 385541 (10) 751148 (10) 683491 (10) 552221 (10) 
     dis: 	89.513 92.678 93.858 94.796 94.844 95.489 95.955 96.188 96.198 96.251 96.720 96.745 96.797 96.821 96.858 97.369 97.545 97.784 97.874 98.245 98.605 98.969 98.993 99.383 99.471 99.521 99.763 99.777 100.180 100.184 100.258 100.360 100.590 100.613 100.821 100.826 100.827 100.861 100.882 100.951 101.011 101.083 101.168 101.205 101.269 101.352 101.355 101.369 101.377 101.614 101.761 101.775 101.877 101.948 101.987 102.003 102.005 102.018 102.196 102.203 102.255 102.261 102.272 102.353 102.391 102.395 102.511 102.547 102.659 102.767 102.797 102.848 102.932 103.021 103.050 103.073 103.165 103.227 103.254 103.300 103.304 103.356 103.519 103.527 103.570 103.613 103.633 103.698 103.706 103.805 103.869 103.894 103.940 103.944 103.966 104.072 104.092 104.099 104.182 104.232 
query 1 nn's (10, 10): 963956 (10) 497306 (10) 506689 (10) 819134 (10) 853723 (10) 326679 (10) 431933 (10) 30000 (10) 271824 (10) 910863 (10) 731008 (10) 724711 (10) 383855 (10) 613044 (10) 202435 (10) 87796 (10) 23747 (10) 325785 (10) 201766 (10) 150833 (10) 477114 (10) 927330 (10) 797475 (10) 805675 (10) 707130 (10) 789422 (10) 543499 (10) 397242 (10) 605960 (10) 863882 (10) 68883 (10) 91892 (10) 153527 (10) 397553 (10) 312398 (10) 309633 (10) 247033 (10) 489372 (10) 211104 (10) 262835 (10) 416407 (10) 933680 (10) 408274 (10) 722788 (10) 827623 (10) 110109 (10) 100209 (10) 552221 (10) 722614 (10) 816991 (10) 671996 (10) 536104 (10) 19408 (10) 206848 (10) 223863 (10) 133756 (10) 444777 (10) 422342 (10) 750013 (10) 981523 (10) 616256 (10) 600675 (10) 875935 (10) 970860 (10) 157092 (10) 545691 (10) 605268 (10) 684080 (10) 304826 (10) 80442 (10) 352853 (10) 764621 (10) 690413 (10) 621256 (10) 164973 (10) 949757 (10) 323331 (10) 150144 (10) 855115 (10) 817369 (10) 259357 (10) 573440 (10) 229646 (10) 39338 (10) 294941 (10) 405087 (10) 841837 (10) 915093 (10) 340292 (10) 848682 (10) 262881 (10) 849317 (10) 246404 (10) 579444 (10) 794205 (10) 43385 (10) 727850 (10) 946688 (10) 929781 (10) 163815 (10) 
     dis: 	53.152 53.381 53.410 54.093 54.098 54.385 56.503 56.690 56.869 56.945 57.303 57.406 57.810 60.293 60.654 61.043 61.464 61.465 61.829 62.115 62.340 62.404 62.503 62.689 62.892 63.647 63.964 64.102 64.241 64.329 64.616 64.715 64.731 64.777 64.910 64.974 65.122 65.423 65.487 65.532 65.592 65.607 65.623 65.659 65.664 65.773 65.903 66.063 66.103 66.341 66.408 66.433 66.560 66.849 66.934 66.970 67.010 67.040 67.172 67.361 67.368 67.385 67.522 67.611 67.694 67.759 67.809 67.861 67.947 67.972 68.001 68.127 68.218 68.252 68.264 68.292 68.316 68.376 68.415 68.423 68.450 68.806 68.878 69.033 69.055 69.076 69.234 69.243 69.328 69.389 69.399 69.515 69.542 69.616 69.634 69.638 69.701 69.740 69.776 69.779 
query 2 nn's (10, 10): 423205 (10) 225875 (10) 619819 (10) 76351 (10) 572163 (10) 946688 (10) 320908 (10) 707130 (10) 353253 (10) 302286 (10) 294714 (10) 756943 (10) 949757 (10) 389086 (10) 840279 (10) 184392 (10) 446219 (10) 990950 (10) 867880 (10) 408274 (10) 735266 (10) 247033 (10) 279236 (10) 362588 (10) 120347 (10) 145583 (10) 308850 (10) 153527 (10) 749705 (10) 81413 (10) 905926 (10) 240211 (10) 771516 (10) 819134 (10) 252417 (10) 110109 (10) 117919 (10) 671996 (10) 150818 (10) 159822 (10) 883389 (10) 543499 (10) 947589 (10) 21316 (10) 172419 (10) 535476 (10) 301990 (10) 350403 (10) 421503 (10) 468098 (10) 821004 (10) 283397 (10) 147779 (10) 323331 (10) 605208 (10) 422342 (10) 449112 (10) 816991 (10) 660733 (10) 817369 (10) 816913 (10) 252700 (10) 220281 (10) 73121 (10) 929116 (10) 80442 (10) 10568 (10) 157871 (10) 583053 (10) 871814 (10) 459839 (10) 121176 (10) 256328 (10) 699995 (10) 129092 (10) 637908 (10) 259357 (10) 239982 (10) 783326 (10) 397553 (10) 440963 (10) 373283 (10) 43447 (10) 360219 (10) 88068 (10) 352784 (10) 30000 (10) 927330 (10) 472828 (10) 306392 (10) 727850 (10) 249660 (10) 645347 (10) 447036 (10) 490063 (10) 272542 (10) 222962 (10) 585416 (10) 277825 (10) 283777 (10) 
     dis: 	132.549 136.548 140.198 141.272 141.590 144.645 144.924 144.965 144.980 145.104 145.264 145.266 145.903 146.088 146.279 146.329 146.377 146.470 146.491 146.831 146.959 147.352 147.432 147.514 147.669 147.721 148.230 148.263 148.289 148.311 148.379 148.482 148.685 148.813 148.846 148.957 149.145 149.203 149.382 149.390 149.394 149.405 149.422 149.930 150.001 150.023 150.065 150.101 150.119 150.129 150.285 150.463 150.608 150.616 150.631 150.644 150.757 150.832 150.960 151.227 151.249 151.278 151.334 151.397 151.440 151.530 151.626 151.633 151.729 151.767 151.926 151.948 151.951 151.953 151.967 152.088 152.169 152.228 152.286 152.447 152.518 152.573 152.604 152.609 152.649 152.652 152.654 152.693 152.720 152.830 152.830 152.830 152.958 153.020 153.047 153.051 153.077 153.113 153.113 153.121 
query 3 nn's (10, 10): 421752 (10) 99295 (10) 14703 (10) 969523 (10) 77517 (10) 311972 (10) 683491 (10) 431502 (10) 960065 (10) 605960 (10) 203452 (10) 420277 (10) 616256 (10) 653204 (10) 750013 (10) 501456 (10) 442774 (10) 150833 (10) 999675 (10) 457419 (10) 819134 (10) 686536 (10) 307773 (10) 362588 (10) 817294 (10) 707130 (10) 949139 (10) 949757 (10) 979120 (10) 957699 (10) 41531 (10) 30000 (10) 989036 (10) 993283 (10) 81413 (10) 390711 (10) 383855 (10) 408274 (10) 468098 (10) 817369 (10) 129092 (10) 386751 (10) 385541 (10) 207951 (10) 942902 (10) 117773 (10) 306392 (10) 29028 (10) 683730 (10) 990950 (10) 871814 (10) 749705 (10) 753456 (10) 684080 (10) 905926 (10) 572163 (10) 799079 (10) 924562 (10) 302286 (10) 145583 (10) 309633 (10) 727850 (10) 247033 (10) 472828 (10) 667968 (10) 970172 (10) 713839 (10) 110109 (10) 967326 (10) 619819 (10) 690413 (10) 73121 (10) 497306 (10) 835074 (10) 954983 (10) 391106 (10) 491210 (10) 771516 (10) 242001 (10) 660733 (10) 605208 (10) 628052 (10) 439875 (10) 174471 (10) 353253 (10) 421503 (10) 371694 (10) 616401 (10) 397553 (10) 687363 (10) 271824 (10) 385384 (10) 978617 (10) 704328 (10) 280258 (10) 709186 (10) 543499 (10) 38415 (10) 256328 (10) 27838 (10) 
     dis: 	145.214 167.020 171.124 173.666 183.377 184.297 185.185 185.234 186.296 187.434 188.292 189.085 189.769 190.284 190.456 190.516 190.747 190.834 191.433 191.436 191.441 191.441 191.783 191.787 191.790 191.822 191.839 191.873 191.905 191.919 192.187 192.257 192.402 192.522 192.537 192.574 192.623 192.659 192.668 192.683 192.801 192.941 193.126 193.157 193.283 193.492 193.497 193.514 193.550 194.131 194.169 194.317 194.318 194.322 194.333 194.413 194.420 194.524 194.577 194.586 194.621 194.629 194.900 195.084 195.098 195.101 195.151 195.190 195.243 195.252 195.526 195.538 195.582 195.638 195.704 195.716 195.725 195.726 195.754 195.839 195.962 195.991 195.994 196.014 196.070 196.129 196.219 196.222 196.314 196.363 196.383 196.447 196.454 196.506 196.535 196.546 196.548 196.566 196.571 196.593 
query 4 nn's (10, 10): 314093 (10) 100485 (10) 58705 (10) 273627 (10) 615031 (10) 272857 (10) 44531 (10) 203716 (10) 209754 (10) 6454 (10) 333654 (10) 634282 (10) 2968 (10) 407673 (10) 180535 (10) 764055 (10) 358780 (10) 460381 (10) 612255 (10) 571159 (10) 723059 (10) 387402 (10) 643926 (10) 114511 (10) 147680 (10) 140926 (10) 626841 (10) 904423 (10) 677855 (10) 265353 (10) 372186 (10) 926636 (10) 517662 (10) 868086 (10) 78554 (10) 442334 (10) 452882 (10) 761157 (10) 852896 (10) 619355 (10) 304444 (10) 647205 (10) 928069 (10) 793120 (10) 204792 (10) 559660 (10) 266241 (10) 924371 (10) 817831 (10) 958692 (10) 333975 (10) 899182 (10) 180877 (10) 105162 (10) 103979 (10) 597452 (10) 623593 (10) 183112 (10) 597635 (10) 707539 (10) 846067 (10) 522154 (10) 227726 (10) 709799 (10) 474559 (10) 95200 (10) 59582 (10) 839341 (10) 792679 (10) 617543 (10) 542984 (10) 602565 (10) 50839 (10) 9480 (10) 654454 (10) 906492 (10) 372588 (10) 275186 (10) 226392 (10) 719715 (10) 414415 (10) 876032 (10) 656479 (10) 97688 (10) 555369 (10) 124184 (10) 615788 (10) 970668 (10) 471139 (10) 859094 (10) 68924 (10) 794558 (10) 447935 (10) 602474 (10) 457123 (10) 836969 (10) 800883 (10) 234327 (10) 695209 (10) 221810 (10) 
     dis: 	52.786 79.395 80.512 82.816 89.341 90.465 92.301 93.073 98.675 98.917 112.054 118.138 124.408 124.652 127.159 130.416 135.546 137.541 140.130 140.839 141.150 145.450 145.715 146.431 150.726 151.020 154.974 159.129 159.404 163.951 165.041 167.300 168.078 168.926 169.377 170.765 171.268 175.491 175.580 175.883 176.746 177.104 179.361 179.772 183.348 183.996 185.874 187.963 190.134 190.363 190.695 190.937 191.045 191.524 191.541 192.365 194.090 194.147 195.572 198.044 199.591 199.595 199.718 200.770 202.674 203.968 204.878 208.154 208.179 210.853 211.391 212.673 212.680 212.702 212.828 213.124 214.521 215.252 216.425 216.464 216.769 217.874 218.523 218.881 220.118 220.227 220.996 221.913 223.072 223.123 225.230 225.248 225.956 226.654 226.837 227.111 227.116 227.293 227.381 228.666 
[ 1245.192s ] *** Query time: 1238.682
qps: 8.073
 *** ivfpq recall 
ivfpq get 985361 postive res from 1000000 results, recall@100:0.985
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.006 0.687 0.307 
finished ivfpq index examples
[ 1245.221s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query YTRGB1m 1000000 100 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_100.json /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_500_random_1024 120 1024"
	User time (seconds): 1244.38
	System time (seconds): 0.84
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 20:45.27
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1104804
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 320338
	Voluntary context switches: 1
	Involuntary context switches: 995
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 08:26
====================
START: running TEST_IVFPQ, sift data --

dataset: YTRGB1m
N: 1000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_100.json
index file: /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_500_random_1024
nprobe: 120
dim: 1024
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.074s ] Loaded metadata, 1000000 attr's found
[ 0.074s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.106s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
[ 0.107s ] Loaded 10000 YTRGB1m queries
[ 0.174s ] Loaded ground truth, gt_size: 100
[ 0.174s ] Index Params -- d: 1024, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 1.009s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 965.749s ] Query results (vector ids, then distances):
query 0 nn's (19, 19): 473207 (19) 114680 (19) 877336 (19) 777725 (19) 347661 (19) 203528 (19) 715504 (19) 790321 (19) 350412 (19) 314991 (19) 771649 (19) 822524 (19) 739658 (19) 395436 (19) 569035 (19) 635083 (19) 867145 (19) 822756 (19) 161411 (19) 610722 (19) 544655 (19) 996431 (19) 916098 (19) 431500 (19) 944075 (19) 28498 (19) 730507 (19) 990093 (19) 84703 (19) 181220 (19) 570194 (19) 514560 (19) 207499 (19) 663819 (19) 288939 (19) 861784 (19) 400439 (19) 56580 (19) 569740 (19) 117782 (19) 545817 (19) 277764 (19) 86803 (19) 676434 (19) 976108 (19) 677390 (19) 739765 (19) 213222 (19) 681675 (19) 798428 (19) 957571 (19) 404934 (19) 240620 (19) 907673 (19) 290385 (19) 756337 (19) 946135 (19) 996864 (19) 443185 (19) 323094 (19) 91533 (19) 650270 (19) 458894 (19) 126902 (19) 855759 (19) 872312 (19) 334895 (19) 722020 (19) 97589 (19) 613536 (19) 75155 (19) 213484 (19) 34574 (19) 188136 (19) 417280 (19) 758483 (19) 664518 (19) 623530 (19) 428911 (19) 348433 (19) 33694 (19) 482655 (19) 960487 (19) 554974 (19) 723916 (19) 731228 (19) 578359 (19) 928668 (19) 616097 (19) 27569 (19) 81757 (19) 133867 (19) 577883 (19) 686143 (19) 809966 (19) 774048 (19) 160260 (19) 474407 (19) 593711 (19) 383645 (19) 
     dis: 	97.137 98.853 98.928 102.438 104.005 104.598 104.867 105.668 105.715 105.805 105.814 105.839 105.992 106.082 106.149 106.360 106.516 106.950 107.018 107.267 107.520 107.760 107.921 108.099 108.167 108.334 108.846 109.236 109.414 109.514 109.554 109.652 109.914 110.069 110.460 110.580 110.773 110.947 111.043 111.218 111.337 111.357 111.404 111.429 111.446 111.479 111.506 111.600 111.604 111.810 111.824 112.071 112.195 112.334 112.488 112.571 112.575 112.738 112.780 112.946 113.294 113.585 113.605 113.696 113.724 113.801 113.837 113.961 114.058 114.103 114.109 114.176 114.259 114.432 114.450 114.716 114.834 114.877 114.895 114.913 114.933 114.968 115.040 115.136 115.176 115.197 115.210 115.282 115.342 115.482 115.599 115.779 115.844 115.865 115.950 115.982 115.992 116.056 116.071 116.125 
query 1 nn's (19, 19): 867145 (19) 944075 (19) 473207 (19) 771649 (19) 739658 (19) 203528 (19) 877336 (19) 714582 (19) 474407 (19) 266357 (19) 681675 (19) 10133 (19) 790321 (19) 916098 (19) 616097 (19) 996431 (19) 594954 (19) 650270 (19) 161411 (19) 827700 (19) 400439 (19) 976108 (19) 570194 (19) 450995 (19) 347661 (19) 544655 (19) 715504 (19) 990093 (19) 777725 (19) 290385 (19) 856464 (19) 28498 (19) 101762 (19) 27569 (19) 431500 (19) 949945 (19) 314991 (19) 114680 (19) 377568 (19) 793883 (19) 931360 (19) 623284 (19) 593711 (19) 590214 (19) 417280 (19) 762331 (19) 304295 (19) 545817 (19) 739765 (19) 207499 (19) 775267 (19) 288939 (19) 554974 (19) 188136 (19) 907673 (19) 113879 (19) 81757 (19) 91533 (19) 219208 (19) 723916 (19) 160260 (19) 897239 (19) 968253 (19) 34574 (19) 574114 (19) 730507 (19) 443185 (19) 601467 (19) 323094 (19) 756337 (19) 181220 (19) 822524 (19) 774048 (19) 482655 (19) 86803 (19) 745051 (19) 822756 (19) 798016 (19) 677390 (19) 439055 (19) 861784 (19) 856796 (19) 577883 (19) 957571 (19) 746207 (19) 781737 (19) 872312 (19) 228396 (19) 514560 (19) 996864 (19) 613536 (19) 676434 (19) 404934 (19) 213484 (19) 914180 (19) 758483 (19) 191244 (19) 490704 (19) 84703 (19) 722020 (19) 
     dis: 	55.627 61.050 61.641 63.336 67.359 67.689 67.938 69.918 70.078 70.345 70.833 70.899 71.531 71.992 72.056 72.251 72.440 72.911 73.228 73.304 73.389 73.696 73.766 73.983 74.160 74.292 74.853 75.061 75.067 75.547 75.600 75.668 75.725 75.884 76.085 76.205 76.384 76.415 76.428 76.777 76.820 76.925 76.944 77.208 77.222 77.229 77.526 77.587 77.749 77.832 77.866 78.216 78.312 78.335 78.513 78.533 78.627 78.681 78.795 78.822 78.879 78.915 78.940 79.161 79.177 79.219 79.303 79.552 79.669 79.687 79.839 79.843 79.861 79.945 79.947 79.991 80.179 80.223 80.230 80.336 80.548 80.607 80.666 80.734 80.735 80.839 80.857 80.888 81.116 81.347 81.384 81.391 81.526 81.621 81.811 81.867 81.967 82.087 82.150 82.196 
query 2 nn's (19, 19): 473207 (19) 476128 (19) 917665 (19) 114680 (19) 920409 (19) 593711 (19) 577883 (19) 514560 (19) 266357 (19) 990093 (19) 240620 (19) 715504 (19) 27569 (19) 771649 (19) 726988 (19) 518589 (19) 996864 (19) 574114 (19) 347661 (19) 161411 (19) 28498 (19) 879935 (19) 160260 (19) 877336 (19) 203528 (19) 228396 (19) 777725 (19) 84703 (19) 681675 (19) 861784 (19) 775267 (19) 822524 (19) 570194 (19) 458894 (19) 134324 (19) 968253 (19) 188136 (19) 569740 (19) 996431 (19) 544655 (19) 756337 (19) 790321 (19) 827700 (19) 944075 (19) 739658 (19) 314991 (19) 758483 (19) 348433 (19) 610722 (19) 460892 (19) 623284 (19) 549393 (19) 949945 (19) 824275 (19) 290385 (19) 825943 (19) 323094 (19) 400439 (19) 774048 (19) 677390 (19) 131425 (19) 762331 (19) 207499 (19) 545817 (19) 907673 (19) 898170 (19) 181220 (19) 731228 (19) 95073 (19) 75155 (19) 746207 (19) 101762 (19) 572466 (19) 616097 (19) 443185 (19) 637780 (19) 867145 (19) 955712 (19) 34574 (19) 674317 (19) 404934 (19) 497780 (19) 450367 (19) 10133 (19) 822756 (19) 431500 (19) 391214 (19) 554974 (19) 439055 (19) 222221 (19) 561371 (19) 91533 (19) 478918 (19) 723916 (19) 474407 (19) 916098 (19) 844171 (19) 116487 (19) 752336 (19) 613536 (19) 
     dis: 	141.727 141.936 143.622 146.361 146.519 149.090 149.981 150.604 150.700 150.760 151.074 151.643 153.452 153.463 153.973 154.371 154.530 154.533 154.611 154.659 155.019 155.152 155.368 155.478 155.569 155.928 156.037 156.075 156.329 156.389 156.515 156.691 156.912 157.063 157.132 157.132 157.407 157.588 157.642 157.739 157.872 157.898 157.907 157.953 157.993 158.094 158.121 158.404 158.969 158.971 158.989 159.075 159.132 159.213 159.234 159.465 159.509 159.535 159.700 159.878 159.971 159.986 160.124 160.350 160.493 160.576 160.685 160.690 160.728 160.858 160.986 161.167 161.180 161.401 161.509 161.686 161.784 161.871 161.915 161.999 162.057 162.189 162.219 162.340 162.422 162.502 162.538 162.645 162.685 162.800 162.825 162.980 163.026 163.127 163.145 163.228 163.367 163.398 163.492 163.524 
query 3 nn's (19, 19): 750794 (19) 861784 (19) 974739 (19) 877336 (19) 739765 (19) 739658 (19) 822524 (19) 544655 (19) 473207 (19) 790321 (19) 777725 (19) 593711 (19) 114680 (19) 867145 (19) 87782 (19) 727795 (19) 242116 (19) 681675 (19) 65120 (19) 996431 (19) 916098 (19) 813068 (19) 431500 (19) 188136 (19) 458894 (19) 84703 (19) 207499 (19) 514560 (19) 574114 (19) 314991 (19) 518589 (19) 203528 (19) 124970 (19) 10133 (19) 990093 (19) 824275 (19) 771649 (19) 570194 (19) 677390 (19) 81757 (19) 400439 (19) 117782 (19) 616097 (19) 746207 (19) 545817 (19) 597591 (19) 731228 (19) 610722 (19) 719144 (19) 756337 (19) 323094 (19) 374170 (19) 347661 (19) 348433 (19) 613536 (19) 723916 (19) 27569 (19) 844171 (19) 957571 (19) 715504 (19) 907673 (19) 955712 (19) 391214 (19) 758483 (19) 809966 (19) 953713 (19) 213484 (19) 34574 (19) 21337 (19) 161411 (19) 460892 (19) 822756 (19) 274265 (19) 549393 (19) 733126 (19) 191404 (19) 417280 (19) 181220 (19) 160260 (19) 847089 (19) 571776 (19) 28498 (19) 623530 (19) 494499 (19) 290385 (19) 730507 (19) 482655 (19) 404934 (19) 944075 (19) 885256 (19) 775267 (19) 334895 (19) 82193 (19) 635083 (19) 474407 (19) 33494 (19) 337151 (19) 996864 (19) 311459 (19) 91046 (19) 
     dis: 	184.776 189.072 189.799 191.689 192.696 193.959 194.418 194.522 194.531 194.600 195.257 195.555 195.658 196.223 197.109 197.253 197.978 198.123 198.152 198.589 198.711 199.036 199.141 199.234 199.256 199.325 199.705 199.973 200.019 200.185 200.589 200.623 200.900 200.902 200.933 201.022 201.230 201.274 201.311 201.402 201.416 201.557 201.645 201.653 201.754 201.845 202.003 202.048 202.560 202.572 202.617 202.866 202.940 203.056 203.138 203.502 203.517 203.667 203.668 203.695 203.809 203.897 203.929 204.012 204.089 204.182 204.313 204.334 204.410 204.497 204.500 204.536 204.605 204.633 204.691 204.750 204.784 205.081 205.251 205.360 205.456 205.470 205.492 205.514 205.594 205.776 205.791 205.891 205.927 205.950 205.966 206.172 206.200 206.276 206.447 206.488 206.492 206.576 206.653 206.671 
query 4 nn's (19, 19): 610165 (19) 615042 (19) 965681 (19) 995580 (19) 767773 (19) 651770 (19) 933620 (19) 629354 (19) 86156 (19) 383339 (19) 738141 (19) 492707 (19) 600992 (19) 2867 (19) 682522 (19) 485652 (19) 15847 (19) 213596 (19) 167167 (19) 568596 (19) 348812 (19) 750159 (19) 322995 (19) 817292 (19) 181220 (19) 102877 (19) 471178 (19) 473207 (19) 822756 (19) 216778 (19) 990093 (19) 34574 (19) 790321 (19) 693721 (19) 431500 (19) 715504 (19) 681675 (19) 877336 (19) 81757 (19) 323795 (19) 544655 (19) 21716 (19) 777725 (19) 996431 (19) 739765 (19) 28498 (19) 616097 (19) 161411 (19) 95210 (19) 554974 (19) 188136 (19) 84703 (19) 976108 (19) 314991 (19) 497564 (19) 723916 (19) 610722 (19) 439055 (19) 514560 (19) 207499 (19) 86803 (19) 574114 (19) 730507 (19) 404934 (19) 894737 (19) 27003 (19) 748105 (19) 593711 (19) 916098 (19) 731228 (19) 996864 (19) 771649 (19) 114680 (19) 992216 (19) 191404 (19) 875930 (19) 94454 (19) 482655 (19) 117782 (19) 677390 (19) 37430 (19) 347661 (19) 649189 (19) 545817 (19) 855759 (19) 561371 (19) 391214 (19) 774048 (19) 191244 (19) 474407 (19) 669264 (19) 357670 (19) 91533 (19) 483929 (19) 203528 (19) 178470 (19) 27569 (19) 350329 (19) 443185 (19) 663819 (19) 
     dis: 	76.666 116.312 148.086 170.241 184.492 209.583 214.644 215.142 230.677 230.711 234.910 236.783 239.290 239.458 239.690 240.617 253.853 255.958 262.531 262.673 263.399 264.706 265.145 267.451 267.489 268.557 268.667 271.694 271.930 273.099 273.841 274.803 274.889 275.596 275.670 276.058 276.665 277.203 277.312 277.629 278.125 278.235 279.357 279.414 279.658 279.728 279.799 279.819 279.859 279.914 280.181 280.263 280.284 280.317 280.388 280.407 280.699 280.744 280.781 280.849 281.026 281.030 281.249 281.358 281.605 281.788 281.929 281.969 282.026 282.136 282.136 282.299 282.366 282.419 282.464 282.477 282.572 282.635 282.812 282.896 283.020 283.029 283.189 283.230 283.277 283.426 283.442 283.443 283.499 283.608 283.641 283.774 283.811 283.833 283.925 283.996 284.083 284.137 284.150 284.230 
[ 965.750s ] *** Query time: 958.997
qps: 10.428
 *** ivfpq recall 
ivfpq get 977503 postive res from 1000000 results, recall@100:0.978
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.004 0.872 0.124 
finished ivfpq index examples
[ 965.780s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query YTRGB1m 1000000 100 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_100.json /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_500_random_1024 120 1024"
	User time (seconds): 964.73
	System time (seconds): 1.07
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 16:05.83
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1103780
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 359390
	Voluntary context switches: 8
	Involuntary context switches: 352
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
