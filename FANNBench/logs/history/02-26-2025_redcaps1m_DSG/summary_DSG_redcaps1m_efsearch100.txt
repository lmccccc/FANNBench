Start time: 10:02
Use SSE
dataset: redcaps1m
data_size: 1000000
dataset_path: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
method: compact
index_k: 8
ef_max: 1000
ef_construction: 1000
label_path: /mnt/data/mocheng/dataset/redcaps1m/timestamp.json
nthreads: 128
query_path: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
index_dir_path: /mnt/data/mocheng/dataset/redcaps1m/dsg/dsg_index/index_dsg_efmax1000_efs1000_real_label
Load vecs from: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
# of vecs: 1000000
get data size:1000000 query size:1000
get data label size:1000000
index K:8 ef construction: 1000 ef_max: 1000
# Sort Dataset Time: 3.1270640s
method: compact parameters: ef_construction ( 1000 )  index-k( 8)  ef_max (1000) 
Building Index using IndexCompactGraph
First point576384
All the forward batch nn #: 0
Theoratical backward batch nn #: 0
Max. nns length of one point202
Sum of forward nn #: 168459876
Avg. forward nn #: 168.46
Avg. delta nn #: 168.46
# Build Index Time: 1393.0489220s
	Command being timed: "../DynamicSegmentGraph/build/benchmark/build_index -dataset redcaps1m -N 1000000 -dataset_path /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs -index_path /mnt/data/mocheng/dataset/redcaps1m/dsg/dsg_index/index_dsg_efmax1000_efs1000_real_label -method compact -k 8 -ef_max 1000 -ef_construction 1000 -label_path /mnt/data/mocheng/dataset/redcaps1m/timestamp.json -nthreads 128 -query_path /mnt/data/mocheng/dataset/redcaps1m/query.fvecs"
	User time (seconds): 33351.54
	System time (seconds): 42.57
	Percent of CPU this job got: 2380%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 23:22.92
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 9641204
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 15724143
	Voluntary context switches: 423915
	Involuntary context switches: 10032365
	Swaps: 0
	File system inputs: 2080
	File system outputs: 6611736
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 10:33
Use SSE
dataset: redcaps1m
data_size: 1000000
dataset_path: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query_path: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
groundtruth_path: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_6_random_10.json
method: compact
index_k: 8
ef_max: 1000
ef_construction: 1000
nthreads: 1
ef_search: 100
qrange_path: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_6_random.json
query_num: 10000
label_path: /mnt/data/mocheng/dataset/redcaps1m/timestamp.json
query_k: 10
Load vecs from: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
# of vecs: 1000000
get data size:1000000 query size:10000
get data label size:1000000
get query range size:10000
get groundtruth size:10000
get query id size:10000
query range size:10000
# Sort Dataset Time: 3.9936180s
search ef:
vertex in set: {100}
Total edge:168459876
Average degree:168.46
Max. nns length of one point202
Sum of forward nn #: 168459876
Avg. forward nn #: 168.46
Avg. delta nn #: 168.46
# Load Index Time: 4.6943530s
load index done

Search ef: 100
========================
range: 499999	 recall: 0.0181	 QPS: 12610	Comps: 28	 Hops: 2.0318
range: 500000	 recall: 2.9284	 QPS: 82	Comps: 4596	 Hops: 321.6496
range: 500001	 recall: 0.0175	 QPS: 13737	Comps: 27	 Hops: 1.8992
Total Recall: 0.9879	 Total QPS: 242.8961	 Total Comps: 1550.0932	 Total Hops: 108.5160
========================
# total query time: 41.4262650s
	Command being timed: "../DynamicSegmentGraph/build/benchmark/query_index -dataset redcaps1m -N 1000000 -dataset_path /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs -query_path /mnt/data/mocheng/dataset/redcaps1m/query.fvecs -groundtruth_path /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_6_random_10.json -index_path /mnt/data/mocheng/dataset/redcaps1m/dsg/dsg_index/index_dsg_efmax1000_efs1000_real_label -method compact -k 8 -ef_max 1000 -ef_construction 1000 -nthreads 1 -ef_search 100 -qrange_path /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_6_random.json -query_num 10000 -label_path /mnt/data/mocheng/dataset/redcaps1m/timestamp.json -query_k 10"
	User time (seconds): 46.11
	System time (seconds): 6.07
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:52.99
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 5437492
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1871369
	Voluntary context switches: 0
	Involuntary context switches: 1576
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 10:46
Use SSE
dataset: redcaps1m
data_size: 1000000
dataset_path: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query_path: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
groundtruth_path: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_10_random_10.json
method: compact
index_k: 8
ef_max: 1000
ef_construction: 1000
nthreads: 1
ef_search: 100
qrange_path: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_10_random.json
query_num: 10000
label_path: /mnt/data/mocheng/dataset/redcaps1m/timestamp.json
query_k: 10
Load vecs from: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
# of vecs: 1000000
get data size:1000000 query size:10000
get data label size:1000000
get query range size:10000
get groundtruth size:10000
get query id size:10000
query range size:10000
# Sort Dataset Time: 3.8739400s
search ef:
vertex in set: {100}
Total edge:168459876
Average degree:168.46
Max. nns length of one point202
Sum of forward nn #: 168459876
Avg. forward nn #: 168.46
Avg. delta nn #: 168.46
# Load Index Time: 4.4294540s
load index done

Search ef: 100
========================
range: 99998	 recall: 0.0005	 QPS: 806127	Comps: 0	 Hops: 0.0515
range: 99999	 recall: 0.0334	 QPS: 7933	Comps: 44	 Hops: 3.5540
range: 100000	 recall: 4.8971	 QPS: 53	Comps: 6409	 Hops: 524.0230
range: 100001	 recall: 0.0326	 QPS: 7893	Comps: 44	 Hops: 3.4940
range: 100002	 recall: 0.0005	 QPS: 379867	Comps: 1	 Hops: 0.0535
Total Recall: 0.9928	 Total QPS: 262.7774	 Total Comps: 1299.6655	 Total Hops: 106.2352
========================
# total query time: 38.3350140s
	Command being timed: "../DynamicSegmentGraph/build/benchmark/query_index -dataset redcaps1m -N 1000000 -dataset_path /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs -query_path /mnt/data/mocheng/dataset/redcaps1m/query.fvecs -groundtruth_path /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_10_random_10.json -index_path /mnt/data/mocheng/dataset/redcaps1m/dsg/dsg_index/index_dsg_efmax1000_efs1000_real_label -method compact -k 8 -ef_max 1000 -ef_construction 1000 -nthreads 1 -ef_search 100 -qrange_path /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_10_random.json -query_num 10000 -label_path /mnt/data/mocheng/dataset/redcaps1m/timestamp.json -query_k 10"
	User time (seconds): 39.50
	System time (seconds): 9.71
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:49.80
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 5437488
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3171726
	Voluntary context switches: 1
	Involuntary context switches: 341
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 10:56
Use SSE
dataset: redcaps1m
data_size: 1000000
dataset_path: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query_path: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
groundtruth_path: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_19_random_10.json
method: compact
index_k: 8
ef_max: 1000
ef_construction: 1000
nthreads: 1
ef_search: 100
qrange_path: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_19_random.json
query_num: 10000
label_path: /mnt/data/mocheng/dataset/redcaps1m/timestamp.json
query_k: 10
Load vecs from: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
# of vecs: 1000000
get data size:1000000 query size:10000
get data label size:1000000
get query range size:10000
get groundtruth size:10000
get query id size:10000
query range size:10000
# Sort Dataset Time: 3.8191830s
search ef:
vertex in set: {100}
Total edge:168459876
Average degree:168.46
Max. nns length of one point202
Sum of forward nn #: 168459876
Avg. forward nn #: 168.46
Avg. delta nn #: 168.46
# Load Index Time: 4.5600470s
load index done

Search ef: 100
========================
range: 9999	 recall: 0.0149	 QPS: 38803	Comps: 9	 Hops: 1.5824
range: 10000	 recall: 2.9420	 QPS: 184	Comps: 1860	 Hops: 313.3540
range: 10001	 recall: 0.0161	 QPS: 33738	Comps: 10	 Hops: 1.7135
Total Recall: 0.9909	 Total QPS: 545.0697	 Total Comps: 626.2113	 Total Hops: 105.5394
========================
# total query time: 18.6593060s
	Command being timed: "../DynamicSegmentGraph/build/benchmark/query_index -dataset redcaps1m -N 1000000 -dataset_path /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs -query_path /mnt/data/mocheng/dataset/redcaps1m/query.fvecs -groundtruth_path /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_19_random_10.json -index_path /mnt/data/mocheng/dataset/redcaps1m/dsg/dsg_index/index_dsg_efmax1000_efs1000_real_label -method compact -k 8 -ef_max 1000 -ef_construction 1000 -nthreads 1 -ef_search 100 -qrange_path /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_19_random.json -query_num 10000 -label_path /mnt/data/mocheng/dataset/redcaps1m/timestamp.json -query_k 10"
	User time (seconds): 23.18
	System time (seconds): 5.96
	Percent of CPU this job got: 97%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:29.89
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 5437480
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1877327
	Voluntary context switches: 1
	Involuntary context switches: 1931
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 11:05
Use SSE
dataset: redcaps1m
data_size: 1000000
dataset_path: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query_path: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
groundtruth_path: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_20_random_10.json
method: compact
index_k: 8
ef_max: 1000
ef_construction: 1000
nthreads: 1
ef_search: 100
qrange_path: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_20_random.json
query_num: 10000
label_path: /mnt/data/mocheng/dataset/redcaps1m/timestamp.json
query_k: 10
Load vecs from: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
# of vecs: 1000000
get data size:1000000 query size:10000
get data label size:1000000
get query range size:10000
get groundtruth size:10000
get query id size:10000
query range size:10000
# Sort Dataset Time: 3.9478890s
search ef:
vertex in set: {100}
Total edge:168459876
Average degree:168.46
Max. nns length of one point202
Sum of forward nn #: 168459876
Avg. forward nn #: 168.46
Avg. delta nn #: 168.46
# Load Index Time: 5.3762020s
load index done

Search ef: 100
========================
range: 999	 recall: 0.0198	 QPS: 54731	Comps: 5	 Hops: 2.7516
range: 1000	 recall: 2.9032	 QPS: 321	Comps: 788	 Hops: 425.4640
range: 1001	 recall: 0.0134	 QPS: 76041	Comps: 4	 Hops: 1.9544
range: 1002	 recall: 0.0004	 QPS: 4528986	Comps: 0	 Hops: 0.0404
Total Recall: 0.7342	 Total QPS: 1269.7989	 Total Comps: 199.2522	 Total Hops: 107.5526
========================
# total query time: 8.1682420s
	Command being timed: "../DynamicSegmentGraph/build/benchmark/query_index -dataset redcaps1m -N 1000000 -dataset_path /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs -query_path /mnt/data/mocheng/dataset/redcaps1m/query.fvecs -groundtruth_path /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_20_random_10.json -index_path /mnt/data/mocheng/dataset/redcaps1m/dsg/dsg_index/index_dsg_efmax1000_efs1000_real_label -method compact -k 8 -ef_max 1000 -ef_construction 1000 -nthreads 1 -ef_search 100 -qrange_path /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_20_random.json -query_num 10000 -label_path /mnt/data/mocheng/dataset/redcaps1m/timestamp.json -query_k 10"
	User time (seconds): 13.81
	System time (seconds): 6.09
	Percent of CPU this job got: 96%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:20.57
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 5437484
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1871365
	Voluntary context switches: 0
	Involuntary context switches: 495
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
