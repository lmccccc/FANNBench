Start time: 00:36
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: spacev10m
N: 10000000
gamma: 25
M: 40
M_beta: 64
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/acorn/index/index_acorn_sel_1_500_random_M40_ga25_Mb64
ef_search: 800 
dim: 100
metadata or vector loaded from json, size: 10000000
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 1.272s ] Loaded metadata, 10000000 attr's found
[ 1.272s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.275s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json
[ 1.276s ] Loaded 10000 spacev10m queries
metadata or vector loaded from json, size: 1000000
loaded gt from: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_100.json
[ 1.415s ] Loaded ground truth, gt_size: 100
[ 1.415s ] Index Params -- d: 100, M: 40, N: 10000000, gamma: 25
--ACORN index created
acorn size: 5985260000, memory: 9637.127MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 9999591 nodes
level 1 : 249955 nodes
level 2 : 6211 nodes
level 3 : 140 nodes
level 4 : 3 nodes
level 5 : 0 nodes
Total edge:10255900
Average degree per layer:1709316.667
node size:10000000
Average degree:149.631
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 27.254s ] Searching the 100 nearest neighbors of 10000 vectors in the index, efsearch 800
selectivity: 0.500
[ 613.431s ] Query results (vector ids, then distances):
query 0 nn's (6): 4661794 (6) 1352077 (6) 1300400 (6) 2436347 (6) 425302 (6) 606211 (6) 1781760 (6) 3647719 (6) 9694965 (6) 8021837 (6) 8207046 (6) 6583311 (6) 1714233 (6) 2721656 (6) 2204643 (6) 6309057 (6) 38473 (6) 5072935 (6) 2382485 (6) 4779084 (6) 3881211 (6) 2116152 (6) 8807530 (6) 2710882 (6) 4617714 (6) 8538301 (6) 3873794 (6) 5275548 (6) 7007393 (6) 613770 (6) 1288832 (6) 890298 (6) 106800 (6) 1751249 (6) 4022185 (6) 244510 (6) 4915045 (6) 521477 (6) 2646514 (6) 511283 (6) 8242233 (6) 9818783 (6) 7249395 (6) 672964 (6) 8135809 (6) 8846971 (6) 9600306 (6) 3828638 (6) 6138359 (6) 2605318 (6) 9053999 (6) 4470364 (6) 6478048 (6) 4685796 (6) 5950387 (6) 9901604 (6) 608392 (6) 2807977 (6) 5382515 (6) 3057373 (6) 7983463 (6) 9957153 (6) 1354982 (6) 1150402 (6) 5236967 (6) 6616924 (6) 3249603 (6) 9347328 (6) 4519081 (6) 8662145 (6) 9234384 (6) 9169598 (6) 4697056 (6) 7108130 (6) 8279789 (6) 7330716 (6) 5320284 (6) 3611695 (6) 3636367 (6) 488103 (6) 8656797 (6) 9715655 (6) 7826722 (6) 6303532 (6) 3651927 (6) 6972939 (6) 7887947 (6) 399999 (6) 6781400 (6) 2578991 (6) 5724721 (6) 4104937 (6) 6896772 (6) 5270820 (6) 6554307 (6) 726682 (6) 6290762 (6) 694286 (6) 5475688 (6) 3993234 (6) 
     dis: 	3012.000 3278.000 3455.000 5094.000 5207.000 5333.000 5414.000 5508.000 5944.000 6219.000 6261.000 6338.000 6491.000 6611.000 6635.000 6750.000 7027.000 7047.000 7066.000 7151.000 7203.000 7288.000 7452.000 7464.000 7485.000 7544.000 7677.000 7704.000 7710.000 7742.000 7918.000 7954.000 8017.000 8031.000 8044.000 8194.000 8265.000 8288.000 8334.000 8387.000 8423.000 8468.000 8470.000 8480.000 8500.000 8512.000 8512.000 8566.000 8608.000 8648.000 8650.000 8666.000 8711.000 8800.000 8811.000 8856.000 8876.000 8897.000 8901.000 8918.000 8925.000 8948.000 8965.000 9027.000 9055.000 9065.000 9092.000 9102.000 9117.000 9136.000 9137.000 9209.000 9224.000 9251.000 9340.000 9367.000 9411.000 9419.000 9476.000 9485.000 9485.000 9488.000 9510.000 9527.000 9533.000 9562.000 9589.000 9590.000 9606.000 9607.000 9641.000 9661.000 9666.000 9676.000 9686.000 9715.000 9717.000 9724.000 9755.000 9778.000 
query 1 nn's (6): 3024255 (6) 4465136 (6) 6693881 (6) 1087257 (6) 547651 (6) 5778168 (6) 1739093 (6) 913237 (6) 128447 (6) 2201796 (6) 458294 (6) 4731052 (6) 5140912 (6) 2848947 (6) 2600668 (6) 8268659 (6) 5312590 (6) 3756027 (6) 2915146 (6) 8084904 (6) 5453229 (6) 1674348 (6) 9482235 (6) 1262717 (6) 7070658 (6) 765304 (6) 413466 (6) 4023729 (6) 4936049 (6) 3467889 (6) 7957281 (6) 7995495 (6) 9750308 (6) 2400979 (6) 9943863 (6) 8382701 (6) 9255837 (6) 8598995 (6) 5183877 (6) 2054287 (6) 2067210 (6) 6872221 (6) 2030638 (6) 4375499 (6) 5833204 (6) 5642421 (6) 2677560 (6) 6528340 (6) 7714223 (6) 7796940 (6) 9265027 (6) 2208346 (6) 5888778 (6) 8377057 (6) 6218290 (6) 1417507 (6) 7998901 (6) 7898285 (6) 3213153 (6) 3106662 (6) 3579661 (6) 9793572 (6) 1580619 (6) 7983026 (6) 1873620 (6) 6270422 (6) 7208440 (6) 3798515 (6) 540705 (6) 2775410 (6) 5553093 (6) 6565182 (6) 497310 (6) 6716625 (6) 7666189 (6) 3683874 (6) 4936167 (6) 5894271 (6) 9319596 (6) 7869623 (6) 4090413 (6) 9542350 (6) 5137564 (6) 5549017 (6) 3367543 (6) 6825634 (6) 5210631 (6) 8219055 (6) 1532818 (6) 3253492 (6) 8733990 (6) 9619526 (6) 8187358 (6) 7684675 (6) 2233630 (6) 2781736 (6) 3375782 (6) 9844485 (6) 5221616 (6) 8570172 (6) 
     dis: 	6351.000 7808.000 8318.000 8514.000 8991.000 9116.000 9145.000 9300.000 9379.000 9519.000 9575.000 9580.000 9665.000 9687.000 9826.000 9842.000 9904.000 9988.000 10003.000 10035.000 10037.000 10065.000 10077.000 10112.000 10144.000 10180.000 10186.000 10203.000 10227.000 10233.000 10252.000 10272.000 10318.000 10345.000 10383.000 10428.000 10477.000 10521.000 10523.000 10531.000 10548.000 10560.000 10602.000 10687.000 10692.000 10693.000 10703.000 10745.000 10769.000 10779.000 10786.000 10828.000 10848.000 10897.000 10949.000 10960.000 11012.000 11038.000 11041.000 11043.000 11087.000 11109.000 11116.000 11142.000 11153.000 11156.000 11171.000 11187.000 11207.000 11212.000 11214.000 11217.000 11246.000 11253.000 11256.000 11278.000 11298.000 11314.000 11316.000 11318.000 11373.000 11382.000 11400.000 11400.000 11404.000 11414.000 11435.000 11443.000 11452.000 11468.000 11477.000 11483.000 11484.000 11509.000 11516.000 11540.000 11550.000 11555.000 11565.000 11608.000 
query 2 nn's (6): 4574760 (6) 5189301 (6) 9191130 (6) 8167950 (6) 4927764 (6) 5932138 (6) 2966676 (6) 6524215 (6) 2096002 (6) 4376559 (6) 6146541 (6) 1951033 (6) 1306999 (6) 9602743 (6) 9746650 (6) 2493779 (6) 7958660 (6) 5654119 (6) 7197257 (6) 4710102 (6) 700735 (6) 525365 (6) 9561351 (6) 6606573 (6) 3123570 (6) 190238 (6) 1881509 (6) 1816933 (6) 1415377 (6) 9485250 (6) 6555137 (6) 1425558 (6) 8077765 (6) 3361974 (6) 559883 (6) 1563468 (6) 7501806 (6) 5745884 (6) 8739701 (6) 7804752 (6) 4452321 (6) 7017176 (6) 4195631 (6) 6697500 (6) 7815621 (6) 4360960 (6) 8558486 (6) 6822953 (6) 1063314 (6) 7126935 (6) 7335841 (6) 801867 (6) 3405939 (6) 9743895 (6) 8590703 (6) 7660022 (6) 3200028 (6) 3399987 (6) 5263567 (6) 134852 (6) 6936789 (6) 2447894 (6) 780031 (6) 5742825 (6) 7287401 (6) 2567980 (6) 6665934 (6) 6371127 (6) 4517312 (6) 7060335 (6) 6489161 (6) 192071 (6) 6794035 (6) 1044870 (6) 1386408 (6) 1129169 (6) 7118637 (6) 1832279 (6) 267333 (6) 8707110 (6) 8900616 (6) 3785496 (6) 8719744 (6) 6007808 (6) 2631506 (6) 3967833 (6) 1093013 (6) 1633241 (6) 1349042 (6) 8672644 (6) 494920 (6) 9177119 (6) 4057883 (6) 1064624 (6) 4001654 (6) 2850979 (6) 5597353 (6) 6778344 (6) 2168228 (6) 9749884 (6) 
     dis: 	3034.000 3368.000 6308.000 6379.000 6596.000 6968.000 7150.000 7648.000 7659.000 7682.000 7696.000 7936.000 7956.000 8053.000 8065.000 8073.000 8106.000 8109.000 8118.000 8124.000 8264.000 8271.000 8326.000 8470.000 8502.000 8749.000 8765.000 8794.000 8867.000 8960.000 9087.000 9126.000 9162.000 9257.000 9320.000 9459.000 9666.000 9713.000 9725.000 9804.000 9832.000 9835.000 9857.000 9895.000 9903.000 9926.000 9953.000 9968.000 9975.000 10002.000 10050.000 10068.000 10125.000 10145.000 10197.000 10278.000 10284.000 10313.000 10335.000 10337.000 10353.000 10387.000 10392.000 10409.000 10412.000 10427.000 10450.000 10451.000 10473.000 10539.000 10585.000 10681.000 10698.000 10702.000 10729.000 10780.000 10819.000 10821.000 10825.000 10831.000 10831.000 10848.000 10852.000 10863.000 10883.000 10891.000 10912.000 10928.000 10965.000 10972.000 10992.000 11003.000 11005.000 11016.000 11019.000 11023.000 11023.000 11047.000 11067.000 11078.000 
query 3 nn's (6): 1208824 (6) 7481558 (6) 1153720 (6) 9922446 (6) 3092850 (6) 1681561 (6) 2871407 (6) 8906949 (6) 1866926 (6) 7371232 (6) 3092361 (6) 4371036 (6) 9455216 (6) 6638511 (6) 3489463 (6) 6696694 (6) 8364431 (6) 6027466 (6) 1986111 (6) 3188407 (6) 2272653 (6) 220595 (6) 7775637 (6) 8818246 (6) 9398930 (6) 1252765 (6) 7909680 (6) 4889443 (6) 8232477 (6) 5579814 (6) 6542977 (6) 9619884 (6) 8584054 (6) 9232458 (6) 4712751 (6) 9793596 (6) 4474761 (6) 3353499 (6) 7415071 (6) 580826 (6) 4216882 (6) 2595121 (6) 514827 (6) 3626273 (6) 484745 (6) 5785595 (6) 6849775 (6) 3085720 (6) 7435385 (6) 6546803 (6) 6334064 (6) 6684948 (6) 8821621 (6) 2958818 (6) 7010252 (6) 5124721 (6) 1353097 (6) 5566014 (6) 398589 (6) 7726743 (6) 8159578 (6) 1095751 (6) 3425624 (6) 383549 (6) 2919205 (6) 7082379 (6) 5119260 (6) 9740574 (6) 4183705 (6) 3483488 (6) 4653543 (6) 1605226 (6) 823633 (6) 1752435 (6) 7256503 (6) 1430920 (6) 3517824 (6) 5368803 (6) 8669768 (6) 5615929 (6) 108033 (6) 2348869 (6) 7136455 (6) 3922636 (6) 8145731 (6) 8182930 (6) 188678 (6) 2269546 (6) 9698504 (6) 3350710 (6) 3071605 (6) 6689609 (6) 2018818 (6) 7557678 (6) 9339392 (6) 9469428 (6) 6884602 (6) 382902 (6) 4849202 (6) 662720 (6) 
     dis: 	7689.000 7695.000 8337.000 8365.000 8400.000 8422.000 8731.000 8898.000 9254.000 9274.000 9395.000 9414.000 9443.000 9691.000 9701.000 9879.000 9931.000 9955.000 9958.000 9960.000 9972.000 9995.000 10127.000 10127.000 10184.000 10193.000 10215.000 10268.000 10280.000 10361.000 10381.000 10430.000 10463.000 10481.000 10556.000 10571.000 10583.000 10584.000 10599.000 10694.000 10754.000 10786.000 10821.000 10834.000 10845.000 10848.000 10849.000 10944.000 11029.000 11041.000 11045.000 11059.000 11074.000 11129.000 11153.000 11159.000 11184.000 11218.000 11259.000 11261.000 11266.000 11273.000 11315.000 11341.000 11364.000 11388.000 11389.000 11405.000 11417.000 11424.000 11446.000 11449.000 11476.000 11498.000 11498.000 11517.000 11535.000 11597.000 11610.000 11616.000 11641.000 11642.000 11642.000 11648.000 11703.000 11703.000 11745.000 11774.000 11775.000 11778.000 11782.000 11782.000 11808.000 11814.000 11827.000 11845.000 11853.000 11864.000 11898.000 11899.000 
query 4 nn's (6): 8316529 (6) 5624462 (6) 3987492 (6) 1706143 (6) 9534901 (6) 9970746 (6) 5744224 (6) 9323555 (6) 9211260 (6) 4390138 (6) 6480066 (6) 9833382 (6) 2172340 (6) 73290 (6) 6527555 (6) 8827038 (6) 1182472 (6) 3097455 (6) 1587943 (6) 6395393 (6) 2320125 (6) 9044829 (6) 6782257 (6) 5012986 (6) 3740241 (6) 942827 (6) 57144 (6) 3693862 (6) 6906799 (6) 5562283 (6) 3436988 (6) 7159963 (6) 5783656 (6) 4738992 (6) 915880 (6) 8608979 (6) 3264396 (6) 6091565 (6) 1233423 (6) 4607867 (6) 9374623 (6) 3073679 (6) 1171695 (6) 9765986 (6) 523134 (6) 3598596 (6) 3646712 (6) 6634262 (6) 8873679 (6) 3655068 (6) 9164737 (6) 1030896 (6) 8442744 (6) 1504549 (6) 7511825 (6) 3421968 (6) 8774147 (6) 6789739 (6) 4942478 (6) 5685630 (6) 8855135 (6) 8359241 (6) 349859 (6) 3531751 (6) 5506147 (6) 4786845 (6) 9436869 (6) 980351 (6) 6685392 (6) 4019507 (6) 9519711 (6) 259750 (6) 1995354 (6) 8701864 (6) 4059273 (6) 8342661 (6) 8360636 (6) 3795738 (6) 703166 (6) 5006797 (6) 9688429 (6) 9019284 (6) 3032989 (6) 4491189 (6) 1410118 (6) 8641215 (6) 6331457 (6) 9977617 (6) 3934821 (6) 2266290 (6) 1973506 (6) 8212769 (6) 3299088 (6) 5350870 (6) 1902982 (6) 569140 (6) 1555419 (6) 1344371 (6) 8452116 (6) 8407248 (6) 
     dis: 	2198.000 3552.000 3787.000 4591.000 5126.000 5243.000 5418.000 5435.000 5775.000 5970.000 6247.000 6265.000 6266.000 6268.000 6296.000 6309.000 6371.000 6385.000 6386.000 6397.000 6403.000 6416.000 6419.000 6428.000 6444.000 6460.000 6473.000 6480.000 6504.000 6518.000 6519.000 6530.000 6533.000 6540.000 6559.000 6594.000 6603.000 6606.000 6620.000 6628.000 6648.000 6653.000 6663.000 6698.000 6702.000 6712.000 6715.000 6715.000 6725.000 6732.000 6747.000 6766.000 6770.000 6774.000 6778.000 6791.000 6791.000 6812.000 6814.000 6845.000 6854.000 6856.000 6868.000 6872.000 6880.000 6881.000 6884.000 6888.000 6890.000 6898.000 6899.000 6906.000 6913.000 6914.000 6922.000 6928.000 6942.000 6943.000 6947.000 6967.000 6967.000 6968.000 6971.000 6996.000 7000.000 7009.000 7016.000 7017.000 7024.000 7028.000 7034.000 7049.000 7053.000 7078.000 7084.000 7090.000 7103.000 7112.000 7119.000 7120.000 
[ 613.432s ] *** Query time: 103.243
qps: 96.859
 *** acorn recall 
efs:800
acorn get 950570 postive res from 1000000 results, recall@100:0.951
recall dist(10% per bucket): 0.001 0.001 0.001 0.001 0.002 0.004 0.010 0.030 0.095 0.553 0.303 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[613.462s] Timing results for search of k=100 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 145651355
ndis: 0
nreorder: 0
average distance computations per query: 14565.136
[ 613.462s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query spacev10m 10000000 25 40 64 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_100.json /mnt/data/mocheng/dataset/spacev10m/acorn/index/index_acorn_sel_1_500_random_M40_ga25_Mb64 800 100"
	User time (seconds): 576.61
	System time (seconds): 25.85
	Percent of CPU this job got: 97%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 10:15.05
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 15917120
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 6672065
	Voluntary context switches: 47670
	Involuntary context switches: 1072
	Swaps: 0
	File system inputs: 1452216
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:10
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: spacev10m
N: 10000000
gamma: 25
M: 40
M_beta: 64
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/acorn/index/index_acorn_sel_1_500_random_M40_ga25_Mb64
ef_search: 800 
dim: 100
metadata or vector loaded from json, size: 10000000
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 1.240s ] Loaded metadata, 10000000 attr's found
[ 1.240s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.277s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json
[ 1.303s ] Loaded 10000 spacev10m queries
metadata or vector loaded from json, size: 1000000
loaded gt from: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_100.json
[ 1.505s ] Loaded ground truth, gt_size: 100
[ 1.505s ] Index Params -- d: 100, M: 40, N: 10000000, gamma: 25
--ACORN index created
acorn size: 5985260000, memory: 9637.127MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 9999591 nodes
level 1 : 249955 nodes
level 2 : 6211 nodes
level 3 : 140 nodes
level 4 : 3 nodes
level 5 : 0 nodes
Total edge:10255900
Average degree per layer:1709316.667
node size:10000000
Average degree:149.631
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 26.565s ] Searching the 100 nearest neighbors of 10000 vectors in the index, efsearch 800
selectivity: 0.100
[ 667.161s ] Query results (vector ids, then distances):
query 0 nn's (10): 7099403 (10) 1536208 (10) 4853416 (10) 7305168 (10) 1360571 (10) 3454073 (10) 3676917 (10) 1858226 (10) 4932580 (10) 1947126 (10) 4112225 (10) 1185721 (10) 8725926 (10) 2716677 (10) 3622412 (10) 3453250 (10) 8394382 (10) 6149370 (10) 2029623 (10) 6588206 (10) 3348872 (10) 374574 (10) 8804052 (10) 8563184 (10) 8237276 (10) 8189648 (10) 7187917 (10) 2240388 (10) 2893898 (10) 3104167 (10) 6549569 (10) 5816885 (10) 7514294 (10) 485983 (10) 8140727 (10) 3586515 (10) 2271622 (10) 2751934 (10) 4717852 (10) 9868523 (10) 4724901 (10) 9717384 (10) 1514436 (10) 4850763 (10) 9277605 (10) 4005082 (10) 2119335 (10) 9971641 (10) 6152797 (10) 7264008 (10) 5853211 (10) 451046 (10) 5700967 (10) 9002228 (10) 4228485 (10) 3682214 (10) 9330266 (10) 321600 (10) 7223435 (10) 5574323 (10) 3918311 (10) 3781704 (10) 5239890 (10) 3972448 (10) 8564538 (10) 7565245 (10) 9536761 (10) 2436219 (10) 3847526 (10) 6801550 (10) 3691495 (10) 2101821 (10) 744867 (10) 345762 (10) 1367646 (10) 3775744 (10) 5537105 (10) 2131154 (10) 809290 (10) 5481247 (10) 7614330 (10) 6003828 (10) 3616968 (10) 1534102 (10) 5745274 (10) 1114766 (10) 5815184 (10) 1426671 (10) 8448520 (10) 2961876 (10) 9304881 (10) 3678451 (10) 3465839 (10) 9565960 (10) 4578793 (10) 4765679 (10) 7278775 (10) 8553874 (10) 3752346 (10) 6073342 (10) 
     dis: 	6438.000 6572.000 6676.000 7885.000 7959.000 8293.000 8425.000 8454.000 8669.000 8974.000 9039.000 9347.000 9552.000 9610.000 9668.000 9825.000 9880.000 9931.000 9961.000 9961.000 10040.000 10068.000 10329.000 10354.000 10446.000 10505.000 10545.000 10751.000 10992.000 11023.000 11032.000 11055.000 11177.000 11192.000 11258.000 11319.000 11321.000 11428.000 11474.000 11506.000 11524.000 11600.000 11612.000 11818.000 11822.000 11894.000 11917.000 11949.000 12041.000 12058.000 12071.000 12085.000 12098.000 12108.000 12149.000 12176.000 12186.000 12220.000 12392.000 12422.000 12508.000 12510.000 12512.000 12542.000 12552.000 12609.000 12644.000 12667.000 12669.000 12681.000 12710.000 12713.000 12742.000 12774.000 12782.000 12816.000 12828.000 12838.000 12896.000 12916.000 12966.000 12970.000 12975.000 12992.000 13061.000 13084.000 13105.000 13116.000 13130.000 13133.000 13174.000 13178.000 13190.000 13230.000 13279.000 13297.000 13305.000 13330.000 13342.000 13357.000 
query 1 nn's (10): 8784659 (10) 6945939 (10) 2769394 (10) 5321556 (10) 4561316 (10) 3193849 (10) 2077395 (10) 7928199 (10) 5116926 (10) 4111782 (10) 1237024 (10) 6783786 (10) 4414583 (10) 3288493 (10) 4952577 (10) 8300390 (10) 9780570 (10) 1141657 (10) 7905338 (10) 8680758 (10) 1587846 (10) 9979859 (10) 6615426 (10) 982005 (10) 1424510 (10) 4839935 (10) 5347257 (10) 5966468 (10) 7853534 (10) 2114720 (10) 8431034 (10) 6136881 (10) 5969404 (10) 6099297 (10) 8974429 (10) 210208 (10) 583971 (10) 9267002 (10) 1166066 (10) 759271 (10) 9248724 (10) 7804689 (10) 434519 (10) 3724669 (10) 1927377 (10) 1824031 (10) 5444203 (10) 7158140 (10) 6310407 (10) 1061353 (10) 5295974 (10) 6037682 (10) 5664795 (10) 903398 (10) 2817328 (10) 9682053 (10) 4252119 (10) 693980 (10) 1478349 (10) 5895577 (10) 9278956 (10) 7499767 (10) 7841909 (10) 3034034 (10) 3622736 (10) 1473367 (10) 316839 (10) 8561106 (10) 8126210 (10) 5303947 (10) 5027954 (10) 8884531 (10) 7770117 (10) 7677236 (10) 6454260 (10) 524139 (10) 7497777 (10) 2014179 (10) 1334523 (10) 9914953 (10) 7276702 (10) 9924846 (10) 8518851 (10) 5918556 (10) 4360786 (10) 296984 (10) 3433669 (10) 9881993 (10) 9866675 (10) 4001501 (10) 4151656 (10) 9934455 (10) 6645004 (10) 1131495 (10) 4693185 (10) 1360127 (10) 5135644 (10) 6620090 (10) 8300269 (10) 5686476 (10) 
     dis: 	8816.000 9078.000 9211.000 10229.000 10291.000 10564.000 10987.000 11071.000 11128.000 11130.000 11152.000 11164.000 11373.000 11377.000 11430.000 11437.000 11594.000 11630.000 11641.000 11672.000 11765.000 11812.000 11889.000 11981.000 11999.000 12031.000 12124.000 12148.000 12165.000 12204.000 12206.000 12221.000 12236.000 12275.000 12300.000 12309.000 12344.000 12403.000 12439.000 12481.000 12488.000 12557.000 12607.000 12631.000 12637.000 12650.000 12699.000 12777.000 12842.000 12871.000 12944.000 12960.000 12961.000 12990.000 12998.000 13021.000 13071.000 13133.000 13195.000 13216.000 13226.000 13261.000 13264.000 13268.000 13284.000 13285.000 13297.000 13342.000 13348.000 13358.000 13361.000 13378.000 13384.000 13405.000 13423.000 13438.000 13441.000 13465.000 13468.000 13468.000 13477.000 13483.000 13493.000 13498.000 13500.000 13516.000 13517.000 13536.000 13574.000 13576.000 13587.000 13603.000 13608.000 13621.000 13625.000 13631.000 13634.000 13656.000 13661.000 13666.000 
query 2 nn's (10): 4290437 (10) 3524579 (10) 2755608 (10) 379589 (10) 5423341 (10) 6688464 (10) 3817374 (10) 7670329 (10) 1233143 (10) 6028399 (10) 3521500 (10) 6915696 (10) 7433556 (10) 6672275 (10) 3995931 (10) 1585247 (10) 6373557 (10) 8517921 (10) 7037734 (10) 7215858 (10) 7225622 (10) 4240529 (10) 3686996 (10) 3720423 (10) 5943431 (10) 3485543 (10) 8773369 (10) 1334244 (10) 2826478 (10) 6791210 (10) 2262803 (10) 8373012 (10) 4489586 (10) 4972945 (10) 5329091 (10) 2354559 (10) 7839327 (10) 9402325 (10) 1481914 (10) 2895724 (10) 503519 (10) 4518309 (10) 8628294 (10) 692490 (10) 312728 (10) 7147975 (10) 3709896 (10) 6829634 (10) 7385231 (10) 5188561 (10) 5859562 (10) 5257675 (10) 9208988 (10) 9746995 (10) 8805708 (10) 9568973 (10) 7366068 (10) 6657725 (10) 1655711 (10) 4303503 (10) 1066233 (10) 4024352 (10) 5650643 (10) 7101891 (10) 3409682 (10) 2280297 (10) 6679312 (10) 6351656 (10) 7514379 (10) 8413303 (10) 6317516 (10) 6257635 (10) 1523359 (10) 4387693 (10) 6073507 (10) 6158322 (10) 2609877 (10) 9705570 (10) 6071002 (10) 4491639 (10) 5794271 (10) 3760456 (10) 5231586 (10) 1666933 (10) 1407764 (10) 8167170 (10) 3221829 (10) 2692851 (10) 5747150 (10) 1166591 (10) 1091508 (10) 2834870 (10) 4427873 (10) 5012551 (10) 6834481 (10) 7341391 (10) 4916447 (10) 3380603 (10) 4086390 (10) 7153445 (10) 
     dis: 	4555.000 5017.000 5154.000 7277.000 8500.000 8666.000 8803.000 9186.000 9257.000 9559.000 9861.000 9897.000 10002.000 10007.000 10255.000 10259.000 10278.000 10307.000 10673.000 10735.000 11141.000 11159.000 11255.000 11298.000 11362.000 11390.000 11440.000 11444.000 11457.000 11499.000 11509.000 11509.000 11538.000 11572.000 11641.000 11689.000 11841.000 11980.000 12010.000 12043.000 12056.000 12069.000 12092.000 12101.000 12147.000 12167.000 12186.000 12195.000 12217.000 12222.000 12244.000 12249.000 12275.000 12276.000 12289.000 12319.000 12320.000 12331.000 12333.000 12347.000 12365.000 12404.000 12425.000 12476.000 12555.000 12570.000 12577.000 12601.000 12609.000 12637.000 12661.000 12683.000 12687.000 12701.000 12712.000 12714.000 12729.000 12742.000 12784.000 12789.000 12797.000 12843.000 12866.000 12876.000 12888.000 12893.000 12902.000 12906.000 12927.000 12980.000 13001.000 13010.000 13081.000 13091.000 13106.000 13107.000 13116.000 13119.000 13126.000 13148.000 
query 3 nn's (10): 7375372 (10) 8694166 (10) 4153275 (10) 1074776 (10) 9157428 (10) 9100185 (10) 5621855 (10) 8656601 (10) 1174052 (10) 6835770 (10) 7110321 (10) 9760951 (10) 543165 (10) 2824029 (10) 2838160 (10) 891922 (10) 3431426 (10) 1549096 (10) 7102985 (10) 6726539 (10) 1771224 (10) 9030244 (10) 4925397 (10) 899773 (10) 8900242 (10) 5971002 (10) 4280414 (10) 1453923 (10) 5924329 (10) 413101 (10) 6193105 (10) 1559878 (10) 407176 (10) 444968 (10) 6114795 (10) 8354889 (10) 5165872 (10) 1887300 (10) 2962163 (10) 2262413 (10) 2605021 (10) 9000058 (10) 6877659 (10) 5651044 (10) 5404816 (10) 9750958 (10) 8589062 (10) 181546 (10) 1981654 (10) 5498239 (10) 2744780 (10) 8653844 (10) 2113776 (10) 4300552 (10) 8797109 (10) 1874647 (10) 8437072 (10) 5951119 (10) 3104897 (10) 5241021 (10) 5555516 (10) 4645211 (10) 4988770 (10) 4003247 (10) 3433587 (10) 6000334 (10) 3539326 (10) 5924168 (10) 2846312 (10) 7242021 (10) 916020 (10) 586204 (10) 347839 (10) 4052646 (10) 6752785 (10) 7393670 (10) 613079 (10) 4767661 (10) 4641079 (10) 5142677 (10) 7713351 (10) 7593637 (10) 7049263 (10) 4432454 (10) 7992788 (10) 3400340 (10) 3720695 (10) 4072686 (10) 5340508 (10) 4392973 (10) 7641663 (10) 7320752 (10) 6595287 (10) 4657476 (10) 4338390 (10) 8348092 (10) 950864 (10) 5117079 (10) 4604865 (10) 7807172 (10) 
     dis: 	9144.000 9661.000 9892.000 10416.000 10421.000 10473.000 10647.000 10934.000 11006.000 11392.000 11525.000 11544.000 11579.000 11604.000 11656.000 11735.000 11745.000 11789.000 11932.000 11958.000 12049.000 12099.000 12104.000 12142.000 12149.000 12166.000 12178.000 12212.000 12225.000 12263.000 12287.000 12432.000 12454.000 12459.000 12479.000 12480.000 12844.000 12915.000 12927.000 12951.000 12951.000 12969.000 12977.000 12988.000 12994.000 12995.000 13038.000 13105.000 13117.000 13134.000 13149.000 13180.000 13194.000 13201.000 13201.000 13235.000 13263.000 13269.000 13282.000 13335.000 13351.000 13376.000 13389.000 13393.000 13404.000 13423.000 13441.000 13448.000 13468.000 13514.000 13526.000 13532.000 13541.000 13576.000 13577.000 13581.000 13589.000 13591.000 13594.000 13614.000 13618.000 13619.000 13625.000 13634.000 13669.000 13718.000 13720.000 13727.000 13755.000 13761.000 13762.000 13764.000 13782.000 13790.000 13794.000 13804.000 13896.000 13946.000 13959.000 13965.000 
query 4 nn's (10): 9788862 (10) 3367834 (10) 3037959 (10) 1906000 (10) 6082909 (10) 3480152 (10) 7100626 (10) 449527 (10) 3195289 (10) 6614912 (10) 2337939 (10) 1306176 (10) 8902014 (10) 2473330 (10) 6738443 (10) 1875114 (10) 288977 (10) 3792530 (10) 2188431 (10) 5021774 (10) 3505357 (10) 7816576 (10) 7209041 (10) 1432350 (10) 8028995 (10) 801930 (10) 9964092 (10) 7987544 (10) 4630927 (10) 290548 (10) 2909307 (10) 8880992 (10) 8998151 (10) 1805350 (10) 876017 (10) 5855379 (10) 5781240 (10) 9792010 (10) 6473453 (10) 4786546 (10) 5374432 (10) 8013089 (10) 5892891 (10) 5220285 (10) 1203342 (10) 3855566 (10) 6871337 (10) 6632711 (10) 5878556 (10) 2658409 (10) 3018023 (10) 124297 (10) 3254897 (10) 9004320 (10) 7657646 (10) 8278429 (10) 9135188 (10) 3650471 (10) 1493141 (10) 7800694 (10) 461309 (10) 9586382 (10) 7619778 (10) 7664685 (10) 1857734 (10) 1684521 (10) 8984355 (10) 2237336 (10) 5238216 (10) 2661685 (10) 6250307 (10) 8645881 (10) 9027955 (10) 1128048 (10) 1879610 (10) 2966222 (10) 4205878 (10) 4249166 (10) 8680586 (10) 7320103 (10) 6664115 (10) 2405191 (10) 8482818 (10) 6934441 (10) 5479180 (10) 9342723 (10) 3409232 (10) 9971454 (10) 821831 (10) 5770108 (10) 571990 (10) 2377422 (10) 7358267 (10) 6521041 (10) 2631274 (10) 2443440 (10) 4994859 (10) 7942525 (10) 4883258 (10) 5102961 (10) 
     dis: 	6170.000 6421.000 6432.000 6508.000 6530.000 6605.000 6731.000 6766.000 6793.000 6796.000 7039.000 7092.000 7109.000 7116.000 7125.000 7134.000 7144.000 7157.000 7223.000 7233.000 7235.000 7280.000 7292.000 7354.000 7358.000 7372.000 7376.000 7404.000 7453.000 7473.000 7476.000 7480.000 7497.000 7534.000 7549.000 7557.000 7571.000 7592.000 7609.000 7616.000 7631.000 7649.000 7659.000 7660.000 7669.000 7669.000 7682.000 7700.000 7701.000 7708.000 7719.000 7736.000 7744.000 7749.000 7754.000 7771.000 7775.000 7780.000 7785.000 7787.000 7797.000 7798.000 7803.000 7803.000 7806.000 7814.000 7815.000 7818.000 7837.000 7842.000 7845.000 7854.000 7863.000 7865.000 7879.000 7879.000 7882.000 7884.000 7902.000 7904.000 7917.000 7920.000 7935.000 7937.000 7940.000 7943.000 7947.000 7952.000 7958.000 7966.000 7972.000 7976.000 7979.000 7993.000 7998.000 7999.000 7999.000 7999.000 8005.000 8013.000 
[ 667.161s ] *** Query time: 88.501
qps: 112.993
 *** acorn recall 
efs:800
acorn get 803385 postive res from 1000000 results, recall@100:0.803
recall dist(10% per bucket): 0.005 0.005 0.008 0.014 0.028 0.049 0.086 0.158 0.289 0.352 0.005 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[667.192s] Timing results for search of k=100 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 69795461
ndis: 0
nreorder: 0
average distance computations per query: 6979.546
[ 667.192s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query spacev10m 10000000 25 40 64 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_100.json /mnt/data/mocheng/dataset/spacev10m/acorn/index/index_acorn_sel_1_500_random_M40_ga25_Mb64 800 100"
	User time (seconds): 633.95
	System time (seconds): 18.86
	Percent of CPU this job got: 97%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 11:08.53
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 15920224
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 74
	Minor (reclaiming a frame) page faults: 5183139
	Voluntary context switches: 49832
	Involuntary context switches: 1066
	Swaps: 0
	File system inputs: 1094392
	File system outputs: 56
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:40
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: spacev10m
N: 10000000
gamma: 25
M: 40
M_beta: 64
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/acorn/index/index_acorn_sel_1_500_random_M40_ga25_Mb64
ef_search: 800 
dim: 100
metadata or vector loaded from json, size: 10000000
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 1.234s ] Loaded metadata, 10000000 attr's found
[ 1.234s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.236s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json
[ 1.238s ] Loaded 10000 spacev10m queries
metadata or vector loaded from json, size: 1000000
loaded gt from: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_100.json
[ 1.408s ] Loaded ground truth, gt_size: 100
[ 1.408s ] Index Params -- d: 100, M: 40, N: 10000000, gamma: 25
--ACORN index created
acorn size: 5985260000, memory: 9637.127MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 9999591 nodes
level 1 : 249955 nodes
level 2 : 6211 nodes
level 3 : 140 nodes
level 4 : 3 nodes
level 5 : 0 nodes
Total edge:10255900
Average degree per layer:1709316.667
node size:10000000
Average degree:149.631
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 48.911s ] Searching the 100 nearest neighbors of 10000 vectors in the index, efsearch 800
selectivity: 0.010
[ 483.217s ] Query results (vector ids, then distances):
query 0 nn's (19): 0 (277) 2 (6) 6171974 (19) 4111451 (19) 5818534 (19) 731140 (19) 1 (6) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	24300.000 25073.000 28287.000 30274.000 30350.000 30860.000 32998.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (19): 5818534 (19) 1 (6) 4111451 (19) 6171974 (19) 2 (6) 731140 (19) 0 (277) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	25732.000 26750.000 26810.000 27091.000 28453.000 28922.000 31514.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (19): 731140 (19) 4111451 (19) 0 (277) 2 (6) 1 (6) 6171974 (19) 5818534 (19) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	19656.000 21706.000 24940.000 25207.000 25722.000 29209.000 30950.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (19): 1 (6) 4111451 (19) 731140 (19) 0 (277) 2 (6) 5818534 (19) 6171974 (19) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	24745.000 25455.000 26383.000 26835.000 27012.000 28473.000 28758.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (19): 2 (6) 0 (277) 4111451 (19) 731140 (19) 6171974 (19) 1 (6) 5818534 (19) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	20091.000 20258.000 23574.000 23870.000 26943.000 28276.000 29986.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 483.218s ] *** Query time: 18.485
qps: 540.993
 *** acorn recall 
efs:800
acorn get 9 postive res from 1000000 results, recall@100:0.000
recall dist(10% per bucket): 1.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[483.257s] Timing results for search of k=100 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 357386
ndis: 0
nreorder: 0
average distance computations per query: 35.739
[ 483.257s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query spacev10m 10000000 25 40 64 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_100.json /mnt/data/mocheng/dataset/spacev10m/acorn/index/index_acorn_sel_1_500_random_M40_ga25_Mb64 800 100"
	User time (seconds): 426.77
	System time (seconds): 20.45
	Percent of CPU this job got: 91%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 8:06.42
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 15915148
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 295
	Minor (reclaiming a frame) page faults: 5236273
	Voluntary context switches: 43433
	Involuntary context switches: 864
	Swaps: 0
	File system inputs: 1034176
	File system outputs: 72
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 02:01
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: spacev10m
N: 10000000
gamma: 25
M: 40
M_beta: 64
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/acorn/index/index_acorn_sel_1_500_random_M40_ga25_Mb64
ef_search: 800 
dim: 100
metadata or vector loaded from json, size: 10000000
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 1.216s ] Loaded metadata, 10000000 attr's found
[ 1.216s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.218s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json
[ 1.220s ] Loaded 10000 spacev10m queries
metadata or vector loaded from json, size: 1000000
loaded gt from: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_100.json
[ 1.369s ] Loaded ground truth, gt_size: 100
[ 1.369s ] Index Params -- d: 100, M: 40, N: 10000000, gamma: 25
--ACORN index created
acorn size: 5985260000, memory: 9637.127MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 9999591 nodes
level 1 : 249955 nodes
level 2 : 6211 nodes
level 3 : 140 nodes
level 4 : 3 nodes
level 5 : 0 nodes
Total edge:10255900
Average degree per layer:1709316.667
node size:10000000
Average degree:149.631
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 25.772s ] Searching the 100 nearest neighbors of 10000 vectors in the index, efsearch 800
selectivity: 0.001
[ 444.617s ] Query results (vector ids, then distances):
query 0 nn's (20): 0 (277) 2 (6) 1 (6) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	24300.000 25073.000 32998.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (20): 1 (6) 2 (6) 0 (277) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	26750.000 28453.000 31514.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (20): 0 (277) 2 (6) 1 (6) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	24940.000 25207.000 25722.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (20): 1 (6) 0 (277) 2 (6) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	24745.000 26835.000 27012.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (20): 2 (6) 0 (277) 1 (6) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	20091.000 20258.000 28276.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 444.618s ] *** Query time: 18.080
qps: 553.097
 *** acorn recall 
efs:800
acorn get 0 postive res from 1000000 results, recall@100:0.000
recall dist(10% per bucket): 1.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[444.731s] Timing results for search of k=100 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 30724
ndis: 0
nreorder: 0
average distance computations per query: 3.072
[ 444.731s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query spacev10m 10000000 25 40 64 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_100.json /mnt/data/mocheng/dataset/spacev10m/acorn/index/index_acorn_sel_1_500_random_M40_ga25_Mb64 800 100"
	User time (seconds): 412.25
	System time (seconds): 16.39
	Percent of CPU this job got: 96%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 7:26.01
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 15932356
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 198
	Minor (reclaiming a frame) page faults: 4527038
	Voluntary context switches: 43410
	Involuntary context switches: 1111
	Swaps: 0
	File system inputs: 1213368
	File system outputs: 72
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 06:26
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: spacev10m
N: 10000000
gamma: 25
M: 40
M_beta: 64
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/acorn/index/index_acorn_sel_2_100000_random_M40_ga25_Mb64
ef_search: 800 
dim: 100
metadata or vector loaded from json, size: 20000000
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 2.434s ] Loaded metadata, 20000000 attr's found
[ 2.434s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 2.436s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
metadata or vector loaded from json, size: 40000
loaded query attributes from: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
[ 2.440s ] Loaded 10000 spacev10m queries
metadata or vector loaded from json, size: 1000000
loaded gt from: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json
[ 2.570s ] Loaded ground truth, gt_size: 100
[ 2.570s ] Index Params -- d: 100, M: 40, N: 10000000, gamma: 25
--ACORN index created
acorn size: 5985260000, memory: 9637.127MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 9999534 nodes
level 1 : 249956 nodes
level 2 : 6211 nodes
level 3 : 140 nodes
level 4 : 3 nodes
level 5 : 0 nodes
Total edge:10255844
Average degree per layer:1709307.333
node size:10000000
Average degree:149.631
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 24.154s ] Searching the 100 nearest neighbors of 10000 vectors in the index, efsearch 800
selectivity: 0.500
[ 747.428s ] Query results (vector ids, then distances):
query 0 nn's (6, 738, 84079): 1300400 (6, 23182) 8023016 (6, 26545) 2436347 (6, 61624) 425302 (6, 20500) 3647719 (6, 75216) 5060242 (6, 78532) 8021837 (6, 68279) 8207046 (6, 52091) 7099403 (6, 74482) 1714233 (6, 49315) 6313468 (6, 28083) 1536208 (6, 63211) 1200517 (6, 79773) 4592488 (6, 50642) 5585254 (6, 72617) 7634466 (6, 78101) 5072935 (6, 52001) 2382485 (6, 60371) 4779084 (6, 20101) 8997960 (6, 40707) 3881211 (6, 76642) 8807530 (6, 24925) 2710882 (6, 18201) 8538301 (6, 944) 3873794 (6, 6606) 7007393 (6, 70580) 1288832 (6, 34331) 890298 (6, 76981) 1751249 (6, 21705) 4022185 (6, 66236) 9107614 (6, 40831) 5261441 (6, 48856) 8423050 (6, 43596) 4915045 (6, 42915) 521477 (6, 32420) 3454073 (6, 17366) 2646514 (6, 43825) 5216657 (6, 27841) 511283 (6, 1383) 8242233 (6, 5581) 3676917 (6, 53029) 672964 (6, 79190) 8135809 (6, 35101) 8846971 (6, 44041) 4943689 (6, 51952) 6138359 (6, 76978) 4066846 (6, 13228) 4470364 (6, 35790) 4932580 (6, 58464) 6478048 (6, 45571) 105999 (6, 50898) 4685796 (6, 69133) 5950387 (6, 62922) 5382515 (6, 33092) 7983463 (6, 50271) 7183723 (6, 16200) 9957153 (6, 57249) 1947126 (6, 69467) 8519503 (6, 60505) 4112225 (6, 46989) 5236967 (6, 25575) 8097566 (6, 74846) 9347328 (6, 46369) 2204374 (6, 72575) 9169598 (6, 19668) 8348201 (6, 72209) 7108130 (6, 44497) 587457 (6, 1008) 1060668 (6, 55493) 1185721 (6, 40513) 8849839 (6, 24970) 5320284 (6, 3183) 3611695 (6, 4705) 5560302 (6, 75725) 5594224 (6, 67440) 3636367 (6, 71834) 488103 (6, 63895) 8656797 (6, 5231) 3651927 (6, 40591) 5997165 (6, 12144) 6972939 (6, 8232) 3781250 (6, 76243) 7887947 (6, 19405) 399999 (6, 34917) 6781400 (6, 36746) 2578991 (6, 60237) 3371587 (6, 50020) 4104937 (6, 50854) 3622412 (6, 42503) 5270820 (6, 76128) 5454 (6, 80000) 6290762 (6, 27231) 694286 (6, 20789) 2533745 (6, 16155) 8504623 (6, 82169) 5769046 (6, 82425) 9576118 (6, 41157) 3993234 (6, 15972) 2912614 (6, 75108) 9497103 (6, 1268) 
     dis: 	3455.000 4691.000 5094.000 5207.000 5508.000 6055.000 6219.000 6261.000 6438.000 6491.000 6519.000 6572.000 6580.000 6883.000 7001.000 7001.000 7047.000 7066.000 7151.000 7191.000 7203.000 7452.000 7464.000 7544.000 7677.000 7710.000 7918.000 7954.000 8031.000 8044.000 8057.000 8141.000 8244.000 8265.000 8288.000 8293.000 8334.000 8337.000 8387.000 8423.000 8425.000 8480.000 8500.000 8512.000 8567.000 8608.000 8613.000 8666.000 8669.000 8711.000 8739.000 8800.000 8811.000 8901.000 8925.000 8942.000 8948.000 8974.000 9025.000 9039.000 9055.000 9096.000 9102.000 9133.000 9209.000 9233.000 9251.000 9333.000 9339.000 9347.000 9369.000 9411.000 9419.000 9465.000 9475.000 9476.000 9485.000 9485.000 9533.000 9537.000 9562.000 9572.000 9589.000 9590.000 9606.000 9607.000 9623.000 9661.000 9668.000 9676.000 9705.000 9717.000 9724.000 9754.000 9757.000 9760.000 9771.000 9778.000 9788.000 9820.000 
query 1 nn's (6, 14047, 97384): 7672609 (6, 94688) 8108335 (6, 63877) 3545414 (6, 16797) 6716785 (6, 41582) 4465136 (6, 22525) 6957767 (6, 38619) 3010609 (6, 80935) 1852123 (6, 91161) 8784659 (6, 18672) 547651 (6, 59668) 1739613 (6, 60084) 5778168 (6, 50274) 1739093 (6, 31621) 6631934 (6, 47359) 7628827 (6, 37042) 2769394 (6, 14358) 9149269 (6, 31551) 5649448 (6, 86443) 8596579 (6, 29555) 4208062 (6, 68511) 913237 (6, 69330) 128447 (6, 72625) 7980366 (6, 18724) 458294 (6, 85737) 4731052 (6, 19386) 1286599 (6, 42380) 6202555 (6, 62371) 3255981 (6, 32086) 2848947 (6, 30268) 4329686 (6, 82088) 429713 (6, 68462) 2342379 (6, 51330) 8268659 (6, 68611) 4764135 (6, 43340) 5312590 (6, 79771) 9559160 (6, 26526) 3756027 (6, 75842) 8084904 (6, 81988) 5453229 (6, 48189) 1674348 (6, 71645) 1641593 (6, 31020) 765304 (6, 64593) 4023729 (6, 19101) 7191660 (6, 31493) 4936049 (6, 21952) 5321556 (6, 97110) 5374088 (6, 29385) 2333383 (6, 16025) 79115 (6, 84960) 9750308 (6, 92672) 4590802 (6, 15597) 5427517 (6, 74791) 985950 (6, 25472) 8598995 (6, 95433) 5183877 (6, 74629) 2054287 (6, 79327) 2067210 (6, 31950) 7393346 (6, 67595) 6872221 (6, 52681) 2030638 (6, 53436) 8370535 (6, 58475) 554798 (6, 83778) 4375499 (6, 84244) 5833204 (6, 96848) 1421700 (6, 88278) 2677560 (6, 25465) 5559374 (6, 55855) 4626956 (6, 45924) 2208346 (6, 18209) 683232 (6, 88622) 8377057 (6, 43093) 1417507 (6, 43662) 2077395 (6, 68220) 7998901 (6, 50755) 972994 (6, 58574) 9198072 (6, 84319) 7898285 (6, 31526) 3106662 (6, 54326) 4576314 (6, 53209) 1656217 (6, 48615) 3579661 (6, 69053) 6481742 (6, 55769) 7107065 (6, 14683) 3699133 (6, 71097) 6005945 (6, 51277) 4111782 (6, 52984) 6270422 (6, 21103) 5054847 (6, 53774) 540705 (6, 54284) 2775410 (6, 29397) 4378014 (6, 17466) 3683874 (6, 93653) 7896078 (6, 36249) 4936167 (6, 45329) 662944 (6, 60194) 3402133 (6, 95016) 7869623 (6, 23112) 9617296 (6, 38185) 3767930 (6, 83805) 3288493 (6, 37428) 
     dis: 	5844.000 6450.000 7469.000 7593.000 7808.000 8400.000 8479.000 8637.000 8816.000 8991.000 9038.000 9116.000 9145.000 9175.000 9202.000 9211.000 9226.000 9244.000 9265.000 9276.000 9300.000 9379.000 9392.000 9575.000 9580.000 9607.000 9662.000 9684.000 9687.000 9711.000 9734.000 9833.000 9842.000 9898.000 9904.000 9916.000 9988.000 10035.000 10037.000 10065.000 10134.000 10180.000 10203.000 10220.000 10227.000 10229.000 10239.000 10253.000 10290.000 10318.000 10327.000 10399.000 10465.000 10521.000 10523.000 10531.000 10548.000 10554.000 10560.000 10602.000 10647.000 10660.000 10687.000 10692.000 10702.000 10703.000 10777.000 10797.000 10828.000 10878.000 10897.000 10960.000 10987.000 11012.000 11019.000 11021.000 11038.000 11043.000 11047.000 11048.000 11087.000 11103.000 11107.000 11112.000 11122.000 11130.000 11156.000 11206.000 11207.000 11212.000 11234.000 11278.000 11295.000 11298.000 11309.000 11311.000 11318.000 11342.000 11367.000 11377.000 
query 2 nn's (6, 2536, 85887): 5189301 (6, 78689) 2755608 (6, 38581) 2639412 (6, 70909) 8672246 (6, 4477) 7542827 (6, 57916) 2966676 (6, 33697) 5193386 (6, 15019) 1163082 (6, 69428) 6524215 (6, 61961) 3097681 (6, 72117) 2096002 (6, 39060) 4376559 (6, 53300) 6146541 (6, 17941) 9746650 (6, 3310) 2493779 (6, 9502) 7958660 (6, 4824) 5654119 (6, 53186) 7197257 (6, 70749) 525365 (6, 22506) 9964310 (6, 28226) 255402 (6, 13803) 9561351 (6, 77639) 7023011 (6, 16865) 190238 (6, 85230) 1816933 (6, 28555) 9485250 (6, 65887) 4649174 (6, 12440) 6555137 (6, 35900) 1425558 (6, 40332) 8971627 (6, 42704) 7670329 (6, 74301) 1233143 (6, 15064) 8559091 (6, 34125) 4578631 (6, 60906) 9789820 (6, 35323) 1381339 (6, 65406) 2432557 (6, 9247) 4808419 (6, 9780) 5745884 (6, 82468) 9339955 (6, 32320) 7804752 (6, 39309) 7017176 (6, 26866) 1639494 (6, 34459) 9023762 (6, 23785) 6697500 (6, 20848) 4360960 (6, 42193) 8558486 (6, 48829) 6822953 (6, 36593) 1792452 (6, 3470) 1063314 (6, 63895) 6648184 (6, 46162) 6672275 (6, 11439) 2589993 (6, 5781) 2433280 (6, 15006) 8590703 (6, 49809) 5174460 (6, 43363) 3995931 (6, 83457) 1585247 (6, 18914) 7660022 (6, 6101) 8393287 (6, 30153) 2153650 (6, 40983) 9416901 (6, 72428) 2447894 (6, 70052) 780031 (6, 43292) 8411645 (6, 50049) 1319808 (6, 4147) 3168009 (6, 63167) 4297707 (6, 10096) 8143423 (6, 19670) 7060335 (6, 68646) 6470386 (6, 40845) 192071 (6, 55211) 2604663 (6, 53582) 894483 (6, 60768) 1044870 (6, 46224) 7822601 (6, 74348) 7215858 (6, 59712) 5771135 (6, 7726) 1129169 (6, 33165) 7634670 (6, 50417) 3508271 (6, 20295) 6645538 (6, 68099) 7118637 (6, 62691) 1832279 (6, 35338) 3578812 (6, 9686) 8707110 (6, 46888) 8900616 (6, 13488) 2806076 (6, 19667) 3967833 (6, 19623) 1093013 (6, 25326) 1633241 (6, 56458) 6334408 (6, 76865) 9092414 (6, 28109) 6048071 (6, 5282) 7744255 (6, 75691) 9177119 (6, 3978) 4057883 (6, 58056) 3768590 (6, 74705) 1064624 (6, 16105) 2850979 (6, 52539) 
     dis: 	3368.000 5154.000 5174.000 6310.000 6852.000 7150.000 7399.000 7609.000 7648.000 7655.000 7659.000 7682.000 7696.000 8065.000 8073.000 8106.000 8109.000 8118.000 8271.000 8304.000 8306.000 8326.000 8743.000 8749.000 8794.000 8960.000 9002.000 9087.000 9126.000 9180.000 9186.000 9257.000 9330.000 9399.000 9466.000 9506.000 9544.000 9686.000 9713.000 9724.000 9804.000 9835.000 9845.000 9846.000 9895.000 9926.000 9953.000 9968.000 9970.000 9975.000 9989.000 10007.000 10035.000 10053.000 10197.000 10231.000 10255.000 10259.000 10278.000 10285.000 10295.000 10368.000 10387.000 10392.000 10401.000 10438.000 10439.000 10459.000 10469.000 10539.000 10632.000 10681.000 10682.000 10690.000 10702.000 10715.000 10735.000 10762.000 10780.000 10789.000 10795.000 10818.000 10819.000 10821.000 10825.000 10831.000 10831.000 10851.000 10891.000 10912.000 10928.000 10971.000 10985.000 10999.000 11002.000 11003.000 11005.000 11011.000 11016.000 11023.000 
query 3 nn's (6, 6261, 89602): 1208824 (6, 85940) 1165548 (6, 62453) 1153720 (6, 73335) 9922446 (6, 58625) 1681561 (6, 85595) 2871407 (6, 86956) 4150154 (6, 89496) 9732223 (6, 76774) 8906949 (6, 57606) 7371232 (6, 39662) 1717763 (6, 34430) 7664306 (6, 80428) 2187959 (6, 40352) 1370098 (6, 76295) 6696694 (6, 72425) 8364431 (6, 8578) 6027466 (6, 22249) 1986111 (6, 10730) 3188407 (6, 7806) 7775637 (6, 53095) 4559449 (6, 83563) 4889443 (6, 49238) 5579814 (6, 67320) 909327 (6, 53420) 6840798 (6, 46164) 9157428 (6, 56234) 1212415 (6, 77057) 9619884 (6, 6541) 4251611 (6, 69486) 9100185 (6, 31348) 9232458 (6, 16780) 6920544 (6, 86304) 4474761 (6, 68944) 3353499 (6, 18580) 5081773 (6, 55810) 7415071 (6, 31988) 580826 (6, 16394) 4216882 (6, 21278) 4298667 (6, 56994) 514827 (6, 29768) 920948 (6, 70893) 3085720 (6, 61878) 5683960 (6, 63530) 1174052 (6, 17593) 8821621 (6, 78019) 9987911 (6, 80044) 2958818 (6, 30972) 5962673 (6, 39032) 2029271 (6, 85057) 6703969 (6, 62898) 4774185 (6, 43594) 2423598 (6, 29719) 1353097 (6, 12392) 629955 (6, 12894) 7885127 (6, 74825) 786015 (6, 37244) 1095751 (6, 26469) 5946592 (6, 46683) 237313 (6, 10860) 2919205 (6, 56751) 5676630 (6, 15203) 7082379 (6, 37034) 5119260 (6, 41305) 3483488 (6, 31349) 1605226 (6, 8884) 823633 (6, 38558) 1752435 (6, 20482) 6424074 (6, 38016) 1430920 (6, 70367) 8726555 (6, 67105) 2824029 (6, 42450) 3042886 (6, 35970) 5615929 (6, 19725) 108033 (6, 61447) 2348869 (6, 42737) 5176976 (6, 32717) 7136455 (6, 62866) 3922636 (6, 12348) 2838160 (6, 65974) 8182930 (6, 78121) 3172637 (6, 48715) 264481 (6, 12652) 9913885 (6, 81288) 9578036 (6, 56555) 188678 (6, 47866) 3431426 (6, 19773) 2269546 (6, 21735) 9698504 (6, 27714) 3350710 (6, 74257) 3071605 (6, 14736) 6689609 (6, 77049) 1892004 (6, 17718) 2018818 (6, 64213) 382902 (6, 86848) 8522174 (6, 28406) 9998938 (6, 43688) 7102985 (6, 35094) 3266491 (6, 71572) 1387773 (6, 8147) 730245 (6, 51589) 
     dis: 	7689.000 7871.000 8337.000 8365.000 8422.000 8731.000 8754.000 8881.000 8898.000 9274.000 9696.000 9757.000 9826.000 9842.000 9879.000 9931.000 9955.000 9958.000 9960.000 10127.000 10145.000 10268.000 10361.000 10376.000 10388.000 10421.000 10424.000 10430.000 10455.000 10473.000 10481.000 10530.000 10583.000 10584.000 10599.000 10599.000 10694.000 10754.000 10816.000 10821.000 10894.000 10944.000 10999.000 11006.000 11074.000 11115.000 11129.000 11141.000 11152.000 11156.000 11162.000 11168.000 11184.000 11220.000 11235.000 11236.000 11273.000 11276.000 11329.000 11364.000 11381.000 11388.000 11389.000 11424.000 11449.000 11476.000 11498.000 11499.000 11517.000 11579.000 11604.000 11612.000 11616.000 11641.000 11642.000 11642.000 11642.000 11648.000 11656.000 11703.000 11717.000 11720.000 11723.000 11734.000 11745.000 11745.000 11774.000 11775.000 11778.000 11782.000 11782.000 11795.000 11808.000 11864.000 11904.000 11912.000 11932.000 11954.000 11973.000 11974.000 
query 4 nn's (6, 4810, 88155): 8316529 (6, 83067) 5624462 (6, 61390) 3987492 (6, 68094) 1706143 (6, 21809) 9970746 (6, 25123) 3107282 (6, 13030) 5744224 (6, 40220) 9323555 (6, 58866) 9211260 (6, 71163) 7373067 (6, 59927) 4549236 (6, 12597) 4390138 (6, 74485) 9052024 (6, 51822) 108240 (6, 54203) 9788862 (6, 35122) 4015525 (6, 68920) 6480066 (6, 73343) 2172340 (6, 28934) 73290 (6, 6565) 9578545 (6, 12871) 9652129 (6, 13280) 2038833 (6, 20026) 8302917 (6, 86342) 6395393 (6, 22548) 9044829 (6, 30356) 3367834 (6, 25897) 3037959 (6, 47129) 3693862 (6, 82975) 4842135 (6, 7453) 1906000 (6, 63096) 3436988 (6, 75144) 6934935 (6, 36852) 915880 (6, 56375) 6557844 (6, 48293) 8608979 (6, 82877) 3264396 (6, 59844) 3480152 (6, 60507) 6091565 (6, 5963) 6001275 (6, 72316) 8415758 (6, 61823) 9374623 (6, 22680) 3073679 (6, 13301) 1171695 (6, 8112) 2986049 (6, 21655) 1384227 (6, 31323) 2190868 (6, 39883) 3598596 (6, 53060) 6634262 (6, 14378) 6581013 (6, 35750) 3655068 (6, 41754) 9164737 (6, 7849) 1030896 (6, 53449) 9240243 (6, 72831) 1504549 (6, 43449) 3421968 (6, 63568) 8774147 (6, 44711) 3195289 (6, 67722) 4942478 (6, 23705) 7558970 (6, 46506) 2795570 (6, 44372) 8359241 (6, 82606) 6836665 (6, 20713) 8832563 (6, 87388) 980351 (6, 87343) 9832113 (6, 44391) 4019507 (6, 17873) 9519711 (6, 11808) 3484563 (6, 57417) 1995354 (6, 23655) 5323762 (6, 11366) 8342661 (6, 70915) 4637157 (6, 23860) 9688429 (6, 19371) 9019284 (6, 40332) 5663813 (6, 31868) 8627902 (6, 37105) 8641215 (6, 19311) 3506156 (6, 49871) 3934821 (6, 37283) 6790336 (6, 76571) 2266290 (6, 59399) 1973506 (6, 17846) 2337939 (6, 57565) 9407510 (6, 17967) 3299088 (6, 25883) 3452212 (6, 50912) 3852808 (6, 35346) 1111927 (6, 10646) 1071436 (6, 72570) 569140 (6, 27678) 1306176 (6, 57302) 2473330 (6, 67812) 8452116 (6, 49461) 4514688 (6, 16069) 6738443 (6, 33113) 5812999 (6, 78496) 2699285 (6, 58641) 8584382 (6, 31209) 1240644 (6, 5613) 288977 (6, 68160) 
     dis: 	2198.000 3552.000 3787.000 4591.000 5243.000 5291.000 5418.000 5435.000 5775.000 5809.000 5827.000 5970.000 5984.000 6062.000 6170.000 6212.000 6247.000 6266.000 6268.000 6269.000 6291.000 6330.000 6348.000 6397.000 6416.000 6421.000 6432.000 6480.000 6493.000 6508.000 6519.000 6557.000 6559.000 6568.000 6594.000 6603.000 6605.000 6606.000 6630.000 6633.000 6648.000 6653.000 6663.000 6672.000 6682.000 6709.000 6712.000 6715.000 6731.000 6732.000 6747.000 6766.000 6766.000 6774.000 6791.000 6791.000 6793.000 6814.000 6823.000 6828.000 6856.000 6874.000 6879.000 6888.000 6896.000 6898.000 6899.000 6904.000 6913.000 6924.000 6928.000 6948.000 6967.000 6968.000 6986.000 7009.000 7009.000 7020.000 7024.000 7024.000 7028.000 7034.000 7039.000 7052.000 7053.000 7056.000 7064.000 7067.000 7080.000 7090.000 7092.000 7116.000 7119.000 7124.000 7125.000 7127.000 7130.000 7135.000 7141.000 7144.000 
[ 747.428s ] *** Query time: 172.975
qps: 57.812
 *** acorn recall 
efs:800
acorn get 961227 postive res from 1000000 results, recall@100:0.961
recall dist(10% per bucket): 0.000 0.001 0.000 0.000 0.001 0.003 0.007 0.024 0.078 0.471 0.415 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[747.467s] Timing results for search of k=100 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 264557964
ndis: 0
nreorder: 0
average distance computations per query: 26455.797
[ 747.467s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query_arbi spacev10m 10000000 25 40 64 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json /mnt/data/mocheng/dataset/spacev10m/acorn/index/index_acorn_sel_2_100000_random_M40_ga25_Mb64 800 100"
	User time (seconds): 710.23
	System time (seconds): 28.93
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 12:28.89
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 15958308
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 10
	Minor (reclaiming a frame) page faults: 8480378
	Voluntary context switches: 41124
	Involuntary context switches: 1343
	Swaps: 0
	File system inputs: 940536
	File system outputs: 64
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 07:35
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: spacev10m
N: 10000000
gamma: 25
M: 40
M_beta: 64
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/acorn/index/index_acorn_sel_2_100000_random_M40_ga25_Mb64
ef_search: 800 
dim: 100
metadata or vector loaded from json, size: 20000000
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 2.411s ] Loaded metadata, 20000000 attr's found
[ 2.411s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 2.414s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
metadata or vector loaded from json, size: 40000
loaded query attributes from: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json
[ 2.418s ] Loaded 10000 spacev10m queries
metadata or vector loaded from json, size: 1000000
loaded gt from: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_100.json
[ 2.545s ] Loaded ground truth, gt_size: 100
[ 2.545s ] Index Params -- d: 100, M: 40, N: 10000000, gamma: 25
--ACORN index created
acorn size: 5985260000, memory: 9637.127MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 9999534 nodes
level 1 : 249956 nodes
level 2 : 6211 nodes
level 3 : 140 nodes
level 4 : 3 nodes
level 5 : 0 nodes
Total edge:10255844
Average degree per layer:1709307.333
node size:10000000
Average degree:149.631
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 12.940s ] Searching the 100 nearest neighbors of 10000 vectors in the index, efsearch 800
selectivity: 0.100
[ 661.138s ] Query results (vector ids, then distances):
query 0 nn's (10, 3924, 37259): 5096505 (10, 4836) 290760 (10, 18624) 3082748 (10, 31903) 2037978 (10, 9706) 7305168 (10, 17763) 1360571 (10, 16867) 1858226 (10, 19035) 4287666 (10, 31095) 6240106 (10, 15888) 9234384 (10, 8354) 7115332 (10, 29695) 7330716 (10, 33798) 4715886 (10, 27462) 1636600 (10, 34920) 8066928 (10, 21702) 8725926 (10, 25211) 6896772 (10, 35259) 3422560 (10, 33953) 2641910 (10, 34575) 8681946 (10, 19482) 5014941 (10, 29775) 100232 (10, 10068) 8396792 (10, 31196) 2018268 (10, 30274) 8430941 (10, 8829) 1369261 (10, 8013) 2168891 (10, 34340) 261368 (10, 23480) 4257711 (10, 34522) 8608263 (10, 36316) 2336751 (10, 35676) 8067752 (10, 32830) 682113 (10, 29951) 8394786 (10, 35486) 7615253 (10, 35284) 7193350 (10, 7791) 651634 (10, 36658) 9284314 (10, 10753) 1736948 (10, 34451) 3987166 (10, 8496) 1545663 (10, 20009) 3589892 (10, 6854) 6050258 (10, 31662) 9974866 (10, 33165) 9482370 (10, 19376) 8814646 (10, 7205) 714617 (10, 31075) 2072288 (10, 17229) 8468662 (10, 27669) 516556 (10, 22308) 6134085 (10, 9457) 2540985 (10, 27848) 4245122 (10, 10688) 4246173 (10, 10470) 7976764 (10, 18864) 5949911 (10, 11477) 546824 (10, 33937) 2533258 (10, 31701) 3503478 (10, 32176) 7765395 (10, 35786) 5239982 (10, 21666) 303346 (10, 12545) 1334146 (10, 14396) 1514436 (10, 11692) 9055415 (10, 23899) 3312815 (10, 22078) 5614058 (10, 34575) 2377115 (10, 5883) 918617 (10, 7240) 7338594 (10, 4433) 6754361 (10, 27371) 8875081 (10, 8251) 4087833 (10, 21981) 8015573 (10, 37213) 9416199 (10, 6151) 360414 (10, 17191) 862436 (10, 7439) 8356040 (10, 32219) 219342 (10, 26228) 4426046 (10, 23959) 2640588 (10, 6564) 7156109 (10, 19361) 6224069 (10, 35798) 67427 (10, 31872) 9697052 (10, 26401) 8944530 (10, 31733) 2038045 (10, 25975) 5897434 (10, 26133) 6065690 (10, 7890) 9590656 (10, 27421) 9686287 (10, 26684) 2786794 (10, 23079) 1436288 (10, 23904) 223562 (10, 17791) 5232970 (10, 32482) 3847526 (10, 4336) 180303 (10, 27360) 7303024 (10, 7554) 9121769 (10, 20165) 3742458 (10, 36079) 
     dis: 	6150.000 6292.000 6920.000 7721.000 7885.000 7959.000 8454.000 8574.000 8824.000 9137.000 9353.000 9367.000 9464.000 9498.000 9521.000 9552.000 9666.000 9791.000 9858.000 9915.000 9960.000 10144.000 10165.000 10237.000 10341.000 10431.000 10466.000 10496.000 10620.000 10677.000 10705.000 10808.000 10856.000 10868.000 10911.000 10922.000 10963.000 11006.000 11016.000 11056.000 11065.000 11066.000 11067.000 11086.000 11112.000 11133.000 11134.000 11147.000 11153.000 11202.000 11304.000 11309.000 11312.000 11392.000 11404.000 11417.000 11418.000 11418.000 11421.000 11427.000 11529.000 11566.000 11589.000 11612.000 11638.000 11718.000 11740.000 11784.000 11801.000 11836.000 11860.000 11987.000 12019.000 12044.000 12094.000 12103.000 12125.000 12131.000 12184.000 12187.000 12198.000 12205.000 12232.000 12267.000 12387.000 12402.000 12444.000 12468.000 12475.000 12489.000 12492.000 12496.000 12522.000 12585.000 12613.000 12669.000 12674.000 12689.000 12703.000 12718.000 
query 1 nn's (10, 9720, 43052): 1027770 (10, 9965) 4573755 (10, 43023) 1087257 (10, 37334) 8663938 (10, 42468) 9844113 (10, 29377) 9311189 (10, 35154) 7957281 (10, 36745) 4561316 (10, 14983) 4813594 (10, 22509) 5325898 (10, 17388) 5642421 (10, 33980) 3171582 (10, 35325) 3730938 (10, 12762) 4612326 (10, 30933) 1259440 (10, 27067) 3302437 (10, 31888) 1580619 (10, 15650) 7414037 (10, 35742) 1873620 (10, 15818) 6236935 (10, 42010) 3695413 (10, 36092) 6716625 (10, 17207) 8086137 (10, 35028) 4090413 (10, 31222) 4414583 (10, 27795) 3367543 (10, 36256) 1532818 (10, 32346) 1762608 (10, 13317) 829204 (10, 37652) 441527 (10, 21121) 1149324 (10, 14473) 8680758 (10, 41868) 4568459 (10, 40498) 6029057 (10, 16542) 7294001 (10, 34266) 4907845 (10, 17128) 502856 (10, 12150) 5839752 (10, 40432) 7452717 (10, 11859) 7675119 (10, 25344) 3745827 (10, 30709) 5984083 (10, 23464) 148357 (10, 30447) 3916292 (10, 13624) 6894603 (10, 23738) 4472702 (10, 42271) 5966468 (10, 24173) 7853534 (10, 35252) 7584986 (10, 14970) 6136881 (10, 42605) 3159596 (10, 26954) 635323 (10, 25379) 7115780 (10, 22470) 210208 (10, 30435) 783848 (10, 28891) 6385836 (10, 31542) 2360244 (10, 27548) 4444284 (10, 12055) 6800131 (10, 33475) 4346513 (10, 15998) 4738364 (10, 34399) 3758565 (10, 36775) 5790200 (10, 38653) 4931402 (10, 19527) 7069505 (10, 36692) 6955583 (10, 22490) 4990177 (10, 18116) 3989720 (10, 16662) 8750865 (10, 20373) 1438709 (10, 41835) 8458602 (10, 39424) 289405 (10, 11175) 3984563 (10, 16580) 7158140 (10, 20290) 364702 (10, 38071) 5631441 (10, 27694) 7771932 (10, 32184) 2929751 (10, 25290) 4647345 (10, 19329) 1617045 (10, 18080) 5295974 (10, 16033) 8846889 (10, 13470) 5876514 (10, 21593) 5893116 (10, 34679) 4988377 (10, 13897) 5614167 (10, 34393) 1876507 (10, 39335) 2486169 (10, 24810) 7351899 (10, 41161) 8112258 (10, 25138) 1080775 (10, 22978) 9525080 (10, 29117) 3277999 (10, 16032) 7398354 (10, 19272) 2161411 (10, 39983) 6109984 (10, 38254) 5618310 (10, 30945) 8058718 (10, 28980) 9970073 (10, 35077) 4983695 (10, 20328) 
     dis: 	4889.000 7795.000 8514.000 9766.000 9916.000 10152.000 10252.000 10291.000 10432.000 10446.000 10693.000 10725.000 10774.000 10836.000 11032.000 11072.000 11116.000 11130.000 11153.000 11223.000 11227.000 11253.000 11326.000 11373.000 11373.000 11404.000 11452.000 11454.000 11516.000 11589.000 11660.000 11672.000 11684.000 11716.000 11725.000 11881.000 11891.000 11910.000 11910.000 11914.000 11935.000 11959.000 11974.000 12089.000 12105.000 12141.000 12148.000 12165.000 12191.000 12221.000 12233.000 12260.000 12261.000 12309.000 12354.000 12355.000 12370.000 12406.000 12410.000 12415.000 12518.000 12543.000 12584.000 12612.000 12648.000 12652.000 12680.000 12715.000 12734.000 12746.000 12746.000 12757.000 12774.000 12777.000 12831.000 12841.000 12850.000 12911.000 12931.000 12932.000 12944.000 12944.000 12955.000 12982.000 12984.000 13057.000 13061.000 13061.000 13096.000 13128.000 13137.000 13152.000 13153.000 13162.000 13203.000 13212.000 13239.000 13249.000 13252.000 13254.000 
query 2 nn's (10, 65731, 99055): 4574760 (10, 86639) 2734445 (10, 87139) 3524579 (10, 75574) 2212807 (10, 78994) 2882757 (10, 88969) 2884416 (10, 95410) 323907 (10, 73687) 3361974 (10, 88468) 1054367 (10, 85708) 3521500 (10, 85322) 7433556 (10, 91445) 5263567 (10, 74310) 6936789 (10, 93875) 9425562 (10, 77428) 7287401 (10, 92497) 1481955 (10, 91755) 4517312 (10, 79204) 7037734 (10, 68394) 6794035 (10, 83392) 9436299 (10, 90107) 3455835 (10, 89550) 5217876 (10, 73174) 5943431 (10, 91472) 3436280 (10, 69227) 8773369 (10, 89657) 125926 (10, 79915) 6514144 (10, 66062) 9117124 (10, 66833) 2506689 (10, 77951) 9621014 (10, 69947) 5844655 (10, 83667) 324947 (10, 70362) 8126778 (10, 73480) 2677908 (10, 85663) 3542525 (10, 72920) 9501475 (10, 95121) 2208896 (10, 87628) 43674 (10, 96002) 7276972 (10, 76738) 6687735 (10, 97780) 9343410 (10, 88452) 8736868 (10, 87577) 386581 (10, 75659) 4303503 (10, 69648) 7268134 (10, 79487) 9627391 (10, 74493) 4934241 (10, 85550) 4348412 (10, 92874) 4437048 (10, 67979) 6347954 (10, 83824) 9088619 (10, 86100) 3001913 (10, 75285) 9776551 (10, 93494) 8148675 (10, 73356) 9385299 (10, 85026) 4097218 (10, 86509) 4559518 (10, 92681) 7377075 (10, 73695) 6031718 (10, 71117) 3034378 (10, 76795) 6897004 (10, 87240) 330971 (10, 94736) 714612 (10, 97863) 2243367 (10, 77730) 2499961 (10, 74816) 8641266 (10, 87883) 3762208 (10, 75060) 3263555 (10, 69104) 7089200 (10, 74345) 9989075 (10, 88332) 7780614 (10, 79298) 2925428 (10, 81611) 1666933 (10, 89076) 4746644 (10, 77406) 424378 (10, 67410) 9876020 (10, 95303) 8311897 (10, 77910) 1665093 (10, 67001) 5917626 (10, 83874) 1091508 (10, 91505) 4399607 (10, 90559) 8623607 (10, 85186) 1784007 (10, 66929) 5781317 (10, 69103) 1142982 (10, 97358) 9378693 (10, 80954) 4415064 (10, 98566) 8789747 (10, 90732) 6450938 (10, 80472) 8426641 (10, 75344) 1057914 (10, 77074) 6971285 (10, 89582) 3773784 (10, 85649) 2054469 (10, 80826) 3930272 (10, 66349) 8347308 (10, 70638) 6637718 (10, 71312) 5771490 (10, 98787) 735869 (10, 94729) 4317099 (10, 94510) 
     dis: 	3034.000 4135.000 5017.000 6204.000 7205.000 8944.000 9129.000 9257.000 9476.000 9861.000 10002.000 10335.000 10353.000 10406.000 10412.000 10449.000 10473.000 10673.000 10698.000 10790.000 11114.000 11203.000 11362.000 11410.000 11440.000 11466.000 11502.000 11681.000 11693.000 11696.000 11736.000 11805.000 11812.000 11827.000 11848.000 11894.000 11955.000 12066.000 12186.000 12220.000 12235.000 12309.000 12318.000 12347.000 12359.000 12376.000 12377.000 12404.000 12407.000 12445.000 12475.000 12481.000 12527.000 12538.000 12556.000 12561.000 12574.000 12575.000 12618.000 12626.000 12632.000 12641.000 12693.000 12706.000 12739.000 12754.000 12759.000 12770.000 12783.000 12784.000 12843.000 12870.000 12876.000 12882.000 12884.000 12910.000 12926.000 12962.000 12992.000 13001.000 13022.000 13028.000 13054.000 13056.000 13057.000 13098.000 13150.000 13153.000 13163.000 13178.000 13190.000 13210.000 13242.000 13244.000 13267.000 13286.000 13296.000 13305.000 13312.000 13313.000 
query 3 nn's (10, 35398, 68747): 4286832 (10, 39922) 1866926 (10, 59871) 4371036 (10, 63019) 9455216 (10, 66473) 6638511 (10, 49779) 8818246 (10, 67263) 9398930 (10, 63911) 8584054 (10, 49156) 6447414 (10, 58775) 9793596 (10, 44408) 7010095 (10, 55391) 3626273 (10, 58612) 9671911 (10, 35928) 7010252 (10, 45223) 4194256 (10, 47232) 5677498 (10, 57192) 3378586 (10, 48580) 5631232 (10, 49196) 8169180 (10, 52823) 8171167 (10, 40662) 2343424 (10, 37210) 8145731 (10, 64623) 5868840 (10, 66897) 7557678 (10, 64922) 1612122 (10, 41994) 5056650 (10, 54794) 82182 (10, 63105) 4227632 (10, 41550) 5650507 (10, 37069) 3882137 (10, 60382) 999848 (10, 38801) 3542029 (10, 42357) 5555953 (10, 46606) 1453923 (10, 37094) 4972572 (10, 45874) 6373283 (10, 50911) 50823 (10, 37989) 7316328 (10, 49148) 6193105 (10, 39097) 7306636 (10, 58766) 444968 (10, 64785) 5429466 (10, 44377) 6776942 (10, 56202) 4682173 (10, 37477) 7865786 (10, 41898) 2350194 (10, 50101) 1162941 (10, 55185) 8579187 (10, 48581) 1835654 (10, 43987) 8073919 (10, 64723) 4281239 (10, 36618) 1887300 (10, 64308) 8518674 (10, 65238) 9721866 (10, 61856) 3208235 (10, 36877) 8768561 (10, 40535) 3712306 (10, 52878) 7445329 (10, 50820) 2687611 (10, 36718) 8752097 (10, 46826) 7892339 (10, 67831) 539131 (10, 65855) 90176 (10, 44784) 6514454 (10, 59493) 1252238 (10, 37592) 5241021 (10, 42148) 8498178 (10, 41607) 6928139 (10, 59207) 8558618 (10, 65943) 544442 (10, 52143) 398304 (10, 58651) 4003247 (10, 38731) 8523189 (10, 57229) 2123002 (10, 35440) 3909063 (10, 58771) 9275045 (10, 67479) 3237195 (10, 44528) 3957189 (10, 61535) 8909017 (10, 44255) 347839 (10, 48368) 9677670 (10, 63429) 6752785 (10, 57019) 6637643 (10, 56884) 4767661 (10, 53162) 4641079 (10, 46541) 930598 (10, 61301) 8851651 (10, 38114) 6971821 (10, 40959) 9323463 (10, 62513) 7756249 (10, 67767) 2422728 (10, 56328) 8193056 (10, 58876) 7004651 (10, 52457) 105643 (10, 49680) 3400340 (10, 49288) 2338828 (10, 52222) 7401973 (10, 48185) 5340508 (10, 46889) 4338390 (10, 63800) 5752718 (10, 63129) 
     dis: 	4960.000 9254.000 9414.000 9443.000 9691.000 10127.000 10184.000 10463.000 10517.000 10571.000 10809.000 10834.000 10959.000 11153.000 11283.000 11379.000 11389.000 11424.000 11470.000 11570.000 11625.000 11703.000 11782.000 11814.000 11882.000 11884.000 12030.000 12054.000 12075.000 12124.000 12141.000 12142.000 12143.000 12212.000 12223.000 12239.000 12240.000 12272.000 12287.000 12429.000 12459.000 12480.000 12489.000 12562.000 12588.000 12590.000 12707.000 12709.000 12757.000 12810.000 12905.000 12915.000 12962.000 13015.000 13072.000 13084.000 13116.000 13132.000 13178.000 13198.000 13222.000 13226.000 13275.000 13277.000 13286.000 13335.000 13350.000 13364.000 13365.000 13366.000 13385.000 13393.000 13416.000 13423.000 13436.000 13439.000 13464.000 13491.000 13507.000 13541.000 13566.000 13577.000 13587.000 13591.000 13594.000 13600.000 13600.000 13603.000 13609.000 13637.000 13644.000 13662.000 13694.000 13704.000 13718.000 13723.000 13723.000 13755.000 13794.000 13806.000 
query 4 nn's (10, 39745, 73096): 6279473 (10, 51031) 3097455 (10, 63497) 7159963 (10, 73006) 4242116 (10, 64811) 5466057 (10, 59505) 3531751 (10, 72430) 8728294 (10, 70066) 5054423 (10, 70952) 7177846 (10, 41057) 8212769 (10, 54201) 9170839 (10, 52671) 1875114 (10, 43629) 9600067 (10, 41570) 4175678 (10, 70907) 4927776 (10, 48350) 7466093 (10, 42910) 717371 (10, 67514) 6275087 (10, 55647) 4159743 (10, 59534) 7816576 (10, 56346) 8544239 (10, 63150) 1591058 (10, 50605) 9244311 (10, 49671) 1549949 (10, 58726) 9357339 (10, 62869) 9444072 (10, 53477) 7986656 (10, 41538) 1622397 (10, 54882) 2908632 (10, 55685) 7744232 (10, 41706) 2558882 (10, 62976) 6902422 (10, 72630) 553412 (10, 54138) 5464207 (10, 40795) 6136471 (10, 49113) 1692375 (10, 59405) 3914491 (10, 54849) 8588474 (10, 70139) 5230386 (10, 61718) 20028 (10, 71645) 9021130 (10, 48507) 3084490 (10, 61161) 2323593 (10, 52527) 1874504 (10, 47659) 4076040 (10, 41934) 1228595 (10, 59413) 6473453 (10, 49153) 7771201 (10, 67105) 4623003 (10, 46400) 5374432 (10, 44295) 4340455 (10, 55281) 7271477 (10, 48981) 2575576 (10, 52019) 8045505 (10, 58673) 2695855 (10, 43029) 5220285 (10, 62438) 8952522 (10, 44290) 4555663 (10, 59840) 6181972 (10, 49508) 307550 (10, 53305) 7231264 (10, 46690) 3323197 (10, 54790) 3351548 (10, 40879) 5187516 (10, 48399) 8321482 (10, 60994) 9151038 (10, 59037) 2286717 (10, 41524) 3329498 (10, 55334) 4919872 (10, 59237) 7831448 (10, 60582) 9493852 (10, 73046) 3358095 (10, 67987) 2653454 (10, 44484) 8761193 (10, 43727) 9115835 (10, 61157) 5704287 (10, 42408) 1485599 (10, 66222) 883849 (10, 64261) 4270413 (10, 48178) 2241099 (10, 47613) 2503898 (10, 42954) 4974771 (10, 62597) 5938686 (10, 64243) 7759992 (10, 56053) 3570069 (10, 59845) 93980 (10, 56725) 8306343 (10, 66123) 952427 (10, 45493) 5129396 (10, 51561) 4948099 (10, 58491) 2080666 (10, 61337) 7161492 (10, 53575) 3958600 (10, 43662) 3841914 (10, 55423) 1128048 (10, 54591) 504144 (10, 48841) 4249166 (10, 60805) 3584339 (10, 48637) 2677618 (10, 64619) 8904857 (10, 69597) 
     dis: 	6062.000 6385.000 6530.000 6564.000 6864.000 6872.000 6872.000 6919.000 7009.000 7049.000 7087.000 7134.000 7136.000 7150.000 7162.000 7216.000 7230.000 7237.000 7238.000 7280.000 7287.000 7362.000 7380.000 7386.000 7390.000 7422.000 7429.000 7443.000 7444.000 7446.000 7448.000 7450.000 7461.000 7461.000 7474.000 7490.000 7518.000 7519.000 7526.000 7546.000 7562.000 7567.000 7573.000 7579.000 7602.000 7607.000 7609.000 7619.000 7630.000 7631.000 7634.000 7643.000 7648.000 7648.000 7651.000 7660.000 7660.000 7663.000 7677.000 7679.000 7683.000 7693.000 7708.000 7708.000 7710.000 7711.000 7712.000 7715.000 7719.000 7727.000 7745.000 7746.000 7749.000 7750.000 7759.000 7761.000 7763.000 7770.000 7770.000 7774.000 7777.000 7786.000 7803.000 7806.000 7807.000 7827.000 7836.000 7841.000 7844.000 7857.000 7858.000 7858.000 7862.000 7864.000 7865.000 7874.000 7884.000 7899.000 7902.000 7907.000 
[ 661.138s ] *** Query time: 169.034
qps: 59.160
 *** acorn recall 
efs:800
acorn get 962673 postive res from 1000000 results, recall@100:0.963
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.001 0.003 0.020 0.084 0.540 0.352 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[661.169s] Timing results for search of k=100 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 205381467
ndis: 0
nreorder: 0
average distance computations per query: 20538.146
[ 661.169s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query_arbi spacev10m 10000000 25 40 64 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_100.json /mnt/data/mocheng/dataset/spacev10m/acorn/index/index_acorn_sel_2_100000_random_M40_ga25_Mb64 800 100"
	User time (seconds): 649.02
	System time (seconds): 12.96
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 11:02.00
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 15960156
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 4287967
	Voluntary context switches: 1
	Involuntary context switches: 522
	Swaps: 0
	File system inputs: 0
	File system outputs: 56
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 08:35
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: spacev10m
N: 10000000
gamma: 25
M: 40
M_beta: 64
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/acorn/index/index_acorn_sel_2_100000_random_M40_ga25_Mb64
ef_search: 800 
dim: 100
metadata or vector loaded from json, size: 20000000
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 2.393s ] Loaded metadata, 20000000 attr's found
[ 2.393s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 2.396s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
metadata or vector loaded from json, size: 40000
loaded query attributes from: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json
[ 2.400s ] Loaded 10000 spacev10m queries
metadata or vector loaded from json, size: 1000000
loaded gt from: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_100.json
[ 2.531s ] Loaded ground truth, gt_size: 100
[ 2.531s ] Index Params -- d: 100, M: 40, N: 10000000, gamma: 25
--ACORN index created
acorn size: 5985260000, memory: 9637.127MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 9999534 nodes
level 1 : 249956 nodes
level 2 : 6211 nodes
level 3 : 140 nodes
level 4 : 3 nodes
level 5 : 0 nodes
Total edge:10255844
Average degree per layer:1709307.333
node size:10000000
Average degree:149.631
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 14.327s ] Searching the 100 nearest neighbors of 10000 vectors in the index, efsearch 800
selectivity: 0.010
[ 440.290s ] Query results (vector ids, then distances):
query 0 nn's (19, 24678, 44673): 606211 (19, 33896) 8563527 (19, 35080) 8341867 (19, 39581) 3228742 (19, 40604) 1247229 (19, 31397) 7386818 (19, 38747) 5099788 (19, 26746) 4692244 (19, 26526) 1295714 (19, 44481) 6401363 (19, 35648) 3478005 (19, 25134) 8068050 (19, 35135) 8009957 (19, 29197) 381871 (19, 34618) 9795013 (19, 43052) 7385584 (19, 35346) 2939481 (19, 39409) 4211205 (19, 31682) 2365640 (19, 25199) 98109 (19, 40371) 7721671 (19, 40173) 884593 (19, 33766) 780905 (19, 29088) 9743801 (19, 37797) 2650359 (19, 29161) 4299403 (19, 28416) 6722204 (19, 25723) 9794049 (19, 29336) 5393242 (19, 44245) 5483783 (19, 42646) 4905062 (19, 31292) 5930822 (19, 39735) 6258833 (19, 28915) 4362735 (19, 34351) 2315971 (19, 38289) 3704565 (19, 38210) 3880505 (19, 34180) 6156711 (19, 27657) 3131738 (19, 35062) 4545511 (19, 33708) 3740025 (19, 43722) 8934721 (19, 28351) 3679669 (19, 41846) 8810194 (19, 29165) 1911893 (19, 31188) 4873477 (19, 34300) 9537041 (19, 27959) 6572584 (19, 42015) 8483442 (19, 32453) 2081825 (19, 25317) 6815700 (19, 31345) 8854790 (19, 36239) 4140535 (19, 37635) 9945849 (19, 40153) 3681903 (19, 41272) 5292751 (19, 39320) 6073415 (19, 26097) 5308023 (19, 30651) 9877775 (19, 40659) 7220199 (19, 42675) 3491630 (19, 25003) 9121390 (19, 40859) 2717509 (19, 42477) 8766603 (19, 38953) 7647939 (19, 37464) 1790824 (19, 27709) 9953506 (19, 43138) 8456604 (19, 37215) 2862947 (19, 40031) 8168752 (19, 34971) 9967625 (19, 33287) 7359263 (19, 25120) 9134917 (19, 39664) 6840562 (19, 40060) 1379220 (19, 25602) 2361120 (19, 31024) 5430033 (19, 30775) 4045693 (19, 32577) 4884780 (19, 27307) 4614194 (19, 38297) 4173197 (19, 27458) 6016656 (19, 28473) 9333102 (19, 43862) 3778434 (19, 40592) 6504447 (19, 42999) 3377017 (19, 43195) 6207748 (19, 42580) 6661137 (19, 37696) 9085440 (19, 40966) 4385563 (19, 42182) 3119248 (19, 34844) 2971305 (19, 39264) 4125860 (19, 42540) 5546210 (19, 42677) 902759 (19, 41807) 4994673 (19, 30357) 8466886 (19, 26525) 866604 (19, 28708) 6923742 (19, 38292) 5385348 (19, 41024) 
     dis: 	5333.000 9559.000 9671.000 9981.000 9990.000 10670.000 11437.000 11853.000 11974.000 12000.000 12090.000 12203.000 12626.000 12666.000 12732.000 12801.000 12877.000 13081.000 13197.000 13564.000 14134.000 14188.000 14345.000 14364.000 14535.000 14586.000 14640.000 15092.000 15206.000 15287.000 15408.000 15409.000 15504.000 15582.000 15665.000 15697.000 15810.000 15974.000 16014.000 16125.000 16138.000 16146.000 16216.000 16281.000 16358.000 16390.000 16414.000 16415.000 16420.000 16449.000 16502.000 16505.000 16520.000 16561.000 16597.000 16644.000 16644.000 16799.000 16824.000 16864.000 16919.000 16922.000 16996.000 17017.000 17024.000 17078.000 17140.000 17154.000 17225.000 17230.000 17260.000 17261.000 17266.000 17268.000 17309.000 17342.000 17359.000 17362.000 17385.000 17400.000 17411.000 17414.000 17414.000 17420.000 17462.000 17476.000 17506.000 17524.000 17527.000 17535.000 17536.000 17568.000 17571.000 17583.000 17622.000 17623.000 17626.000 17639.000 17647.000 17654.000 
query 1 nn's (19, 22162, 42151): 7629371 (19, 40048) 7000075 (19, 30779) 9910036 (19, 39846) 4745747 (19, 41606) 9504433 (19, 24361) 8597183 (19, 26829) 299136 (19, 39259) 6704562 (19, 23383) 8126210 (19, 41371) 466678 (19, 23088) 917900 (19, 40978) 5927260 (19, 26127) 6889844 (19, 36016) 2578572 (19, 40128) 6924138 (19, 34934) 4913422 (19, 37070) 3446311 (19, 38605) 5387681 (19, 31248) 7710285 (19, 29939) 1390768 (19, 31957) 7369157 (19, 41254) 2551743 (19, 36521) 3667325 (19, 36932) 4975676 (19, 22643) 7116695 (19, 37217) 9016462 (19, 23301) 9015997 (19, 35256) 9314709 (19, 39645) 4688276 (19, 38070) 456429 (19, 29345) 9447917 (19, 26776) 2548862 (19, 26912) 8971326 (19, 33895) 8074005 (19, 25380) 974883 (19, 30567) 7517563 (19, 38523) 1761605 (19, 42083) 6730909 (19, 27905) 8831718 (19, 32885) 8711709 (19, 24081) 6658936 (19, 30022) 8755443 (19, 24372) 2051864 (19, 24323) 4921786 (19, 32551) 5050030 (19, 29281) 4596245 (19, 39500) 769719 (19, 33112) 1251563 (19, 38185) 4147432 (19, 40048) 9811940 (19, 23506) 3170216 (19, 25250) 6535434 (19, 31593) 7234211 (19, 32461) 1260690 (19, 38674) 2336420 (19, 39960) 1209218 (19, 25326) 5375921 (19, 22708) 3424621 (19, 36774) 1613947 (19, 37282) 260938 (19, 35464) 7895036 (19, 29193) 3861097 (19, 26734) 4735051 (19, 36563) 9131618 (19, 35630) 6139585 (19, 40710) 4025972 (19, 27420) 3421252 (19, 27118) 2933751 (19, 27486) 2403813 (19, 27785) 3127767 (19, 41126) 169053 (19, 41304) 7020375 (19, 27812) 6432134 (19, 32207) 4182888 (19, 23626) 7713079 (19, 35376) 1416324 (19, 41591) 2700679 (19, 25027) 9936417 (19, 30482) 4829758 (19, 29388) 2455051 (19, 27823) 9194394 (19, 23237) 5303679 (19, 33441) 7931274 (19, 32622) 6219387 (19, 39222) 3366570 (19, 27896) 8934575 (19, 23815) 8298406 (19, 29025) 4998285 (19, 26331) 6138568 (19, 39057) 1147994 (19, 25074) 2632415 (19, 42122) 5052063 (19, 40386) 892064 (19, 27209) 3251921 (19, 41174) 2129464 (19, 37577) 8124738 (19, 35110) 664929 (19, 31437) 4946176 (19, 30168) 4178593 (19, 23940) 6084218 (19, 35012) 
     dis: 	11437.000 11704.000 12352.000 12529.000 12566.000 12875.000 12976.000 13188.000 13348.000 13682.000 13946.000 14155.000 14227.000 14317.000 14462.000 14467.000 14472.000 14480.000 14487.000 14650.000 14671.000 14725.000 14726.000 14740.000 14793.000 14807.000 14890.000 14901.000 14951.000 14969.000 14982.000 15015.000 15086.000 15154.000 15190.000 15220.000 15256.000 15256.000 15363.000 15403.000 15417.000 15421.000 15458.000 15475.000 15476.000 15497.000 15503.000 15505.000 15507.000 15568.000 15633.000 15656.000 15663.000 15679.000 15689.000 15713.000 15718.000 15733.000 15743.000 15761.000 15796.000 15805.000 15812.000 15856.000 15872.000 15887.000 15919.000 16005.000 16028.000 16053.000 16091.000 16100.000 16104.000 16131.000 16134.000 16162.000 16188.000 16199.000 16230.000 16240.000 16256.000 16259.000 16263.000 16276.000 16285.000 16288.000 16290.000 16307.000 16379.000 16386.000 16401.000 16405.000 16424.000 16454.000 16457.000 16459.000 16464.000 16473.000 16499.000 16526.000 
query 2 nn's (19, 17210, 37204): 9743895 (19, 34323) 5920553 (19, 18978) 8553474 (19, 25557) 613441 (19, 25663) 8625378 (19, 24303) 3159516 (19, 28361) 6805269 (19, 29938) 2927516 (19, 26174) 9947550 (19, 21766) 723041 (19, 30158) 3927975 (19, 32600) 9752287 (19, 22823) 4045527 (19, 32458) 1698840 (19, 32861) 7367674 (19, 22597) 7408620 (19, 23012) 3688345 (19, 17702) 2659846 (19, 22553) 9101297 (19, 32290) 4165900 (19, 19154) 4136014 (19, 36612) 6155804 (19, 18536) 3730180 (19, 26239) 2691180 (19, 22128) 1562549 (19, 36726) 1612308 (19, 28837) 9310854 (19, 22570) 7567333 (19, 28894) 1908641 (19, 19272) 1274794 (19, 34822) 8985927 (19, 26688) 2702143 (19, 22941) 9022813 (19, 27368) 7266068 (19, 17599) 4879528 (19, 31575) 6146935 (19, 33069) 3217519 (19, 23037) 7081204 (19, 25197) 9647608 (19, 21996) 9488512 (19, 28351) 2684736 (19, 23922) 8604151 (19, 23625) 2944774 (19, 29988) 186885 (19, 29945) 9481862 (19, 27203) 9857208 (19, 34232) 7085927 (19, 30941) 7600699 (19, 25916) 8848372 (19, 34859) 8727780 (19, 31439) 5149644 (19, 28291) 1266341 (19, 32578) 2998418 (19, 35732) 5480815 (19, 37116) 2730876 (19, 23453) 789015 (19, 27137) 2896733 (19, 20163) 2131225 (19, 28125) 2132158 (19, 36420) 3932643 (19, 29532) 4208389 (19, 30769) 4320438 (19, 31451) 5169734 (19, 35862) 7206765 (19, 37009) 3431293 (19, 27706) 9320860 (19, 21135) 4976816 (19, 33427) 9021577 (19, 18746) 7948669 (19, 22066) 3076009 (19, 27973) 528648 (19, 33904) 5135803 (19, 29705) 312853 (19, 31190) 5856817 (19, 35136) 1381008 (19, 29529) 3241903 (19, 24164) 5601675 (19, 23743) 5670908 (19, 35373) 8633743 (19, 33325) 1480493 (19, 28465) 8460021 (19, 24448) 2574933 (19, 24074) 8305027 (19, 25044) 361743 (19, 31585) 785884 (19, 27589) 1191712 (19, 34201) 6772973 (19, 35049) 4655006 (19, 34514) 455240 (19, 17373) 4927145 (19, 22229) 8738927 (19, 30330) 3483378 (19, 30295) 3102150 (19, 20833) 4982082 (19, 36841) 3309134 (19, 20884) 3786002 (19, 35132) 275467 (19, 20295) 773658 (19, 31722) 4351754 (19, 22309) 8544760 (19, 21776) 
     dis: 	10145.000 11587.000 11936.000 11972.000 12099.000 12193.000 13152.000 13197.000 13339.000 13603.000 13672.000 13693.000 13749.000 13848.000 13967.000 14015.000 14031.000 14036.000 14244.000 14285.000 14292.000 14335.000 14371.000 14464.000 14515.000 14516.000 14541.000 14563.000 14639.000 14642.000 14766.000 14799.000 14858.000 14886.000 14888.000 14992.000 14997.000 15015.000 15042.000 15054.000 15062.000 15065.000 15106.000 15120.000 15139.000 15154.000 15209.000 15257.000 15309.000 15325.000 15327.000 15349.000 15384.000 15389.000 15394.000 15399.000 15401.000 15404.000 15415.000 15417.000 15486.000 15500.000 15509.000 15530.000 15571.000 15575.000 15577.000 15578.000 15587.000 15656.000 15669.000 15687.000 15700.000 15751.000 15756.000 15758.000 15764.000 15766.000 15767.000 15769.000 15798.000 15805.000 15814.000 15820.000 15822.000 15830.000 15836.000 15889.000 15897.000 15940.000 15940.000 15950.000 15975.000 15976.000 16007.000 16011.000 16020.000 16027.000 16034.000 16048.000 
query 3 nn's (19, 37494, 57500): 7020630 (19, 54958) 3279722 (19, 51437) 233485 (19, 44737) 3624059 (19, 43399) 5731015 (19, 52049) 8298687 (19, 37701) 9005255 (19, 48116) 3228780 (19, 39403) 7061054 (19, 48424) 4112389 (19, 54395) 3435124 (19, 44000) 5944039 (19, 50141) 475364 (19, 53569) 144151 (19, 54423) 6342690 (19, 49127) 3631532 (19, 45105) 5835892 (19, 47607) 9798183 (19, 38645) 66862 (19, 42133) 1777899 (19, 55417) 3796435 (19, 49518) 4193973 (19, 43870) 2684695 (19, 54256) 2275550 (19, 50454) 9442587 (19, 43297) 3172770 (19, 40755) 2359816 (19, 53268) 9424710 (19, 49708) 2367932 (19, 52194) 6142617 (19, 48407) 7848569 (19, 46077) 6236461 (19, 54031) 6907084 (19, 49209) 3098845 (19, 50619) 4931198 (19, 39896) 5618964 (19, 41503) 1945708 (19, 45280) 3198515 (19, 56015) 5101707 (19, 42222) 4631507 (19, 44619) 7216314 (19, 47329) 7912429 (19, 49140) 8168952 (19, 48838) 3707169 (19, 41638) 2578000 (19, 55811) 4936163 (19, 39178) 2638013 (19, 51272) 5680616 (19, 49419) 4273656 (19, 50478) 2021787 (19, 51868) 9565401 (19, 56511) 4056913 (19, 48022) 5187658 (19, 51050) 3118308 (19, 50535) 2757856 (19, 51891) 3660271 (19, 45079) 6937647 (19, 55079) 3283983 (19, 44632) 6233184 (19, 38333) 5145634 (19, 54036) 5874609 (19, 40854) 6995697 (19, 44435) 4691210 (19, 42966) 1832154 (19, 51966) 6418756 (19, 43977) 8062480 (19, 51485) 3439669 (19, 39648) 9506342 (19, 42926) 2284179 (19, 39675) 9169331 (19, 57030) 2695982 (19, 46626) 9184395 (19, 37854) 613149 (19, 51897) 4958663 (19, 44548) 6898870 (19, 55117) 3259384 (19, 53167) 5392051 (19, 44712) 9022096 (19, 45240) 4813063 (19, 56631) 9823400 (19, 56312) 1559549 (19, 45157) 879756 (19, 41123) 4241294 (19, 53431) 1357332 (19, 40997) 2926497 (19, 45684) 27730 (19, 50071) 6319521 (19, 51231) 8516575 (19, 52177) 9098100 (19, 48807) 5857059 (19, 47602) 4401834 (19, 44152) 9310272 (19, 38216) 1196539 (19, 53505) 7438013 (19, 55696) 1357866 (19, 57446) 6636204 (19, 50159) 1519363 (19, 55212) 788269 (19, 45115) 6046099 (19, 40860) 5687782 (19, 56957) 
     dis: 	8902.000 11933.000 12222.000 12612.000 12709.000 12840.000 13357.000 13473.000 13699.000 13745.000 13797.000 14274.000 14333.000 14365.000 14415.000 14458.000 14495.000 14503.000 14591.000 14659.000 14737.000 14895.000 14922.000 14931.000 15271.000 15282.000 15308.000 15329.000 15333.000 15444.000 15455.000 15510.000 15617.000 15654.000 15662.000 15701.000 15702.000 15752.000 15766.000 15777.000 15810.000 15838.000 15861.000 15895.000 15908.000 15984.000 15988.000 16067.000 16211.000 16218.000 16218.000 16282.000 16283.000 16315.000 16326.000 16336.000 16355.000 16369.000 16409.000 16471.000 16588.000 16592.000 16600.000 16656.000 16660.000 16660.000 16662.000 16674.000 16705.000 16724.000 16739.000 16755.000 16803.000 16814.000 16828.000 16835.000 16864.000 16869.000 16879.000 16891.000 16901.000 16913.000 16995.000 17001.000 17002.000 17063.000 17136.000 17142.000 17168.000 17204.000 17209.000 17223.000 17224.000 17245.000 17254.000 17256.000 17267.000 17292.000 17293.000 17310.000 
query 4 nn's (19, 12989, 32993): 6527555 (19, 15247) 449527 (19, 17419) 1444782 (19, 19731) 2066916 (19, 15626) 3533412 (19, 21683) 5123136 (19, 28992) 5752140 (19, 29283) 1060205 (19, 22186) 4293822 (19, 25057) 4057764 (19, 13210) 6871337 (19, 25040) 1011831 (19, 28339) 4564064 (19, 30609) 403008 (19, 29015) 227606 (19, 26416) 821831 (19, 26741) 3452999 (19, 14136) 7069841 (19, 21148) 9691493 (19, 22630) 6405716 (19, 16044) 4447825 (19, 26722) 3677211 (19, 21215) 8138170 (19, 26618) 3498846 (19, 27688) 7931269 (19, 25031) 2300922 (19, 28866) 3474004 (19, 17562) 2662308 (19, 32057) 292066 (19, 30899) 9473133 (19, 23462) 8435905 (19, 23111) 1210319 (19, 15258) 8855986 (19, 19751) 982635 (19, 21474) 7439329 (19, 21917) 1417660 (19, 14116) 7443353 (19, 15149) 9127320 (19, 27180) 8075785 (19, 20628) 3003315 (19, 27797) 990595 (19, 17929) 7585854 (19, 19474) 9470574 (19, 22542) 2933243 (19, 27084) 1684072 (19, 21791) 7875692 (19, 27834) 7510815 (19, 31991) 5671337 (19, 22332) 2100187 (19, 13676) 6218895 (19, 23194) 1052216 (19, 17129) 4137679 (19, 25697) 8938288 (19, 17312) 7283113 (19, 22492) 5228110 (19, 23108) 9947601 (19, 13721) 6940324 (19, 14664) 6213960 (19, 31972) 2759392 (19, 18904) 5437977 (19, 26347) 4952314 (19, 20983) 9308064 (19, 22183) 3124086 (19, 20747) 3512665 (19, 27154) 1205858 (19, 22384) 8318558 (19, 16010) 384852 (19, 15666) 5708643 (19, 15630) 3052749 (19, 17000) 7913547 (19, 30375) 8181039 (19, 14354) 2400859 (19, 31853) 8743339 (19, 19065) 770350 (19, 14633) 1477574 (19, 18430) 4213273 (19, 26315) 724775 (19, 21534) 6344195 (19, 20033) 3859647 (19, 14890) 4839208 (19, 17745) 8213527 (19, 20764) 338490 (19, 18612) 2540925 (19, 22916) 6556436 (19, 18752) 1404701 (19, 27318) 7042771 (19, 32481) 1841967 (19, 28548) 1241340 (19, 32087) 3840151 (19, 30032) 4111692 (19, 25133) 7622152 (19, 29634) 6189329 (19, 28443) 3868080 (19, 17636) 8726714 (19, 29579) 3135950 (19, 18861) 8952435 (19, 24728) 148795 (19, 25951) 877945 (19, 13095) 1625016 (19, 32832) 2840570 (19, 21961) 
     dis: 	6296.000 6766.000 6837.000 6893.000 7191.000 7194.000 7245.000 7390.000 7607.000 7653.000 7682.000 7805.000 7847.000 7908.000 7918.000 7958.000 8061.000 8068.000 8071.000 8076.000 8152.000 8158.000 8161.000 8172.000 8271.000 8276.000 8282.000 8294.000 8312.000 8317.000 8344.000 8350.000 8354.000 8362.000 8367.000 8372.000 8388.000 8397.000 8442.000 8459.000 8464.000 8470.000 8470.000 8472.000 8485.000 8486.000 8490.000 8493.000 8517.000 8528.000 8533.000 8556.000 8562.000 8577.000 8580.000 8607.000 8616.000 8618.000 8626.000 8652.000 8669.000 8671.000 8694.000 8712.000 8715.000 8719.000 8723.000 8725.000 8729.000 8739.000 8752.000 8763.000 8772.000 8786.000 8788.000 8798.000 8802.000 8827.000 8841.000 8844.000 8861.000 8883.000 8887.000 8892.000 8907.000 8914.000 8916.000 8924.000 8945.000 8962.000 8982.000 8984.000 8990.000 8997.000 9023.000 9030.000 9032.000 9037.000 9059.000 9063.000 
[ 440.291s ] *** Query time: 269.405
qps: 37.119
 *** acorn recall 
efs:800
acorn get 896176 postive res from 1000000 results, recall@100:0.896
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.001 0.008 0.033 0.098 0.240 0.583 0.037 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[440.321s] Timing results for search of k=100 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 53412163
ndis: 0
nreorder: 0
average distance computations per query: 5341.216
[ 440.321s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query_arbi spacev10m 10000000 25 40 64 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_100.json /mnt/data/mocheng/dataset/spacev10m/acorn/index/index_acorn_sel_2_100000_random_M40_ga25_Mb64 800 100"
	User time (seconds): 425.83
	System time (seconds): 15.09
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 7:20.93
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 15959780
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 6199372
	Voluntary context switches: 1
	Involuntary context switches: 304
	Swaps: 0
	File system inputs: 0
	File system outputs: 56
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
