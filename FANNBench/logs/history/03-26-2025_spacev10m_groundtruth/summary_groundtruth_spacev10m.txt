

===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
attr: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
query: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
qrange: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json
output: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_10.json
topk: 10
dim: 100
start
[2.386 s] Loaded dataset, size=10000000, dim=100
[3.067 s] Loaded attr, size=10000000
[3.067 s] Loading query vectors and attributes
query vecs data loaded, with dim: 100, size=10000


===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
attr: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
query: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
qrange: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json
output: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_10.json
topk: 10
dim: 100
start
[2.394 s] Loaded dataset, size=10000000, dim=100
[3.080 s] Loaded attr, size=10000000
[3.080 s] Loading query vectors and attributes
query vecs data loaded, with dim: 100, size=10000
[3.082 s] Loaded query vectors
[3.083 s] Loaded 10000 queries
====================Vectors====================

[391.906 s] Loading database
data loaded, with dim: 100, nb=10000000
[391.906 s] Indexing database, size 10000000*100 from max 10000000
[393.816 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[394.016 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[398.646 s] Query results (vector ids, then distances):
query 0, qrange [20, 20]
      nns 0 id:6443191 attr:20 dis:12188
      nns 1 id:4699240 attr:20 dis:12281
      nns 2 id:952366 attr:20 dis:14400
      nns 3 id:5060183 attr:20 dis:16284
      nns 4 id:7019431 attr:20 dis:16295
      nns 5 id:4459358 attr:20 dis:16721
      nns 6 id:1521255 attr:20 dis:17203
      nns 7 id:337940 attr:20 dis:17365
      nns 8 id:9250092 attr:20 dis:17596
      nns 9 id:8527812 attr:20 dis:17688

query 1, qrange [20, 20]
      nns 0 id:9246122 attr:20 dis:13095
      nns 1 id:2194205 attr:20 dis:13797
      nns 2 id:6649015 attr:20 dis:14422
      nns 3 id:9227196 attr:20 dis:14615
      nns 4 id:8711930 attr:20 dis:15205
      nns 5 id:662332 attr:20 dis:15381
      nns 6 id:3943773 attr:20 dis:16281
      nns 7 id:1940283 attr:20 dis:16635
      nns 8 id:6779370 attr:20 dis:16750
      nns 9 id:6290607 attr:20 dis:16757

query 2, qrange [20, 20]
      nns 0 id:9777979 attr:20 dis:11123
      nns 1 id:3713444 attr:20 dis:11837
      nns 2 id:8465646 attr:20 dis:13245
      nns 3 id:7745024 attr:20 dis:13943
      nns 4 id:8225973 attr:20 dis:14496
      nns 5 id:5699749 attr:20 dis:14612
      nns 6 id:8198536 attr:20 dis:14951
      nns 7 id:5706769 attr:20 dis:15095
      nns 8 id:5979748 attr:20 dis:15427
      nns 9 id:1840238 attr:20 dis:15478

query 3, qrange [20, 20]
      nns 0 id:9781225 attr:20 dis:11790
      nns 1 id:7701998 attr:20 dis:13269
      nns 2 id:5023237 attr:20 dis:15664
      nns 3 id:2376755 attr:20 dis:16666
      nns 4 id:4869461 attr:20 dis:16678
      nns 5 id:6286207 attr:20 dis:16864
      nns 6 id:5512851 attr:20 dis:17110
      nns 7 id:715732 attr:20 dis:17209
      nns 8 id:4455726 attr:20 dis:17305
      nns 9 id:9714787 attr:20 dis:17403

query 4, qrange [20, 20]
      nns 0 id:2805400 attr:20 dis:8024
      nns 1 id:4834736 attr:20 dis:8139
      nns 2 id:9988614 attr:20 dis:8327
      nns 3 id:9490690 attr:20 dis:8432
      nns 4 id:4816065 attr:20 dis:8730
      nns 5 id:2867132 attr:20 dis:8796
      nns 6 id:5121589 attr:20 dis:8883
      nns 7 id:5608022 attr:20 dis:9013
      nns 8 id:3733057 attr:20 dis:9050
      nns 9 id:4122631 attr:20 dis:9085

[398.647 s] *** Query time: 4.630317
qps:2159.68
cmp per query:10000000
recall: 1 of course
sel distribution: 1 0 0 0 0 0 0 0 0 0 0 
selectivity: 0.0009991
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[398.655 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_10.json 10 100"
	User time (seconds): 918.27
	System time (seconds): 4.63
	Percent of CPU this job got: 231%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 6:38.87
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7943168
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1985594
	Voluntary context switches: 418
	Involuntary context switches: 21656
	Swaps: 0
	File system inputs: 0
	File system outputs: 1800
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
attr: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
query: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
qrange: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json
output: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_10.json
topk: 10
dim: 100
start
[2.409 s] Loaded dataset, size=10000000, dim=100
[3.089 s] Loaded attr, size=10000000
[3.089 s] Loading query vectors and attributes
query vecs data loaded, with dim: 100, size=10000
[3.091 s] Loaded query vectors
[3.092 s] Loaded 10000 queries
====================Vectors====================

[55.717 s] Loading database
data loaded, with dim: 100, nb=10000000
[55.717 s] Indexing database, size 10000000*100 from max 10000000
[57.588 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[57.781 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[193.737 s] Query results (vector ids, then distances):
query 0, qrange [6, 6]
      nns 0 id:4661794 attr:6 dis:3012
      nns 1 id:1352077 attr:6 dis:3278
      nns 2 id:1300400 attr:6 dis:3455
      nns 3 id:2436347 attr:6 dis:5094
      nns 4 id:425302 attr:6 dis:5207
      nns 5 id:606211 attr:6 dis:5333
      nns 6 id:1781760 attr:6 dis:5414
      nns 7 id:3647719 attr:6 dis:5508
      nns 8 id:9694965 attr:6 dis:5944
      nns 9 id:8021837 attr:6 dis:6219

query 1, qrange [6, 6]
      nns 0 id:3024255 attr:6 dis:6351
      nns 1 id:4465136 attr:6 dis:7808
      nns 2 id:6693881 attr:6 dis:8318
      nns 3 id:1087257 attr:6 dis:8514
      nns 4 id:547651 attr:6 dis:8991
      nns 5 id:5778168 attr:6 dis:9116
      nns 6 id:1739093 attr:6 dis:9145
      nns 7 id:913237 attr:6 dis:9300
      nns 8 id:128447 attr:6 dis:9379
      nns 9 id:2201796 attr:6 dis:9519

query 2, qrange [6, 6]
      nns 0 id:4574760 attr:6 dis:3034
      nns 1 id:5189301 attr:6 dis:3368
      nns 2 id:9191130 attr:6 dis:6308
      nns 3 id:8167950 attr:6 dis:6379
      nns 4 id:4927764 attr:6 dis:6596
      nns 5 id:5932138 attr:6 dis:6968
      nns 6 id:2966676 attr:6 dis:7150
      nns 7 id:6524215 attr:6 dis:7648
      nns 8 id:2096002 attr:6 dis:7659
      nns 9 id:4376559 attr:6 dis:7682

query 3, qrange [6, 6]
      nns 0 id:1208824 attr:6 dis:7689
      nns 1 id:7481558 attr:6 dis:7695
      nns 2 id:1153720 attr:6 dis:8337
      nns 3 id:9922446 attr:6 dis:8365
      nns 4 id:3092850 attr:6 dis:8400
      nns 5 id:1681561 attr:6 dis:8422
      nns 6 id:2871407 attr:6 dis:8731
      nns 7 id:8906949 attr:6 dis:8898
      nns 8 id:1866926 attr:6 dis:9254
      nns 9 id:7371232 attr:6 dis:9274

query 4, qrange [6, 6]
      nns 0 id:8316529 attr:6 dis:2198
      nns 1 id:5624462 attr:6 dis:3552
      nns 2 id:3987492 attr:6 dis:3787
      nns 3 id:1706143 attr:6 dis:4591
      nns 4 id:9534901 attr:6 dis:5126
      nns 5 id:9970746 attr:6 dis:5243
      nns 6 id:5744224 attr:6 dis:5418
      nns 7 id:9323555 attr:6 dis:5435
      nns 8 id:9211260 attr:6 dis:5775
      nns 9 id:4390138 attr:6 dis:5970

[193.737 s] *** Query time: 135.955271
qps:73.5536
cmp per query:10000000
recall: 1 of course
sel distribution: 0 0 0 0 0 1 0 0 0 0 0 
selectivity: 0.500024
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[193.745 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_10.json 10 100"
	User time (seconds): 9221.87
	System time (seconds): 7521.16
	Percent of CPU this job got: 8628%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:14.04
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7943168
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 225489339
	Voluntary context switches: 917800
	Involuntary context switches: 523157
	Swaps: 0
	File system inputs: 0
	File system outputs: 1808
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
