Start time: 18:55
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 20
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.713s ] Loaded metadata, 10000000 attr's found
[ 0.713s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.716s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.717s ] Loaded 10000 sift10M queries
[ 0.725s ] Loaded ground truth, gt_size: 10
[ 0.725s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.482s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 84.435s ] Query results (vector ids, then distances):
query 0 nn's (16495, 66494): 4738758 (63657) 6984373 (66297) 7077742 (48276) 238649 (52700) 9536881 (62309) 7866119 (35104) 77153 (55251) 1835932 (42846) 1077702 (54735) 6951413 (64572) 
     dis: 	74348.750 76746.344 76941.883 77942.109 78612.492 79491.359 79874.648 80126.703 80609.109 80741.164 
query 1 nn's (9202, 59201): 285986 (29147) 411491 (28374) 7501440 (19981) 1273419 (33970) 3221056 (31139) 8349375 (52325) 469965 (40746) 9791343 (31369) 9958454 (20815) 3309105 (58581) 
     dis: 	43521.125 46702.566 46733.703 47133.055 49650.875 50164.102 50999.262 51140.562 51490.145 51613.125 
query 2 nn's (3185, 53184): 4588082 (5850) 289025 (23641) 1931585 (19001) 199400 (49790) 5982237 (43009) 9262583 (10127) 6296252 (42595) 3493381 (41222) 9416415 (22498) 9466222 (12113) 
     dis: 	47684.672 48216.973 48258.941 49445.160 50066.566 50644.941 51004.824 51043.465 51802.625 51875.957 
query 3 nn's (49315, 99314): 980813 (57404) 1527942 (96648) 4147780 (96552) 6151275 (54227) 8410503 (57593) 2965607 (50671) 8174765 (80882) 7301932 (58021) 3643741 (49824) 5124856 (83202) 
     dis: 	4284.122 4327.126 4456.461 4596.839 4853.428 5025.904 5169.761 5222.189 5265.583 5481.427 
query 4 nn's (35866, 85865): 3477074 (81770) 6578584 (38818) 3389697 (48484) 2524726 (73742) 7358946 (78288) 1141817 (80050) 6357047 (37869) 4775817 (52301) 3842053 (47229) 4719865 (48976) 
     dis: 	80359.188 81669.555 84516.359 85204.180 86956.969 87092.539 90920.555 91043.969 91069.352 91775.898 
[ 84.435s ] *** Query time: 24.324
qps: 411.113
 *** ivfpq recall 
ivfpq get 81435 postive res from 100000 results, recall@10:0.814
recall dist(10% per bucket): 0.000 0.001 0.005 0.014 0.030 0.052 0.077 0.117 0.165 0.274 0.264 
finished ivfpq index examples
[ 84.436s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 20 128"
	User time (seconds): 82.74
	System time (seconds): 1.86
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:24.60
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3023780
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 769810
	Voluntary context switches: 2
	Involuntary context switches: 91
	Swaps: 0
	File system inputs: 0
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 18:59
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 20
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.715s ] Loaded metadata, 10000000 attr's found
[ 0.715s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.718s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.720s ] Loaded 10000 sift10M queries
[ 0.727s ] Loaded ground truth, gt_size: 10
[ 0.727s ] Index Params -- d: 128, N: 10000000
Start time: 18:59
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 20
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.764s ] Loaded metadata, 10000000 attr's found
[ 0.764s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.768s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.769s ] Loaded 10000 sift10M queries
[ 0.776s ] Loaded ground truth, gt_size: 10
[ 0.776s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.561s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 81.687s ] Query results (vector ids, then distances):
query 0 nn's (16495, 66494): 4738758 (63657) 6984373 (66297) 7077742 (48276) 238649 (52700) 9536881 (62309) 7866119 (35104) 77153 (55251) 1835932 (42846) 1077702 (54735) 6951413 (64572) 
     dis: 	74348.750 76746.344 76941.883 77942.109 78612.492 79491.359 79874.648 80126.703 80609.109 80741.164 
query 1 nn's (9202, 59201): 285986 (29147) 411491 (28374) 7501440 (19981) 1273419 (33970) 3221056 (31139) 8349375 (52325) 469965 (40746) 9791343 (31369) 9958454 (20815) 3309105 (58581) 
     dis: 	43521.125 46702.566 46733.703 47133.055 49650.875 50164.102 50999.262 51140.562 51490.145 51613.125 
query 2 nn's (3185, 53184): 4588082 (5850) 289025 (23641) 1931585 (19001) 199400 (49790) 5982237 (43009) 9262583 (10127) 6296252 (42595) 3493381 (41222) 9416415 (22498) 9466222 (12113) 
     dis: 	47684.672 48216.973 48258.941 49445.160 50066.566 50644.941 51004.824 51043.465 51802.625 51875.957 
query 3 nn's (49315, 99314): 980813 (57404) 1527942 (96648) 4147780 (96552) 6151275 (54227) 8410503 (57593) 2965607 (50671) 8174765 (80882) 7301932 (58021) 3643741 (49824) 5124856 (83202) 
     dis: 	4284.122 4327.126 4456.461 4596.839 4853.428 5025.904 5169.761 5222.189 5265.583 5481.427 
query 4 nn's (35866, 85865): 3477074 (81770) 6578584 (38818) 3389697 (48484) 2524726 (73742) 7358946 (78288) 1141817 (80050) 6357047 (37869) 4775817 (52301) 3842053 (47229) 4719865 (48976) 
     dis: 	80359.188 81669.555 84516.359 85204.180 86956.969 87092.539 90920.555 91043.969 91069.352 91775.898 
[ 81.687s ] *** Query time: 23.466
qps: 426.148
 *** ivfpq recall 
ivfpq get 81435 postive res from 100000 results, recall@10:0.814
recall dist(10% per bucket): 0.000 0.001 0.005 0.014 0.030 0.052 0.077 0.117 0.165 0.274 0.264 
finished ivfpq index examples
[ 81.687s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 20 128"
	User time (seconds): 80.02
	System time (seconds): 1.79
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:21.81
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3023780
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 769806
	Voluntary context switches: 1
	Involuntary context switches: 75
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:37
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 20
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.708s ] Loaded metadata, 10000000 attr's found
[ 0.708s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.711s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.712s ] Loaded 10000 sift10M queries
[ 0.720s ] Loaded ground truth, gt_size: 10
[ 0.720s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.470s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 83.835s ] Query results (vector ids, then distances):
query 0 nn's (16495, 66494): 4738758 (63657) 6984373 (66297) 7077742 (48276) 238649 (52700) 9536881 (62309) 7866119 (35104) 77153 (55251) 1835932 (42846) 1077702 (54735) 6951413 (64572) 
     dis: 	74348.750 76746.344 76941.883 77942.109 78612.492 79491.359 79874.648 80126.703 80609.109 80741.164 
query 1 nn's (9202, 59201): 285986 (29147) 411491 (28374) 7501440 (19981) 1273419 (33970) 3221056 (31139) 8349375 (52325) 469965 (40746) 9791343 (31369) 9958454 (20815) 3309105 (58581) 
     dis: 	43521.125 46702.566 46733.703 47133.055 49650.875 50164.102 50999.262 51140.562 51490.145 51613.125 
query 2 nn's (3185, 53184): 4588082 (5850) 289025 (23641) 1931585 (19001) 199400 (49790) 5982237 (43009) 9262583 (10127) 6296252 (42595) 3493381 (41222) 9416415 (22498) 9466222 (12113) 
     dis: 	47684.672 48216.973 48258.941 49445.160 50066.566 50644.941 51004.824 51043.465 51802.625 51875.957 
query 3 nn's (49315, 99314): 980813 (57404) 1527942 (96648) 4147780 (96552) 6151275 (54227) 8410503 (57593) 2965607 (50671) 8174765 (80882) 7301932 (58021) 3643741 (49824) 5124856 (83202) 
     dis: 	4284.122 4327.126 4456.461 4596.839 4853.428 5025.904 5169.761 5222.189 5265.583 5481.427 
query 4 nn's (35866, 85865): 3477074 (81770) 6578584 (38818) 3389697 (48484) 2524726 (73742) 7358946 (78288) 1141817 (80050) 6357047 (37869) 4775817 (52301) 3842053 (47229) 4719865 (48976) 
     dis: 	80359.188 81669.555 84516.359 85204.180 86956.969 87092.539 90920.555 91043.969 91069.352 91775.898 
[ 83.835s ] *** Query time: 24.425
qps: 409.416
 *** ivfpq recall 
ivfpq get 81435 postive res from 100000 results, recall@10:0.814
recall dist(10% per bucket): 0.000 0.001 0.005 0.014 0.030 0.052 0.077 0.117 0.165 0.274 0.264 
finished ivfpq index examples
[ 83.835s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 20 128"
	User time (seconds): 82.17
	System time (seconds): 1.80
	Percent of CPU this job got: 100%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:23.98
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3023780
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 769854
	Voluntary context switches: 9
	Involuntary context switches: 102
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:44
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 20
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.708s ] Loaded metadata, 10000000 attr's found
[ 0.708s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.711s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.712s ] Loaded 10000 sift10M queries
[ 0.720s ] Loaded ground truth, gt_size: 10
[ 0.720s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.423s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 77.711s ] Query results (vector ids, then distances):
query 0 nn's (30338, 40337): 7866119 (35104) 6019325 (39083) 6002319 (38494) 4047656 (37028) 5228659 (32650) 7895839 (33099) 3094752 (38222) 9584266 (30762) 9107723 (35394) 5600358 (36832) 
     dis: 	79491.359 83414.625 83869.172 85609.820 86322.977 86453.094 87032.438 87885.398 88262.578 88382.336 
query 1 nn's (77037, 87036): 5552416 (78513) 1909131 (86406) 5271910 (85162) 1745130 (81239) 1503119 (86342) 4456023 (81807) 7409966 (77482) 8223991 (85939) 1410399 (79450) 3200275 (77568) 
     dis: 	43100.453 51780.211 52658.727 54724.656 58268.090 59082.324 60185.367 61373.090 63334.691 63545.773 
query 2 nn's (55705, 65704): 237844 (57153) 8132849 (63316) 2795236 (62148) 9068473 (62147) 8455929 (59448) 8863268 (55928) 4665202 (65519) 8565013 (65663) 1329974 (65153) 4555038 (63166) 
     dis: 	49548.199 50812.102 51264.723 52297.547 53160.984 53200.441 53551.211 54366.234 55037.547 55131.336 
query 3 nn's (68256, 78255): 6411621 (75479) 4246457 (73056) 1514080 (69970) 9577990 (76369) 8051314 (74322) 179529 (69049) 9603354 (76938) 9625994 (68515) 7463079 (77126) 4983026 (77570) 
     dis: 	5902.099 6979.414 7147.744 7293.963 7644.766 7678.588 7740.505 7834.597 8295.193 8295.535 
query 4 nn's (32860, 42859): 6578584 (38818) 6357047 (37869) 8478796 (34009) 5257851 (42550) 5499675 (34199) 417315 (38580) 2721988 (37884) 330880 (34126) 2528505 (42180) 4355165 (36701) 
     dis: 	81669.555 90920.555 91773.469 92153.133 94565.305 94757.172 95979.406 97856.062 98820.750 100393.648 
[ 77.711s ] *** Query time: 15.905
qps: 628.723
 *** ivfpq recall 
ivfpq get 75939 postive res from 100000 results, recall@10:0.759
recall dist(10% per bucket): 0.001 0.004 0.011 0.028 0.053 0.082 0.112 0.131 0.151 0.211 0.217 
finished ivfpq index examples
[ 77.711s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 20 128"
	User time (seconds): 76.13
	System time (seconds): 1.72
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:17.85
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3023784
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 769810
	Voluntary context switches: 1
	Involuntary context switches: 102
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:48
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 20
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.708s ] Loaded metadata, 10000000 attr's found
[ 0.708s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.711s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.712s ] Loaded 10000 sift10M queries
[ 0.720s ] Loaded ground truth, gt_size: 10
[ 0.720s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.374s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 76.703s ] Query results (vector ids, then distances):
query 0 nn's (66811, 67810): 8403027 (67450) 2260181 (67765) 8710437 (67666) 2620182 (67682) 3843925 (67076) 8845691 (66999) 4929785 (67064) 1938934 (66865) 2762041 (67060) 7102788 (67612) 
     dis: 	87306.641 90429.758 91551.016 95941.523 98294.875 99611.234 102278.859 103380.391 103438.945 105119.133 
query 1 nn's (80229, 81228): 5838578 (80325) 9900713 (80753) 8549337 (81124) 509915 (81217) 5424055 (81172) 8032969 (80529) 2765204 (81025) 5666656 (80815) 6225217 (80943) 5426587 (80360) 
     dis: 	71329.109 72773.375 74871.078 76615.023 80474.008 82286.961 83318.609 85637.508 86808.953 88487.602 
query 2 nn's (89717, 90716): 4112561 (89860) 5709226 (90258) 86206 (89955) 4347309 (90358) 5043393 (90355) 7964601 (89960) 3582852 (90144) 1944507 (90001) 5017634 (90012) 7004103 (89868) 
     dis: 	61422.031 61483.203 62039.676 66708.586 68369.547 72853.820 73942.625 74323.688 74524.000 74665.031 
query 3 nn's (6838, 7837): 840086 (7034) 6281603 (7047) 1180726 (6952) 7890747 (7446) 9231939 (6869) 493857 (7268) 8089617 (7268) 8618960 (7556) 8701088 (6988) 907443 (6923) 
     dis: 	9068.432 9226.581 11592.768 12349.147 13246.699 13534.274 13836.963 14789.070 15255.722 15923.056 
query 4 nn's (76228, 77227): 6221821 (76784) 1776999 (76473) 3136966 (76552) 608851 (76588) 6556006 (76613) 1271454 (76737) 9294532 (76726) 8562010 (77147) 6506698 (76701) 7931620 (77115) 
     dis: 	106119.773 108633.398 110557.609 111464.305 112681.781 113503.672 114619.172 114949.727 117708.391 122454.922 
[ 76.703s ] *** Query time: 13.773
qps: 726.070
 *** ivfpq recall 
ivfpq get 63036 postive res from 100000 results, recall@10:0.630
recall dist(10% per bucket): 0.003 0.021 0.046 0.079 0.112 0.131 0.126 0.127 0.111 0.123 0.121 
finished ivfpq index examples
[ 76.703s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 20 128"
	User time (seconds): 75.14
	System time (seconds): 1.70
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:16.85
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3023780
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 769809
	Voluntary context switches: 1
	Involuntary context switches: 51
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:52
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 20
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.712s ] Loaded metadata, 10000000 attr's found
[ 0.712s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.715s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.717s ] Loaded 10000 sift10M queries
[ 0.724s ] Loaded ground truth, gt_size: 10
[ 0.724s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.493s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 76.680s ] Query results (vector ids, then distances):
query 0 nn's (44843, 44942): 1609860 (44874) 6005033 (44913) 4441746 (44893) 8395367 (44860) 6764458 (44853) 3941607 (44878) 1540250 (44867) 3857088 (44896) 9276548 (44880) 1370582 (44857) 
     dis: 	98690.070 107976.781 108264.734 114474.594 118531.742 123183.562 126463.859 127904.781 132097.406 134294.875 
query 1 nn's (42821, 42920): 7957648 (42897) 8453351 (42853) 4754171 (42830) 635661 (42825) 1565098 (42885) 4062412 (42832) 5498897 (42903) 2836390 (42856) 8245003 (42875) 6245605 (42913) 
     dis: 	81398.016 85152.828 85710.414 88213.930 94464.375 95848.938 101654.062 106878.703 125860.922 126302.617 
query 2 nn's (13165, 13264): 2858053 (13240) 4306175 (13182) 5121329 (13223) 3494307 (13167) 342160 (13197) 3380755 (13173) 5928403 (13190) 170142 (13196) 2399385 (13226) 4985003 (13238) 
     dis: 	63257.051 69785.609 70671.016 71208.359 73531.188 75943.695 85335.734 87669.445 93615.312 97143.312 
query 3 nn's (25839, 25938): 6617844 (25931) 7567068 (25855) 8283506 (25901) 5530477 (25921) 7342247 (25846) 3153441 (25841) 4541290 (25878) 7055827 (25927) 3828929 (25858) 8659845 (25920) 
     dis: 	20140.846 22910.246 23899.230 23905.592 27705.129 30135.160 30199.008 32127.055 36313.750 38122.438 
query 4 nn's (45629, 45728): 2160380 (45685) 1253413 (45668) 3124161 (45639) 625529 (45723) 619740 (45674) 2719743 (45724) 2098355 (45685) 2912699 (45657) 8354165 (45727) 325958 (45648) 
     dis: 	100780.898 102885.422 112926.922 124023.289 125715.203 128354.555 133111.125 136588.922 140306.953 144355.141 
[ 76.680s ] *** Query time: 13.850
qps: 722.036
 *** ivfpq recall 
ivfpq get 40779 postive res from 100000 results, recall@10:0.408
recall dist(10% per bucket): 0.035 0.104 0.161 0.174 0.153 0.112 0.087 0.057 0.047 0.040 0.030 
finished ivfpq index examples
[ 76.680s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 20 128"
	User time (seconds): 74.70
	System time (seconds): 2.12
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:16.83
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3021732
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1020018
	Voluntary context switches: 1
	Involuntary context switches: 132
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
