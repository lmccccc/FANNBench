Start time: 18:55
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 5
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.717s ] Loaded metadata, 10000000 attr's found
[ 0.717s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.720s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.721s ] Loaded 10000 sift10M queries
[ 0.729s ] Loaded ground truth, gt_size: 10
[ 0.729s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.451s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 71.190s ] Query results (vector ids, then distances):
query 0 nn's (16495, 66494): 4738758 (63657) 6984373 (66297) 7077742 (48276) 238649 (52700) 9536881 (62309) 7866119 (35104) 77153 (55251) 1835932 (42846) 1077702 (54735) 6951413 (64572) 
     dis: 	74348.750 76746.344 76941.883 77942.109 78612.492 79491.359 79874.648 80126.703 80609.109 80741.164 
query 1 nn's (9202, 59201): 285986 (29147) 7501440 (19981) 3221056 (31139) 469965 (40746) 9791343 (31369) 9958454 (20815) 1120308 (58129) 8596968 (57015) 9009284 (43025) 7917424 (30836) 
     dis: 	43521.125 46733.703 49650.875 50999.262 51140.562 51490.145 52189.609 52276.391 52515.828 53272.633 
query 2 nn's (3185, 53184): 4588082 (5850) 1931585 (19001) 5982237 (43009) 6296252 (42595) 3493381 (41222) 9416415 (22498) 9466222 (12113) 2511585 (51247) 4279056 (31979) 436139 (39429) 
     dis: 	47684.672 48258.941 50066.566 51004.824 51043.465 51802.625 51875.957 52454.711 52769.785 52794.215 
query 3 nn's (49315, 99314): 980813 (57404) 1527942 (96648) 4147780 (96552) 6151275 (54227) 8410503 (57593) 2965607 (50671) 8174765 (80882) 7301932 (58021) 3643741 (49824) 5124856 (83202) 
     dis: 	4284.122 4327.126 4456.461 4596.839 4853.428 5025.904 5169.761 5222.189 5265.583 5481.427 
query 4 nn's (35866, 85865): 2524726 (73742) 7358946 (78288) 6357047 (37869) 4719865 (48976) 5707536 (47200) 1829341 (62245) 417315 (38580) 8972367 (43409) 5012556 (55013) 2288117 (77366) 
     dis: 	85204.180 86956.969 90920.555 91775.898 92667.188 93103.156 94757.172 96462.617 97060.734 97088.094 
[ 71.190s ] *** Query time: 11.677
qps: 856.374
 *** ivfpq recall 
ivfpq get 57703 postive res from 100000 results, recall@10:0.577
recall dist(10% per bucket): 0.011 0.040 0.074 0.104 0.124 0.123 0.115 0.109 0.099 0.111 0.092 
finished ivfpq index examples
[ 71.191s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 5 128"
	User time (seconds): 69.52
	System time (seconds): 1.82
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:11.35
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3023780
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 769811
	Voluntary context switches: 1
	Involuntary context switches: 82
	Swaps: 0
	File system inputs: 0
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 18:59
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 5
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.716s ] Loaded metadata, 10000000 attr's found
[ 0.716s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.719s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.721s ] Loaded 10000 sift10M queries
[ 0.728s ] Loaded ground truth, gt_size: 10
[ 0.728s ] Index Params -- d: 128, N: 10000000
Start time: 18:59
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 5
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.710s ] Loaded metadata, 10000000 attr's found
[ 0.710s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.713s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.715s ] Loaded 10000 sift10M queries
[ 0.722s ] Loaded ground truth, gt_size: 10
[ 0.722s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.422s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 69.003s ] Query results (vector ids, then distances):
query 0 nn's (16495, 66494): 4738758 (63657) 6984373 (66297) 7077742 (48276) 238649 (52700) 9536881 (62309) 7866119 (35104) 77153 (55251) 1835932 (42846) 1077702 (54735) 6951413 (64572) 
     dis: 	74348.750 76746.344 76941.883 77942.109 78612.492 79491.359 79874.648 80126.703 80609.109 80741.164 
query 1 nn's (9202, 59201): 285986 (29147) 7501440 (19981) 3221056 (31139) 469965 (40746) 9791343 (31369) 9958454 (20815) 1120308 (58129) 8596968 (57015) 9009284 (43025) 7917424 (30836) 
     dis: 	43521.125 46733.703 49650.875 50999.262 51140.562 51490.145 52189.609 52276.391 52515.828 53272.633 
query 2 nn's (3185, 53184): 4588082 (5850) 1931585 (19001) 5982237 (43009) 6296252 (42595) 3493381 (41222) 9416415 (22498) 9466222 (12113) 2511585 (51247) 4279056 (31979) 436139 (39429) 
     dis: 	47684.672 48258.941 50066.566 51004.824 51043.465 51802.625 51875.957 52454.711 52769.785 52794.215 
query 3 nn's (49315, 99314): 980813 (57404) 1527942 (96648) 4147780 (96552) 6151275 (54227) 8410503 (57593) 2965607 (50671) 8174765 (80882) 7301932 (58021) 3643741 (49824) 5124856 (83202) 
     dis: 	4284.122 4327.126 4456.461 4596.839 4853.428 5025.904 5169.761 5222.189 5265.583 5481.427 
query 4 nn's (35866, 85865): 2524726 (73742) 7358946 (78288) 6357047 (37869) 4719865 (48976) 5707536 (47200) 1829341 (62245) 417315 (38580) 8972367 (43409) 5012556 (55013) 2288117 (77366) 
     dis: 	85204.180 86956.969 90920.555 91775.898 92667.188 93103.156 94757.172 96462.617 97060.734 97088.094 
[ 69.003s ] *** Query time: 11.353
qps: 880.799
 *** ivfpq recall 
ivfpq get 57703 postive res from 100000 results, recall@10:0.577
recall dist(10% per bucket): 0.011 0.040 0.074 0.104 0.124 0.123 0.115 0.109 0.099 0.111 0.092 
finished ivfpq index examples
[ 69.004s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 5 128"
	User time (seconds): 67.46
	System time (seconds): 1.66
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:09.13
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3021732
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 769810
	Voluntary context switches: 1
	Involuntary context switches: 67
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:37
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 5
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.708s ] Loaded metadata, 10000000 attr's found
[ 0.708s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.711s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.713s ] Loaded 10000 sift10M queries
[ 0.720s ] Loaded ground truth, gt_size: 10
[ 0.720s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.479s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 71.609s ] Query results (vector ids, then distances):
query 0 nn's (16495, 66494): 4738758 (63657) 6984373 (66297) 7077742 (48276) 238649 (52700) 9536881 (62309) 7866119 (35104) 77153 (55251) 1835932 (42846) 1077702 (54735) 6951413 (64572) 
     dis: 	74348.750 76746.344 76941.883 77942.109 78612.492 79491.359 79874.648 80126.703 80609.109 80741.164 
query 1 nn's (9202, 59201): 285986 (29147) 7501440 (19981) 3221056 (31139) 469965 (40746) 9791343 (31369) 9958454 (20815) 1120308 (58129) 8596968 (57015) 9009284 (43025) 7917424 (30836) 
     dis: 	43521.125 46733.703 49650.875 50999.262 51140.562 51490.145 52189.609 52276.391 52515.828 53272.633 
query 2 nn's (3185, 53184): 4588082 (5850) 1931585 (19001) 5982237 (43009) 6296252 (42595) 3493381 (41222) 9416415 (22498) 9466222 (12113) 2511585 (51247) 4279056 (31979) 436139 (39429) 
     dis: 	47684.672 48258.941 50066.566 51004.824 51043.465 51802.625 51875.957 52454.711 52769.785 52794.215 
query 3 nn's (49315, 99314): 980813 (57404) 1527942 (96648) 4147780 (96552) 6151275 (54227) 8410503 (57593) 2965607 (50671) 8174765 (80882) 7301932 (58021) 3643741 (49824) 5124856 (83202) 
     dis: 	4284.122 4327.126 4456.461 4596.839 4853.428 5025.904 5169.761 5222.189 5265.583 5481.427 
query 4 nn's (35866, 85865): 2524726 (73742) 7358946 (78288) 6357047 (37869) 4719865 (48976) 5707536 (47200) 1829341 (62245) 417315 (38580) 8972367 (43409) 5012556 (55013) 2288117 (77366) 
     dis: 	85204.180 86956.969 90920.555 91775.898 92667.188 93103.156 94757.172 96462.617 97060.734 97088.094 
[ 71.609s ] *** Query time: 12.011
qps: 832.586
 *** ivfpq recall 
ivfpq get 57703 postive res from 100000 results, recall@10:0.577
recall dist(10% per bucket): 0.011 0.040 0.074 0.104 0.124 0.123 0.115 0.109 0.099 0.111 0.092 
finished ivfpq index examples
[ 71.609s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 5 128"
	User time (seconds): 69.97
	System time (seconds): 1.79
	Percent of CPU this job got: 100%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:11.76
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3023784
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 769811
	Voluntary context switches: 2
	Involuntary context switches: 95
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:44
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 5
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.708s ] Loaded metadata, 10000000 attr's found
[ 0.708s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.711s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.713s ] Loaded 10000 sift10M queries
[ 0.720s ] Loaded ground truth, gt_size: 10
[ 0.720s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.421s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 72.495s ] Query results (vector ids, then distances):
query 0 nn's (30338, 40337): 7866119 (35104) 6019325 (39083) 6002319 (38494) 4047656 (37028) 5228659 (32650) 7895839 (33099) 3094752 (38222) 9584266 (30762) 9107723 (35394) 5600358 (36832) 
     dis: 	79491.359 83414.625 83869.172 85609.820 86322.977 86453.094 87032.438 87885.398 88262.578 88382.336 
query 1 nn's (77037, 87036): 5552416 (78513) 1909131 (86406) 1745130 (81239) 1503119 (86342) 4456023 (81807) 7409966 (77482) 8223991 (85939) 3200275 (77568) 1015812 (81428) 9460541 (85631) 
     dis: 	43100.453 51780.211 54724.656 58268.090 59082.324 60185.367 61373.090 63545.773 64018.613 64888.977 
query 2 nn's (55705, 65704): 237844 (57153) 8132849 (63316) 9068473 (62147) 8455929 (59448) 8863268 (55928) 1329974 (65153) 8563094 (58325) 1080573 (56490) 6114289 (59111) 5596868 (58496) 
     dis: 	49548.199 50812.102 52297.547 53160.984 53200.441 55037.547 55985.078 56108.410 56887.383 57440.262 
query 3 nn's (68256, 78255): 6411621 (75479) 4246457 (73056) 1514080 (69970) 9577990 (76369) 8051314 (74322) 179529 (69049) 9603354 (76938) 9625994 (68515) 7463079 (77126) 4983026 (77570) 
     dis: 	5902.099 6979.414 7147.744 7293.963 7644.766 7678.588 7740.505 7834.597 8295.193 8295.535 
query 4 nn's (32860, 42859): 6357047 (37869) 417315 (38580) 330880 (34126) 2528505 (42180) 2178583 (39724) 8325663 (40558) 9825567 (40718) 5862862 (37162) 8065643 (36769) 4230287 (36808) 
     dis: 	90920.555 94757.172 97856.062 98820.750 100842.891 102919.219 104094.398 105508.234 105522.000 105666.258 
[ 72.495s ] *** Query time: 10.313
qps: 969.647
 *** ivfpq recall 
ivfpq get 50408 postive res from 100000 results, recall@10:0.504
recall dist(10% per bucket): 0.024 0.066 0.110 0.132 0.134 0.120 0.104 0.089 0.076 0.078 0.066 
finished ivfpq index examples
[ 72.496s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 5 128"
	User time (seconds): 70.89
	System time (seconds): 1.75
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:12.64
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3023780
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 769807
	Voluntary context switches: 1
	Involuntary context switches: 93
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:48
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 5
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.713s ] Loaded metadata, 10000000 attr's found
[ 0.713s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.716s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.718s ] Loaded 10000 sift10M queries
[ 0.725s ] Loaded ground truth, gt_size: 10
[ 0.725s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.390s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 71.801s ] Query results (vector ids, then distances):
query 0 nn's (66811, 67810): 8403027 (67450) 2260181 (67765) 8710437 (67666) 3843925 (67076) 8845691 (66999) 9927783 (66921) 9221841 (67314) 767289 (66900) 3711488 (67440) 4982206 (67602) 
     dis: 	87306.641 90429.758 91551.016 98294.875 99611.234 109940.672 110552.281 114035.156 115886.430 119802.578 
query 1 nn's (80229, 81228): 5838578 (80325) 8549337 (81124) 509915 (81217) 5424055 (81172) 5666656 (80815) 6225217 (80943) 7853731 (80509) 7581274 (81100) 8180678 (81075) 6983565 (80270) 
     dis: 	71329.109 74871.078 76615.023 80474.008 85637.508 86808.953 88839.875 91341.586 96376.062 98314.859 
query 2 nn's (89717, 90716): 4112561 (89860) 5709226 (90258) 5043393 (90355) 7004103 (89868) 5907913 (89721) 6150520 (90003) 2323619 (90250) 4129975 (89746) 7446969 (89822) 5908251 (89799) 
     dis: 	61422.031 61483.203 68369.547 74665.031 75412.406 78144.219 79834.641 80146.258 80856.875 81017.289 
query 3 nn's (6838, 7837): 840086 (7034) 1180726 (6952) 9231939 (6869) 493857 (7268) 8089617 (7268) 8618960 (7556) 8701088 (6988) 4498186 (6839) 3917528 (7833) 232753 (7204) 
     dis: 	9068.432 11592.768 13246.699 13534.274 13836.963 14789.070 15255.722 15972.844 16081.310 18428.893 
query 4 nn's (76228, 77227): 1271454 (76737) 9294532 (76726) 8562010 (77147) 2182713 (76499) 7003764 (76601) 6895571 (77227) 3341326 (76433) 628361 (77033) 3594766 (76618) 4426498 (77225) 
     dis: 	113503.672 114619.172 114949.727 124903.000 126240.156 133309.047 135195.422 137596.656 138571.062 140196.344 
[ 71.802s ] *** Query time: 9.435
qps: 1059.934
 *** ivfpq recall 
ivfpq get 36283 postive res from 100000 results, recall@10:0.363
recall dist(10% per bucket): 0.068 0.151 0.174 0.165 0.125 0.098 0.069 0.049 0.042 0.031 0.027 
finished ivfpq index examples
[ 71.802s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 5 128"
	User time (seconds): 70.23
	System time (seconds): 1.71
	Percent of CPU this job got: 100%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:11.95
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3023784
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 769807
	Voluntary context switches: 1
	Involuntary context switches: 60
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:52
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 5
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.712s ] Loaded metadata, 10000000 attr's found
[ 0.712s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.715s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.717s ] Loaded 10000 sift10M queries
[ 0.724s ] Loaded ground truth, gt_size: 10
[ 0.724s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.489s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 71.613s ] Query results (vector ids, then distances):
query 0 nn's (44843, 44942): 6005033 (44913) 8395367 (44860) 3941607 (44878) 3857088 (44896) 9276548 (44880) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	107976.781 114474.594 123183.562 127904.781 132097.406 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (42821, 42920): 7957648 (42897) 8453351 (42853) 1565098 (42885) 4062412 (42832) 5498897 (42903) 1597520 (42916) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	81398.016 85152.828 94464.375 95848.938 101654.062 150100.953 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (13165, 13264): 2858053 (13240) 4306175 (13182) 5928403 (13190) 170142 (13196) 2399385 (13226) 9317379 (13251) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	63257.051 69785.609 85335.734 87669.445 93615.312 97301.328 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (25839, 25938): 6617844 (25931) 8283506 (25901) 7055827 (25927) 4159403 (25842) 30150 (25870) 1961500 (25870) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	20140.846 23899.230 32127.055 41836.758 63332.484 72437.742 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (45629, 45728): 2160380 (45685) 3124161 (45639) 625529 (45723) 2098355 (45685) 2788136 (45671) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	100780.898 112926.922 124023.289 133111.125 149201.734 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 71.613s ] *** Query time: 9.417
qps: 1061.898
 *** ivfpq recall 
ivfpq get 17611 postive res from 100000 results, recall@10:0.176
recall dist(10% per bucket): 0.243 0.294 0.209 0.117 0.064 0.033 0.020 0.010 0.006 0.003 0.001 
finished ivfpq index examples
[ 71.614s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 5 128"
	User time (seconds): 69.95
	System time (seconds): 1.81
	Percent of CPU this job got: 100%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:11.76
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3022760
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 769867
	Voluntary context switches: 1
	Involuntary context switches: 27
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
