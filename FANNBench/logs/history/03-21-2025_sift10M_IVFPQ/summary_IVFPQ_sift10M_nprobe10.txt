Start time: 18:55
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.713s ] Loaded metadata, 10000000 attr's found
[ 0.713s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.717s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.718s ] Loaded 10000 sift10M queries
[ 0.725s ] Loaded ground truth, gt_size: 10
[ 0.725s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.479s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 75.497s ] Query results (vector ids, then distances):
query 0 nn's (16495, 66494): 4738758 (63657) 6984373 (66297) 7077742 (48276) 238649 (52700) 9536881 (62309) 7866119 (35104) 77153 (55251) 1835932 (42846) 1077702 (54735) 6951413 (64572) 
     dis: 	74348.750 76746.344 76941.883 77942.109 78612.492 79491.359 79874.648 80126.703 80609.109 80741.164 
query 1 nn's (9202, 59201): 285986 (29147) 411491 (28374) 7501440 (19981) 1273419 (33970) 3221056 (31139) 8349375 (52325) 469965 (40746) 9791343 (31369) 9958454 (20815) 3309105 (58581) 
     dis: 	43521.125 46702.566 46733.703 47133.055 49650.875 50164.102 50999.262 51140.562 51490.145 51613.125 
query 2 nn's (3185, 53184): 4588082 (5850) 289025 (23641) 1931585 (19001) 5982237 (43009) 9262583 (10127) 6296252 (42595) 3493381 (41222) 9416415 (22498) 9466222 (12113) 9410320 (17475) 
     dis: 	47684.672 48216.973 48258.941 50066.566 50644.941 51004.824 51043.465 51802.625 51875.957 52262.297 
query 3 nn's (49315, 99314): 980813 (57404) 1527942 (96648) 4147780 (96552) 6151275 (54227) 8410503 (57593) 2965607 (50671) 8174765 (80882) 7301932 (58021) 3643741 (49824) 5124856 (83202) 
     dis: 	4284.122 4327.126 4456.461 4596.839 4853.428 5025.904 5169.761 5222.189 5265.583 5481.427 
query 4 nn's (35866, 85865): 3477074 (81770) 6578584 (38818) 3389697 (48484) 2524726 (73742) 7358946 (78288) 6357047 (37869) 4719865 (48976) 5257851 (42550) 5707536 (47200) 1829341 (62245) 
     dis: 	80359.188 81669.555 84516.359 85204.180 86956.969 90920.555 91775.898 92153.133 92667.188 93103.156 
[ 75.497s ] *** Query time: 15.992
qps: 625.325
 *** ivfpq recall 
ivfpq get 70733 postive res from 100000 results, recall@10:0.707
recall dist(10% per bucket): 0.002 0.009 0.024 0.046 0.079 0.098 0.122 0.132 0.138 0.183 0.166 
finished ivfpq index examples
[ 75.498s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 10 128"
	User time (seconds): 73.80
	System time (seconds): 1.86
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:15.66
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3023780
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 769818
	Voluntary context switches: 1
	Involuntary context switches: 61
	Swaps: 0
	File system inputs: 0
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 18:59
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.713s ] Loaded metadata, 10000000 attr's found
[ 0.713s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.716s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.718s ] Loaded 10000 sift10M queries
[ 0.725s ] Loaded ground truth, gt_size: 10
[ 0.725s ] Index Params -- d: 128, N: 10000000
Start time: 18:59
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.710s ] Loaded metadata, 10000000 attr's found
[ 0.710s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.713s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.715s ] Loaded 10000 sift10M queries
[ 0.722s ] Loaded ground truth, gt_size: 10
[ 0.722s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.421s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 73.335s ] Query results (vector ids, then distances):
query 0 nn's (16495, 66494): 4738758 (63657) 6984373 (66297) 7077742 (48276) 238649 (52700) 9536881 (62309) 7866119 (35104) 77153 (55251) 1835932 (42846) 1077702 (54735) 6951413 (64572) 
     dis: 	74348.750 76746.344 76941.883 77942.109 78612.492 79491.359 79874.648 80126.703 80609.109 80741.164 
query 1 nn's (9202, 59201): 285986 (29147) 411491 (28374) 7501440 (19981) 1273419 (33970) 3221056 (31139) 8349375 (52325) 469965 (40746) 9791343 (31369) 9958454 (20815) 3309105 (58581) 
     dis: 	43521.125 46702.566 46733.703 47133.055 49650.875 50164.102 50999.262 51140.562 51490.145 51613.125 
query 2 nn's (3185, 53184): 4588082 (5850) 289025 (23641) 1931585 (19001) 5982237 (43009) 9262583 (10127) 6296252 (42595) 3493381 (41222) 9416415 (22498) 9466222 (12113) 9410320 (17475) 
     dis: 	47684.672 48216.973 48258.941 50066.566 50644.941 51004.824 51043.465 51802.625 51875.957 52262.297 
query 3 nn's (49315, 99314): 980813 (57404) 1527942 (96648) 4147780 (96552) 6151275 (54227) 8410503 (57593) 2965607 (50671) 8174765 (80882) 7301932 (58021) 3643741 (49824) 5124856 (83202) 
     dis: 	4284.122 4327.126 4456.461 4596.839 4853.428 5025.904 5169.761 5222.189 5265.583 5481.427 
query 4 nn's (35866, 85865): 3477074 (81770) 6578584 (38818) 3389697 (48484) 2524726 (73742) 7358946 (78288) 6357047 (37869) 4719865 (48976) 5257851 (42550) 5707536 (47200) 1829341 (62245) 
     dis: 	80359.188 81669.555 84516.359 85204.180 86956.969 90920.555 91775.898 92153.133 92667.188 93103.156 
[ 73.335s ] *** Query time: 15.367
qps: 650.751
 *** ivfpq recall 
ivfpq get 70733 postive res from 100000 results, recall@10:0.707
recall dist(10% per bucket): 0.002 0.009 0.024 0.046 0.079 0.098 0.122 0.132 0.138 0.183 0.166 
finished ivfpq index examples
[ 73.336s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 10 128"
	User time (seconds): 71.76
	System time (seconds): 1.70
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:13.47
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3022756
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 2
	Minor (reclaiming a frame) page faults: 769861
	Voluntary context switches: 6
	Involuntary context switches: 58
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:37
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.715s ] Loaded metadata, 10000000 attr's found
[ 0.715s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.717s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.719s ] Loaded 10000 sift10M queries
[ 0.726s ] Loaded ground truth, gt_size: 10
[ 0.726s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.459s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 76.055s ] Query results (vector ids, then distances):
query 0 nn's (16495, 66494): 4738758 (63657) 6984373 (66297) 7077742 (48276) 238649 (52700) 9536881 (62309) 7866119 (35104) 77153 (55251) 1835932 (42846) 1077702 (54735) 6951413 (64572) 
     dis: 	74348.750 76746.344 76941.883 77942.109 78612.492 79491.359 79874.648 80126.703 80609.109 80741.164 
query 1 nn's (9202, 59201): 285986 (29147) 411491 (28374) 7501440 (19981) 1273419 (33970) 3221056 (31139) 8349375 (52325) 469965 (40746) 9791343 (31369) 9958454 (20815) 3309105 (58581) 
     dis: 	43521.125 46702.566 46733.703 47133.055 49650.875 50164.102 50999.262 51140.562 51490.145 51613.125 
query 2 nn's (3185, 53184): 4588082 (5850) 289025 (23641) 1931585 (19001) 5982237 (43009) 9262583 (10127) 6296252 (42595) 3493381 (41222) 9416415 (22498) 9466222 (12113) 9410320 (17475) 
     dis: 	47684.672 48216.973 48258.941 50066.566 50644.941 51004.824 51043.465 51802.625 51875.957 52262.297 
query 3 nn's (49315, 99314): 980813 (57404) 1527942 (96648) 4147780 (96552) 6151275 (54227) 8410503 (57593) 2965607 (50671) 8174765 (80882) 7301932 (58021) 3643741 (49824) 5124856 (83202) 
     dis: 	4284.122 4327.126 4456.461 4596.839 4853.428 5025.904 5169.761 5222.189 5265.583 5481.427 
query 4 nn's (35866, 85865): 3477074 (81770) 6578584 (38818) 3389697 (48484) 2524726 (73742) 7358946 (78288) 6357047 (37869) 4719865 (48976) 5257851 (42550) 5707536 (47200) 1829341 (62245) 
     dis: 	80359.188 81669.555 84516.359 85204.180 86956.969 90920.555 91775.898 92153.133 92667.188 93103.156 
[ 76.055s ] *** Query time: 16.125
qps: 620.174
 *** ivfpq recall 
ivfpq get 70733 postive res from 100000 results, recall@10:0.707
recall dist(10% per bucket): 0.002 0.009 0.024 0.046 0.079 0.098 0.122 0.132 0.138 0.183 0.166 
finished ivfpq index examples
[ 76.056s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 10 128"
	User time (seconds): 74.47
	System time (seconds): 1.72
	Percent of CPU this job got: 100%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:16.19
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3021724
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 769814
	Voluntary context switches: 1
	Involuntary context switches: 125
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:44
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.711s ] Loaded metadata, 10000000 attr's found
[ 0.711s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.713s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.715s ] Loaded 10000 sift10M queries
[ 0.722s ] Loaded ground truth, gt_size: 10
[ 0.722s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.430s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 74.469s ] Query results (vector ids, then distances):
query 0 nn's (30338, 40337): 7866119 (35104) 6019325 (39083) 6002319 (38494) 4047656 (37028) 5228659 (32650) 7895839 (33099) 3094752 (38222) 9584266 (30762) 9107723 (35394) 5600358 (36832) 
     dis: 	79491.359 83414.625 83869.172 85609.820 86322.977 86453.094 87032.438 87885.398 88262.578 88382.336 
query 1 nn's (77037, 87036): 5552416 (78513) 1909131 (86406) 1745130 (81239) 1503119 (86342) 4456023 (81807) 7409966 (77482) 8223991 (85939) 1410399 (79450) 3200275 (77568) 1015812 (81428) 
     dis: 	43100.453 51780.211 54724.656 58268.090 59082.324 60185.367 61373.090 63334.691 63545.773 64018.613 
query 2 nn's (55705, 65704): 237844 (57153) 8132849 (63316) 9068473 (62147) 8455929 (59448) 8863268 (55928) 1329974 (65153) 4555038 (63166) 8563094 (58325) 1080573 (56490) 6114289 (59111) 
     dis: 	49548.199 50812.102 52297.547 53160.984 53200.441 55037.547 55131.336 55985.078 56108.410 56887.383 
query 3 nn's (68256, 78255): 6411621 (75479) 4246457 (73056) 1514080 (69970) 9577990 (76369) 8051314 (74322) 179529 (69049) 9603354 (76938) 9625994 (68515) 7463079 (77126) 4983026 (77570) 
     dis: 	5902.099 6979.414 7147.744 7293.963 7644.766 7678.588 7740.505 7834.597 8295.193 8295.535 
query 4 nn's (32860, 42859): 6578584 (38818) 6357047 (37869) 5257851 (42550) 417315 (38580) 2721988 (37884) 330880 (34126) 2528505 (42180) 2178583 (39724) 933705 (35471) 8843847 (34786) 
     dis: 	81669.555 90920.555 92153.133 94757.172 95979.406 97856.062 98820.750 100842.891 101860.641 102156.984 
[ 74.469s ] *** Query time: 12.367
qps: 808.605
 *** ivfpq recall 
ivfpq get 64011 postive res from 100000 results, recall@10:0.640
recall dist(10% per bucket): 0.005 0.020 0.047 0.073 0.110 0.118 0.125 0.123 0.116 0.135 0.129 
finished ivfpq index examples
[ 74.470s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 10 128"
	User time (seconds): 72.91
	System time (seconds): 1.70
	Percent of CPU this job got: 100%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:14.61
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3023780
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 769807
	Voluntary context switches: 2
	Involuntary context switches: 63
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:48
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.714s ] Loaded metadata, 10000000 attr's found
[ 0.714s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.717s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.719s ] Loaded 10000 sift10M queries
[ 0.726s ] Loaded ground truth, gt_size: 10
[ 0.726s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.470s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 74.914s ] Query results (vector ids, then distances):
query 0 nn's (66811, 67810): 8403027 (67450) 2260181 (67765) 8710437 (67666) 3843925 (67076) 8845691 (66999) 4929785 (67064) 2762041 (67060) 8423848 (67281) 9927783 (66921) 9221841 (67314) 
     dis: 	87306.641 90429.758 91551.016 98294.875 99611.234 102278.859 103438.945 106850.883 109940.672 110552.281 
query 1 nn's (80229, 81228): 5838578 (80325) 9900713 (80753) 8549337 (81124) 509915 (81217) 5424055 (81172) 2765204 (81025) 5666656 (80815) 6225217 (80943) 7853731 (80509) 7581274 (81100) 
     dis: 	71329.109 72773.375 74871.078 76615.023 80474.008 83318.609 85637.508 86808.953 88839.875 91341.586 
query 2 nn's (89717, 90716): 4112561 (89860) 5709226 (90258) 86206 (89955) 5043393 (90355) 3582852 (90144) 7004103 (89868) 5907913 (89721) 9827814 (90252) 6150520 (90003) 2323619 (90250) 
     dis: 	61422.031 61483.203 62039.676 68369.547 73942.625 74665.031 75412.406 77794.844 78144.219 79834.641 
query 3 nn's (6838, 7837): 840086 (7034) 6281603 (7047) 1180726 (6952) 7890747 (7446) 9231939 (6869) 493857 (7268) 8089617 (7268) 8618960 (7556) 8701088 (6988) 907443 (6923) 
     dis: 	9068.432 9226.581 11592.768 12349.147 13246.699 13534.274 13836.963 14789.070 15255.722 15923.056 
query 4 nn's (76228, 77227): 608851 (76588) 1271454 (76737) 9294532 (76726) 8562010 (77147) 6506698 (76701) 4003644 (77017) 1237322 (76824) 2182713 (76499) 7003764 (76601) 4225267 (76453) 
     dis: 	111464.305 113503.672 114619.172 114949.727 117708.391 123828.000 124652.031 124903.000 126240.156 126822.812 
[ 74.914s ] *** Query time: 11.419
qps: 875.750
 *** ivfpq recall 
ivfpq get 49596 postive res from 100000 results, recall@10:0.496
recall dist(10% per bucket): 0.019 0.068 0.113 0.134 0.140 0.128 0.113 0.087 0.069 0.069 0.061 
finished ivfpq index examples
[ 74.914s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 10 128"
	User time (seconds): 73.33
	System time (seconds): 1.72
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:15.05
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3022760
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 769809
	Voluntary context switches: 1
	Involuntary context switches: 112
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:52
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.712s ] Loaded metadata, 10000000 attr's found
[ 0.712s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.715s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.717s ] Loaded 10000 sift10M queries
[ 0.724s ] Loaded ground truth, gt_size: 10
[ 0.724s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.495s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 79.946s ] Query results (vector ids, then distances):
query 0 nn's (44843, 44942): 1609860 (44874) 6005033 (44913) 4441746 (44893) 8395367 (44860) 3941607 (44878) 3857088 (44896) 9276548 (44880) 1370582 (44857) 7452542 (44920) 8780214 (44898) 
     dis: 	98690.070 107976.781 108264.734 114474.594 123183.562 127904.781 132097.406 134294.875 141886.094 157369.359 
query 1 nn's (42821, 42920): 7957648 (42897) 8453351 (42853) 4754171 (42830) 1565098 (42885) 4062412 (42832) 5498897 (42903) 2836390 (42856) 8245003 (42875) 4833893 (42841) 1654402 (42880) 
     dis: 	81398.016 85152.828 85710.414 94464.375 95848.938 101654.062 106878.703 125860.922 127058.211 135567.656 
query 2 nn's (13165, 13264): 2858053 (13240) 4306175 (13182) 5121329 (13223) 3494307 (13167) 342160 (13197) 3380755 (13173) 5928403 (13190) 170142 (13196) 2399385 (13226) 4985003 (13238) 
     dis: 	63257.051 69785.609 70671.016 71208.359 73531.188 75943.695 85335.734 87669.445 93615.312 97143.312 
query 3 nn's (25839, 25938): 6617844 (25931) 8283506 (25901) 5530477 (25921) 7342247 (25846) 7055827 (25927) 8659845 (25920) 5296853 (25897) 8028650 (25915) 4159403 (25842) 1409445 (25871) 
     dis: 	20140.846 23899.230 23905.592 27705.129 32127.055 38122.438 39694.273 41444.648 41836.758 46541.406 
query 4 nn's (45629, 45728): 2160380 (45685) 1253413 (45668) 3124161 (45639) 625529 (45723) 619740 (45674) 2098355 (45685) 8354165 (45727) 2788136 (45671) 9209147 (45667) 7658211 (45635) 
     dis: 	100780.898 102885.422 112926.922 124023.289 125715.203 133111.125 140306.953 149201.734 167142.438 168935.938 
[ 79.946s ] *** Query time: 12.490
qps: 800.639
 *** ivfpq recall 
ivfpq get 27783 postive res from 100000 results, recall@10:0.278
recall dist(10% per bucket): 0.109 0.212 0.215 0.171 0.104 0.069 0.047 0.030 0.020 0.014 0.008 
finished ivfpq index examples
[ 79.949s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 10 128"
	User time (seconds): 77.20
	System time (seconds): 2.97
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:20.18
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3023780
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1079261
	Voluntary context switches: 1
	Involuntary context switches: 105
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
