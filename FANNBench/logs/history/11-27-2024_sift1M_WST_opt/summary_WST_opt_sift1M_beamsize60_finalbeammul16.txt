Start time: 18:09
Start time: 18:09
Start time: 18:09
Start time: 18:09
Start time: 18:09
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_8_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_8_random/
mode:  query
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_8_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_8_random/
mode:  query
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_8_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_8_random/
mode:  query
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_8_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_8_random/
mode:  query
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_8_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_8_random/
mode:  query
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_8_random/
mode: query
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_8_random/
mode: query
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_8_random/
mode: query
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_8_random/
mode: query
 building tree
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_8_random/
mode: query
new num buckets 3
 building tree
new num buckets 3
new num buckets 7
 building tree
 building tree
new num buckets 7
 building tree
new num buckets 15
new num buckets 3
new num buckets 3
new num buckets 3
new num buckets 15
new num buckets 31
new num buckets 7
new num buckets 7
new num buckets 7
new num buckets 31
new num buckets 63
new num buckets 15
new num buckets 15
new num buckets 15
new num buckets 63
new num buckets 127
new num buckets 31
new num buckets 31
new num buckets 255
new num buckets 127
new num buckets 31
new num buckets 63
new num buckets 511
new num buckets 63
new num buckets 255
new num buckets 63
new num buckets 1023
new num buckets 127
new num buckets 511
new num buckets 127
new num buckets 2044
new num buckets 127
new num buckets 255
new num buckets 1023
 tree construction suc
Super optimized postfilter tree build time: 12.664s
Super optimized postfilter tree build time: 12.664s
beam sizes: [60]
final multiplies: [16]
using this batch search4 
new num buckets 255
new num buckets 255
new num buckets 511
new num buckets 2044
 tree construction suc
Super optimized postfilter tree build time: 13.682s
Super optimized postfilter tree build time: 13.682s
beam sizes: [60]
final multiplies: [16]
using this batch search4 
new num buckets 511
new num buckets 511
new num buckets 1023
new num buckets 1023
new num buckets 2044
new num buckets 1023
new num buckets 2044
 tree construction suc
Super optimized postfilter tree build time: 14.750s
Super optimized postfilter tree build time: 14.751s
beam sizes: [60]
final multiplies: [16]
using this batch search4 
new num buckets 2044
 tree construction suc
Super optimized postfilter tree build time: 15.995s
Super optimized postfilter tree build time: 15.996s
beam sizes: [60]
final multiplies: [16]
using this batch search4 
 tree construction suc
Super optimized postfilter tree build time: 15.355s
Super optimized postfilter tree build time: 15.355s
beam sizes: [60]
final multiplies: [16]
using this batch search4 
total point comp 168728604
avg comp:16872.9
beam size: 60 , final_beam_multiply: 16
qps: 82.47986056714504
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_60_16', 0.592300000000001, 121.24171805381775, 12.664474248886108, 2.0, 6.361488342285156)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift1M --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift/sift_base.fvecs --query_file /mnt/data/mocheng/dataset/sift/sift_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json --qrange_file /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json --gt_file /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json --output_file /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_8_random.csv --index_prefix /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_8_random/ --top_k 10 --super_opt_postfiltering --threads 1 --beam_search_size 60 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 105.26
	System time (seconds): 11.74
	Percent of CPU this job got: 84%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:18.76
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7708500
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 4090163
	Voluntary context switches: 189
	Involuntary context switches: 7929
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
total point comp 168728604
avg comp:16872.9
beam size: 60 , final_beam_multiply: 16
qps: 81.1592747787652
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_60_16', 0.592300000000001, 123.21450662612915, 14.750523805618286, 2.0, 6.361171722412109)
total point comp 168728604
avg comp:16872.9
beam size: 60 , final_beam_multiply: 16
qps: 80.96376371117464
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_60_16', 0.592300000000001, 123.51204466819763, 15.99588394165039, 2.0, 6.362281799316406)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift1M --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift/sift_base.fvecs --query_file /mnt/data/mocheng/dataset/sift/sift_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json --qrange_file /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json --gt_file /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json --output_file /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_8_random.csv --index_prefix /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_8_random/ --top_k 10 --super_opt_postfiltering --threads 1 --beam_search_size 60 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 104.76
	System time (seconds): 14.31
	Percent of CPU this job got: 82%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:24.44
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7708472
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 6172553
	Voluntary context switches: 174
	Involuntary context switches: 9097
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift1M --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift/sift_base.fvecs --query_file /mnt/data/mocheng/dataset/sift/sift_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json --qrange_file /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json --gt_file /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json --output_file /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_8_random.csv --index_prefix /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_8_random/ --top_k 10 --super_opt_postfiltering --threads 1 --beam_search_size 60 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 104.77
	System time (seconds): 13.82
	Percent of CPU this job got: 81%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:25.32
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7709940
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 6095419
	Voluntary context switches: 208
	Involuntary context switches: 8972
	Swaps: 0
	File system inputs: 0
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
total point comp 168728604
avg comp:16872.9
beam size: 60 , final_beam_multiply: 16
qps: 77.6962919327676
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_60_16', 0.592300000000001, 128.70627093315125, 13.68216061592102, 2.0, 6.361164093017578)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift1M --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift/sift_base.fvecs --query_file /mnt/data/mocheng/dataset/sift/sift_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json --qrange_file /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json --gt_file /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json --output_file /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_8_random.csv --index_prefix /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_8_random/ --top_k 10 --super_opt_postfiltering --threads 1 --beam_search_size 60 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 107.16
	System time (seconds): 14.59
	Percent of CPU this job got: 82%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:28.09
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7709280
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 5781853
	Voluntary context switches: 212
	Involuntary context switches: 9060
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
total point comp 168728604
avg comp:16872.9
beam size: 60 , final_beam_multiply: 16
qps: 77.52615045796547
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_60_16', 0.592300000000001, 128.9887340068817, 15.355042695999146, 2.0, 6.362281799316406)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift1M --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift/sift_base.fvecs --query_file /mnt/data/mocheng/dataset/sift/sift_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json --qrange_file /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json --gt_file /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json --output_file /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_8_random.csv --index_prefix /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_8_random/ --top_k 10 --super_opt_postfiltering --threads 1 --beam_search_size 60 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 107.38
	System time (seconds): 13.44
	Percent of CPU this job got: 80%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:30.98
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7708892
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 5582011
	Voluntary context switches: 199
	Involuntary context switches: 10697
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 18:11
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_8_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_8_random/
mode:  query
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_8_random/
mode: query
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2044
 tree construction suc
Super optimized postfilter tree build time: 17.065s
Super optimized postfilter tree build time: 17.066s
beam sizes: [60]
final multiplies: [16]
using this batch search4 
total point comp 168728604
avg comp:16872.9
beam size: 60 , final_beam_multiply: 16
qps: 67.76680880228142
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_60_16', 0.592300000000001, 147.5648651123047, 17.065853595733643, 2.0, 6.354991912841797)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift1M --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift/sift_base.fvecs --query_file /mnt/data/mocheng/dataset/sift/sift_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json --qrange_file /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json --gt_file /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json --output_file /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_8_random.csv --index_prefix /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_8_random/ --top_k 10 --super_opt_postfiltering --threads 1 --beam_search_size 60 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 111.76
	System time (seconds): 17.63
	Percent of CPU this job got: 75%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:50.46
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7701892
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 8322763
	Voluntary context switches: 197
	Involuntary context switches: 10865
	Swaps: 0
	File system inputs: 0
	File system outputs: 56
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
