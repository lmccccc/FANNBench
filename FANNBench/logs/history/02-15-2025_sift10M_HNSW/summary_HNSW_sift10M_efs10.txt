Start time: 00:57
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_20000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_20000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.742s ] Loaded metadata, 10000000 attr's found
[ 0.742s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.745s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.766s ] Loaded 10000 sift10M queries
[ 0.811s ] Loaded ground truth, gt_size: 10
[ 0.811s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 16.961s ] Searching the 10 nearest neighbors of 10000 vectors in the index
Start time: 02:57
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_20000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_20000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.715s ] Loaded metadata, 10000000 attr's found
[ 0.715s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.718s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.719s ] Loaded 10000 sift10M queries
[ 0.727s ] Loaded ground truth, gt_size: 10
[ 0.727s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.880s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.200
[ 483.919s ] Query results (vector ids, then distances):
query 0 nn's (69511, 89510): -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (75084, 95083): -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (20528, 40527): -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (50565, 70564): -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (27670, 47669): -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 483.919s ] *** Query time: 11.237
qps: 889.943
 *** HNSW recall 
HNSW get 5 postive res from 100000 results, recall@10:0.000
recall dist(10% per bucket): 1.000 0.001 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 9093692, average: 909.369
finished ivfpq index examples
[ 483.920s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_20000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_20000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 10 128"
	User time (seconds): 475.66
	System time (seconds): 8.77
	Percent of CPU this job got: 100%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 8:04.43
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8360868
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2104097
	Voluntary context switches: 1
	Involuntary context switches: 227
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:07
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_30000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_30000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.715s ] Loaded metadata, 10000000 attr's found
[ 0.715s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.719s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.778s ] Loaded 10000 sift10M queries
[ 0.786s ] Loaded ground truth, gt_size: 10
[ 0.786s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.929s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.300
[ 539.673s ] Query results (vector ids, then distances):
query 0 nn's (26072, 56071): -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (49523, 79522): -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (24174, 54173): -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (25028, 55027): -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (33134, 63133): -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 539.673s ] *** Query time: 16.225
qps: 616.334
 *** HNSW recall 
HNSW get 9 postive res from 100000 results, recall@10:0.000
recall dist(10% per bucket): 0.999 0.001 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 9093692, average: 909.369
finished ivfpq index examples
[ 539.675s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_30000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_30000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 10 128"
	User time (seconds): 527.03
	System time (seconds): 13.51
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 9:00.62
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8360868
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3423598
	Voluntary context switches: 8
	Involuntary context switches: 735
	Swaps: 0
	File system inputs: 24
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:18
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_20000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_20000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.720s ] Loaded metadata, 10000000 attr's found
[ 0.720s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.723s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.724s ] Loaded 10000 sift10M queries
[ 0.732s ] Loaded ground truth, gt_size: 10
[ 0.732s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.740s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.200
[ 87.880s ] Query results (vector ids, then distances):
query 0 nn's (69511, 89510): 5284494 (77667) 8191903 (80886) 8606715 (70899) 6777756 (78948) 2078396 (73377) 2992273 (83347) 6648721 (82166) 5368660 (70007) 4627859 (72574) 668906 (75830) 
     dis: 	73728.000 78749.000 80125.000 80573.000 81711.000 84073.000 84842.000 85365.000 86576.000 87253.000 
query 1 nn's (75084, 95083): 5552416 (78513) 4907604 (92608) 1263214 (92124) 1745130 (81239) 1526669 (94819) 2002301 (75474) 9577495 (76725) 5724370 (87559) 8223991 (85939) 9553578 (91160) 
     dis: 	42944.000 46066.000 47608.000 54734.000 58488.000 59534.000 60725.000 61330.000 61426.000 63382.000 
query 2 nn's (20528, 40527): 289025 (23641) 4279056 (31979) 4154052 (32764) 2448858 (26319) 1198061 (39524) 3795529 (39233) 9330360 (23016) 4259715 (27472) 2038327 (32825) 1700496 (39753) 
     dis: 	48416.000 52719.000 53029.000 53034.000 54288.000 56262.000 56319.000 57942.000 58701.000 59681.000 
query 3 nn's (50565, 70564): 980813 (57404) 6151275 (54227) 8410503 (57593) 2965607 (50671) 7301932 (58021) 1417424 (52791) 3041965 (53918) 727241 (54631) 8649378 (64804) 1739894 (59501) 
     dis: 	4296.000 4602.000 4817.000 5013.000 5240.000 5643.000 6095.000 6237.000 6468.000 6845.000 
query 4 nn's (27670, 47669): 9958618 (32063) 6578584 (38818) 935279 (38708) 3839204 (40859) 6116720 (45903) 1784595 (44244) 1838616 (30045) 797235 (41978) 2528505 (42180) 8305984 (32738) 
     dis: 	80415.000 82172.000 91951.000 94216.000 97494.000 97615.000 97745.000 98154.000 99006.000 100152.000 
[ 87.880s ] *** Query time: 13.033
qps: 767.310
 *** HNSW recall 
HNSW get 59980 postive res from 100000 results, recall@10:0.600
recall dist(10% per bucket): 0.002 0.013 0.036 0.075 0.116 0.152 0.175 0.173 0.138 0.091 0.028 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 9093692, average: 909.369
finished ivfpq index examples
[ 87.881s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_20000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_20000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 10 128"
	User time (seconds): 81.66
	System time (seconds): 6.76
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:28.42
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8359848
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2104102
	Voluntary context switches: 1
	Involuntary context switches: 62
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:21
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_30000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_30000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.719s ] Loaded metadata, 10000000 attr's found
[ 0.719s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.723s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.724s ] Loaded 10000 sift10M queries
[ 0.732s ] Loaded ground truth, gt_size: 10
[ 0.732s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.851s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.300
[ 96.129s ] Query results (vector ids, then distances):
query 0 nn's (26072, 56071): 6141318 (31677) 1160663 (44937) 2375126 (35044) 9860956 (45915) 6871531 (32699) 6009021 (45302) 476293 (42096) 3409110 (29194) 6865307 (40092) 6436545 (27643) 
     dis: 	73183.000 74292.000 79929.000 82276.000 84002.000 86034.000 86891.000 87631.000 88343.000 88420.000 
query 1 nn's (49523, 79522): 8449497 (70727) 5552416 (78513) 4234271 (59540) 1233453 (72165) 9492445 (65346) 8349375 (52325) 1120308 (58129) 7343838 (71952) 5509879 (56316) 6073626 (52753) 
     dis: 	32633.000 42944.000 44439.000 48662.000 48691.000 49997.000 52532.000 54601.000 56959.000 57111.000 
query 2 nn's (24174, 54173): 5055964 (53394) 5982237 (43009) 3493381 (41222) 7500565 (53476) 4279056 (31979) 4154052 (32764) 2448858 (26319) 40266 (43315) 1198061 (39524) 5035777 (42804) 
     dis: 	42316.000 50144.000 51043.000 51634.000 52719.000 53029.000 53034.000 53080.000 54288.000 55983.000 
query 3 nn's (25028, 55027): 4083199 (37081) 2205832 (41999) 6151275 (54227) 2965607 (50671) 3643741 (49824) 1417424 (52791) 2358683 (37303) 3459738 (36966) 3041965 (53918) 727241 (54631) 
     dis: 	3910.000 4343.000 4602.000 5013.000 5279.000 5643.000 5694.000 5862.000 6095.000 6237.000 
query 4 nn's (33134, 63133): 6578584 (38818) 3832333 (60859) 935279 (38708) 6699578 (59103) 3839204 (40859) 5475257 (51556) 8296728 (49670) 6116720 (45903) 1784595 (44244) 797235 (41978) 
     dis: 	82172.000 87409.000 91951.000 94180.000 94216.000 95165.000 96677.000 97494.000 97615.000 98154.000 
[ 96.129s ] *** Query time: 19.896
qps: 502.624
 *** HNSW recall 
HNSW get 64255 postive res from 100000 results, recall@10:0.643
recall dist(10% per bucket): 0.002 0.009 0.027 0.059 0.091 0.135 0.164 0.173 0.168 0.122 0.051 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 9093692, average: 909.369
finished ivfpq index examples
[ 96.130s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_30000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_30000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 10 128"
	User time (seconds): 83.58
	System time (seconds): 13.56
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:37.18
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8359844
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3485916
	Voluntary context switches: 1
	Involuntary context switches: 160
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:24
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_40000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_40000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.724s ] Loaded metadata, 10000000 attr's found
[ 0.724s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.727s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.729s ] Loaded 10000 sift10M queries
[ 0.736s ] Loaded ground truth, gt_size: 10
[ 0.736s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.779s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.400
[ 89.407s ] Query results (vector ids, then distances):
query 0 nn's (24508, 64507): 6141318 (31677) 1160663 (44937) 7632021 (61505) 2375126 (35044) 9860956 (45915) 6871531 (32699) 7237592 (57273) 6009021 (45302) 476293 (42096) 6392245 (58867) 
     dis: 	73183.000 74292.000 75587.000 79929.000 82276.000 84002.000 84487.000 86034.000 86891.000 87576.000 
query 1 nn's (6180, 46179): 285986 (29147) 1273419 (33970) 411491 (28374) 3221056 (31139) 469965 (40746) 9958454 (20815) 7917424 (30836) 9009284 (43025) 371485 (21478) 7331745 (31011) 
     dis: 	43778.000 46522.000 46959.000 49695.000 50753.000 51055.000 52837.000 52935.000 54431.000 54968.000 
query 2 nn's (5082, 45081): 4588082 (5850) 1931585 (19001) 289025 (23641) 5982237 (43009) 9262583 (10127) 3493381 (41222) 4279056 (31979) 9410320 (17475) 4154052 (32764) 2448858 (26319) 
     dis: 	47637.000 48317.000 48416.000 50144.000 50601.000 51043.000 52719.000 52939.000 53029.000 53034.000 
query 3 nn's (12841, 52840): 4083199 (37081) 2205832 (41999) 2965607 (50671) 3643741 (49824) 1985932 (17806) 1417424 (52791) 2358683 (37303) 3459738 (36966) 1124016 (32722) 9010353 (25959) 
     dis: 	3910.000 4343.000 5013.000 5279.000 5371.000 5643.000 5694.000 5862.000 6290.000 6311.000 
query 4 nn's (24316, 64315): 9958618 (32063) 6578584 (38818) 3832333 (60859) 5709057 (27466) 935279 (38708) 6699578 (59103) 3839204 (40859) 5475257 (51556) 8296728 (49670) 6116720 (45903) 
     dis: 	80415.000 82172.000 87409.000 89153.000 91951.000 94180.000 94216.000 95165.000 96677.000 97494.000 
[ 89.407s ] *** Query time: 13.681
qps: 730.950
 *** HNSW recall 
HNSW get 67147 postive res from 100000 results, recall@10:0.671
recall dist(10% per bucket): 0.002 0.008 0.021 0.046 0.078 0.120 0.155 0.169 0.177 0.149 0.074 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 9093692, average: 909.369
finished ivfpq index examples
[ 89.408s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_40000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_40000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 10 128"
	User time (seconds): 83.15
	System time (seconds): 6.79
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:29.95
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8359848
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2104119
	Voluntary context switches: 1
	Involuntary context switches: 121
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:27
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.723s ] Loaded metadata, 10000000 attr's found
[ 0.723s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.727s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.728s ] Loaded 10000 sift10M queries
[ 0.736s ] Loaded ground truth, gt_size: 10
[ 0.736s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.876s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 96.011s ] Query results (vector ids, then distances):
query 0 nn's (16495, 66494): 1167995 (22866) 6141318 (31677) 1160663 (44937) 7632021 (61505) 2375126 (35044) 9860956 (45915) 9534078 (23152) 6871531 (32699) 7237592 (57273) 7459877 (65985) 
     dis: 	72023.000 73183.000 74292.000 75587.000 79929.000 82276.000 83197.000 84002.000 84487.000 84945.000 
query 1 nn's (9202, 59201): 285986 (29147) 1273419 (33970) 411491 (28374) 3221056 (31139) 8349375 (52325) 469965 (40746) 9958454 (20815) 1120308 (58129) 7917424 (30836) 9009284 (43025) 
     dis: 	43778.000 46522.000 46959.000 49695.000 49997.000 50753.000 51055.000 52532.000 52837.000 52935.000 
query 2 nn's (3185, 53184): 4588082 (5850) 1931585 (19001) 289025 (23641) 5982237 (43009) 9262583 (10127) 3493381 (41222) 4279056 (31979) 9410320 (17475) 4154052 (32764) 2448858 (26319) 
     dis: 	47637.000 48317.000 48416.000 50144.000 50601.000 51043.000 52719.000 52939.000 53029.000 53034.000 
query 3 nn's (49315, 99314): 980813 (57404) 1527942 (96648) 4147780 (96552) 6151275 (54227) 8410503 (57593) 2965607 (50671) 8174765 (80882) 7301932 (58021) 3643741 (49824) 1218934 (95625) 
     dis: 	4296.000 4309.000 4550.000 4602.000 4817.000 5013.000 5180.000 5240.000 5279.000 5468.000 
query 4 nn's (35866, 85865): 6578584 (38818) 3692806 (78743) 3832333 (60859) 8630333 (78134) 5117098 (71983) 2989150 (73723) 935279 (38708) 3016662 (80615) 64045 (81996) 6699578 (59103) 
     dis: 	82172.000 86927.000 87409.000 88437.000 89682.000 91566.000 91951.000 92881.000 93643.000 94180.000 
[ 96.012s ] *** Query time: 15.160
qps: 659.640
 *** HNSW recall 
HNSW get 69277 postive res from 100000 results, recall@10:0.693
recall dist(10% per bucket): 0.001 0.008 0.018 0.037 0.073 0.103 0.151 0.163 0.186 0.164 0.095 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 9093692, average: 909.369
finished ivfpq index examples
[ 96.012s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 10 128"
	User time (seconds): 89.47
	System time (seconds): 7.14
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:36.62
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8360872
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2104098
	Voluntary context switches: 2
	Involuntary context switches: 95
	Swaps: 0
	File system inputs: 784
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:30
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_60000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_60000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.723s ] Loaded metadata, 10000000 attr's found
[ 0.723s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.727s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.752s ] Loaded 10000 sift10M queries
[ 0.762s ] Loaded ground truth, gt_size: 10
[ 0.762s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.736s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.600
[ 86.993s ] Query results (vector ids, then distances):
query 0 nn's (20459, 80458): 1167995 (22866) 6141318 (31677) 5284494 (77667) 1160663 (44937) 7632021 (61505) 2375126 (35044) 8606715 (70899) 6777756 (78948) 2078396 (73377) 9860956 (45915) 
     dis: 	72023.000 73183.000 73728.000 74292.000 75587.000 79929.000 80125.000 80573.000 81711.000 82276.000 
query 1 nn's (23124, 83123): 8449497 (70727) 5552416 (78513) 285986 (29147) 4234271 (59540) 1273419 (33970) 411491 (28374) 1233453 (72165) 9492445 (65346) 3221056 (31139) 8349375 (52325) 
     dis: 	32633.000 42944.000 43778.000 44439.000 46522.000 46959.000 48662.000 48691.000 49695.000 49997.000 
query 2 nn's (14616, 74615): 5055964 (53394) 1931585 (19001) 289025 (23641) 237844 (57153) 5982237 (43009) 3493381 (41222) 5637368 (66689) 7500565 (53476) 4279056 (31979) 9410320 (17475) 
     dis: 	42316.000 48317.000 48416.000 49294.000 50144.000 51043.000 51405.000 51634.000 52719.000 52939.000 
query 3 nn's (26331, 86330): 4083199 (37081) 980813 (57404) 2205832 (41999) 6151275 (54227) 8410503 (57593) 2965607 (50671) 8174765 (80882) 7301932 (58021) 3643741 (49824) 5124856 (83202) 
     dis: 	3910.000 4296.000 4343.000 4602.000 4817.000 5013.000 5180.000 5240.000 5279.000 5492.000 
query 4 nn's (13353, 73352): 9958618 (32063) 6578584 (38818) 4366121 (17839) 3832333 (60859) 9001755 (17738) 5709057 (27466) 5117098 (71983) 935279 (38708) 6699578 (59103) 3839204 (40859) 
     dis: 	80415.000 82172.000 86842.000 87409.000 87905.000 89153.000 89682.000 91951.000 94180.000 94216.000 
[ 86.993s ] *** Query time: 13.282
qps: 752.883
 *** HNSW recall 
HNSW get 70893 postive res from 100000 results, recall@10:0.709
recall dist(10% per bucket): 0.002 0.006 0.016 0.033 0.065 0.099 0.137 0.171 0.180 0.175 0.116 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 9093692, average: 909.369
finished ivfpq index examples
[ 86.994s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_60000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_60000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 10 128"
	User time (seconds): 80.75
	System time (seconds): 6.75
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:27.54
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8359844
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2104099
	Voluntary context switches: 9
	Involuntary context switches: 105
	Swaps: 0
	File system inputs: 376
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:33
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_70000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_70000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.723s ] Loaded metadata, 10000000 attr's found
[ 0.723s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.727s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.729s ] Loaded 10000 sift10M queries
[ 0.736s ] Loaded ground truth, gt_size: 10
[ 0.736s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.589s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.700
[ 89.182s ] Query results (vector ids, then distances):
query 0 nn's (24939, 94938): 6141318 (31677) 5284494 (77667) 1160663 (44937) 7632021 (61505) 8191903 (80886) 2375126 (35044) 8606715 (70899) 6777756 (78948) 2078396 (73377) 9860956 (45915) 
     dis: 	73183.000 73728.000 74292.000 75587.000 78749.000 79929.000 80125.000 80573.000 81711.000 82276.000 
query 1 nn's (17554, 87553): 8449497 (70727) 5552416 (78513) 285986 (29147) 4234271 (59540) 1273419 (33970) 411491 (28374) 1233453 (72165) 9492445 (65346) 3221056 (31139) 8349375 (52325) 
     dis: 	32633.000 42944.000 43778.000 44439.000 46522.000 46959.000 48662.000 48691.000 49695.000 49997.000 
query 2 nn's (24671, 94670): 5055964 (53394) 3900297 (84319) 8667807 (91616) 237844 (57153) 5982237 (43009) 3493381 (41222) 5637368 (66689) 7500565 (53476) 4279056 (31979) 4154052 (32764) 
     dis: 	42316.000 43033.000 47988.000 49294.000 50144.000 51043.000 51405.000 51634.000 52719.000 53029.000 
query 3 nn's (13579, 83578): 4083199 (37081) 980813 (57404) 2205832 (41999) 6151275 (54227) 8410503 (57593) 2965607 (50671) 8174765 (80882) 7301932 (58021) 3643741 (49824) 1985932 (17806) 
     dis: 	3910.000 4296.000 4343.000 4602.000 4817.000 5013.000 5180.000 5240.000 5279.000 5371.000 
query 4 nn's (9345, 79344): 9958618 (32063) 6578584 (38818) 6062843 (12948) 4366121 (17839) 3692806 (78743) 3832333 (60859) 9001755 (17738) 8630333 (78134) 5709057 (27466) 5117098 (71983) 
     dis: 	80415.000 82172.000 84746.000 86842.000 86927.000 87409.000 87905.000 88437.000 89153.000 89682.000 
[ 89.182s ] *** Query time: 13.604
qps: 735.104
 *** HNSW recall 
HNSW get 72188 postive res from 100000 results, recall@10:0.722
recall dist(10% per bucket): 0.002 0.006 0.013 0.035 0.060 0.089 0.126 0.161 0.192 0.182 0.134 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 9093692, average: 909.369
finished ivfpq index examples
[ 89.182s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_70000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_70000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 10 128"
	User time (seconds): 83.09
	System time (seconds): 6.63
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:29.73
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8360868
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 3
	Minor (reclaiming a frame) page faults: 2104139
	Voluntary context switches: 12
	Involuntary context switches: 66
	Swaps: 0
	File system inputs: 40
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:36
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_80000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_80000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.720s ] Loaded metadata, 10000000 attr's found
[ 0.720s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.724s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.726s ] Loaded 10000 sift10M queries
[ 0.733s ] Loaded ground truth, gt_size: 10
[ 0.733s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.650s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.800
[ 88.924s ] Query results (vector ids, then distances):
query 0 nn's (3090, 83089): 1167995 (22866) 7364551 (11748) 6141318 (31677) 5284494 (77667) 1160663 (44937) 7632021 (61505) 6346833 (6738) 8191903 (80886) 2375126 (35044) 2923944 (13558) 
     dis: 	72023.000 72592.000 73183.000 73728.000 74292.000 75587.000 76136.000 78749.000 79929.000 79984.000 
query 1 nn's (8794, 88793): 8449497 (70727) 5552416 (78513) 285986 (29147) 4234271 (59540) 1273419 (33970) 411491 (28374) 1233453 (72165) 9492445 (65346) 3221056 (31139) 8349375 (52325) 
     dis: 	32633.000 42944.000 43778.000 44439.000 46522.000 46959.000 48662.000 48691.000 49695.000 49997.000 
query 2 nn's (5620, 85619): 5055964 (53394) 3900297 (84319) 4588082 (5850) 1931585 (19001) 289025 (23641) 237844 (57153) 5982237 (43009) 9262583 (10127) 3493381 (41222) 5637368 (66689) 
     dis: 	42316.000 43033.000 47637.000 48317.000 48416.000 49294.000 50144.000 50601.000 51043.000 51405.000 
query 3 nn's (8898, 88897): 4083199 (37081) 980813 (57404) 2205832 (41999) 6151275 (54227) 8410503 (57593) 2965607 (50671) 8174765 (80882) 7301932 (58021) 3643741 (49824) 1985932 (17806) 
     dis: 	3910.000 4296.000 4343.000 4602.000 4817.000 5013.000 5180.000 5240.000 5279.000 5371.000 
query 4 nn's (10175, 90174): 3918536 (86314) 9958618 (32063) 6578584 (38818) 6062843 (12948) 4366121 (17839) 3692806 (78743) 3832333 (60859) 9001755 (17738) 8630333 (78134) 5709057 (27466) 
     dis: 	78379.000 80415.000 82172.000 84746.000 86842.000 86927.000 87409.000 87905.000 88437.000 89153.000 
[ 88.924s ] *** Query time: 13.464
qps: 742.748
 *** HNSW recall 
HNSW get 73152 postive res from 100000 results, recall@10:0.732
recall dist(10% per bucket): 0.002 0.006 0.014 0.028 0.060 0.082 0.124 0.155 0.191 0.193 0.145 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 9093692, average: 909.369
finished ivfpq index examples
[ 88.925s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_80000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_80000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 10 128"
	User time (seconds): 82.73
	System time (seconds): 6.74
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:29.48
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8359848
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 2104143
	Voluntary context switches: 5
	Involuntary context switches: 53
	Swaps: 0
	File system inputs: 8
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:39
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_90000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_90000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.719s ] Loaded metadata, 10000000 attr's found
[ 0.719s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.722s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.724s ] Loaded 10000 sift10M queries
[ 0.731s ] Loaded ground truth, gt_size: 10
[ 0.731s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.858s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.900
[ 96.828s ] Query results (vector ids, then distances):
query 0 nn's (6392, 96391): 1167995 (22866) 7364551 (11748) 6141318 (31677) 5284494 (77667) 1160663 (44937) 7632021 (61505) 6346833 (6738) 8191903 (80886) 2375126 (35044) 2923944 (13558) 
     dis: 	72023.000 72592.000 73183.000 73728.000 74292.000 75587.000 76136.000 78749.000 79929.000 79984.000 
query 1 nn's (1875, 91874): 8449497 (70727) 5552416 (78513) 285986 (29147) 4234271 (59540) 1273419 (33970) 411491 (28374) 1233453 (72165) 9492445 (65346) 3221056 (31139) 8349375 (52325) 
     dis: 	32633.000 42944.000 43778.000 44439.000 46522.000 46959.000 48662.000 48691.000 49695.000 49997.000 
query 2 nn's (1435, 91434): 5055964 (53394) 3900297 (84319) 4588082 (5850) 1931585 (19001) 289025 (23641) 237844 (57153) 5982237 (43009) 9262583 (10127) 3493381 (41222) 5637368 (66689) 
     dis: 	42316.000 43033.000 47637.000 48317.000 48416.000 49294.000 50144.000 50601.000 51043.000 51405.000 
query 3 nn's (8865, 98864): 4083199 (37081) 980813 (57404) 1527942 (96648) 2205832 (41999) 4147780 (96552) 6151275 (54227) 8410503 (57593) 2965607 (50671) 8174765 (80882) 7301932 (58021) 
     dis: 	3910.000 4296.000 4309.000 4343.000 4550.000 4602.000 4817.000 5013.000 5180.000 5240.000 
query 4 nn's (4851, 94850): 3918536 (86314) 9958618 (32063) 6578584 (38818) 1751938 (90610) 6062843 (12948) 4366121 (17839) 3692806 (78743) 3832333 (60859) 9001755 (17738) 8630333 (78134) 
     dis: 	78379.000 80415.000 82172.000 84283.000 84746.000 86842.000 86927.000 87409.000 87905.000 88437.000 
[ 96.828s ] *** Query time: 15.529
qps: 643.951
 *** HNSW recall 
HNSW get 73945 postive res from 100000 results, recall@10:0.739
recall dist(10% per bucket): 0.002 0.005 0.013 0.028 0.053 0.085 0.117 0.155 0.188 0.196 0.159 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 9093692, average: 909.369
finished ivfpq index examples
[ 96.829s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_90000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_90000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 10 128"
	User time (seconds): 90.38
	System time (seconds): 7.11
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:37.49
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8360868
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2104104
	Voluntary context switches: 3
	Involuntary context switches: 191
	Swaps: 0
	File system inputs: 488
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:42
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.717s ] Loaded metadata, 10000000 attr's found
[ 0.717s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.721s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.722s ] Loaded 10000 sift10M queries
[ 0.730s ] Loaded ground truth, gt_size: 10
[ 0.730s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.859s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 1.000
[ 96.120s ] Query results (vector ids, then distances):
query 0 nn's (0, 99999): 1167995 (22866) 7364551 (11748) 6141318 (31677) 5284494 (77667) 1160663 (44937) 7632021 (61505) 6346833 (6738) 7468388 (1195) 8191903 (80886) 2375126 (35044) 
     dis: 	72023.000 72592.000 73183.000 73728.000 74292.000 75587.000 76136.000 77229.000 78749.000 79929.000 
query 1 nn's (0, 99999): 8449497 (70727) 5552416 (78513) 285986 (29147) 4234271 (59540) 4907604 (92608) 1273419 (33970) 411491 (28374) 1263214 (92124) 1233453 (72165) 9492445 (65346) 
     dis: 	32633.000 42944.000 43778.000 44439.000 46066.000 46522.000 46959.000 47608.000 48662.000 48691.000 
query 2 nn's (0, 99999): 5055964 (53394) 3900297 (84319) 4588082 (5850) 8667807 (91616) 1931585 (19001) 289025 (23641) 237844 (57153) 5982237 (43009) 9262583 (10127) 3493381 (41222) 
     dis: 	42316.000 43033.000 47637.000 47988.000 48317.000 48416.000 49294.000 50144.000 50601.000 51043.000 
query 3 nn's (0, 99999): 4083199 (37081) 980813 (57404) 1527942 (96648) 2205832 (41999) 4147780 (96552) 6151275 (54227) 8410503 (57593) 2965607 (50671) 8174765 (80882) 7301932 (58021) 
     dis: 	3910.000 4296.000 4309.000 4343.000 4550.000 4602.000 4817.000 5013.000 5180.000 5240.000 
query 4 nn's (0, 99999): 7091990 (97224) 3918536 (86314) 9958618 (32063) 6578584 (38818) 1751938 (90610) 6062843 (12948) 4366121 (17839) 3692806 (78743) 3832333 (60859) 9001755 (17738) 
     dis: 	77167.000 78379.000 80415.000 82172.000 84283.000 84746.000 86842.000 86927.000 87409.000 87905.000 
[ 96.120s ] *** Query time: 15.445
qps: 647.478
 *** HNSW recall 
HNSW get 74649 postive res from 100000 results, recall@10:0.746
recall dist(10% per bucket): 0.002 0.005 0.013 0.027 0.049 0.081 0.113 0.149 0.191 0.201 0.169 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 9093692, average: 909.369
finished ivfpq index examples
[ 96.121s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 10 128"
	User time (seconds): 89.64
	System time (seconds): 7.05
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:36.70
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8360860
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2104099
	Voluntary context switches: 1
	Involuntary context switches: 82
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:48
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.717s ] Loaded metadata, 10000000 attr's found
[ 0.717s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.721s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.722s ] Loaded 10000 sift10M queries
[ 0.730s ] Loaded ground truth, gt_size: 10
[ 0.730s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.945s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 95.836s ] Query results (vector ids, then distances):
query 0 nn's (30338, 40337): 6141318 (31677) 2375126 (35044) 6871531 (32699) 6865307 (40092) 944203 (37091) 3947830 (38978) 746007 (34895) 8200051 (35846) 9099555 (39603) 7907051 (32852) 
     dis: 	73183.000 79929.000 84002.000 88343.000 89498.000 90800.000 92033.000 93709.000 93802.000 94922.000 
query 1 nn's (77037, 87036): 5552416 (78513) 1745130 (81239) 8223991 (85939) 3200275 (77568) 1015812 (81428) 1410399 (79450) 9460541 (85631) 9329945 (82932) 6363708 (86935) 4082654 (81611) 
     dis: 	42944.000 54734.000 61426.000 64056.000 64480.000 64505.000 65602.000 70708.000 70710.000 71063.000 
query 2 nn's (55705, 65704): 237844 (57153) 8455929 (59448) 4665202 (65519) 6114289 (59111) 5596868 (58496) 2723946 (57827) 4542872 (61400) 8051890 (56266) 3224964 (61887) 4647083 (61889) 
     dis: 	49294.000 53383.000 53809.000 56627.000 57613.000 58328.000 58989.000 59334.000 60035.000 60225.000 
query 3 nn's (68256, 78255): 6411621 (75479) 4246457 (73056) 1514080 (69970) 9577990 (76369) 8051314 (74322) 179529 (69049) 9625994 (68515) 9603354 (76938) 4983026 (77570) 7463079 (77126) 
     dis: 	5998.000 6981.000 7171.000 7282.000 7644.000 7708.000 7825.000 7841.000 8247.000 8404.000 
query 4 nn's (32860, 42859): 6578584 (38818) 935279 (38708) 3839204 (40859) 797235 (41978) 2528505 (42180) 1508852 (41574) 3732556 (39898) 9687221 (35602) 4043920 (35246) 3179613 (42086) 
     dis: 	82172.000 91951.000 94216.000 98154.000 99006.000 100216.000 106067.000 106449.000 109423.000 110808.000 
[ 95.836s ] *** Query time: 15.285
qps: 654.234
 *** HNSW recall 
HNSW get 50949 postive res from 100000 results, recall@10:0.509
recall dist(10% per bucket): 0.005 0.026 0.069 0.117 0.164 0.197 0.177 0.129 0.077 0.031 0.007 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 9093692, average: 909.369
finished ivfpq index examples
[ 95.836s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 10 128"
	User time (seconds): 89.44
	System time (seconds): 6.93
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:36.41
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8359060
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2104103
	Voluntary context switches: 3
	Involuntary context switches: 98
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
