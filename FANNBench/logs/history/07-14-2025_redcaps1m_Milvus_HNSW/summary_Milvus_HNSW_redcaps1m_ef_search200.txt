Start time: 00:27
dataset: redcaps1m
N: 1000000
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query range file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
ground truth file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_10.json
K: 10
M: 40
ef_construction: 1000
ef_search: 200
distribution: sel_2_100000_random
collection name: collection_hnsw_redcaps1m_sel_2_100000_random_efc1000
mode: construction
d: 512
get dataset size: 1000000  d: 512
dim: 512
_N: 2000000  N: 1000000
start insertion
batch size: 16384  total batch: 61
insert batch: 0.0  of  61  from  0  to  16384
insert batch: 1.0  of  61  from  16384  to  32768
insert batch: 2.0  of  61  from  32768  to  49152
insert batch: 3.0  of  61  from  49152  to  65536
insert batch: 4.0  of  61  from  65536  to  81920
insert batch: 5.0  of  61  from  81920  to  98304
insert batch: 6.0  of  61  from  98304  to  114688
insert batch: 7.0  of  61  from  114688  to  131072
insert batch: 8.0  of  61  from  131072  to  147456
insert batch: 9.0  of  61  from  147456  to  163840
insert batch: 10.0  of  61  from  163840  to  180224
insert batch: 11.0  of  61  from  180224  to  196608
insert batch: 12.0  of  61  from  196608  to  212992
insert batch: 13.0  of  61  from  212992  to  229376
insert batch: 14.0  of  61  from  229376  to  245760
insert batch: 15.0  of  61  from  245760  to  262144
insert batch: 16.0  of  61  from  262144  to  278528
insert batch: 17.0  of  61  from  278528  to  294912
insert batch: 18.0  of  61  from  294912  to  311296
insert batch: 19.0  of  61  from  311296  to  327680
insert batch: 20.0  of  61  from  327680  to  344064
insert batch: 21.0  of  61  from  344064  to  360448
insert batch: 22.0  of  61  from  360448  to  376832
insert batch: 23.0  of  61  from  376832  to  393216
insert batch: 24.0  of  61  from  393216  to  409600
insert batch: 25.0  of  61  from  409600  to  425984
insert batch: 26.0  of  61  from  425984  to  442368
insert batch: 27.0  of  61  from  442368  to  458752
insert batch: 28.0  of  61  from  458752  to  475136
insert batch: 29.0  of  61  from  475136  to  491520
insert batch: 30.0  of  61  from  491520  to  507904
insert batch: 31.0  of  61  from  507904  to  524288
insert batch: 32.0  of  61  from  524288  to  540672
insert batch: 33.0  of  61  from  540672  to  557056
insert batch: 34.0  of  61  from  557056  to  573440
insert batch: 35.0  of  61  from  573440  to  589824
insert batch: 36.0  of  61  from  589824  to  606208
insert batch: 37.0  of  61  from  606208  to  622592
insert batch: 38.0  of  61  from  622592  to  638976
insert batch: 39.0  of  61  from  638976  to  655360
insert batch: 40.0  of  61  from  655360  to  671744
insert batch: 41.0  of  61  from  671744  to  688128
insert batch: 42.0  of  61  from  688128  to  704512
insert batch: 43.0  of  61  from  704512  to  720896
insert batch: 44.0  of  61  from  720896  to  737280
insert batch: 45.0  of  61  from  737280  to  753664
insert batch: 46.0  of  61  from  753664  to  770048
insert batch: 47.0  of  61  from  770048  to  786432
insert batch: 48.0  of  61  from  786432  to  802816
insert batch: 49.0  of  61  from  802816  to  819200
insert batch: 50.0  of  61  from  819200  to  835584
insert batch: 51.0  of  61  from  835584  to  851968
insert batch: 52.0  of  61  from  851968  to  868352
insert batch: 53.0  of  61  from  868352  to  884736
insert batch: 54.0  of  61  from  884736  to  901120
insert batch: 55.0  of  61  from  901120  to  917504
insert batch: 56.0  of  61  from  917504  to  933888
insert batch: 57.0  of  61  from  933888  to  950272
insert batch: 58.0  of  61  from  950272  to  966656
insert batch: 59.0  of  61  from  966656  to  983040
insert batch: 60.0  of  61  from  983040  to  999424
insert batch: 61.0  of  61  from  999424  to  1000000
insertion time: 117.48177170753479
collection size: data: ["{'count(*)': 1000000}"]
insert suc, time cost: 232.1043152809143
construction done
	Command being timed: "python -u utils/pymilvus_hnsw_arbi.py redcaps1m 1000000 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_10.json 10 40 1000 200 sel_2_100000_random collection_hnsw_redcaps1m_sel_2_100000_random_efc1000 construction 512"
	User time (seconds): 119.05
	System time (seconds): 27.29
	Percent of CPU this job got: 35%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 6:52.46
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 22908024
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 20625381
	Voluntary context switches: 18297
	Involuntary context switches: 2289
	Swaps: 0
	File system inputs: 0
	File system outputs: 192
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:01
dataset: redcaps1m
N: 1000000
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query range file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
ground truth file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_10.json
K: 10
M: 40
ef_construction: 1000
ef_search: 200
distribution: sel_2_100000_random
collection name: collection_hnsw_redcaps1m_sel_2_100000_random_efc1000
mode: query
d: 512
collection  collection_hnsw_redcaps1m_sel_2_100000_random_efc1000  exists
collection size: data: ["{'count(*)': 1000000}"]
query d: 512
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 10
ids shape: 10000 10
gt shape: (10000, 10)
milvus get  99930  postive res from  100000  results, recall@ 10 : 0.9993
recall dist(10\% per bucket):  [1.000e-04 0.000e+00 0.000e+00 0.000e+00 0.000e+00 0.000e+00 0.000e+00
 1.000e-04 4.000e-04 4.900e-03 9.945e-01]
10000  queries cost: 104.69420289993286 , qps: 95.5162723723876
	Command being timed: "python -u utils/pymilvus_hnsw_arbi.py redcaps1m 1000000 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_10.json 10 40 1000 200 sel_2_100000_random collection_hnsw_redcaps1m_sel_2_100000_random_efc1000 query 512"
	User time (seconds): 18.35
	System time (seconds): 3.12
	Percent of CPU this job got: 20%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:46.51
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 117324
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 58338
	Voluntary context switches: 23180
	Involuntary context switches: 674090
	Swaps: 0
	File system inputs: 0
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:38
dataset: redcaps1m
N: 1000000
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query range file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json
ground truth file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_10.json
K: 10
M: 40
ef_construction: 1000
ef_search: 200
distribution: sel_2_100000_random
collection name: collection_hnsw_redcaps1m_sel_2_100000_random_efc1000
mode: query
d: 512
collection  collection_hnsw_redcaps1m_sel_2_100000_random_efc1000  exists
collection size: data: ["{'count(*)': 1000000}"]
query d: 512
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 10
ids shape: 10000 10
gt shape: (10000, 10)
milvus get  99977  postive res from  100000  results, recall@ 10 : 0.99977
recall dist(10\% per bucket):  [0.000e+00 0.000e+00 0.000e+00 0.000e+00 0.000e+00 0.000e+00 0.000e+00
 0.000e+00 2.000e-04 1.900e-03 9.979e-01]
10000  queries cost: 184.7401580810547 , qps: 54.130082510877266
	Command being timed: "python -u utils/pymilvus_hnsw_arbi.py redcaps1m 1000000 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_10.json 10 40 1000 200 sel_2_100000_random collection_hnsw_redcaps1m_sel_2_100000_random_efc1000 query 512"
	User time (seconds): 28.69
	System time (seconds): 4.52
	Percent of CPU this job got: 17%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:07.14
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 115276
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 58111
	Voluntary context switches: 24704
	Involuntary context switches: 657279
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 02:14
dataset: redcaps1m
N: 1000000
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query range file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json
ground truth file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_10.json
K: 10
M: 40
ef_construction: 1000
ef_search: 200
distribution: sel_2_100000_random
collection name: collection_hnsw_redcaps1m_sel_2_100000_random_efc1000
mode: query
d: 512
collection  collection_hnsw_redcaps1m_sel_2_100000_random_efc1000  exists
collection size: data: ["{'count(*)': 1000000}"]
query d: 512
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 10
ids shape: 10000 10
gt shape: (10000, 10)
milvus get  100000  postive res from  100000  results, recall@ 10 : 1.0
recall dist(10\% per bucket):  [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 1.]
10000  queries cost: 46.91253137588501 , qps: 213.16266052401545
	Command being timed: "python -u utils/pymilvus_hnsw_arbi.py redcaps1m 1000000 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_10.json 10 40 1000 200 sel_2_100000_random collection_hnsw_redcaps1m_sel_2_100000_random_efc1000 query 512"
	User time (seconds): 13.38
	System time (seconds): 4.25
	Percent of CPU this job got: 36%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:48.31
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 116368
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 4
	Minor (reclaiming a frame) page faults: 54971
	Voluntary context switches: 22050
	Involuntary context switches: 623674
	Swaps: 0
	File system inputs: 0
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 02:47
dataset: redcaps1m
N: 1000000
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query range file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/qrangesel_20_2_100000_random_20.json
ground truth file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/sif_gt_sel_20_2_100000_random_20_10.json
K: 10
M: 40
ef_construction: 1000
ef_search: 200
distribution: sel_2_100000_random
collection name: collection_hnsw_redcaps1m_sel_2_100000_random_efc1000
mode: query
d: 512
collection  collection_hnsw_redcaps1m_sel_2_100000_random_efc1000  exists
collection size: data: ["{'count(*)': 1000000}"]
query d: 512
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 10
ids shape: 10000 10
gt shape: (10000, 10)
milvus get  100000  postive res from  100000  results, recall@ 10 : 1.0
recall dist(10\% per bucket):  [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 1.]
10000  queries cost: 111.15151739120483 , qps: 89.96728281094323
	Command being timed: "python -u utils/pymilvus_hnsw_arbi.py redcaps1m 1000000 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/qrangesel_20_2_100000_random_20.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/sif_gt_sel_20_2_100000_random_20_10.json 10 40 1000 200 sel_2_100000_random collection_hnsw_redcaps1m_sel_2_100000_random_efc1000 query 512"
	User time (seconds): 18.66
	System time (seconds): 2.70
	Percent of CPU this job got: 18%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:55.99
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 117472
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 56409
	Voluntary context switches: 24231
	Involuntary context switches: 469681
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
