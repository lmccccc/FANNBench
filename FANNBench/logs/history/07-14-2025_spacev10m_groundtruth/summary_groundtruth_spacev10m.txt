

===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
attr: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
qrange: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
output: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_10.json
topk: 10
dim: 100
thread_num: 128
start
[2.593 s] Loaded dataset, size=10000000, dim=100
[3.920 s] Loaded attr, size=10000000
[3.920 s] Loading query vectors and attributes
query vecs data loaded, with dim: 100, size=10000
[3.922 s] Loaded query vectors
[3.925 s] Loaded 10000 queries
====================Vectors====================

[490.087 s] Loading database
data loaded, with dim: 100, nb=10000000
[490.087 s] Indexing database, size 10000000*100 from max 10000000
[493.195 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[493.386 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[498.076 s] Query 0 done, time: 19.332
[498.595 s] Query 2200 done, time: 40.931
[499.417 s] Query 6100 done, time: 153.044
[516.405 s] Query 9300 done, time: 1167.511
[516.657 s] Query 5400 done, time: 1205.724
[516.938 s] Query 1500 done, time: 1225.919
[519.854 s] Query 8600 done, time: 1301.670
[525.539 s] Query 400 done, time: 1458.072
[527.660 s] Query 4700 done, time: 1515.037
[533.694 s] Query 4000 done, time: 1676.021
[536.368 s] Query 7900 done, time: 1755.760
[538.341 s] Query 3300 done, time: 1805.281
[546.829 s] Query 7200 done, time: 2044.964
[547.767 s] Query 6500 done, time: 2076.772
[548.984 s] Query 800 done, time: 2113.368
[549.123 s] Query 2600 done, time: 2115.860
[560.155 s] Query 5800 done, time: 2416.916
[560.984 s] Query 1900 done, time: 2434.242
[563.862 s] Query 9700 done, time: 2515.497
[565.858 s] Query 5100 done, time: 2567.597
[566.716 s] Query 9000 done, time: 2599.798
[575.769 s] Query 1200 done, time: 2861.276
[577.788 s] Query 8300 done, time: 2933.769
[579.845 s] Query 4400 done, time: 2989.545
[582.076 s] Query 3700 done, time: 3054.039
[593.532 s] Query 7600 done, time: 3363.060
[597.679 s] Query 6900 done, time: 3479.045
[601.087 s] Query 6200 done, time: 3587.430
[602.632 s] Query 100 done, time: 3624.628
[603.435 s] Query 2300 done, time: 3648.927
[611.572 s] Query 3000 done, time: 3881.003
[613.313 s] Query 5500 done, time: 3925.010
[614.528 s] Query 9400 done, time: 3958.958
[623.364 s] Query 1600 done, time: 4224.149
[623.530 s] Query 4800 done, time: 4225.914
[624.421 s] Query 4100 done, time: 4246.463
[626.382 s] Query 500 done, time: 4310.151
[631.306 s] Query 8700 done, time: 4443.976
[637.281 s] Query 8000 done, time: 4606.407
[637.447 s] Query 900 done, time: 4611.531
[637.447 s] Query 3400 done, time: 4612.268
[644.349 s] Query 7300 done, time: 4798.828
[645.657 s] Query 9800 done, time: 4832.226
[653.117 s] Query 5900 done, time: 5041.452
[656.181 s] Query 6600 done, time: 5140.186
[660.727 s] Query 2000 done, time: 5265.097
[660.794 s] Query 4500 done, time: 5266.014
[668.087 s] Query 9100 done, time: 5465.347
[668.782 s] Query 1300 done, time: 5492.984
[672.820 s] Query 2700 done, time: 5598.579
[678.332 s] Query 8400 done, time: 5753.355
[678.380 s] Query 5200 done, time: 5759.109
[687.288 s] Query 200 done, time: 5987.256
[688.645 s] Query 7000 done, time: 6041.252
[689.564 s] Query 3800 done, time: 6068.632
[697.761 s] Query 7700 done, time: 6286.462
[700.716 s] Query 3100 done, time: 6360.076
[714.175 s] Query 2400 done, time: 6718.016
[715.275 s] Query 9500 done, time: 6750.511
[715.640 s] Query 6300 done, time: 6764.584
[726.424 s] Query 4900 done, time: 7058.287
[728.016 s] Query 5600 done, time: 7107.033
[729.293 s] Query 4200 done, time: 7137.481
[733.050 s] Query 600 done, time: 7243.610
[733.313 s] Query 8100 done, time: 7257.475
[737.936 s] Query 1000 done, time: 7380.429
[738.379 s] Query 8800 done, time: 7397.663
[738.742 s] Query 1700 done, time: 7424.479
[748.507 s] Query 3500 done, time: 7691.146
[749.141 s] Query 2800 done, time: 7703.930
[752.828 s] Query 6700 done, time: 7809.445
[756.879 s] Query 7400 done, time: 7930.635
[758.625 s] Query 6000 done, time: 7987.139
[762.716 s] Query 2100 done, time: 8098.900
[773.892 s] Query 9900 done, time: 8409.951
[776.425 s] Query 7800 done, time: 8469.271
[779.751 s] Query 3900 done, time: 8568.033
[780.187 s] Query 5300 done, time: 8580.331
[783.247 s] Query 4600 done, time: 8659.296
[783.877 s] Query 1400 done, time: 8682.368
[784.422 s] Query 8500 done, time: 8692.628
[792.248 s] Query 7100 done, time: 8902.354
[797.612 s] Query 9200 done, time: 9059.084
[798.441 s] Query 300 done, time: 9082.273
[804.182 s] Query 5700 done, time: 9244.375
[809.759 s] Query 700 done, time: 9395.150
[812.301 s] Query 1800 done, time: 9458.689
[816.658 s] Query 2500 done, time: 9575.427
[817.425 s] Query 3200 done, time: 9597.740
[821.613 s] Query 6400 done, time: 9708.275
[824.442 s] Query 9600 done, time: 9799.947
[827.596 s] Query 6800 done, time: 9882.425
[829.115 s] Query 8200 done, time: 9919.328
[829.597 s] Query 3600 done, time: 9934.494
[830.794 s] Query 4300 done, time: 9960.559
[831.671 s] Query 7500 done, time: 9986.147
[845.610 s] Query 5000 done, time: 10354.940
[847.250 s] Query 1100 done, time: 10383.358
[848.213 s] Query 8900 done, time: 10405.085
[854.567 s] Query 2900 done, time: 10544.404
[858.449 s] Query results (vector ids, then distances):
query 0, qrange {6, 738, 84079}
      nns 0 id:1300400 attr:10 dis:3455
      nns 1 id:8023016 attr:6 dis:4691
      nns 2 id:2436347 attr:77252 dis:5094
      nns 3 id:425302 attr:6 dis:5207
      nns 4 id:3647719 attr:65816 dis:5508
      nns 5 id:5060242 attr:10 dis:6055
      nns 6 id:8021837 attr:33136 dis:6219
      nns 7 id:8207046 attr:10 dis:6261
      nns 8 id:7099403 attr:46849 dis:6438
      nns 9 id:1714233 attr:17813 dis:6491

query 1, qrange {6, 14047, 97384}
      nns 0 id:7672609 attr:64506 dis:5844
      nns 1 id:8108335 attr:49439 dis:6450
      nns 2 id:3545414 attr:10 dis:7469
      nns 3 id:6716785 attr:84547 dis:7593
      nns 4 id:4465136 attr:10 dis:7808
      nns 5 id:6957767 attr:49327 dis:8400
      nns 6 id:3010609 attr:46874 dis:8479
      nns 7 id:1852123 attr:51656 dis:8637
      nns 8 id:8784659 attr:52306 dis:8816
      nns 9 id:547651 attr:13056 dis:8991

query 2, qrange {6, 2536, 85887}
      nns 0 id:5189301 attr:39255 dis:3368
      nns 1 id:2755608 attr:6 dis:5154
      nns 2 id:2639412 attr:10 dis:5174
      nns 3 id:8672246 attr:6 dis:6310
      nns 4 id:7542827 attr:68034 dis:6852
      nns 5 id:2966676 attr:6 dis:7150
      nns 6 id:5193386 attr:6 dis:7399
      nns 7 id:1163082 attr:10 dis:7609
      nns 8 id:6524215 attr:62558 dis:7648
      nns 9 id:3097681 attr:4123 dis:7655

query 3, qrange {6, 6261, 89602}
      nns 0 id:1208824 attr:10 dis:7689
      nns 1 id:1165548 attr:240 dis:7871
      nns 2 id:1153720 attr:10 dis:8337
      nns 3 id:9922446 attr:19 dis:8365
      nns 4 id:1681561 attr:47276 dis:8422
      nns 5 id:2871407 attr:53815 dis:8731
      nns 6 id:4150154 attr:20 dis:8754
      nns 7 id:9732223 attr:29802 dis:8881
      nns 8 id:8906949 attr:25547 dis:8898
      nns 9 id:7371232 attr:6 dis:9274

query 4, qrange {6, 4810, 88155}
      nns 0 id:8316529 attr:64156 dis:2198
      nns 1 id:5624462 attr:6 dis:3552
      nns 2 id:3987492 attr:6 dis:3787
      nns 3 id:1706143 attr:74584 dis:4591
      nns 4 id:9970746 attr:10 dis:5243
      nns 5 id:3107282 attr:10 dis:5291
      nns 6 id:5744224 attr:10 dis:5418
      nns 7 id:9323555 attr:92467 dis:5435
      nns 8 id:9211260 attr:6 dis:5775
      nns 9 id:7373067 attr:39358 dis:5809

[858.449 s] *** Query time: 10625.722360
qps:0.941112
cmp per query:10000000
recall: 1 of course
sel distribution: 0 0 0 0 0.1074 0.8926 0 0 0 0 0 
selectivity: 0.500034
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[858.460 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth_arbi 10000000 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_10.json 10 100 128"
	User time (seconds): 40770.49
	System time (seconds): 776.89
	Percent of CPU this job got: 4837%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 14:18.85
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7983104
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 43362478
	Voluntary context switches: 112593
	Involuntary context switches: 2505168
	Swaps: 0
	File system inputs: 0
	File system outputs: 1800
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
attr: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
qrange: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json
output: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_10.json
topk: 10
dim: 100
thread_num: 128
start
[2.729 s] Loaded dataset, size=10000000, dim=100
[4.067 s] Loaded attr, size=10000000
[4.067 s] Loading query vectors and attributes
query vecs data loaded, with dim: 100, size=10000
[4.069 s] Loaded query vectors
[4.072 s] Loaded 10000 queries
====================Vectors====================

[438.364 s] Loading database
data loaded, with dim: 100, nb=10000000
[438.364 s] Indexing database, size 10000000*100 from max 10000000
[443.426 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[443.633 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[445.921 s] Query 0 done, time: 3.205
[445.921 s] Query 2200 done, time: 3.777
[446.122 s] Query 6100 done, time: 11.261
[450.435 s] Query 5400 done, time: 89.965
[450.563 s] Query 9300 done, time: 92.413
[450.902 s] Query 1500 done, time: 104.539
[463.452 s] Query 4700 done, time: 296.608
[463.452 s] Query 8600 done, time: 845.185
[465.218 s] Query 400 done, time: 1124.137
[469.458 s] Query 4000 done, time: 1204.885
[471.051 s] Query 7200 done, time: 1234.068
[471.422 s] Query 7900 done, time: 1241.113
[472.910 s] Query 3300 done, time: 1270.818
[477.412 s] Query 2600 done, time: 1352.674
[477.671 s] Query 6500 done, time: 1360.619
[478.136 s] Query 800 done, time: 1370.783
[480.017 s] Query 5800 done, time: 1402.491
[481.590 s] Query 1900 done, time: 1434.449
[482.080 s] Query 9000 done, time: 1442.568
[485.102 s] Query 9700 done, time: 1505.287
[489.966 s] Query 5100 done, time: 1597.646
[490.680 s] Query 4400 done, time: 1613.358
[492.978 s] Query 1200 done, time: 1658.282
[493.352 s] Query 8300 done, time: 1663.658
[494.450 s] Query 3700 done, time: 1686.946
[498.179 s] Query 7600 done, time: 1755.389
[500.778 s] Query 100 done, time: 1806.796
[500.840 s] Query 3000 done, time: 1807.878
[503.105 s] Query 6900 done, time: 1846.530
[505.936 s] Query 6200 done, time: 1903.129
[506.926 s] Query 2300 done, time: 1921.521
[510.463 s] Query 1600 done, time: 1990.360
[512.098 s] Query 500 done, time: 2019.224
[512.795 s] Query 9400 done, time: 2034.678
[512.892 s] Query 5500 done, time: 2035.518
[515.484 s] Query 8700 done, time: 2085.432
[519.200 s] Query 4100 done, time: 2154.969
[520.370 s] Query 8000 done, time: 2177.671
[523.363 s] Query 3400 done, time: 2234.434
[524.257 s] Query 2700 done, time: 2250.208
[524.805 s] Query 4800 done, time: 2262.491
[526.604 s] Query 7300 done, time: 2291.993
[528.694 s] Query 9800 done, time: 2330.529
[530.168 s] Query 900 done, time: 2357.984
[530.743 s] Query 6600 done, time: 2370.161
[532.844 s] Query 2000 done, time: 2407.473
[535.894 s] Query 5900 done, time: 2468.798
[535.985 s] Query 9100 done, time: 2471.626
[537.851 s] Query 1300 done, time: 2509.756
[538.908 s] Query 8400 done, time: 2531.998
[541.045 s] Query 4500 done, time: 2576.066
[546.054 s] Query 200 done, time: 2672.813
[546.231 s] Query 7700 done, time: 2675.276
[546.756 s] Query 3100 done, time: 2688.777
[550.652 s] Query 3800 done, time: 2758.533
[551.477 s] Query 7000 done, time: 2776.358
[551.485 s] Query 5200 done, time: 2776.831
[555.934 s] Query 5600 done, time: 2866.002
[557.990 s] Query 9500 done, time: 2910.201
[558.631 s] Query 6300 done, time: 2922.752
[563.441 s] Query 600 done, time: 3019.244
[564.153 s] Query 1700 done, time: 3030.536
[564.163 s] Query 2400 done, time: 3031.252
[566.104 s] Query 8800 done, time: 3069.101
[569.875 s] Query 3500 done, time: 3144.596
[573.024 s] Query 4900 done, time: 3203.959
[573.452 s] Query 1000 done, time: 3212.422
[576.194 s] Query 7400 done, time: 3265.927
[576.214 s] Query 4200 done, time: 3267.777
[578.385 s] Query 8100 done, time: 3308.601
[580.658 s] Query 6000 done, time: 3352.815
[583.126 s] Query 2100 done, time: 3399.911
[584.838 s] Query 9900 done, time: 3430.172
[588.401 s] Query 1400 done, time: 3498.653
[588.401 s] Query 5300 done, time: 3498.899
[588.608 s] Query 6700 done, time: 3502.401
[590.406 s] Query 2800 done, time: 3533.292
[597.607 s] Query 4600 done, time: 3668.457
[597.787 s] Query 300 done, time: 3671.723
[599.771 s] Query 7800 done, time: 3707.500
[602.319 s] Query 8500 done, time: 3751.216
[602.731 s] Query 9200 done, time: 3761.416
[603.293 s] Query 3200 done, time: 3769.152
[606.513 s] Query 5700 done, time: 3829.870
[607.358 s] Query 1800 done, time: 3843.899
[607.781 s] Query 2500 done, time: 3851.217
[609.128 s] Query 3900 done, time: 3878.340
[609.940 s] Query 700 done, time: 3895.652
[610.901 s] Query 7100 done, time: 3912.271
[615.159 s] Query 4300 done, time: 3990.884
[615.419 s] Query 5000 done, time: 3998.272
[615.677 s] Query 6400 done, time: 4001.599
[616.823 s] Query 9600 done, time: 4028.164
[617.235 s] Query 8200 done, time: 4035.124
[623.147 s] Query 3600 done, time: 4151.083
[623.838 s] Query 7500 done, time: 4163.790
[625.882 s] Query 8900 done, time: 4201.453
[626.176 s] Query 2900 done, time: 4206.641
[627.437 s] Query 1100 done, time: 4228.744
[627.437 s] Query 6800 done, time: 4229.168
[635.370 s] Query results (vector ids, then distances):
query 0, qrange {10, 3924, 37259}
      nns 0 id:5096505 attr:9625 dis:6150
      nns 1 id:290760 attr:6 dis:6292
      nns 2 id:3082748 attr:6 dis:6920
      nns 3 id:2037978 attr:10 dis:7721
      nns 4 id:7305168 attr:6 dis:7885
      nns 5 id:1360571 attr:80630 dis:7959
      nns 6 id:1858226 attr:10 dis:8454
      nns 7 id:4287666 attr:6 dis:8574
      nns 8 id:6240106 attr:6 dis:8824
      nns 9 id:9234384 attr:6 dis:9137

query 1, qrange {10, 9720, 43052}
      nns 0 id:1027770 attr:10 dis:4889
      nns 1 id:4573755 attr:44328 dis:7795
      nns 2 id:1087257 attr:20765 dis:8514
      nns 3 id:8663938 attr:6 dis:9766
      nns 4 id:9844113 attr:43208 dis:9916
      nns 5 id:9311189 attr:14848 dis:10152
      nns 6 id:7957281 attr:57347 dis:10252
      nns 7 id:4561316 attr:10 dis:10291
      nns 8 id:4813594 attr:6 dis:10432
      nns 9 id:5325898 attr:10 dis:10446

query 2, qrange {10, 65731, 99055}
      nns 0 id:4574760 attr:6 dis:3034
      nns 1 id:2734445 attr:62180 dis:4135
      nns 2 id:3524579 attr:72890 dis:5017
      nns 3 id:2212807 attr:72328 dis:6204
      nns 4 id:2882757 attr:81431 dis:7205
      nns 5 id:2884416 attr:6 dis:8944
      nns 6 id:323907 attr:85292 dis:9129
      nns 7 id:3361974 attr:6 dis:9257
      nns 8 id:1054367 attr:41497 dis:9476
      nns 9 id:3521500 attr:10 dis:9861

query 3, qrange {10, 35398, 68747}
      nns 0 id:4286832 attr:6 dis:4960
      nns 1 id:1866926 attr:10 dis:9254
      nns 2 id:4371036 attr:10 dis:9414
      nns 3 id:9455216 attr:10 dis:9443
      nns 4 id:6638511 attr:98660 dis:9691
      nns 5 id:8818246 attr:244 dis:10127
      nns 6 id:9398930 attr:10 dis:10184
      nns 7 id:8584054 attr:6 dis:10463
      nns 8 id:6447414 attr:6 dis:10517
      nns 9 id:9793596 attr:6 dis:10571

query 4, qrange {10, 39745, 73096}
      nns 0 id:6279473 attr:10230 dis:6062
      nns 1 id:3097455 attr:50325 dis:6385
      nns 2 id:7159963 attr:62873 dis:6530
      nns 3 id:4242116 attr:6 dis:6564
      nns 4 id:5466057 attr:55105 dis:6864
      nns 5 id:3531751 attr:91022 dis:6872
      nns 6 id:8728294 attr:6 dis:6872
      nns 7 id:5054423 attr:97501 dis:6919
      nns 8 id:7177846 attr:6 dis:7009
      nns 9 id:8212769 attr:38457 dis:7049

[635.371 s] *** Query time: 4336.541883
qps:2.30598
cmp per query:10000000
recall: 1 of course
sel distribution: 0.9604 0.0396 0 0 0 0 0 0 0 0 0 
selectivity: 0.0999186
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[635.385 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth_arbi 10000000 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_10.json 10 100 128"
	User time (seconds): 20943.88
	System time (seconds): 859.74
	Percent of CPU this job got: 3428%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 10:35.92
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7982080
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 30839509
	Voluntary context switches: 2758027
	Involuntary context switches: 1393649
	Swaps: 0
	File system inputs: 0
	File system outputs: 1824
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
attr: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
qrange: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json
output: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_10.json
topk: 10
dim: 100
thread_num: 128
start
[2.608 s] Loaded dataset, size=10000000, dim=100
[3.943 s] Loaded attr, size=10000000
[3.943 s] Loading query vectors and attributes
query vecs data loaded, with dim: 100, size=10000
[3.946 s] Loaded query vectors
[3.949 s] Loaded 10000 queries
====================Vectors====================

[136.094 s] Loading database
data loaded, with dim: 100, nb=10000000
[136.094 s] Indexing database, size 10000000*100 from max 10000000
[138.087 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[138.365 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[138.715 s] Query 0 done, time: 0.115
[138.796 s] Query 6100 done, time: 5.599
[138.811 s] Query 2200 done, time: 5.905
[139.453 s] Query 9300 done, time: 14.895
[139.640 s] Query 1500 done, time: 20.026
[140.305 s] Query 4700 done, time: 34.436
[140.334 s] Query 8600 done, time: 35.282
[140.567 s] Query 5400 done, time: 40.497
[140.736 s] Query 400 done, time: 43.985
[141.332 s] Query 4000 done, time: 56.199
[141.524 s] Query 7900 done, time: 59.527
[142.230 s] Query 3300 done, time: 75.472
[142.824 s] Query 6500 done, time: 88.457
[142.985 s] Query 7200 done, time: 91.755
[143.053 s] Query 2600 done, time: 93.084
[143.973 s] Query 1900 done, time: 112.763
[144.055 s] Query 5800 done, time: 113.395
[144.187 s] Query 800 done, time: 116.391
[144.273 s] Query 9700 done, time: 118.471
[144.355 s] Query 5100 done, time: 120.537
[144.540 s] Query 9000 done, time: 123.698
[144.951 s] Query 1200 done, time: 132.444
[145.704 s] Query 4400 done, time: 148.025
[145.839 s] Query 8300 done, time: 150.832
[145.916 s] Query 3700 done, time: 151.964
[146.375 s] Query 7600 done, time: 160.869
[146.725 s] Query 100 done, time: 168.890
[146.845 s] Query 6900 done, time: 171.577
[147.731 s] Query 1600 done, time: 189.487
[148.178 s] Query 8700 done, time: 198.652
[149.027 s] Query 3000 done, time: 215.813
[149.886 s] Query 900 done, time: 233.972
[150.051 s] Query 4100 done, time: 238.102
[150.186 s] Query 2700 done, time: 241.284
[151.185 s] Query 5200 done, time: 262.059
[151.475 s] Query 5500 done, time: 267.623
[151.691 s] Query 2300 done, time: 272.423
[152.064 s] Query 9400 done, time: 280.464
[152.065 s] Query 9800 done, time: 280.515
[152.676 s] Query 8400 done, time: 293.193
[152.719 s] Query 4500 done, time: 294.181
[153.477 s] Query 200 done, time: 310.202
[153.807 s] Query 6300 done, time: 317.375
[153.895 s] Query 9100 done, time: 318.791
[154.159 s] Query 1700 done, time: 324.199
[154.318 s] Query 6200 done, time: 328.075
[154.784 s] Query 5600 done, time: 337.457
[154.825 s] Query 9500 done, time: 338.577
[155.102 s] Query 4800 done, time: 343.894
[155.367 s] Query 4900 done, time: 350.473
[156.307 s] Query 7400 done, time: 369.449
[156.347 s] Query 8100 done, time: 370.166
[156.960 s] Query 500 done, time: 382.907
[156.991 s] Query 8000 done, time: 383.410
[156.998 s] Query 3500 done, time: 383.714
[157.193 s] Query 6700 done, time: 387.349
[158.559 s] Query 7300 done, time: 415.215
[158.640 s] Query 5300 done, time: 416.475
[158.756 s] Query 9200 done, time: 419.311
[159.046 s] Query 7800 done, time: 425.550
[159.445 s] Query 300 done, time: 433.404
[159.722 s] Query 6000 done, time: 438.807
[160.175 s] Query 3400 done, time: 448.642
[160.463 s] Query 7100 done, time: 454.155
[160.585 s] Query 5700 done, time: 456.766
[160.839 s] Query 6600 done, time: 462.817
[160.887 s] Query 3900 done, time: 463.714
[160.928 s] Query 2500 done, time: 464.606
[161.502 s] Query 2100 done, time: 476.011
[161.669 s] Query 9600 done, time: 479.942
[162.253 s] Query 4600 done, time: 491.079
[162.749 s] Query 1100 done, time: 500.960
[163.616 s] Query 3200 done, time: 519.592
[164.228 s] Query 5900 done, time: 531.228
[164.232 s] Query 3600 done, time: 531.526
[164.618 s] Query 1300 done, time: 537.947
[165.493 s] Query 2000 done, time: 548.573
[165.819 s] Query 3800 done, time: 552.095
[165.858 s] Query 2400 done, time: 552.922
[166.615 s] Query 7700 done, time: 560.144
[166.651 s] Query 8800 done, time: 560.730
[166.720 s] Query 600 done, time: 561.185
[167.371 s] Query 2800 done, time: 567.117
[168.149 s] Query 3100 done, time: 574.404
[168.926 s] Query 7000 done, time: 580.997
[169.968 s] Query 8900 done, time: 590.379
[170.597 s] Query 4300 done, time: 595.976
[170.604 s] Query 5000 done, time: 596.113
[171.605 s] Query 4200 done, time: 605.211
[171.660 s] Query 8200 done, time: 605.619
[172.488 s] Query 6400 done, time: 612.511
[173.390 s] Query 9900 done, time: 619.663
[173.404 s] Query 1000 done, time: 619.748
[174.130 s] Query 1400 done, time: 625.204
[174.286 s] Query 6800 done, time: 626.304
[174.686 s] Query 8500 done, time: 629.770
[175.218 s] Query 2900 done, time: 633.199
[175.302 s] Query 1800 done, time: 633.990
[175.604 s] Query 700 done, time: 635.584
[176.248 s] Query 7500 done, time: 638.776
[176.500 s] Query results (vector ids, then distances):
query 0, qrange {19, 24678, 44673}
      nns 0 id:606211 attr:23188 dis:5333
      nns 1 id:8563527 attr:92278 dis:9559
      nns 2 id:8341867 attr:22135 dis:9671
      nns 3 id:3228742 attr:10 dis:9981
      nns 4 id:1247229 attr:31426 dis:9990
      nns 5 id:7386818 attr:6 dis:10670
      nns 6 id:5099788 attr:10 dis:11437
      nns 7 id:4692244 attr:20 dis:11853
      nns 8 id:1295714 attr:6 dis:11974
      nns 9 id:6401363 attr:71983 dis:12000

query 1, qrange {19, 22162, 42151}
      nns 0 id:7629371 attr:73090 dis:11437
      nns 1 id:7000075 attr:41024 dis:11704
      nns 2 id:9910036 attr:6 dis:12352
      nns 3 id:4745747 attr:58200 dis:12529
      nns 4 id:9504433 attr:45209 dis:12566
      nns 5 id:8597183 attr:51106 dis:12875
      nns 6 id:299136 attr:10 dis:12976
      nns 7 id:6704562 attr:10 dis:13188
      nns 8 id:8126210 attr:6 dis:13348
      nns 9 id:466678 attr:6 dis:13682

query 2, qrange {19, 17210, 37204}
      nns 0 id:9743895 attr:97756 dis:10145
      nns 1 id:5920553 attr:95980 dis:11587
      nns 2 id:8553474 attr:6 dis:11936
      nns 3 id:613441 attr:9068 dis:11972
      nns 4 id:8625378 attr:6 dis:12099
      nns 5 id:3159516 attr:6 dis:12193
      nns 6 id:6805269 attr:66019 dis:13152
      nns 7 id:2927516 attr:6 dis:13197
      nns 8 id:9947550 attr:10 dis:13339
      nns 9 id:6973245 attr:35145 dis:13382

query 3, qrange {19, 37494, 57500}
      nns 0 id:7020630 attr:6 dis:8902
      nns 1 id:3279722 attr:10 dis:11933
      nns 2 id:233485 attr:63137 dis:12222
      nns 3 id:3624059 attr:10908 dis:12612
      nns 4 id:5731015 attr:75901 dis:12709
      nns 5 id:8298687 attr:74835 dis:12840
      nns 6 id:9005255 attr:27797 dis:13357
      nns 7 id:3228780 attr:10 dis:13473
      nns 8 id:7061054 attr:6 dis:13699
      nns 9 id:4112389 attr:84823 dis:13745

query 4, qrange {19, 12989, 32993}
      nns 0 id:6527555 attr:13143 dis:6296
      nns 1 id:449527 attr:71436 dis:6766
      nns 2 id:1444782 attr:20 dis:6837
      nns 3 id:2066916 attr:10 dis:6893
      nns 4 id:3533412 attr:6 dis:7191
      nns 5 id:5123136 attr:6 dis:7194
      nns 6 id:5752140 attr:10 dis:7245
      nns 7 id:1060205 attr:89351 dis:7390
      nns 8 id:4293822 attr:6 dis:7607
      nns 9 id:4057764 attr:10 dis:7653

[176.500 s] *** Query time: 639.923637
qps:15.6269
cmp per query:10000000
recall: 1 of course
sel distribution: 1 0 0 0 0 0 0 0 0 0 0 
selectivity: 0.0100265
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[176.510 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth_arbi 10000000 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_10.json 10 100 128"
	User time (seconds): 3900.09
	System time (seconds): 16.69
	Percent of CPU this job got: 2213%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:56.98
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7983104
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 4612580
	Voluntary context switches: 58663
	Involuntary context switches: 148864
	Swaps: 0
	File system inputs: 0
	File system outputs: 1808
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
attr: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
qrange: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_20_2_100000_random_20.json
output: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_20_2_100000_random_20_10.json
topk: 10
dim: 100
thread_num: 128
start
[2.543 s] Loaded dataset, size=10000000, dim=100
[3.889 s] Loaded attr, size=10000000
[3.889 s] Loading query vectors and attributes
query vecs data loaded, with dim: 100, size=10000
[3.891 s] Loaded query vectors
[3.894 s] Loaded 10000 queries
====================Vectors====================

[116.985 s] Loading database
data loaded, with dim: 100, nb=10000000
[116.985 s] Indexing database, size 10000000*100 from max 10000000
[121.888 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[122.094 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[122.204 s] Query 0 done, time: 0.419
[122.206 s] Query 6100 done, time: 1.135
[122.208 s] Query 2200 done, time: 2.350
[122.350 s] Query 5400 done, time: 7.967
[122.397 s] Query 9300 done, time: 10.301
[122.418 s] Query 1500 done, time: 11.465
[122.523 s] Query 8600 done, time: 17.433
[122.618 s] Query 400 done, time: 22.842
[122.638 s] Query 4700 done, time: 24.150
[122.652 s] Query 4000 done, time: 25.063
[122.751 s] Query 7900 done, time: 30.843
[122.824 s] Query 7200 done, time: 34.769
[122.885 s] Query 3300 done, time: 37.991
[123.044 s] Query 800 done, time: 47.543
[123.217 s] Query 6500 done, time: 57.319
[123.222 s] Query 2600 done, time: 57.764
[123.345 s] Query 9000 done, time: 64.892
[123.370 s] Query 1900 done, time: 66.205
[123.453 s] Query 8300 done, time: 71.643
[123.461 s] Query 5800 done, time: 72.220
[123.591 s] Query 5100 done, time: 79.345
[123.606 s] Query 1200 done, time: 80.895
[123.618 s] Query 4400 done, time: 81.729
[123.739 s] Query 100 done, time: 89.121
[123.805 s] Query 6900 done, time: 93.510
[123.873 s] Query 3000 done, time: 96.496
[123.886 s] Query 9700 done, time: 98.180
[123.967 s] Query 7600 done, time: 102.130
[123.983 s] Query 6200 done, time: 104.297
[124.163 s] Query 3700 done, time: 114.844
[124.443 s] Query 2300 done, time: 131.412
[124.450 s] Query 4800 done, time: 131.761
[124.456 s] Query 8700 done, time: 132.106
[124.459 s] Query 1600 done, time: 132.498
[124.462 s] Query 500 done, time: 133.221
[124.475 s] Query 9400 done, time: 134.187
[124.499 s] Query 8000 done, time: 134.855
[124.531 s] Query 5500 done, time: 136.697
[124.542 s] Query 4100 done, time: 137.188
[124.706 s] Query 6600 done, time: 147.482
[124.874 s] Query 2700 done, time: 158.193
[125.048 s] Query 900 done, time: 167.971
[125.149 s] Query 5200 done, time: 174.352
[125.246 s] Query 9100 done, time: 179.916
[125.264 s] Query 3400 done, time: 181.310
[125.281 s] Query 8400 done, time: 182.335
[125.308 s] Query 7700 done, time: 183.619
[125.367 s] Query 5900 done, time: 187.225
[125.482 s] Query 2000 done, time: 194.162
[125.551 s] Query 1300 done, time: 198.252
[125.572 s] Query 200 done, time: 199.682
[125.620 s] Query 7000 done, time: 202.018
[125.641 s] Query 7300 done, time: 203.507
[125.685 s] Query 9800 done, time: 206.354
[125.879 s] Query 2400 done, time: 218.081
[125.934 s] Query 5600 done, time: 221.133
[125.937 s] Query 1700 done, time: 221.325
[125.987 s] Query 3100 done, time: 224.623
[126.010 s] Query 3800 done, time: 225.663
[126.025 s] Query 4500 done, time: 226.507
[126.103 s] Query 600 done, time: 231.227
[126.233 s] Query 8100 done, time: 239.456
[126.386 s] Query 4200 done, time: 248.871
[126.463 s] Query 7400 done, time: 253.678
[126.484 s] Query 6300 done, time: 254.961
[126.587 s] Query 4900 done, time: 261.131
[126.685 s] Query 9500 done, time: 267.057
[126.754 s] Query 9900 done, time: 271.387
[126.755 s] Query 1000 done, time: 271.635
[126.833 s] Query 8800 done, time: 276.343
[126.878 s] Query 6700 done, time: 279.362
[126.963 s] Query 2800 done, time: 284.161
[126.975 s] Query 9200 done, time: 285.102
[126.985 s] Query 3900 done, time: 285.887
[127.053 s] Query 3500 done, time: 290.065
[127.136 s] Query 5300 done, time: 294.844
[127.305 s] Query 6000 done, time: 305.749
[127.323 s] Query 4600 done, time: 306.557
[127.341 s] Query 7800 done, time: 307.729
[127.353 s] Query 2100 done, time: 308.327
[127.405 s] Query 7100 done, time: 311.930
[127.607 s] Query 6400 done, time: 323.478
[127.647 s] Query 300 done, time: 326.165
[127.765 s] Query 1400 done, time: 333.194
[127.892 s] Query 3200 done, time: 340.782
[127.894 s] Query 5700 done, time: 341.081
[128.047 s] Query 9600 done, time: 350.588
[128.088 s] Query 2500 done, time: 352.769
[128.133 s] Query 8200 done, time: 356.273
[128.162 s] Query 5000 done, time: 357.829
[128.552 s] Query 700 done, time: 379.237
[128.562 s] Query 3600 done, time: 379.484
[128.688 s] Query 8500 done, time: 384.251
[128.696 s] Query 1800 done, time: 384.486
[128.698 s] Query 4300 done, time: 384.522
[128.709 s] Query 8900 done, time: 384.791
[128.864 s] Query 7500 done, time: 390.359
[129.298 s] Query 1100 done, time: 401.195
[129.407 s] Query 2900 done, time: 401.749
[129.438 s] Query 6800 done, time: 401.841
[129.544 s] Query results (vector ids, then distances):
query 0, qrange {20, 85697, 88856}
      nns 0 id:3057373 attr:86186 dis:8918
      nns 1 id:6245302 attr:10 dis:11970
      nns 2 id:8629324 attr:10 dis:15231
      nns 3 id:7730825 attr:27721 dis:15232
      nns 4 id:7475967 attr:84477 dis:15618
      nns 5 id:1208421 attr:57962 dis:16259
      nns 6 id:7577747 attr:81841 dis:16521
      nns 7 id:3175689 attr:41822 dis:17211
      nns 8 id:7474550 attr:10 dis:17253
      nns 9 id:3521173 attr:51175 dis:17406

query 1, qrange {20, 52898, 56067}
      nns 0 id:1746674 attr:19 dis:12811
      nns 1 id:7847812 attr:6 dis:13722
      nns 2 id:2765679 attr:85884 dis:14361
      nns 3 id:7849684 attr:6 dis:14708
      nns 4 id:2019460 attr:6 dis:14946
      nns 5 id:6148658 attr:10 dis:15053
      nns 6 id:2403899 attr:83973 dis:15484
      nns 7 id:3186430 attr:10 dis:15550
      nns 8 id:4323333 attr:31948 dis:16155
      nns 9 id:6123324 attr:10 dis:16472

query 2, qrange {20, 19737, 22901}
      nns 0 id:8478879 attr:13282 dis:7574
      nns 1 id:2696460 attr:6 dis:11972
      nns 2 id:5181614 attr:10 dis:12010
      nns 3 id:9216945 attr:74811 dis:13971
      nns 4 id:7682852 attr:20 dis:14144
      nns 5 id:1113387 attr:52292 dis:14273
      nns 6 id:3079793 attr:78543 dis:14491
      nns 7 id:8145838 attr:10 dis:14955
      nns 8 id:5614382 attr:10 dis:15019
      nns 9 id:5604082 attr:10 dis:15031

query 3, qrange {20, 68111, 71276}
      nns 0 id:9924746 attr:6 dis:12617
      nns 1 id:2684832 attr:6 dis:15231
      nns 2 id:3458762 attr:6 dis:15299
      nns 3 id:8996573 attr:21462 dis:15456
      nns 4 id:1355286 attr:10 dis:15810
      nns 5 id:3755787 attr:42162 dis:16095
      nns 6 id:3380688 attr:6 dis:16113
      nns 7 id:8866103 attr:23791 dis:16275
      nns 8 id:583076 attr:6 dis:16331
      nns 9 id:5890663 attr:74759 dis:16382

query 4, qrange {20, 51785, 54951}
      nns 0 id:8270019 attr:19041 dis:8379
      nns 1 id:4610328 attr:6 dis:8603
      nns 2 id:1043529 attr:93896 dis:8711
      nns 3 id:1586369 attr:74910 dis:8868
      nns 4 id:3811109 attr:95732 dis:8930
      nns 5 id:9115539 attr:50531 dis:9049
      nns 6 id:8723982 attr:6 dis:9164
      nns 7 id:9893369 attr:85550 dis:9166
      nns 8 id:1434962 attr:10 dis:9233
      nns 9 id:6169651 attr:46665 dis:9293

[129.544 s] *** Query time: 401.948097
qps:24.8788
cmp per query:10000000
recall: 1 of course
sel distribution: 1 0 0 0 0 0 0 0 0 0 0 
selectivity: 0.00100275
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[129.552 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth_arbi 10000000 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_20_2_100000_random_20.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_20_2_100000_random_20_10.json 10 100 128"
	User time (seconds): 929.23
	System time (seconds): 11.11
	Percent of CPU this job got: 723%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:09.92
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7982080
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3841696
	Voluntary context switches: 2672
	Involuntary context switches: 35440
	Swaps: 0
	File system inputs: 0
	File system outputs: 1808
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
