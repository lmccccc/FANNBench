Start time: 07:16
Use SSE
dataset: spacev10m
data_size: 10000000
dataset_path: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query_path: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
groundtruth_path: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_10.json
method: compact
index_k: 8
ef_max: 1000
ef_construction: 1000
nthreads: 1
ef_search: 12
qrange_path: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json
query_num: 10000
label_path: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
query_k: 10
Load vecs from: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
# of vecs: 10000000
get data size:10000000 query size:10000
get data label size:10000000
get query range size:10000
get groundtruth size:10000
get query id size:10000
query range size:10000
# Sort Dataset Time: 17.9537210s
search ef:
vertex in set: {12}
Total edge:1770181894
Average degree:177.018
Max. nns length of one point195
Sum of forward nn #: 1770181894
Avg. forward nn #: 177.018
Avg. delta nn #: 177.018
# Load Index Time: 62.2894300s
load index done

Search ef: 12
========================
range: 9461	 recall: 0.0011	 QPS: 311419	Comps: 1	 Hops: 0.0815
range: 9537	 recall: 0.0000	 QPS: 444811	Comps: 1	 Hops: 0.1037
range: 9538	 recall: 0.0019	 QPS: 184932	Comps: 1	 Hops: 0.3704
range: 9539	 recall: 0.0000	 QPS: 921502	Comps: 0	 Hops: 0.0815
range: 9613	 recall: 0.0059	 QPS: 106931	Comps: 3	 Hops: 0.5148
range: 9614	 recall: 0.0344	 QPS: 15552	Comps: 16	 Hops: 3.5852
range: 9615	 recall: 0.0081	 QPS: 50401	Comps: 5	 Hops: 1.1778
range: 9689	 recall: 0.0415	 QPS: 14326	Comps: 17	 Hops: 3.4000
range: 9690	 recall: 0.1311	 QPS: 3754	Comps: 66	 Hops: 13.4926
range: 9691	 recall: 0.1322	 QPS: 3494	Comps: 71	 Hops: 13.6741
range: 9766	 recall: 0.3863	 QPS: 1236	Comps: 202	 Hops: 41.9556
range: 9767	 recall: 0.7052	 QPS: 649	Comps: 371	 Hops: 76.6333
range: 9805	 recall: 0.0000	 QPS: 1022727	Comps: 0	 Hops: 0.0852
range: 9806	 recall: 0.0000	 QPS: 862620	Comps: 0	 Hops: 0.0556
range: 9842	 recall: 0.4281	 QPS: 1022	Comps: 224	 Hops: 45.4000
range: 9843	 recall: 0.8674	 QPS: 491	Comps: 478	 Hops: 97.1630
range: 9844	 recall: 0.2604	 QPS: 1600	Comps: 143	 Hops: 29.3296
range: 9880	 recall: 0.0000	 QPS: 482143	Comps: 1	 Hops: 0.1111
range: 9918	 recall: 0.3100	 QPS: 1339	Comps: 177	 Hops: 36.3593
range: 9919	 recall: 1.0278	 QPS: 421	Comps: 570	 Hops: 116.6667
range: 9920	 recall: 0.7733	 QPS: 584	Comps: 415	 Hops: 84.5481
range: 9957	 recall: 0.0004	 QPS: 1267606	Comps: 0	 Hops: 0.0741
range: 9994	 recall: 0.0941	 QPS: 4430	Comps: 53	 Hops: 10.9852
range: 9995	 recall: 0.5111	 QPS: 816	Comps: 293	 Hops: 57.4185
range: 9996	 recall: 0.5856	 QPS: 753	Comps: 319	 Hops: 65.8852
range: 9997	 recall: 0.0704	 QPS: 6740	Comps: 36	 Hops: 7.5630
range: 10071	 recall: 0.2159	 QPS: 1993	Comps: 120	 Hops: 24.1037
range: 10072	 recall: 0.3707	 QPS: 1185	Comps: 188	 Hops: 38.0741
range: 10073	 recall: 0.0678	 QPS: 6540	Comps: 35	 Hops: 7.8037
range: 10147	 recall: 0.0267	 QPS: 12744	Comps: 19	 Hops: 3.4259
range: 10148	 recall: 0.0570	 QPS: 7961	Comps: 31	 Hops: 6.1630
range: 10149	 recall: 0.0304	 QPS: 14425	Comps: 17	 Hops: 3.6074
range: 10150	 recall: 0.0026	 QPS: 295728	Comps: 1	 Hops: 0.1889
range: 10223	 recall: 0.0015	 QPS: 127298	Comps: 1	 Hops: 0.3630
range: 10224	 recall: 0.0137	 QPS: 32526	Comps: 7	 Hops: 1.5185
range: 10225	 recall: 0.0115	 QPS: 39096	Comps: 6	 Hops: 1.1630
range: 10226	 recall: 0.0007	 QPS: 226700	Comps: 1	 Hops: 0.2074
Total Recall: 0.1937	 Total QPS: 2267.6261	 Total Comps: 105.0413	 Total Hops: 21.4200
========================
# total query time: 4.6067230s
	Command being timed: "../DynamicSegmentGraph/build/benchmark/query_index -dataset spacev10m -N 10000000 -dataset_path /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs -query_path /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs -groundtruth_path /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_10.json -index_path /mnt/data/mocheng/dataset/spacev10m/dsg/dsg_index/index_dsg_efmax1000_efs1000_sel_1_100000_random -method compact -k 8 -ef_max 1000 -ef_construction 1000 -nthreads 1 -ef_search 12 -qrange_path /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json -query_num 10000 -label_path /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json -query_k 10"
	User time (seconds): 43.54
	System time (seconds): 37.76
	Percent of CPU this job got: 83%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:37.47
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 39698768
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 13384434
	Voluntary context switches: 38977
	Involuntary context switches: 162
	Swaps: 0
	File system inputs: 4781656
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 07:53
Use SSE
dataset: spacev10m
data_size: 10000000
dataset_path: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query_path: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
groundtruth_path: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_10.json
method: compact
index_k: 8
ef_max: 1000
ef_construction: 1000
nthreads: 1
ef_search: 12
qrange_path: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json
query_num: 10000
label_path: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
query_k: 10
Load vecs from: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
# of vecs: 10000000
get data size:10000000 query size:10000
get data label size:10000000
get query range size:10000
get groundtruth size:10000
get query id size:10000
query range size:10000
# Sort Dataset Time: 17.9848250s
search ef:
vertex in set: {12}
Total edge:1770181894
Average degree:177.018
Max. nns length of one point195
Sum of forward nn #: 1770181894
Avg. forward nn #: 177.018
Avg. delta nn #: 177.018
# Load Index Time: 40.0578310s
load index done

Search ef: 12
========================
range: 99030	 recall: 0.0085	 QPS: 324138	Comps: 3	 Hops: 0.2021
range: 99031	 recall: 0.0106	 QPS: 180077	Comps: 5	 Hops: 0.3298
range: 99106	 recall: 0.0351	 QPS: 46813	Comps: 21	 Hops: 1.0957
range: 99107	 recall: 0.0266	 QPS: 50027	Comps: 20	 Hops: 0.9681
range: 99108	 recall: 0.0043	 QPS: 96311	Comps: 10	 Hops: 0.5957
range: 99182	 recall: 0.0255	 QPS: 70943	Comps: 13	 Hops: 0.7660
range: 99183	 recall: 0.1989	 QPS: 6687	Comps: 144	 Hops: 8.1383
range: 99184	 recall: 0.1883	 QPS: 9037	Comps: 105	 Hops: 6.0000
range: 99185	 recall: 0.0160	 QPS: 115196	Comps: 8	 Hops: 0.4787
range: 99258	 recall: 0.1138	 QPS: 17498	Comps: 55	 Hops: 3.3191
range: 99259	 recall: 0.2713	 QPS: 6251	Comps: 155	 Hops: 9.0532
range: 99260	 recall: 0.3426	 QPS: 4384	Comps: 223	 Hops: 12.0851
range: 99261	 recall: 0.1064	 QPS: 14826	Comps: 66	 Hops: 3.4255
range: 99262	 recall: 0.0096	 QPS: 236181	Comps: 4	 Hops: 0.2340
range: 99334	 recall: 0.0787	 QPS: 18774	Comps: 52	 Hops: 3.0319
range: 99335	 recall: 0.5372	 QPS: 2724	Comps: 358	 Hops: 19.9255
range: 99336	 recall: 0.7713	 QPS: 1944	Comps: 499	 Hops: 28.2340
range: 99337	 recall: 0.2277	 QPS: 6632	Comps: 149	 Hops: 7.8404
range: 99338	 recall: 0.0309	 QPS: 60684	Comps: 16	 Hops: 0.9468
range: 99410	 recall: 0.0479	 QPS: 37405	Comps: 26	 Hops: 1.3617
range: 99411	 recall: 0.4585	 QPS: 3458	Comps: 283	 Hops: 15.0638
range: 99412	 recall: 1.0447	 QPS: 1396	Comps: 702	 Hops: 37.4362
range: 99413	 recall: 0.5000	 QPS: 3349	Comps: 293	 Hops: 16.3191
range: 99414	 recall: 0.0564	 QPS: 30080	Comps: 32	 Hops: 1.9468
range: 99487	 recall: 0.3585	 QPS: 4568	Comps: 211	 Hops: 11.7872
range: 99488	 recall: 1.6351	 QPS: 870	Comps: 1120	 Hops: 62.5851
range: 99489	 recall: 0.9702	 QPS: 1588	Comps: 615	 Hops: 33.3085
range: 99490	 recall: 0.1798	 QPS: 7895	Comps: 125	 Hops: 7.1809
range: 99563	 recall: 0.2681	 QPS: 7505	Comps: 125	 Hops: 7.5000
range: 99564	 recall: 1.2415	 QPS: 1233	Comps: 787	 Hops: 43.7447
range: 99565	 recall: 0.9181	 QPS: 1568	Comps: 624	 Hops: 33.9894
range: 99566	 recall: 0.2277	 QPS: 6776	Comps: 142	 Hops: 8.1809
range: 99567	 recall: 0.0096	 QPS: 157718	Comps: 6	 Hops: 0.3617
range: 99602	 recall: 0.0074	 QPS: 228155	Comps: 4	 Hops: 0.2340
range: 99639	 recall: 0.1404	 QPS: 10110	Comps: 96	 Hops: 5.7872
range: 99640	 recall: 1.3947	 QPS: 1065	Comps: 921	 Hops: 49.2340
range: 99641	 recall: 2.0798	 QPS: 789	Comps: 1233	 Hops: 67.7234
range: 99642	 recall: 0.8840	 QPS: 1833	Comps: 526	 Hops: 29.8830
range: 99643	 recall: 0.0840	 QPS: 19421	Comps: 50	 Hops: 2.6809
range: 99715	 recall: 0.0468	 QPS: 24789	Comps: 39	 Hops: 2.2979
range: 99716	 recall: 0.7787	 QPS: 1890	Comps: 519	 Hops: 27.6170
range: 99717	 recall: 2.1330	 QPS: 709	Comps: 1380	 Hops: 74.5745
range: 99718	 recall: 1.4085	 QPS: 1115	Comps: 879	 Hops: 47.4362
range: 99719	 recall: 0.2745	 QPS: 6174	Comps: 157	 Hops: 8.8617
range: 99792	 recall: 0.3734	 QPS: 4054	Comps: 241	 Hops: 13.6596
range: 99793	 recall: 3.5255	 QPS: 441	Comps: 2218	 Hops: 121.6596
range: 99794	 recall: 2.6723	 QPS: 566	Comps: 1729	 Hops: 94.2979
range: 99795	 recall: 0.4202	 QPS: 2255	Comps: 264	 Hops: 14.3085
range: 99868	 recall: 0.1787	 QPS: 8645	Comps: 113	 Hops: 6.0426
range: 99869	 recall: 2.0979	 QPS: 760	Comps: 1282	 Hops: 70.2234
range: 99870	 recall: 2.5011	 QPS: 647	Comps: 1498	 Hops: 85.5745
range: 99871	 recall: 0.8053	 QPS: 1916	Comps: 513	 Hops: 27.2340
range: 99872	 recall: 0.0298	 QPS: 38875	Comps: 25	 Hops: 1.5319
range: 99945	 recall: 1.5883	 QPS: 1026	Comps: 953	 Hops: 51.7660
range: 99946	 recall: 2.9883	 QPS: 501	Comps: 1940	 Hops: 107.8404
range: 99947	 recall: 1.6787	 QPS: 921	Comps: 1054	 Hops: 58.1277
range: 99948	 recall: 0.2660	 QPS: 6639	Comps: 146	 Hops: 8.5638
range: 99984	 recall: 0.0117	 QPS: 102174	Comps: 10	 Hops: 0.4255
range: 100021	 recall: 0.6862	 QPS: 2392	Comps: 403	 Hops: 22.8298
range: 100022	 recall: 2.3830	 QPS: 582	Comps: 1492	 Hops: 82.2766
range: 100023	 recall: 1.5117	 QPS: 1027	Comps: 943	 Hops: 53.7340
range: 100024	 recall: 0.3702	 QPS: 4006	Comps: 244	 Hops: 13.5426
range: 100098	 recall: 2.6309	 QPS: 583	Comps: 1676	 Hops: 92.5745
range: 100099	 recall: 2.5606	 QPS: 543	Comps: 1610	 Hops: 89.6277
range: 100100	 recall: 0.4691	 QPS: 3143	Comps: 306	 Hops: 17.8298
range: 100174	 recall: 1.3819	 QPS: 1123	Comps: 874	 Hops: 47.2553
range: 100175	 recall: 1.6979	 QPS: 867	Comps: 1132	 Hops: 61.4043
range: 100176	 recall: 0.5947	 QPS: 2561	Comps: 379	 Hops: 21.5851
range: 100177	 recall: 0.1053	 QPS: 16101	Comps: 59	 Hops: 3.6809
range: 100250	 recall: 0.6351	 QPS: 2493	Comps: 391	 Hops: 21.6915
range: 100251	 recall: 2.0011	 QPS: 665	Comps: 1279	 Hops: 70.7553
range: 100252	 recall: 1.2681	 QPS: 1244	Comps: 785	 Hops: 42.8723
range: 100253	 recall: 0.2181	 QPS: 5751	Comps: 172	 Hops: 9.0106
range: 100326	 recall: 0.2085	 QPS: 7281	Comps: 135	 Hops: 7.4787
range: 100327	 recall: 0.8766	 QPS: 1814	Comps: 532	 Hops: 30.8617
range: 100328	 recall: 0.9213	 QPS: 1592	Comps: 618	 Hops: 33.3191
range: 100329	 recall: 0.2755	 QPS: 5009	Comps: 198	 Hops: 10.8191
range: 100366	 recall: 0.0000	 QPS: 283988	Comps: 3	 Hops: 0.2447
range: 100403	 recall: 0.4702	 QPS: 3070	Comps: 319	 Hops: 17.7447
range: 100404	 recall: 0.9564	 QPS: 1648	Comps: 596	 Hops: 32.1064
range: 100405	 recall: 0.2755	 QPS: 5353	Comps: 181	 Hops: 10.4255
range: 100406	 recall: 0.0255	 QPS: 46328	Comps: 21	 Hops: 1.1915
range: 100479	 recall: 0.2149	 QPS: 6044	Comps: 165	 Hops: 8.0319
range: 100480	 recall: 0.3809	 QPS: 3741	Comps: 263	 Hops: 13.6489
range: 100481	 recall: 0.2234	 QPS: 6349	Comps: 155	 Hops: 8.5851
range: 100482	 recall: 0.0713	 QPS: 19840	Comps: 49	 Hops: 2.8085
range: 100483	 recall: 0.0096	 QPS: 232099	Comps: 4	 Hops: 0.2234
range: 100484	 recall: 0.0096	 QPS: 449761	Comps: 2	 Hops: 0.1596
range: 100555	 recall: 0.0777	 QPS: 22175	Comps: 43	 Hops: 2.6170
range: 100556	 recall: 0.1628	 QPS: 7873	Comps: 122	 Hops: 6.7979
range: 100557	 recall: 0.2011	 QPS: 7214	Comps: 138	 Hops: 7.1383
range: 100558	 recall: 0.0681	 QPS: 25725	Comps: 39	 Hops: 2.0213
range: 100559	 recall: 0.0064	 QPS: 261111	Comps: 4	 Hops: 0.2447
range: 100631	 recall: 0.0170	 QPS: 121920	Comps: 8	 Hops: 0.4468
range: 100632	 recall: 0.1032	 QPS: 15748	Comps: 62	 Hops: 3.6277
range: 100633	 recall: 0.0511	 QPS: 4195	Comps: 40	 Hops: 2.4043
range: 100634	 recall: 0.0202	 QPS: 52164	Comps: 19	 Hops: 0.9255
range: 100670	 recall: 0.0074	 QPS: 239796	Comps: 4	 Hops: 0.2234
range: 100708	 recall: 0.0106	 QPS: 235589	Comps: 4	 Hops: 0.2766
range: 100709	 recall: 0.0223	 QPS: 94567	Comps: 10	 Hops: 0.5745
range: 100710	 recall: 0.0043	 QPS: 151858	Comps: 6	 Hops: 0.3830
range: 100784	 recall: 0.0106	 QPS: 254054	Comps: 4	 Hops: 0.2447
range: 100785	 recall: 0.0426	 QPS: 41889	Comps: 23	 Hops: 1.2872
range: 100786	 recall: 0.0351	 QPS: 82601	Comps: 11	 Hops: 0.7660
range: 100861	 recall: 0.0096	 QPS: 114914	Comps: 8	 Hops: 0.5426
range: 100863	 recall: 0.0053	 QPS: 204793	Comps: 5	 Hops: 0.2979
Total Recall: 0.5976	 Total QPS: 2515.8948	 Total Comps: 379.0748	 Total Hops: 20.9071
========================
# total query time: 4.0681290s
	Command being timed: "../DynamicSegmentGraph/build/benchmark/query_index -dataset spacev10m -N 10000000 -dataset_path /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs -query_path /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs -groundtruth_path /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_10.json -index_path /mnt/data/mocheng/dataset/spacev10m/dsg/dsg_index/index_dsg_efmax1000_efs1000_sel_1_100000_random -method compact -k 8 -ef_max 1000 -ef_construction 1000 -nthreads 1 -ef_search 12 -qrange_path /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json -query_num 10000 -label_path /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json -query_k 10"
	User time (seconds): 41.64
	System time (seconds): 30.60
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:12.26
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 39708824
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 11036545
	Voluntary context switches: 1
	Involuntary context switches: 151
	Swaps: 0
	File system inputs: 0
	File system outputs: 48
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
