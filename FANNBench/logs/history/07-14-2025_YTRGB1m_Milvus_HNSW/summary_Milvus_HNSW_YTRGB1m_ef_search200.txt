Start time: 04:38
dataset: YTRGB1m
N: 1000000
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query range file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
ground truth file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_10.json
K: 10
M: 40
ef_construction: 1000
ef_search: 200
distribution: sel_2_100000_random
collection name: collection_hnsw_YTRGB1m_sel_2_100000_random_efc1000
mode: construction
d: 1024
get dataset size: 1000000  d: 1024
dim: 1024
_N: 2000000  N: 1000000
start insertion
batch size: 8192  total batch: 122
insert batch: 0.0  of  122  from  0  to  8192
insert batch: 1.0  of  122  from  8192  to  16384
insert batch: 2.0  of  122  from  16384  to  24576
insert batch: 3.0  of  122  from  24576  to  32768
insert batch: 4.0  of  122  from  32768  to  40960
insert batch: 5.0  of  122  from  40960  to  49152
insert batch: 6.0  of  122  from  49152  to  57344
insert batch: 7.0  of  122  from  57344  to  65536
insert batch: 8.0  of  122  from  65536  to  73728
insert batch: 9.0  of  122  from  73728  to  81920
insert batch: 10.0  of  122  from  81920  to  90112
insert batch: 11.0  of  122  from  90112  to  98304
insert batch: 12.0  of  122  from  98304  to  106496
insert batch: 13.0  of  122  from  106496  to  114688
insert batch: 14.0  of  122  from  114688  to  122880
insert batch: 15.0  of  122  from  122880  to  131072
insert batch: 16.0  of  122  from  131072  to  139264
insert batch: 17.0  of  122  from  139264  to  147456
insert batch: 18.0  of  122  from  147456  to  155648
insert batch: 19.0  of  122  from  155648  to  163840
insert batch: 20.0  of  122  from  163840  to  172032
insert batch: 21.0  of  122  from  172032  to  180224
insert batch: 22.0  of  122  from  180224  to  188416
insert batch: 23.0  of  122  from  188416  to  196608
insert batch: 24.0  of  122  from  196608  to  204800
insert batch: 25.0  of  122  from  204800  to  212992
insert batch: 26.0  of  122  from  212992  to  221184
insert batch: 27.0  of  122  from  221184  to  229376
insert batch: 28.0  of  122  from  229376  to  237568
insert batch: 29.0  of  122  from  237568  to  245760
insert batch: 30.0  of  122  from  245760  to  253952
insert batch: 31.0  of  122  from  253952  to  262144
insert batch: 32.0  of  122  from  262144  to  270336
insert batch: 33.0  of  122  from  270336  to  278528
insert batch: 34.0  of  122  from  278528  to  286720
insert batch: 35.0  of  122  from  286720  to  294912
insert batch: 36.0  of  122  from  294912  to  303104
insert batch: 37.0  of  122  from  303104  to  311296
insert batch: 38.0  of  122  from  311296  to  319488
insert batch: 39.0  of  122  from  319488  to  327680
insert batch: 40.0  of  122  from  327680  to  335872
insert batch: 41.0  of  122  from  335872  to  344064
insert batch: 42.0  of  122  from  344064  to  352256
insert batch: 43.0  of  122  from  352256  to  360448
insert batch: 44.0  of  122  from  360448  to  368640
insert batch: 45.0  of  122  from  368640  to  376832
insert batch: 46.0  of  122  from  376832  to  385024
insert batch: 47.0  of  122  from  385024  to  393216
insert batch: 48.0  of  122  from  393216  to  401408
insert batch: 49.0  of  122  from  401408  to  409600
insert batch: 50.0  of  122  from  409600  to  417792
insert batch: 51.0  of  122  from  417792  to  425984
insert batch: 52.0  of  122  from  425984  to  434176
insert batch: 53.0  of  122  from  434176  to  442368
insert batch: 54.0  of  122  from  442368  to  450560
insert batch: 55.0  of  122  from  450560  to  458752
insert batch: 56.0  of  122  from  458752  to  466944
insert batch: 57.0  of  122  from  466944  to  475136
insert batch: 58.0  of  122  from  475136  to  483328
insert batch: 59.0  of  122  from  483328  to  491520
insert batch: 60.0  of  122  from  491520  to  499712
insert batch: 61.0  of  122  from  499712  to  507904
insert batch: 62.0  of  122  from  507904  to  516096
insert batch: 63.0  of  122  from  516096  to  524288
insert batch: 64.0  of  122  from  524288  to  532480
insert batch: 65.0  of  122  from  532480  to  540672
insert batch: 66.0  of  122  from  540672  to  548864
insert batch: 67.0  of  122  from  548864  to  557056
insert batch: 68.0  of  122  from  557056  to  565248
insert batch: 69.0  of  122  from  565248  to  573440
insert batch: 70.0  of  122  from  573440  to  581632
insert batch: 71.0  of  122  from  581632  to  589824
insert batch: 72.0  of  122  from  589824  to  598016
insert batch: 73.0  of  122  from  598016  to  606208
insert batch: 74.0  of  122  from  606208  to  614400
insert batch: 75.0  of  122  from  614400  to  622592
insert batch: 76.0  of  122  from  622592  to  630784
insert batch: 77.0  of  122  from  630784  to  638976
insert batch: 78.0  of  122  from  638976  to  647168
insert batch: 79.0  of  122  from  647168  to  655360
insert batch: 80.0  of  122  from  655360  to  663552
insert batch: 81.0  of  122  from  663552  to  671744
insert batch: 82.0  of  122  from  671744  to  679936
insert batch: 83.0  of  122  from  679936  to  688128
insert batch: 84.0  of  122  from  688128  to  696320
insert batch: 85.0  of  122  from  696320  to  704512
insert batch: 86.0  of  122  from  704512  to  712704
insert batch: 87.0  of  122  from  712704  to  720896
insert batch: 88.0  of  122  from  720896  to  729088
insert batch: 89.0  of  122  from  729088  to  737280
insert batch: 90.0  of  122  from  737280  to  745472
insert batch: 91.0  of  122  from  745472  to  753664
insert batch: 92.0  of  122  from  753664  to  761856
insert batch: 93.0  of  122  from  761856  to  770048
insert batch: 94.0  of  122  from  770048  to  778240
insert batch: 95.0  of  122  from  778240  to  786432
insert batch: 96.0  of  122  from  786432  to  794624
insert batch: 97.0  of  122  from  794624  to  802816
insert batch: 98.0  of  122  from  802816  to  811008
insert batch: 99.0  of  122  from  811008  to  819200
insert batch: 100.0  of  122  from  819200  to  827392
insert batch: 101.0  of  122  from  827392  to  835584
insert batch: 102.0  of  122  from  835584  to  843776
insert batch: 103.0  of  122  from  843776  to  851968
insert batch: 104.0  of  122  from  851968  to  860160
insert batch: 105.0  of  122  from  860160  to  868352
insert batch: 106.0  of  122  from  868352  to  876544
insert batch: 107.0  of  122  from  876544  to  884736
insert batch: 108.0  of  122  from  884736  to  892928
insert batch: 109.0  of  122  from  892928  to  901120
insert batch: 110.0  of  122  from  901120  to  909312
insert batch: 111.0  of  122  from  909312  to  917504
insert batch: 112.0  of  122  from  917504  to  925696
insert batch: 113.0  of  122  from  925696  to  933888
insert batch: 114.0  of  122  from  933888  to  942080
insert batch: 115.0  of  122  from  942080  to  950272
insert batch: 116.0  of  122  from  950272  to  958464
insert batch: 117.0  of  122  from  958464  to  966656
insert batch: 118.0  of  122  from  966656  to  974848
insert batch: 119.0  of  122  from  974848  to  983040
insert batch: 120.0  of  122  from  983040  to  991232
insert batch: 121.0  of  122  from  991232  to  999424
insert batch: 122.0  of  122  from  999424  to  1000000
insertion time: 184.7961711883545
collection size: data: ["{'count(*)': 1000000}"]
insert suc, time cost: 300.93426299095154
construction done
	Command being timed: "python -u utils/pymilvus_hnsw_arbi.py YTRGB1m 1000000 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_10.json 10 40 1000 200 sel_2_100000_random collection_hnsw_YTRGB1m_sel_2_100000_random_efc1000 construction 1024"
	User time (seconds): 172.85
	System time (seconds): 47.79
	Percent of CPU this job got: 37%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 9:48.20
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 45167132
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 39655849
	Voluntary context switches: 26164
	Involuntary context switches: 3566
	Swaps: 0
	File system inputs: 0
	File system outputs: 248
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 07:01
dataset: YTRGB1m
N: 1000000
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query range file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
ground truth file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_10.json
K: 10
M: 40
ef_construction: 1000
ef_search: 200
distribution: sel_2_100000_random
collection name: collection_hnsw_YTRGB1m_sel_2_100000_random_efc1000
mode: query
d: 1024
collection  collection_hnsw_YTRGB1m_sel_2_100000_random_efc1000  exists
collection size: data: ["{'count(*)': 1000000}"]
query d: 1024
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 10
ids shape: 10000 10
gt shape: (10000, 10)
milvus get  83608  postive res from  100000  results, recall@ 10 : 0.83608
recall dist(10\% per bucket):  [0.0009 0.0042 0.0102 0.0223 0.0352 0.0458 0.0635 0.0842 0.1135 0.1809
 0.4393]
10000  queries cost: 142.3584485054016 , qps: 70.24521624805824
	Command being timed: "python -u utils/pymilvus_hnsw_arbi.py YTRGB1m 1000000 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_10.json 10 40 1000 200 sel_2_100000_random collection_hnsw_YTRGB1m_sel_2_100000_random_efc1000 query 1024"
	User time (seconds): 26.20
	System time (seconds): 3.31
	Percent of CPU this job got: 20%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:24.62
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 159984
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 57557
	Voluntary context switches: 24016
	Involuntary context switches: 676326
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 08:40
dataset: YTRGB1m
N: 1000000
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query range file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json
ground truth file: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_10.json
K: 10
M: 40
ef_construction: 1000
ef_search: 200
distribution: sel_2_100000_random
collection name: collection_hnsw_YTRGB1m_sel_2_100000_random_efc1000
mode: query
d: 1024
collection  collection_hnsw_YTRGB1m_sel_2_100000_random_efc1000  exists
collection size: data: ["{'count(*)': 1000000}"]
query d: 1024
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 10
ids shape: 10000 10
gt shape: (10000, 10)
milvus get  88678  postive res from  100000  results, recall@ 10 : 0.88678
recall dist(10\% per bucket):  [2.000e-04 1.200e-03 2.400e-03 7.800e-03 1.530e-02 2.700e-02 4.480e-02
 7.170e-02 1.114e-01 2.017e-01 5.165e-01]
10000  queries cost: 255.2191560268402 , qps: 39.18201186649307
	Command being timed: "python -u utils/pymilvus_hnsw_arbi.py YTRGB1m 1000000 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_10.json 10 40 1000 200 sel_2_100000_random collection_hnsw_YTRGB1m_sel_2_100000_random_efc1000 query 1024"
	User time (seconds): 31.10
	System time (seconds): 6.32
	Percent of CPU this job got: 14%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 4:17.50
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 158980
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 62221
	Voluntary context switches: 26675
	Involuntary context switches: 427173
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
