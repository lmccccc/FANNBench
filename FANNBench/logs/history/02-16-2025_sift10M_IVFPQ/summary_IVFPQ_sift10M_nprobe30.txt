Start time: 00:48
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_64
nprobe: 30
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.719s ] Loaded metadata, 10000000 attr's found
[ 0.719s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.723s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.724s ] Loaded 10000 sift10M queries
[ 0.731s ] Loaded ground truth, gt_size: 10
[ 0.731s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.218s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 87.239s ] Query results (vector ids, then distances):
query 0 nn's (66811, 67810): 8403027 (67450) 2260181 (67765) 8710437 (67666) 4173863 (67608) 9378841 (67272) 2620182 (67682) 3843925 (67076) 8845691 (66999) 7102788 (67612) 4929785 (67064) 
     dis: 	87254.633 90954.016 91246.234 91532.055 93027.445 94517.977 96488.500 100664.023 102476.852 102862.547 
query 1 nn's (80229, 81228): 5838578 (80325) 9900713 (80753) 8549337 (81124) 509915 (81217) 5424055 (81172) 8032969 (80529) 9294765 (80557) 2765204 (81025) 5666656 (80815) 6225217 (80943) 
     dis: 	68088.328 72392.242 75413.578 76671.578 80824.195 81500.852 81630.602 82233.789 83980.414 85266.289 
query 2 nn's (89717, 90716): 5727909 (90490) 5709226 (90258) 4112561 (89860) 86206 (89955) 1380491 (90138) 4347309 (90358) 5043393 (90355) 981842 (89952) 6150520 (90003) 5224373 (90157) 
     dis: 	60198.082 60608.613 61197.766 63730.004 65590.062 66203.227 67724.266 72306.055 72467.094 73176.570 
query 3 nn's (6838, 7837): 840086 (7034) 6281603 (7047) 1180726 (6952) 7890747 (7446) 493857 (7268) 8089617 (7268) 9231939 (6869) 8618960 (7556) 907443 (6923) 8701088 (6988) 
     dis: 	8386.378 9081.689 11529.166 12690.019 12971.577 13302.149 13524.174 14774.678 15346.053 15652.222 
query 4 nn's (76228, 77227): 6221821 (76784) 608851 (76588) 1776999 (76473) 3136966 (76552) 9294532 (76726) 6556006 (76613) 6506698 (76701) 8562010 (77147) 1271454 (76737) 1202792 (76609) 
     dis: 	108749.773 109201.258 111372.148 111424.172 112275.758 112440.086 115605.852 115888.766 117593.297 119572.547 
[ 87.239s ] *** Query time: 17.609
qps: 567.877
 *** ivfpq recall 
ivfpq get 68734 postive res from 100000 results, recall@10:0.687
recall dist(10% per bucket): 0.001 0.008 0.024 0.047 0.079 0.108 0.135 0.149 0.164 0.194 0.091 
finished ivfpq index examples
[ 87.241s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_64 30 128"
	User time (seconds): 84.63
	System time (seconds): 2.74
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:27.38
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1589156
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 807866
	Voluntary context switches: 1
	Involuntary context switches: 182
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:50
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_2000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_2000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_64
nprobe: 30
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.717s ] Loaded metadata, 10000000 attr's found
[ 0.717s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.720s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.722s ] Loaded 10000 sift10M queries
[ 0.729s ] Loaded ground truth, gt_size: 10
[ 0.729s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.199s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.020
[ 78.239s ] Query results (vector ids, then distances):
query 0 nn's (21700, 23699): 8435256 (22283) 7011791 (23273) 4897568 (21711) 242725 (22773) 2894606 (22434) 8944989 (22466) 8031075 (23431) 2785966 (23295) 3252917 (21718) 2370474 (22884) 
     dis: 	81425.648 83768.516 85006.203 85041.883 87147.539 88868.867 90957.234 91002.984 92029.258 92072.859 
query 1 nn's (36760, 38759): 9537422 (38205) 7807906 (37732) 8168664 (37262) 1590116 (38677) 7336097 (38112) 7280092 (37794) 9388707 (37274) 8224421 (38509) 4389334 (38315) 3615353 (36995) 
     dis: 	54862.301 66006.016 66215.297 68335.234 68409.305 70825.586 72185.273 72535.383 72794.523 75833.422 
query 2 nn's (61077, 63076): 2795236 (62148) 9068473 (62147) 7685482 (62295) 4542872 (61400) 8333106 (61471) 3224964 (61887) 4647083 (61889) 8084717 (62575) 2461335 (62859) 868456 (62065) 
     dis: 	52135.250 52601.242 57530.480 58384.785 58708.711 59812.055 61416.570 62477.023 62612.910 63537.820 
query 3 nn's (90892, 92891): 5224964 (92235) 2112048 (90994) 8643637 (91536) 6306155 (92517) 1874032 (91903) 6711509 (92233) 596430 (91870) 3628986 (91756) 9940602 (92757) 6129273 (92094) 
     dis: 	6623.638 7541.135 9270.641 9869.879 10128.482 10494.709 10654.918 11332.477 11794.599 11895.970 
query 4 nn's (57033, 59032): 2045614 (57740) 2779329 (58761) 4750135 (57127) 3671814 (57552) 2704497 (57643) 6206858 (57233) 9981439 (58274) 452081 (57830) 3367228 (58392) 5726646 (57596) 
     dis: 	95383.633 96487.570 96575.672 97270.305 100402.180 102759.562 106213.430 108933.602 112441.195 113035.594 
[ 78.239s ] *** Query time: 14.758
qps: 677.581
 *** ivfpq recall 
ivfpq get 72557 postive res from 100000 results, recall@10:0.726
recall dist(10% per bucket): 0.000 0.004 0.014 0.032 0.058 0.088 0.124 0.158 0.191 0.226 0.104 
finished ivfpq index examples
[ 78.240s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_2000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_2000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_64 30 128"
	User time (seconds): 77.19
	System time (seconds): 1.18
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:18.37
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1589152
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 411145
	Voluntary context switches: 1
	Involuntary context switches: 63
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:52
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_3000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_3000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_64
nprobe: 30
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.718s ] Loaded metadata, 10000000 attr's found
[ 0.718s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.721s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.722s ] Loaded 10000 sift10M queries
[ 0.730s ] Loaded ground truth, gt_size: 10
[ 0.730s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.202s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.030
[ 87.145s ] Query results (vector ids, then distances):
query 0 nn's (54121, 57120): 77153 (55251) 1077702 (54735) 4294175 (55347) 1891236 (55041) 5001655 (54619) 9906463 (54872) 3474811 (56942) 3049131 (56789) 434737 (55269) 2793536 (56447) 
     dis: 	79996.469 80161.422 82223.031 84974.242 85351.008 85494.734 85938.086 87166.156 88370.242 89210.688 
query 1 nn's (82364, 85363): 5271910 (85162) 109736 (83008) 5796685 (85349) 3419918 (85008) 9329945 (82932) 4365144 (85163) 801963 (83162) 3738992 (82987) 7582671 (84196) 2773940 (83061) 
     dis: 	53240.984 65643.906 67248.070 70878.383 70886.094 71213.453 72336.875 72680.203 72749.453 72827.633 
query 2 nn's (6232, 9231): 2098752 (8636) 2247452 (7760) 3028 (7303) 5035303 (8748) 6406531 (7309) 7052809 (7125) 6643296 (6465) 6530405 (8619) 3219057 (8835) 9878343 (8761) 
     dis: 	54350.836 59689.031 61322.840 63087.426 63929.898 64783.969 65248.402 65323.816 65430.852 65578.742 
query 3 nn's (13459, 16458): 5240529 (13962) 8702151 (15242) 2659564 (13521) 8323731 (15263) 9469929 (15648) 175293 (16164) 7259842 (14770) 9056511 (15778) 6098062 (14671) 583811 (15788) 
     dis: 	8227.946 8598.271 9123.775 9301.241 9884.258 10660.710 11093.337 11324.514 11392.636 11713.005 
query 4 nn's (29851, 32850): 163735 (30172) 745843 (31043) 6887757 (32792) 571010 (30350) 5113718 (30560) 2724195 (30149) 8305984 (32738) 3118155 (32842) 3590722 (30995) 9800522 (29925) 
     dis: 	95422.609 96408.789 97323.992 97882.281 101868.438 102102.359 103408.297 103923.141 105818.492 106823.602 
[ 87.145s ] *** Query time: 17.932
qps: 557.664
 *** ivfpq recall 
ivfpq get 74071 postive res from 100000 results, recall@10:0.741
recall dist(10% per bucket): 0.000 0.002 0.011 0.026 0.050 0.082 0.119 0.154 0.200 0.257 0.099 
finished ivfpq index examples
[ 87.147s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_3000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_3000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_64 30 128"
	User time (seconds): 84.55
	System time (seconds): 2.73
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:27.28
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1589160
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 808044
	Voluntary context switches: 1
	Involuntary context switches: 133
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:55
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_4000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_4000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_64
nprobe: 30
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.722s ] Loaded metadata, 10000000 attr's found
[ 0.722s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.725s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.727s ] Loaded 10000 sift10M queries
[ 0.734s ] Loaded ground truth, gt_size: 10
[ 0.734s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.207s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.040
[ 82.211s ] Query results (vector ids, then distances):
query 0 nn's (15498, 19497): 1928425 (16367) 9251169 (17058) 4770231 (18286) 2051236 (18470) 4271011 (16541) 3384323 (18456) 9237550 (19315) 4532213 (19173) 3932713 (15571) 1963518 (15581) 
     dis: 	77713.047 80605.602 83576.320 85129.227 85699.297 85947.086 86161.984 87622.055 88897.055 89215.664 
query 1 nn's (2732, 6731): 522429 (5866) 3652305 (4075) 4757479 (5394) 7143179 (6423) 4702839 (5233) 9815150 (5696) 4493346 (4800) 561862 (3516) 8401639 (5235) 3744772 (4074) 
     dis: 	52287.395 55657.660 56844.254 57247.051 58443.680 58473.879 58820.164 59198.414 60716.141 61224.898 
query 2 nn's (12481, 16480): 4021389 (14109) 764856 (15554) 6856614 (13752) 27015 (15961) 596128 (12783) 2653893 (12489) 483758 (16444) 2941954 (14801) 2043069 (13685) 5684221 (13400) 
     dis: 	56460.441 58829.391 59745.781 60385.477 61580.727 61872.570 62133.547 62230.922 62423.500 62573.449 
query 3 nn's (90049, 94048): 1911911 (93967) 5224964 (92235) 2112048 (90994) 7119531 (90378) 2236726 (90758) 936598 (90457) 8643637 (91536) 6306155 (92517) 1874032 (91903) 6711509 (92233) 
     dis: 	6174.690 6623.638 7541.135 7965.099 8279.927 8999.791 9270.641 9869.879 10128.482 10494.709 
query 4 nn's (10695, 14694): 6062843 (12948) 1850409 (13113) 1903346 (13317) 5641404 (11159) 3355354 (13709) 6748459 (12862) 2115629 (10895) 7321324 (12731) 1715676 (13695) 4243361 (13299) 
     dis: 	83626.516 88166.188 94277.891 99979.609 100047.930 100744.617 101225.766 102280.328 103283.141 103648.672 
[ 82.211s ] *** Query time: 15.856
qps: 630.662
 *** ivfpq recall 
ivfpq get 74961 postive res from 100000 results, recall@10:0.750
recall dist(10% per bucket): 0.000 0.003 0.009 0.020 0.046 0.079 0.111 0.152 0.216 0.265 0.100 
finished ivfpq index examples
[ 82.212s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_4000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_4000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_64 30 128"
	User time (seconds): 81.18
	System time (seconds): 1.14
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:22.32
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1588132
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 411194
	Voluntary context switches: 6
	Involuntary context switches: 34
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:57
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_5000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_5000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_64
nprobe: 30
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.722s ] Loaded metadata, 10000000 attr's found
[ 0.722s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.725s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.726s ] Loaded 10000 sift10M queries
[ 0.734s ] Loaded ground truth, gt_size: 10
[ 0.734s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.200s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.050
[ 85.599s ] Query results (vector ids, then distances):
query 0 nn's (40485, 45484): 1160663 (44937) 9397776 (41815) 1835932 (42846) 3255720 (45053) 331007 (42101) 1665852 (42722) 2365415 (44282) 476293 (42096) 8838842 (42249) 2913895 (40741) 
     dis: 	75556.305 77291.453 79829.141 81607.492 84183.234 84313.766 84720.797 85113.727 87811.625 88337.414 
query 1 nn's (62037, 67036): 9492445 (65346) 6457655 (62411) 8928604 (64738) 3324707 (62830) 3050119 (62562) 1887729 (66402) 4792793 (64099) 7736754 (65712) 2716664 (64360) 5617171 (65557) 
     dis: 	49631.117 55486.742 57750.543 58099.250 58487.938 58771.695 60753.531 64190.168 65489.469 65711.328 
query 2 nn's (1332, 6331): 4588082 (5850) 2601636 (4981) 8068558 (3605) 2953864 (3859) 4347605 (5987) 3967402 (4299) 8635193 (4483) 5397690 (1707) 2571149 (4419) 1587485 (3349) 
     dis: 	46290.277 52052.090 53144.305 56321.547 56424.289 57569.703 58162.898 60931.715 61223.281 61319.285 
query 3 nn's (5307, 10306): 9019201 (10132) 9257537 (9643) 7691560 (8123) 840086 (7034) 1502235 (5553) 6281603 (7047) 543054 (6170) 4503222 (6224) 9288078 (5891) 2841980 (9811) 
     dis: 	7228.387 7563.409 7961.448 8386.378 8566.945 9081.689 9234.701 9247.495 9991.790 10172.210 
query 4 nn's (61015, 66014): 1829341 (62245) 9383376 (65777) 6784852 (64491) 4027439 (61219) 3308297 (62108) 330819 (62462) 3530997 (65454) 4651630 (65649) 1981145 (62934) 3658255 (62121) 
     dis: 	90607.320 94352.438 96374.961 99588.438 99848.023 100189.570 103136.766 103368.742 104922.531 105177.484 
[ 85.599s ] *** Query time: 18.049
qps: 554.051
 *** ivfpq recall 
ivfpq get 75747 postive res from 100000 results, recall@10:0.757
recall dist(10% per bucket): 0.000 0.002 0.006 0.020 0.039 0.071 0.113 0.151 0.225 0.264 0.107 
finished ivfpq index examples
[ 85.601s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_5000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_5000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_64 30 128"
	User time (seconds): 83.12
	System time (seconds): 2.60
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:25.73
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1589156
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 808074
	Voluntary context switches: 1
	Involuntary context switches: 131
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:59
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_6000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_6000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_64
nprobe: 30
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.722s ] Loaded metadata, 10000000 attr's found
[ 0.722s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.726s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.727s ] Loaded 10000 sift10M queries
[ 0.735s ] Loaded ground truth, gt_size: 10
[ 0.735s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.190s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.060
[ 80.470s ] Query results (vector ids, then distances):
query 0 nn's (7094, 13093): 7364551 (11748) 9925949 (12224) 888010 (11612) 906203 (9029) 2707047 (11734) 1249067 (11561) 3517425 (11037) 7699797 (7593) 5072607 (11502) 7105311 (12536) 
     dis: 	73579.352 79460.570 80957.234 83131.133 85306.969 85407.672 86850.359 87640.773 87813.734 89983.750 
query 1 nn's (78125, 84124): 5552416 (78513) 1745130 (81239) 4456023 (81807) 1410399 (79450) 1015812 (81428) 109736 (83008) 3733744 (80018) 8811964 (78982) 5838578 (80325) 9329945 (82932) 
     dis: 	44178.637 55052.254 59736.234 61030.488 63939.305 65643.906 66149.453 66159.078 68088.328 70886.094 
query 2 nn's (22462, 28461): 289025 (23641) 2448858 (26319) 9416415 (22498) 9330360 (23016) 1463083 (23709) 4259715 (27472) 4824470 (28032) 247874 (27384) 4083557 (23166) 5488746 (22698) 
     dis: 	49842.273 50719.492 52016.340 56147.039 56718.816 57117.203 60835.242 60843.766 61091.766 61398.086 
query 3 nn's (92284, 98283): 1527942 (96648) 4147780 (96552) 1218934 (95625) 2892348 (96310) 1911911 (93967) 2218358 (96205) 1344917 (94289) 9925791 (97055) 7404448 (97484) 6697954 (97706) 
     dis: 	4429.167 4460.316 5557.918 5596.319 6174.690 6305.340 7147.005 7477.250 7533.627 8507.957 
query 4 nn's (45322, 51321): 3389697 (48484) 3842053 (47229) 3329904 (47742) 9632952 (47320) 3099917 (49532) 5707536 (47200) 1272627 (49473) 4719865 (48976) 1953827 (48134) 2085966 (47802) 
     dis: 	86887.398 89893.477 91830.422 92074.500 92486.594 94376.031 94447.328 94478.422 97154.828 98222.938 
[ 80.470s ] *** Query time: 15.886
qps: 629.500
 *** ivfpq recall 
ivfpq get 76235 postive res from 100000 results, recall@10:0.762
recall dist(10% per bucket): 0.000 0.002 0.005 0.019 0.035 0.069 0.109 0.155 0.231 0.266 0.109 
finished ivfpq index examples
[ 80.471s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_6000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_6000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_64 30 128"
	User time (seconds): 79.46
	System time (seconds): 1.10
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:20.57
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1589160
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 411143
	Voluntary context switches: 1
	Involuntary context switches: 83
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:02
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_7000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_7000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_64
nprobe: 30
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.731s ] Loaded metadata, 10000000 attr's found
[ 0.731s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.735s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.737s ] Loaded 10000 sift10M queries
[ 0.744s ] Loaded ground truth, gt_size: 10
[ 0.744s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.219s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.070
[ 85.032s ] Query results (vector ids, then distances):
query 0 nn's (75730, 82729): 2898305 (81060) 5284494 (77667) 8191903 (80886) 6777756 (78948) 674077 (80486) 4845093 (76861) 8644324 (81575) 7873837 (78898) 6328993 (82118) 7033151 (82459) 
     dis: 	66765.047 73328.891 76944.016 80602.406 82047.578 83156.383 85159.109 85579.766 85651.727 85789.172 
query 1 nn's (30634, 37633): 1273419 (33970) 3221056 (31139) 9791343 (31369) 7331745 (31011) 7917424 (30836) 9015118 (35539) 7692715 (33795) 8590082 (35871) 8518091 (32017) 5226515 (31871) 
     dis: 	43367.484 49515.406 50356.211 54280.656 54321.969 56188.117 57096.102 57993.969 61106.062 62036.039 
query 2 nn's (47436, 54435): 5055964 (53394) 199400 (49790) 7500565 (53476) 2511585 (51247) 9609459 (52017) 5039283 (52769) 9790465 (51400) 8965515 (47906) 944526 (53648) 2346097 (47666) 
     dis: 	41496.719 50734.125 50812.055 52887.113 53467.805 56066.062 56458.984 56638.980 57075.965 57442.148 
query 3 nn's (27946, 34945): 1124016 (32722) 6942939 (31279) 5716081 (30383) 7709017 (33997) 2630576 (30837) 8841934 (28458) 992744 (30985) 8660300 (30070) 8590378 (31393) 4372662 (28399) 
     dis: 	6172.330 6419.419 7270.026 7460.148 7478.721 7660.045 7734.474 7840.615 8326.746 8980.230 
query 4 nn's (62210, 69209): 1829341 (62245) 9383376 (65777) 6784852 (64491) 4436465 (68543) 330819 (62462) 4529199 (67680) 3530997 (65454) 4377825 (68030) 4651630 (65649) 1981145 (62934) 
     dis: 	90607.320 94352.438 96374.961 99132.461 100189.570 102370.266 103136.766 103269.570 103368.742 104922.531 
[ 85.032s ] *** Query time: 18.198
qps: 549.504
 *** ivfpq recall 
ivfpq get 76746 postive res from 100000 results, recall@10:0.767
recall dist(10% per bucket): 0.000 0.001 0.004 0.016 0.034 0.067 0.104 0.155 0.234 0.280 0.104 
finished ivfpq index examples
[ 85.035s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_7000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_7000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_64 30 128"
	User time (seconds): 82.61
	System time (seconds): 2.56
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:25.17
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1587868
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 778517
	Voluntary context switches: 2
	Involuntary context switches: 147
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:04
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_8000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_8000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_64
nprobe: 30
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.715s ] Loaded metadata, 10000000 attr's found
[ 0.715s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.718s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.719s ] Loaded 10000 sift10M queries
[ 0.727s ] Loaded ground truth, gt_size: 10
[ 0.727s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.194s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.080
[ 81.797s ] Query results (vector ids, then distances):
query 0 nn's (58707, 66706): 7632021 (61505) 4738758 (63657) 9536881 (62309) 6984373 (66297) 6951413 (64572) 5343331 (64452) 7873580 (61095) 7459877 (65985) 7200266 (62910) 9501438 (62638) 
     dis: 	74173.891 74449.000 76589.031 79123.875 80255.836 81300.031 82992.828 84104.430 86406.938 86671.859 
query 1 nn's (46669, 54668): 8349375 (52325) 9781041 (46813) 6073626 (52753) 7693023 (48225) 8646169 (48602) 3786289 (47328) 6630533 (47319) 9211699 (48066) 482087 (52392) 7672903 (50549) 
     dis: 	52268.477 57058.672 57264.012 57562.402 58272.633 58428.172 60250.566 61137.523 63094.770 63280.938 
query 2 nn's (26507, 34506): 4154052 (32764) 4279056 (31979) 8590994 (28647) 4259715 (27472) 4495608 (32772) 8690196 (29802) 2180225 (33712) 2038327 (32825) 9302830 (30435) 4824470 (28032) 
     dis: 	53435.875 53604.242 56800.223 57117.203 57139.016 58145.320 58300.445 58659.836 59098.375 60835.242 
query 3 nn's (38147, 46146): 2205832 (41999) 6760157 (42282) 3061225 (38746) 4030248 (43413) 5275424 (38240) 9754475 (42387) 1133113 (44751) 9421859 (41952) 6734945 (42920) 3620717 (41874) 
     dis: 	4390.735 6591.960 6782.892 6951.691 7503.663 7960.268 8712.269 9593.152 10230.865 10231.828 
query 4 nn's (30743, 38742): 8478796 (34009) 6357047 (37869) 417315 (38580) 330880 (34126) 2721988 (37884) 745843 (31043) 5499675 (34199) 6887757 (32792) 7210902 (34563) 4355165 (36701) 
     dis: 	90706.094 91076.484 94690.039 95185.766 96089.398 96408.789 96483.922 97323.992 98675.906 99089.383 
[ 81.797s ] *** Query time: 16.536
qps: 604.729
 *** ivfpq recall 
ivfpq get 77026 postive res from 100000 results, recall@10:0.770
recall dist(10% per bucket): 0.000 0.002 0.005 0.014 0.032 0.061 0.105 0.160 0.231 0.281 0.108 
finished ivfpq index examples
[ 81.797s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_8000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_8000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_64 30 128"
	User time (seconds): 80.76
	System time (seconds): 1.16
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:21.93
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1589156
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 411152
	Voluntary context switches: 1
	Involuntary context switches: 126
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:06
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_9000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_9000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_64
nprobe: 30
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.719s ] Loaded metadata, 10000000 attr's found
[ 0.719s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.723s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.724s ] Loaded 10000 sift10M queries
[ 0.732s ] Loaded ground truth, gt_size: 10
[ 0.732s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.175s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.090
[ 79.217s ] Query results (vector ids, then distances):
query 0 nn's (30956, 39955): 6141318 (31677) 7866119 (35104) 5228659 (32650) 1203246 (35809) 6019325 (39083) 6002319 (38494) 3094752 (38222) 4047656 (37028) 7895839 (33099) 8135232 (36517) 
     dis: 	72625.461 79879.164 82670.953 83089.008 83249.094 84146.875 86347.859 86594.477 87168.336 87380.117 
query 1 nn's (43590, 52589): 8349375 (52325) 3631651 (46071) 9781041 (46813) 7693023 (48225) 8646169 (48602) 3786289 (47328) 6630533 (47319) 9211699 (48066) 7856853 (44589) 482087 (52392) 
     dis: 	52268.477 56993.523 57058.672 57562.402 58272.633 58428.172 60250.566 61137.523 62920.016 63094.770 
query 2 nn's (59823, 68822): 2304211 (67268) 1571863 (66187) 8132849 (63316) 5637368 (66689) 2795236 (62148) 6347813 (66330) 9068473 (62147) 8565013 (65663) 4665202 (65519) 1329974 (65153) 
     dis: 	48717.477 50657.430 51107.066 51124.438 52135.250 52399.180 52601.242 54066.789 54334.688 54381.930 
query 3 nn's (60707, 69706): 6917633 (65929) 8649378 (64804) 4486659 (62681) 5381241 (67484) 179529 (69049) 9313337 (65861) 9625994 (68515) 1028926 (67570) 3421950 (66323) 9335193 (61835) 
     dis: 	5698.327 6296.265 6964.243 7628.874 7642.829 7684.516 7823.001 7991.773 8002.963 8005.697 
query 4 nn's (66407, 75406): 1149636 (70537) 2524726 (73742) 8693682 (69472) 5807041 (72525) 4436465 (68543) 1257130 (69650) 6511001 (69553) 2334258 (71939) 4529199 (67680) 4377825 (68030) 
     dis: 	85033.164 86542.508 97240.164 97450.609 99132.461 100044.078 101753.727 101971.945 102370.266 103269.570 
[ 79.217s ] *** Query time: 15.901
qps: 628.893
 *** ivfpq recall 
ivfpq get 77328 postive res from 100000 results, recall@10:0.773
recall dist(10% per bucket): 0.000 0.001 0.004 0.013 0.032 0.060 0.101 0.159 0.240 0.284 0.107 
finished ivfpq index examples
[ 79.218s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_9000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_9000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_64 30 128"
	User time (seconds): 78.21
	System time (seconds): 1.10
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:19.32
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1588132
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 411177
	Voluntary context switches: 1
	Involuntary context switches: 65
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:09
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_64
nprobe: 30
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.721s ] Loaded metadata, 10000000 attr's found
[ 0.721s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.724s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.726s ] Loaded 10000 sift10M queries
[ 0.733s ] Loaded ground truth, gt_size: 10
[ 0.733s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.206s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 86.408s ] Query results (vector ids, then distances):
query 0 nn's (30338, 40337): 6141318 (31677) 7866119 (35104) 5228659 (32650) 1203246 (35809) 6019325 (39083) 6002319 (38494) 3094752 (38222) 4047656 (37028) 7895839 (33099) 8135232 (36517) 
     dis: 	72625.461 79879.164 82670.953 83089.008 83249.094 84146.875 86347.859 86594.477 87168.336 87380.117 
query 1 nn's (77037, 87036): 5552416 (78513) 1909131 (86406) 5271910 (85162) 1745130 (81239) 1503119 (86342) 4456023 (81807) 7409966 (77482) 8223991 (85939) 1410399 (79450) 1015812 (81428) 
     dis: 	44178.637 50930.734 53240.984 55052.254 56283.613 59736.234 59750.145 59906.508 61030.488 63939.305 
query 2 nn's (55705, 65704): 237844 (57153) 8132849 (63316) 8455929 (59448) 2795236 (62148) 9068473 (62147) 8863268 (55928) 8565013 (65663) 6114289 (59111) 4665202 (65519) 1329974 (65153) 
     dis: 	48618.285 51107.066 51811.285 52135.250 52601.242 52915.633 54066.789 54263.848 54334.688 54381.930 
query 3 nn's (68256, 78255): 6411621 (75479) 4246457 (73056) 1514080 (69970) 9577990 (76369) 179529 (69049) 8051314 (74322) 9625994 (68515) 9603354 (76938) 4983026 (77570) 1061321 (74643) 
     dis: 	6483.879 6787.027 7087.833 7188.678 7642.829 7697.720 7823.001 7832.500 8056.766 8458.090 
query 4 nn's (32860, 42859): 6578584 (38818) 8478796 (34009) 6357047 (37869) 417315 (38580) 330880 (34126) 5257851 (42550) 2721988 (37884) 5499675 (34199) 7210902 (34563) 2528505 (42180) 
     dis: 	80538.094 90706.094 91076.484 94690.039 95185.766 95210.969 96089.398 96483.922 98675.906 98746.586 
[ 86.408s ] *** Query time: 18.812
qps: 531.564
 *** ivfpq recall 
ivfpq get 77688 postive res from 100000 results, recall@10:0.777
recall dist(10% per bucket): 0.000 0.001 0.005 0.012 0.029 0.057 0.098 0.158 0.239 0.293 0.108 
finished ivfpq index examples
[ 86.410s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_64 30 128"
	User time (seconds): 83.81
	System time (seconds): 2.72
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:26.54
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1589152
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 807680
	Voluntary context switches: 1
	Involuntary context switches: 143
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
