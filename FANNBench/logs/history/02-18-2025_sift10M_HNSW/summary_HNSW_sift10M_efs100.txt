Start time: 08:09
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_40000_1_100000_in_dist.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_40000_1_100000_in_dist_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_dist_40_1000
ef_search: 100
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
[ 0.721s ] Loaded metadata, 10000000 attr's found
[ 0.721s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.725s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.727s ] Loaded 10000 sift10M queries
[ 0.735s ] Loaded ground truth, gt_size: 10
[ 0.735s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 17.915s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.360
[ 117.129s ] Query results (vector ids, then distances):
query 0 nn's (38442, 78442): 6141318 (63712) 7632021 (51980) 6346833 (59051) 1020562 (76197) 7077742 (42666) 9536881 (55153) 9485971 (52018) 1928425 (44989) 7866119 (51231) 796249 (62995) 
     dis: 	73183.000 75587.000 76136.000 76767.000 76934.000 78206.000 78877.000 79208.000 79448.000 79534.000 
query 1 nn's (0, 22473): 4234271 (10566) 1273419 (11359) 7501440 (6611) 1233453 (14431) 9219153 (6637) 469965 (12169) 6265610 (19928) 5271910 (5870) 8879018 (22263) 4922660 (1131) 
     dis: 	44439.000 46522.000 46910.000 48662.000 50730.000 50753.000 51836.000 52252.000 56123.000 56486.000 
query 2 nn's (0, 31206): 5982237 (17674) 8132849 (13703) 6296252 (4337) 4677344 (11335) 9554416 (30928) 4279056 (21460) 9410320 (416) 5988705 (7412) 8068558 (26985) 2994193 (27765) 
     dis: 	50144.000 50997.000 51071.000 52215.000 52237.000 52719.000 52939.000 53001.000 53350.000 53360.000 
query 3 nn's (36517, 76517): 6151275 (59824) 3421136 (41115) 6411621 (57488) 2892348 (61387) 3041965 (42645) 5224964 (61407) 6942939 (65282) 7914184 (37145) 1911911 (42656) 2218358 (41867) 
     dis: 	4602.000 5596.000 5998.000 6047.000 6095.000 6378.000 6423.000 6624.000 6655.000 6693.000 
query 4 nn's (1581, 41581): 811272 (3465) 6578584 (18363) 1751938 (31660) 3389697 (19174) 1141817 (34826) 4344456 (30879) 1149636 (34794) 1530216 (40303) 7724095 (2689) 7778880 (27757) 
     dis: 	81973.000 82172.000 84283.000 84350.000 85933.000 85939.000 85940.000 86529.000 86698.000 87157.000 
[ 117.130s ] *** Query time: 33.923
qps: 294.786
 *** HNSW recall 
HNSW get 98311 postive res from 100000 results, recall@10:0.983
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.001 0.005 0.019 0.111 0.864 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 55623462, average: 5562.346
finished ivfpq index examples
[ 117.133s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_40000_1_100000_in_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_40000_1_100000_in_dist_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_dist_40_1000 100 128"
	User time (seconds): 93.47
	System time (seconds): 14.84
	Percent of CPU this job got: 91%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:58.12
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8358824
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 3518467
	Voluntary context switches: 34817
	Involuntary context switches: 184
	Swaps: 0
	File system inputs: 873648
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 09:55
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_50000_1_100000_in_dist.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_50000_1_100000_in_dist_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_dist_40_1000
ef_search: 100
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
[ 0.715s ] Loaded metadata, 10000000 attr's found
[ 0.715s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.718s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.742s ] Loaded 10000 sift10M queries
[ 0.782s ] Loaded ground truth, gt_size: 10
[ 0.782s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 19.463s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.436
[ 123.320s ] Query results (vector ids, then distances):
query 0 nn's (9268, 59268): 4160485 (18340) 2898305 (16783) 5514922 (12940) 1160663 (10585) 4738758 (11351) 7632021 (51980) 6346833 (59051) 4538400 (25471) 6984373 (34761) 7077742 (42666) 
     dis: 	65950.000 67180.000 72798.000 74292.000 74463.000 75587.000 76136.000 76603.000 76880.000 76934.000 
query 1 nn's (58234, 99999): 8449497 (78596) 5552416 (65287) 411491 (84802) 1263214 (70019) 1909131 (90315) 9791343 (75449) 3309105 (69952) 522429 (97325) 1120308 (98119) 9009284 (94271) 
     dis: 	32633.000 42944.000 46959.000 47608.000 51310.000 51493.000 51760.000 52132.000 52532.000 52935.000 
query 2 nn's (48567, 98567): 5055964 (61350) 3900297 (92680) 4588082 (73917) 8667807 (51982) 1931585 (85608) 289025 (89537) 1571863 (59842) 237844 (55163) 2304211 (57499) 4791170 (55121) 
     dis: 	42316.000 43033.000 47637.000 47988.000 48317.000 48416.000 48528.000 49294.000 49692.000 50576.000 
query 3 nn's (0, 45054): 4083199 (34822) 1527942 (20684) 8174765 (34010) 7301932 (9775) 3643741 (7428) 1985932 (11352) 5124856 (24615) 3421136 (41115) 6917633 (15999) 2358683 (31685) 
     dis: 	3910.000 4309.000 5180.000 5240.000 5279.000 5371.000 5492.000 5596.000 5626.000 5694.000 
query 4 nn's (0, 31277): 811272 (3465) 6578584 (18363) 3389697 (19174) 4344456 (30879) 7724095 (2689) 7778880 (27757) 3832333 (8215) 9001755 (26934) 39005 (20693) 2908498 (10554) 
     dis: 	81973.000 82172.000 84350.000 85939.000 86698.000 87157.000 87409.000 87905.000 87925.000 88949.000 
[ 123.320s ] *** Query time: 25.996
qps: 384.677
 *** HNSW recall 
HNSW get 98470 postive res from 100000 results, recall@10:0.985
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.001 0.004 0.018 0.102 0.875 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 55623462, average: 5562.346
finished ivfpq index examples
[ 123.320s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_50000_1_100000_in_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_50000_1_100000_in_dist_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_dist_40_1000 100 128"
	User time (seconds): 104.42
	System time (seconds): 7.96
	Percent of CPU this job got: 90%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:03.93
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8357480
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 2
	Minor (reclaiming a frame) page faults: 2104109
	Voluntary context switches: 27933
	Involuntary context switches: 180
	Swaps: 0
	File system inputs: 895256
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 11:41
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_60000_1_100000_in_dist.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_60000_1_100000_in_dist_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_dist_40_1000
ef_search: 100
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
[ 0.739s ] Loaded metadata, 10000000 attr's found
[ 0.739s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.742s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.756s ] Loaded 10000 sift10M queries
[ 0.786s ] Loaded ground truth, gt_size: 10
[ 0.786s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 20.638s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.510
[ 114.051s ] Query results (vector ids, then distances):
query 0 nn's (0, 35095): 4160485 (18340) 2898305 (16783) 1167995 (1952) 5514922 (12940) 1160663 (10585) 4738758 (11351) 4538400 (25471) 6984373 (34761) 9397776 (24615) 5579551 (33289) 
     dis: 	65950.000 67180.000 72023.000 72798.000 74292.000 74463.000 76603.000 76880.000 77424.000 78568.000 
query 1 nn's (40929, 99999): 8449497 (78596) 5552416 (65287) 411491 (84802) 1263214 (70019) 8349375 (53556) 3645374 (48863) 9958454 (41038) 1909131 (90315) 9791343 (75449) 3309105 (69952) 
     dis: 	32633.000 42944.000 46959.000 47608.000 49997.000 50948.000 51055.000 51310.000 51493.000 51760.000 
query 2 nn's (47719, 99999): 5055964 (61350) 3900297 (92680) 4588082 (73917) 8667807 (51982) 1931585 (85608) 289025 (89537) 1571863 (59842) 237844 (55163) 2304211 (57499) 4791170 (55121) 
     dis: 	42316.000 43033.000 47637.000 47988.000 48317.000 48416.000 48528.000 49294.000 49692.000 50576.000 
query 3 nn's (0, 50709): 4083199 (34822) 1527942 (20684) 8174765 (34010) 7301932 (9775) 3643741 (7428) 1985932 (11352) 5124856 (24615) 3421136 (41115) 6917633 (15999) 2358683 (31685) 
     dis: 	3910.000 4309.000 5180.000 5240.000 5279.000 5371.000 5492.000 5596.000 5626.000 5694.000 
query 4 nn's (51700, 99999): 7241286 (91854) 3918536 (60607) 9958618 (87984) 5493369 (80149) 7963557 (56702) 1129230 (64537) 6062843 (84085) 4119530 (54348) 3220361 (62889) 3692806 (52797) 
     dis: 	77624.000 78379.000 80415.000 81626.000 82038.000 84652.000 84746.000 86120.000 86625.000 86927.000 
[ 114.051s ] *** Query time: 25.498
qps: 392.186
 *** HNSW recall 
HNSW get 98631 postive res from 100000 results, recall@10:0.986
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.001 0.003 0.015 0.092 0.888 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 55623462, average: 5562.346
finished ivfpq index examples
[ 114.053s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_60000_1_100000_in_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_60000_1_100000_in_dist_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_dist_40_1000 100 128"
	User time (seconds): 91.23
	System time (seconds): 11.60
	Percent of CPU this job got: 89%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:55.08
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8357752
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 6
	Minor (reclaiming a frame) page faults: 2837236
	Voluntary context switches: 9520
	Involuntary context switches: 171
	Swaps: 0
	File system inputs: 39800
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 13:31
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_70000_1_100000_in_dist.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_70000_1_100000_in_dist_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_dist_40_1000
ef_search: 100
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
[ 0.717s ] Loaded metadata, 10000000 attr's found
[ 0.717s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.720s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.758s ] Loaded 10000 sift10M queries
[ 0.787s ] Loaded ground truth, gt_size: 10
[ 0.787s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 19.179s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.578
[ 123.690s ] Query results (vector ids, then distances):
query 0 nn's (15938, 85938): 4160485 (18340) 2898305 (16783) 6141318 (63712) 7632021 (51980) 6346833 (59051) 4538400 (25471) 1020562 (76197) 6984373 (34761) 7077742 (42666) 9397776 (24615) 
     dis: 	65950.000 67180.000 73183.000 75587.000 76136.000 76603.000 76767.000 76880.000 76934.000 77424.000 
query 1 nn's (39587, 99999): 8449497 (78596) 5552416 (65287) 411491 (84802) 1263214 (70019) 8349375 (53556) 3645374 (48863) 9958454 (41038) 1909131 (90315) 9791343 (75449) 3309105 (69952) 
     dis: 	32633.000 42944.000 46959.000 47608.000 49997.000 50948.000 51055.000 51310.000 51493.000 51760.000 
query 2 nn's (60440, 99999): 5055964 (61350) 3900297 (92680) 4588082 (73917) 1931585 (85608) 289025 (89537) 3493381 (96585) 7500565 (73913) 9416415 (91891) 4457160 (66048) 9068473 (87943) 
     dis: 	42316.000 43033.000 47637.000 48317.000 48416.000 51043.000 51634.000 51724.000 51795.000 52145.000 
query 3 nn's (42322, 99999): 980813 (79374) 2205832 (79419) 4147780 (85690) 6151275 (59824) 8410503 (89524) 7269483 (81722) 2965607 (98158) 1218934 (95023) 9132978 (80186) 1417424 (80951) 
     dis: 	4296.000 4343.000 4550.000 4602.000 4817.000 4894.000 5013.000 5468.000 5559.000 5643.000 
query 4 nn's (42750, 99999): 7241286 (91854) 3918536 (60607) 9958618 (87984) 5493369 (80149) 7963557 (56702) 1129230 (64537) 6062843 (84085) 6413263 (47260) 4119530 (54348) 3220361 (62889) 
     dis: 	77624.000 78379.000 80415.000 81626.000 82038.000 84652.000 84746.000 84921.000 86120.000 86625.000 
[ 123.690s ] *** Query time: 32.417
qps: 308.479
 *** HNSW recall 
HNSW get 98794 postive res from 100000 results, recall@10:0.988
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.002 0.013 0.087 0.897 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 55623462, average: 5562.346
finished ivfpq index examples
[ 123.693s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_70000_1_100000_in_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_70000_1_100000_in_dist_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_dist_40_1000 100 128"
	User time (seconds): 98.39
	System time (seconds): 15.04
	Percent of CPU this job got: 90%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:04.72
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8359844
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 4
	Minor (reclaiming a frame) page faults: 3487267
	Voluntary context switches: 4465
	Involuntary context switches: 228
	Swaps: 0
	File system inputs: 4232
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 15:17
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_80000_1_100000_in_dist.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_80000_1_100000_in_dist_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_dist_40_1000
ef_search: 100
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
[ 0.978s ] Loaded metadata, 10000000 attr's found
[ 0.978s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.004s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 1.029s ] Loaded 10000 sift10M queries
[ 1.055s ] Loaded ground truth, gt_size: 10
[ 1.055s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 19.289s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.641
[ 119.644s ] Query results (vector ids, then distances):
query 0 nn's (0, 49634): 4160485 (18340) 2898305 (16783) 1167995 (1952) 5514922 (12940) 1160663 (10585) 4738758 (11351) 4538400 (25471) 6984373 (34761) 7077742 (42666) 9397776 (24615) 
     dis: 	65950.000 67180.000 72023.000 72798.000 74292.000 74463.000 76603.000 76880.000 76934.000 77424.000 
query 1 nn's (0, 44675): 285986 (32478) 4234271 (10566) 2253711 (24672) 4907604 (30932) 1273419 (11359) 7501440 (6611) 1233453 (14431) 9492445 (33263) 3221056 (24642) 9219153 (6637) 
     dis: 	43778.000 44439.000 45140.000 46066.000 46522.000 46910.000 48662.000 48691.000 49695.000 50730.000 
query 2 nn's (0, 52532): 8667807 (51982) 199400 (38630) 5982237 (17674) 9262583 (36356) 4480383 (48064) 8132849 (13703) 6296252 (4337) 5637368 (39458) 9466222 (49715) 4677344 (11335) 
     dis: 	47988.000 49395.000 50144.000 50601.000 50702.000 50997.000 51071.000 51405.000 51654.000 52215.000 
query 3 nn's (0, 54917): 4083199 (34822) 1527942 (20684) 8174765 (34010) 7301932 (9775) 3643741 (7428) 1985932 (11352) 5124856 (24615) 3421136 (41115) 6917633 (15999) 2358683 (31685) 
     dis: 	3910.000 4309.000 5180.000 5240.000 5279.000 5371.000 5492.000 5596.000 5626.000 5694.000 
query 4 nn's (0, 63528): 7091990 (41850) 3918536 (60607) 811272 (3465) 7963557 (56702) 6578584 (18363) 1751938 (31660) 3389697 (19174) 6413263 (47260) 1141817 (34826) 4344456 (30879) 
     dis: 	77167.000 78379.000 81973.000 82038.000 82172.000 84283.000 84350.000 84921.000 85933.000 85939.000 
[ 119.644s ] *** Query time: 27.481
qps: 363.888
 *** HNSW recall 
HNSW get 98878 postive res from 100000 results, recall@10:0.989
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.001 0.002 0.013 0.080 0.905 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 55623462, average: 5562.346
finished ivfpq index examples
[ 119.646s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_80000_1_100000_in_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_80000_1_100000_in_dist_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_dist_40_1000 100 128"
	User time (seconds): 98.12
	System time (seconds): 11.33
	Percent of CPU this job got: 90%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:00.57
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8355880
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 24
	Minor (reclaiming a frame) page faults: 2721462
	Voluntary context switches: 30804
	Involuntary context switches: 183
	Swaps: 0
	File system inputs: 270776
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 17:02
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_90000_1_100000_in_dist.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_90000_1_100000_in_dist_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_dist_40_1000
ef_search: 100
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
[ 1.037s ] Loaded metadata, 10000000 attr's found
[ 1.037s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.055s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 1.072s ] Loaded 10000 sift10M queries
[ 1.093s ] Loaded ground truth, gt_size: 10
[ 1.093s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 19.307s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.696
[ 112.618s ] Query results (vector ids, then distances):
query 0 nn's (7998, 97998): 4160485 (18340) 2898305 (16783) 5514922 (12940) 6141318 (63712) 5284494 (91876) 1160663 (10585) 4738758 (11351) 7293718 (96562) 7632021 (51980) 6346833 (59051) 
     dis: 	65950.000 67180.000 72798.000 73183.000 73728.000 74292.000 74463.000 75573.000 75587.000 76136.000 
query 1 nn's (35893, 99999): 8449497 (78596) 5552416 (65287) 411491 (84802) 1263214 (70019) 8349375 (53556) 3645374 (48863) 9958454 (41038) 1909131 (90315) 9791343 (75449) 3309105 (69952) 
     dis: 	32633.000 42944.000 46959.000 47608.000 49997.000 50948.000 51055.000 51310.000 51493.000 51760.000 
query 2 nn's (0, 62482): 5055964 (61350) 8667807 (51982) 1571863 (59842) 237844 (55163) 199400 (38630) 2304211 (57499) 5982237 (17674) 4791170 (55121) 9262583 (36356) 4480383 (48064) 
     dis: 	42316.000 47988.000 48528.000 49294.000 49395.000 49692.000 50144.000 50576.000 50601.000 50702.000 
query 3 nn's (0, 59751): 4083199 (34822) 1527942 (20684) 8174765 (34010) 7301932 (9775) 3643741 (7428) 1985932 (11352) 5124856 (24615) 3421136 (41115) 6917633 (15999) 2358683 (31685) 
     dis: 	3910.000 4309.000 5180.000 5240.000 5279.000 5371.000 5492.000 5596.000 5626.000 5694.000 
query 4 nn's (49220, 99999): 7241286 (91854) 3918536 (60607) 9958618 (87984) 5493369 (80149) 7963557 (56702) 1129230 (64537) 6062843 (84085) 4119530 (54348) 3220361 (62889) 546979 (51205) 
     dis: 	77624.000 78379.000 80415.000 81626.000 82038.000 84652.000 84746.000 86120.000 86625.000 86866.000 
[ 112.618s ] *** Query time: 25.558
qps: 391.265
 *** HNSW recall 
HNSW get 98914 postive res from 100000 results, recall@10:0.989
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.003 0.011 0.078 0.908 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 55623462, average: 5562.346
finished ivfpq index examples
[ 112.620s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_90000_1_100000_in_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_90000_1_100000_in_dist_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_dist_40_1000 100 128"
	User time (seconds): 91.17
	System time (seconds): 11.51
	Percent of CPU this job got: 90%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:53.64
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8357800
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 16
	Minor (reclaiming a frame) page faults: 2838689
	Voluntary context switches: 29052
	Involuntary context switches: 179
	Swaps: 0
	File system inputs: 525576
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 18:45
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_100000_1_100000_in_dist.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_100000_1_100000_in_dist_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_dist_40_1000
ef_search: 100
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
[ 1.144s ] Loaded metadata, 10000000 attr's found
[ 1.144s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.148s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 1.159s ] Loaded 10000 sift10M queries
[ 1.210s ] Loaded ground truth, gt_size: 10
[ 1.210s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 22.726s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.748
[ 118.372s ] Query results (vector ids, then distances):
query 0 nn's (0, 84989): 4160485 (18340) 2898305 (16783) 1167995 (1952) 5514922 (12940) 6141318 (63712) 1160663 (10585) 4738758 (11351) 7632021 (51980) 6346833 (59051) 4538400 (25471) 
     dis: 	65950.000 67180.000 72023.000 72798.000 73183.000 74292.000 74463.000 75587.000 76136.000 76603.000 
query 1 nn's (16196, 99999): 8449497 (78596) 5552416 (65287) 285986 (32478) 2253711 (24672) 4907604 (30932) 411491 (84802) 1263214 (70019) 9492445 (33263) 3221056 (24642) 8349375 (53556) 
     dis: 	32633.000 42944.000 43778.000 45140.000 46066.000 46959.000 47608.000 48691.000 49695.000 49997.000 
query 2 nn's (0, 72214): 5055964 (61350) 8667807 (51982) 1571863 (59842) 237844 (55163) 199400 (38630) 2304211 (57499) 5982237 (17674) 4791170 (55121) 9262583 (36356) 4480383 (48064) 
     dis: 	42316.000 47988.000 48528.000 49294.000 49395.000 49692.000 50144.000 50576.000 50601.000 50702.000 
query 3 nn's (17399, 99999): 4083199 (34822) 980813 (79374) 1527942 (20684) 2205832 (79419) 4147780 (85690) 6151275 (59824) 8410503 (89524) 7269483 (81722) 2965607 (98158) 8174765 (34010) 
     dis: 	3910.000 4296.000 4309.000 4343.000 4550.000 4602.000 4817.000 4894.000 5013.000 5180.000 
query 4 nn's (46499, 99999): 7241286 (91854) 3918536 (60607) 9958618 (87984) 5493369 (80149) 7963557 (56702) 1129230 (64537) 6062843 (84085) 6413263 (47260) 4119530 (54348) 3220361 (62889) 
     dis: 	77624.000 78379.000 80415.000 81626.000 82038.000 84652.000 84746.000 84921.000 86120.000 86625.000 
[ 118.372s ] *** Query time: 26.284
qps: 380.462
 *** HNSW recall 
HNSW get 98970 postive res from 100000 results, recall@10:0.990
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.002 0.009 0.074 0.913 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 55623462, average: 5562.346
finished ivfpq index examples
[ 118.373s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_100000_1_100000_in_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_100000_1_100000_in_dist_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_dist_40_1000 100 128"
	User time (seconds): 93.32
	System time (seconds): 11.54
	Percent of CPU this job got: 87%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:59.29
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8357756
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 11
	Minor (reclaiming a frame) page faults: 2694614
	Voluntary context switches: 19725
	Involuntary context switches: 191
	Swaps: 0
	File system inputs: 142416
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 22:36
====================
START: running HNSW_INDEX_CONSTRUCTION, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 128
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random_1/attr_sel_1_500_random_1.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_500_random_1_40_1000
dim: 128
M: 40
ef_construction: 1000
loaded base attributes, size:10000000
[ 0.677s ] Loaded attributions, 10000000 found
[ 0.677s ] Index Params -- d: 128, M: 40, N: 10000000
====================Vectors====================

[ 0.677s ] Loading database
[ 4.499s ] Loaded base vectors from file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
data loaded, with dim: 128, N=10000000
[ 4.499s ] Indexing database, size 10000000*128 from max 10000000
[ 4.499s ] Adding the vectors to the index
index construction cost:1649.661
[ 1649.661s ] Vectors added to  index
Index vectors added:10000000
====================Write Index================

[ 1654.545s ] Wrote ivbfpq index to file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_500_random_1_40_1000
[1654.545 s] -----DONE-----
[ 1654.545s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_build sift10M 10000000 10 128 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random_1/attr_sel_1_500_random_1.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_500_random_1_40_1000 128 40 1000"
	User time (seconds): 182255.90
	System time (seconds): 219.55
	Percent of CPU this job got: 11021%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 27:35.57
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 14639096
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 22855476
	Voluntary context switches: 13357
	Involuntary context switches: 9335780
	Swaps: 0
	File system inputs: 136824
	File system outputs: 16564504
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:07
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random_1/attr_sel_1_500_random_1.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random_1/qrangesel_1_1_500_random_1.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random_1/sif_gt_sel_1_1_500_random_1_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_500_random_1_40_1000
ef_search: 100
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random_1/attr_sel_1_500_random_1.json
[ 0.603s ] Loaded metadata, 10000000 attr's found
[ 0.603s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.606s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.607s ] Loaded 10000 sift10M queries
[ 0.615s ] Loaded ground truth, gt_size: 10
[ 0.615s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.990s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 1.000
[ 117.247s ] Query results (vector ids, then distances):
query 0 nn's (1, 1): 4160485 (1) 2898305 (1) 1167995 (1) 7364551 (1) 5514922 (1) 6141318 (1) 5284494 (1) 1160663 (1) 4738758 (1) 7293718 (1) 
     dis: 	65950.000 67180.000 72023.000 72592.000 72798.000 73183.000 73728.000 74292.000 74463.000 75573.000 
query 1 nn's (1, 1): 8449497 (1) 5552416 (1) 285986 (1) 4234271 (1) 2253711 (1) 4907604 (1) 1273419 (1) 7501440 (1) 411491 (1) 1263214 (1) 
     dis: 	32633.000 42944.000 43778.000 44439.000 45140.000 46066.000 46522.000 46910.000 46959.000 47608.000 
query 2 nn's (1, 1): 5055964 (1) 3900297 (1) 4588082 (1) 8667807 (1) 1931585 (1) 289025 (1) 1571863 (1) 237844 (1) 199400 (1) 2304211 (1) 
     dis: 	42316.000 43033.000 47637.000 47988.000 48317.000 48416.000 48528.000 49294.000 49395.000 49692.000 
query 3 nn's (1, 1): 4083199 (1) 980813 (1) 1527942 (1) 2205832 (1) 4147780 (1) 6151275 (1) 8410503 (1) 7269483 (1) 2965607 (1) 8174765 (1) 
     dis: 	3910.000 4296.000 4309.000 4343.000 4550.000 4602.000 4817.000 4894.000 5013.000 5180.000 
query 4 nn's (1, 1): 7091990 (1) 7241286 (1) 3918536 (1) 3477074 (1) 9958618 (1) 5493369 (1) 811272 (1) 7963557 (1) 6578584 (1) 1751938 (1) 
     dis: 	77167.000 77624.000 78379.000 80355.000 80415.000 81626.000 81973.000 82038.000 82172.000 84283.000 
[ 117.247s ] *** Query time: 37.118
qps: 269.414
 *** HNSW recall 
HNSW get 99219 postive res from 100000 results, recall@10:0.992
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.002 0.008 0.057 0.934 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 55633022, average: 5563.302
finished ivfpq index examples
[ 117.247s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random_1/attr_sel_1_500_random_1.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random_1/qrangesel_1_1_500_random_1.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random_1/sif_gt_sel_1_1_500_random_1_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_500_random_1_40_1000 100 128"
	User time (seconds): 102.13
	System time (seconds): 16.14
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:58.28
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8359840
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3901000
	Voluntary context switches: 3
	Involuntary context switches: 172
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 02:29
====================
START: running HNSW_INDEX_CONSTRUCTION, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 128
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random_2/attr_sel_1_500_random_2.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_500_random_2_40_1000
dim: 128
M: 40
ef_construction: 1000
loaded base attributes, size:10000000
[ 0.617s ] Loaded attributions, 10000000 found
[ 0.617s ] Index Params -- d: 128, M: 40, N: 10000000
====================Vectors====================

[ 0.617s ] Loading database
[ 4.399s ] Loaded base vectors from file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
data loaded, with dim: 128, N=10000000
[ 4.399s ] Indexing database, size 10000000*128 from max 10000000
[ 4.399s ] Adding the vectors to the index
index construction cost:1632.610
[ 1632.610s ] Vectors added to  index
Index vectors added:10000000
====================Write Index================

[ 1637.559s ] Wrote ivbfpq index to file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_500_random_2_40_1000
[1637.559 s] -----DONE-----
[ 1637.559s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_build sift10M 10000000 10 128 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random_2/attr_sel_1_500_random_2.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_500_random_2_40_1000 128 40 1000"
	User time (seconds): 178592.56
	System time (seconds): 215.19
	Percent of CPU this job got: 10912%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 27:18.63
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 14645240
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 22736156
	Voluntary context switches: 13633
	Involuntary context switches: 8914913
	Swaps: 0
	File system inputs: 0
	File system outputs: 16564496
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
