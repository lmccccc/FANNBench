

===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
attr: /mnt/data/mocheng/dataset/sift10m/label/sel_1_200_random/attr_sel_1_200_random.json
query: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
qrange: /mnt/data/mocheng/dataset/sift10m/label/sel_1_200_random/qrangesel_10_1_200_random.json
output: /mnt/data/mocheng/dataset/sift10m/label/sel_1_200_random/sif_gt_sel_10_1_200_random_10.json
topk: 10
dim: 128
start
[3.012 s] Loaded dataset, size=10000000, dim=128
[3.678 s] Loaded attr, size=0
[3.678 s] Loading query vectors and attributes
query vecs data loaded, with dim: 128, size=10000
[3.681 s] Loaded query vectors
[3.682 s] Loaded 10000 queries
====================Vectors====================

[3.682 s] Loading database
data loaded, with dim: 128, nb=10000000
[3.682 s] Indexing database, size 10000000*128 from max 10000000
[6.118 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[6.332 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[40.922 s] Query results (vector ids, then distances):
query 0, qrange [71, 80]
      nns 0 id:2515600 attr:72 dis:73465
      nns 1 id:5284494 attr:74 dis:73728
      nns 2 id:1928425 attr:76 dis:79208
      nns 3 id:1174332 attr:73 dis:79542
      nns 4 id:2992273 attr:72 dis:84073
      nns 5 id:6830362 attr:77 dis:85838
      nns 6 id:5315711 attr:72 dis:88379
      nns 7 id:796982 attr:76 dis:88463
      nns 8 id:6494656 attr:76 dis:88566
      nns 9 id:8132272 attr:75 dis:89950

query 1, qrange [152, 161]
      nns 0 id:411491 attr:158 dis:46959
      nns 1 id:1120308 attr:153 dis:52532
      nns 2 id:6378991 attr:153 dis:54869
      nns 3 id:6457655 attr:158 dis:58061
      nns 4 id:4493346 attr:155 dis:59949
      nns 5 id:6087695 attr:153 dis:60873
      nns 6 id:1932354 attr:152 dis:63792
      nns 7 id:5700748 attr:152 dis:63955
      nns 8 id:4960102 attr:160 dis:64813
      nns 9 id:9785756 attr:152 dis:69573

query 2, qrange [15, 24]
      nns 0 id:5982237 attr:22 dis:50144
      nns 1 id:4457160 attr:19 dis:51795
      nns 2 id:4519717 attr:24 dis:55350
      nns 3 id:9790465 attr:16 dis:56197
      nns 4 id:6340941 attr:21 dis:58468
      nns 5 id:2038327 attr:18 dis:58701
      nns 6 id:4913928 attr:18 dis:59326
      nns 7 id:2247452 attr:17 dis:59600
      nns 8 id:5619678 attr:20 dis:60058
      nns 9 id:4735422 attr:16 dis:60303

query 3, qrange [88, 97]
      nns 0 id:9132978 attr:96 dis:5559
      nns 1 id:3421136 attr:95 dis:5596
      nns 2 id:1590183 attr:92 dis:7460
      nns 3 id:2630576 attr:94 dis:7486
      nns 4 id:1028926 attr:89 dis:8228
      nns 5 id:5777538 attr:97 dis:8322
      nns 6 id:1502235 attr:88 dis:8414
      nns 7 id:3009997 attr:91 dis:8437
      nns 8 id:2843331 attr:97 dis:8898
      nns 9 id:2659564 attr:91 dis:8903

query 4, qrange [127, 136]
      nns 0 id:7963557 attr:135 dis:82038
      nns 1 id:9569496 attr:128 dis:86883
      nns 2 id:5175563 attr:132 dis:88607
      nns 3 id:1800938 attr:128 dis:89079
      nns 4 id:5117098 attr:134 dis:89682
      nns 5 id:990482 attr:128 dis:90021
      nns 6 id:4775817 attr:132 dis:91583
      nns 7 id:6330957 attr:131 dis:94447
      nns 8 id:417315 attr:128 dis:94565
      nns 9 id:2288117 attr:127 dis:96597

[40.923 s] *** Query time: 34.589402
qps:289.106
cmp per query:10000000
recall: 1 of course
sel distribution: 1 0 0 0 0 0 0 0 0 0 0 
selectivity: 0.0500006
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[331.834 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_200_random/attr_sel_1_200_random.json /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_200_random/qrangesel_10_1_200_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_200_random/sif_gt_sel_10_1_200_random_10.json 10 128"
	User time (seconds): 3708.96
	System time (seconds): 9.88
	Percent of CPU this job got: 1119%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 5:32.09
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 10132480
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 52
	Minor (reclaiming a frame) page faults: 3901821
	Voluntary context switches: 527
	Involuntary context switches: 97660
	Swaps: 0
	File system inputs: 56472
	File system outputs: 1792
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
attr: /mnt/data/mocheng/dataset/sift10m/label/sel_1_200_random/attr_sel_1_200_random.json
query: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
qrange: /mnt/data/mocheng/dataset/sift10m/label/sel_1_200_random/qrangesel_10_1_200_random.json
output: /mnt/data/mocheng/dataset/sift10m/label/sel_1_200_random/sif_gt_sel_10_1_200_random_10.json
topk: 10
dim: 128
start
[8.403 s] Loaded dataset, size=10000000, dim=128
[9.077 s] Loaded attr, size=0
[9.077 s] Loading query vectors and attributes
query vecs data loaded, with dim: 128, size=10000
[9.117 s] Loaded query vectors
[9.119 s] Loaded 10000 queries
====================Vectors====================

[9.119 s] Loading database
data loaded, with dim: 128, nb=10000000
[9.119 s] Indexing database, size 10000000*128 from max 10000000
[11.427 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[11.611 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[42.880 s] Query results (vector ids, then distances):
query 0, qrange [64, 73]
      nns 0 id:3255720 attr:72 dis:82432
      nns 1 id:7974670 attr:70 dis:82693
      nns 2 id:7269444 attr:72 dis:82879
      nns 3 id:4897568 attr:71 dis:83581
      nns 4 id:1203246 attr:73 dis:84353
      nns 5 id:5001655 attr:69 dis:85310
      nns 6 id:839586 attr:72 dis:85800
      nns 7 id:8983756 attr:67 dis:86063
      nns 8 id:7220675 attr:66 dis:86211
      nns 9 id:4698776 attr:71 dis:87100

query 1, qrange [121, 130]
      nns 0 id:9245954 attr:123 dis:58737
      nns 1 id:6087695 attr:126 dis:60873
      nns 2 id:6335574 attr:121 dis:62023
      nns 3 id:1932354 attr:123 dis:63792
      nns 4 id:4357659 attr:122 dis:63824
      nns 5 id:4960102 attr:126 dis:64813
      nns 6 id:2027961 attr:123 dis:67029
      nns 7 id:4399493 attr:126 dis:68168
      nns 8 id:8572136 attr:130 dis:68350
      nns 9 id:2021990 attr:127 dis:69141

query 2, qrange [168, 177]
      nns 0 id:1571863 attr:177 dis:48528
      nns 1 id:4791170 attr:171 dis:50576
      nns 2 id:8086660 attr:176 dis:54318
      nns 3 id:5631784 attr:177 dis:57398
      nns 4 id:1956474 attr:172 dis:58484
      nns 5 id:1625792 attr:170 dis:58508
      nns 6 id:4713533 attr:172 dis:58526
      nns 7 id:4913928 attr:170 dis:59326
      nns 8 id:3224964 attr:175 dis:60035
      nns 9 id:806471 attr:176 dis:60577

query 3, qrange [104, 113]
      nns 0 id:1417424 attr:109 dis:5643
      nns 1 id:7691560 attr:105 dis:8087
      nns 2 id:1326424 attr:106 dis:8268
      nns 3 id:6697954 attr:104 dis:8912
      nns 4 id:7786145 attr:112 dis:10242
      nns 5 id:5928980 attr:111 dis:10894
      nns 6 id:7259842 attr:111 dis:11153
      nns 7 id:6091433 attr:113 dis:11545
      nns 8 id:7922777 attr:106 dis:11638
      nns 9 id:5269082 attr:109 dis:11930

query 4, qrange [44, 53]
      nns 0 id:6388463 attr:48 dis:86061
      nns 1 id:4366121 attr:52 dis:86842
      nns 2 id:6408001 attr:47 dis:86935
      nns 3 id:3640601 attr:50 dis:90538
      nns 4 id:4719865 attr:44 dis:91846
      nns 5 id:9067729 attr:49 dis:92148
      nns 6 id:2045614 attr:53 dis:94445
      nns 7 id:4422483 attr:44 dis:94638
      nns 8 id:6887597 attr:47 dis:95788
      nns 9 id:1641746 attr:46 dis:97693

[42.880 s] *** Query time: 31.267883
qps:319.817
cmp per query:10000000
recall: 1 of course
sel distribution: 1 0 0 0 0 0 0 0 0 0 0 
selectivity: 0.0500007
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[336.240 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_200_random/attr_sel_1_200_random.json /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_200_random/qrangesel_10_1_200_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_200_random/sif_gt_sel_10_1_200_random_10.json 10 128"
	User time (seconds): 3534.69
	System time (seconds): 20.16
	Percent of CPU this job got: 1056%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 5:36.50
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 10131456
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 56
	Minor (reclaiming a frame) page faults: 6682697
	Voluntary context switches: 5156
	Involuntary context switches: 188867
	Swaps: 0
	File system inputs: 9995320
	File system outputs: 1816
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
