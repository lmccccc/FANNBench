Start time: 05:42
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json
top k:  100
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/rfann/result/result_sel_1_100000_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/rfann/index/index_sel_1_100000_random/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (10000000, 128)
attr size:  (10000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift10m/rfann/index/index_sel_1_100000_random/
mode: query
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2047
new num buckets 4095
new num buckets 8190
new num buckets 16366
new num buckets 32679
Total edge:737055040
Average degree:73.7055
 tree construction suc
Super optimized postfilter tree build time: 772.485s
Super optimized postfilter tree build time: 772.485s
beam sizes: [700]
final multiplies: [2]
using this batch search4 
total point comp 509966687
avg comp:50996.7
beam size: 700 , final_beam_multiply: 2
qps: 63.487486569752164
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_700_2', 0.9996459999999945, 157.51135444641113, 772.4851944446564, 2.0, 88.09317779541016)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json --output_file /mnt/data/mocheng/dataset/sift10m/rfann/result/result_sel_1_100000_random.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/rfann/index/index_sel_1_100000_random/ --top_k 100 --super_opt_postfiltering --threads 1 --beam_search_size 700 --num_final_multiplies 2 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 218.73
	System time (seconds): 106.27
	Percent of CPU this job got: 34%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 15:52.68
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 102445940
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 49052761
	Voluntary context switches: 167433
	Involuntary context switches: 6712
	Swaps: 0
	File system inputs: 18272424
	File system outputs: 1496
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 06:01
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json
top k:  100
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/rfann/result/result_sel_1_100000_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/rfann/index/index_sel_1_100000_random/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (10000000, 128)
attr size:  (10000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift10m/rfann/index/index_sel_1_100000_random/
mode: query
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2047
new num buckets 4095
new num buckets 8190
new num buckets 16366
new num buckets 32679
Total edge:737055040
Average degree:73.7055
 tree construction suc
Super optimized postfilter tree build time: 73.166s
Super optimized postfilter tree build time: 73.166s
beam sizes: [700]
final multiplies: [2]
using this batch search4 
total point comp 416465387
avg comp:41646.5
beam size: 700 , final_beam_multiply: 2
qps: 80.30200770756862
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_700_2', 0.9997799999999963, 124.52988767623901, 73.16624474525452, 2.0, 88.14922714233398)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json --output_file /mnt/data/mocheng/dataset/sift10m/rfann/result/result_sel_1_100000_random.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/rfann/index/index_sel_1_100000_random/ --top_k 100 --super_opt_postfiltering --threads 1 --beam_search_size 700 --num_final_multiplies 2 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 160.23
	System time (seconds): 60.10
	Percent of CPU this job got: 100%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:38.33
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 102503260
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 37766348
	Voluntary context switches: 134
	Involuntary context switches: 989
	Swaps: 0
	File system inputs: 256
	File system outputs: 1480
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 06:06
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_100.json
top k:  100
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/rfann/result/result_sel_1_100000_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/rfann/index/index_sel_1_100000_random/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (10000000, 128)
attr size:  (10000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift10m/rfann/index/index_sel_1_100000_random/
mode: query
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2047
new num buckets 4095
new num buckets 8190
new num buckets 16366
new num buckets 32679
Total edge:737055040
Average degree:73.7055
 tree construction suc
Super optimized postfilter tree build time: 71.717s
Super optimized postfilter tree build time: 71.717s
beam sizes: [700]
final multiplies: [2]
using this batch search4 
total point comp 285523657
avg comp:28552.4
beam size: 700 , final_beam_multiply: 2
qps: 93.55688825968771
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_700_2', 0.9989599999999825, 106.88683843612671, 71.716876745224, 2.0, 88.14862823486328)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_100.json --output_file /mnt/data/mocheng/dataset/sift10m/rfann/result/result_sel_1_100000_random.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/rfann/index/index_sel_1_100000_random/ --top_k 100 --super_opt_postfiltering --threads 1 --beam_search_size 700 --num_final_multiplies 2 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 144.57
	System time (seconds): 57.63
	Percent of CPU this job got: 102%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:17.76
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 102502212
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 35467652
	Voluntary context switches: 154
	Involuntary context switches: 1425
	Swaps: 0
	File system inputs: 0
	File system outputs: 1480
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 06:11
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_100.json
top k:  100
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/rfann/result/result_sel_1_100000_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/rfann/index/index_sel_1_100000_random/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (10000000, 128)
attr size:  (10000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift10m/rfann/index/index_sel_1_100000_random/
mode: query
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2047
new num buckets 4095
new num buckets 8190
new num buckets 16366
new num buckets 32679
Total edge:737055040
Average degree:73.7055
 tree construction suc
Super optimized postfilter tree build time: 78.999s
Super optimized postfilter tree build time: 78.999s
beam sizes: [700]
final multiplies: [2]
using this batch search4 
total point comp 156431440
avg comp:15643.1
beam size: 700 , final_beam_multiply: 2
qps: 99.97866060821144
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_700_2', 0.9900749999998852, 100.02134394645691, 78.99914717674255, 2.0, 88.14724731445312)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_100.json --output_file /mnt/data/mocheng/dataset/sift10m/rfann/result/result_sel_1_100000_random.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/rfann/index/index_sel_1_100000_random/ --top_k 100 --super_opt_postfiltering --threads 1 --beam_search_size 700 --num_final_multiplies 2 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 135.91
	System time (seconds): 63.37
	Percent of CPU this job got: 101%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:16.95
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 102502624
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 37162752
	Voluntary context switches: 144
	Involuntary context switches: 1003
	Swaps: 0
	File system inputs: 0
	File system outputs: 1496
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
