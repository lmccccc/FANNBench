

===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
attr: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
query: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
qrange: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json
output: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_10.json
topk: 10
dim: 100
start
[2.931 s] Loaded dataset, size=10000000, dim=100
[3.633 s] Loaded attr, size=0
[3.633 s] Loading query vectors and attributes
query vecs data loaded, with dim: 100, size=10000
[3.636 s] Loaded query vectors
[3.637 s] Loaded 10000 queries
====================Vectors====================

[3.637 s] Loading database
data loaded, with dim: 100, nb=10000000
[3.637 s] Indexing database, size 10000000*100 from max 10000000
[5.729 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[6.029 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[33.817 s] Query results (vector ids, then distances):
query 0, qrange [40856, 50855]
      nns 0 id:606211 attr:46345 dis:5333
      nns 1 id:6583311 attr:47922 dis:6338
      nns 2 id:3082748 attr:43400 dis:6920
      nns 3 id:38473 attr:46733 dis:7027
      nns 4 id:8997960 attr:41694 dis:7191
      nns 5 id:8538301 attr:43948 dis:7544
      nns 6 id:7007393 attr:50612 dis:7710
      nns 7 id:6547416 attr:46965 dis:7882
      nns 8 id:2433318 attr:41182 dis:8146
      nns 9 id:244510 attr:41564 dis:8194

query 1, qrange [25003, 35002]
      nns 0 id:9408428 attr:33214 dis:8315
      nns 1 id:6693881 attr:28141 dis:8318
      nns 2 id:6631934 attr:28922 dis:9175
      nns 3 id:913237 attr:31716 dis:9300
      nns 4 id:128447 attr:33616 dis:9379
      nns 5 id:1286599 attr:26580 dis:9607
      nns 6 id:4764135 attr:25237 dis:9898
      nns 7 id:9844113 attr:25407 dis:9916
      nns 8 id:8084904 attr:26103 dis:10035
      nns 9 id:1641593 attr:25519 dis:10134

query 2, qrange [52136, 62135]
      nns 0 id:4927764 attr:61896 dis:6596
      nns 1 id:5193386 attr:58419 dis:7399
      nns 2 id:9602743 attr:57407 dis:8053
      nns 3 id:4710102 attr:57576 dis:8124
      nns 4 id:5423341 attr:53232 dis:8500
      nns 5 id:2961580 attr:56149 dis:8750
      nns 6 id:9485250 attr:57717 dis:8960
      nns 7 id:1425558 attr:59965 dis:9126
      nns 8 id:323907 attr:52531 dis:9129
      nns 9 id:8971627 attr:61869 dis:9180

query 3, qrange [22672, 32671]
      nns 0 id:7020630 attr:23256 dis:8902
      nns 1 id:1717763 attr:23291 dis:9696
      nns 2 id:391722 attr:24862 dis:9931
      nns 3 id:3188407 attr:24304 dis:9960
      nns 4 id:8232477 attr:31632 dis:10280
      nns 5 id:4251611 attr:29775 dis:10455
      nns 6 id:9892318 attr:23797 dis:10541
      nns 7 id:5621855 attr:30749 dis:10647
      nns 8 id:3626273 attr:24674 dis:10834
      nns 9 id:7435385 attr:25937 dis:11029

query 4, qrange [53667, 63666]
      nns 0 id:7373067 attr:53855 dis:5809
      nns 1 id:2038833 attr:53914 dis:6330
      nns 2 id:9044829 attr:55243 dis:6416
      nns 3 id:6782257 attr:61394 dis:6419
      nns 4 id:6934935 attr:62103 dis:6557
      nns 5 id:8774147 attr:59338 dis:6791
      nns 6 id:6789739 attr:61948 dis:6812
      nns 7 id:3192757 attr:54312 dis:6817
      nns 8 id:1444782 attr:58902 dis:6837
      nns 9 id:5685630 attr:55650 dis:6845

[33.818 s] *** Query time: 27.787562
qps:359.873
cmp per query:10000000
recall: 1 of course
sel distribution: 0.5657 0.4343 0 0 0 0 0 0 0 0 0 
selectivity: 0.099989
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[338.384 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_10.json 10 100"
	User time (seconds): 2849.14
	System time (seconds): 287.62
	Percent of CPU this job got: 926%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 5:38.73
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7944192
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 11663308
	Voluntary context switches: 1807272
	Involuntary context switches: 106888
	Swaps: 0
	File system inputs: 104
	File system outputs: 1800
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
attr: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
query: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
qrange: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
output: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json
topk: 10
dim: 100
start
[2.921 s] Loaded dataset, size=10000000, dim=100
[3.693 s] Loaded attr, size=0
[3.693 s] Loading query vectors and attributes
query vecs data loaded, with dim: 100, size=10000
[3.696 s] Loaded query vectors
[3.697 s] Loaded 10000 queries
====================Vectors====================

[3.697 s] Loading database
data loaded, with dim: 100, nb=10000000
[3.697 s] Indexing database, size 10000000*100 from max 10000000
[5.772 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[6.062 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[120.419 s] Query results (vector ids, then distances):
query 0, qrange [40616, 90615]
      nns 0 id:1352077 attr:75218 dis:3278
      nns 1 id:1300400 attr:68247 dis:3455
      nns 2 id:525784 attr:86118 dis:5270
      nns 3 id:606211 attr:46345 dis:5333
      nns 4 id:1781760 attr:80354 dis:5414
      nns 5 id:7509422 attr:86182 dis:5894
      nns 6 id:8021837 attr:54227 dis:6219
      nns 7 id:290760 attr:73276 dis:6292
      nns 8 id:6583311 attr:47922 dis:6338
      nns 9 id:1714233 attr:65633 dis:6491

query 1, qrange [23827, 73826]
      nns 0 id:1027770 attr:59556 dis:4889
      nns 1 id:3024255 attr:36040 dis:6351
      nns 2 id:3545414 attr:44593 dis:7469
      nns 3 id:6716785 attr:66378 dis:7593
      nns 4 id:9408428 attr:33214 dis:8315
      nns 5 id:6693881 attr:28141 dis:8318
      nns 6 id:1087257 attr:62343 dis:8514
      nns 7 id:3843020 attr:54844 dis:8685
      nns 8 id:547651 attr:43364 dis:8991
      nns 9 id:1739613 attr:53800 dis:9038

query 2, qrange [32197, 82196]
      nns 0 id:4574760 attr:37531 dis:3034
      nns 1 id:5189301 attr:43405 dis:3368
      nns 2 id:8005273 attr:37538 dis:3855
      nns 3 id:4290437 attr:79182 dis:4555
      nns 4 id:3524579 attr:49429 dis:5017
      nns 5 id:8672246 attr:67919 dis:6310
      nns 6 id:8167950 attr:64329 dis:6379
      nns 7 id:4927764 attr:61896 dis:6596
      nns 8 id:5932138 attr:71360 dis:6968
      nns 9 id:8699363 attr:38066 dis:7268

query 3, qrange [10631, 60630]
      nns 0 id:4286832 attr:17230 dis:4960
      nns 1 id:1208824 attr:37041 dis:7689
      nns 2 id:1165548 attr:45426 dis:7871
      nns 3 id:1681561 attr:52434 dis:8422
      nns 4 id:9732223 attr:41833 dis:8881
      nns 5 id:7020630 attr:23256 dis:8902
      nns 6 id:7375372 attr:33987 dis:9144
      nns 7 id:7371232 attr:47114 dis:9274
      nns 8 id:8694166 attr:43201 dis:9661
      nns 9 id:1717763 attr:23291 dis:9696

query 4, qrange [49705, 99704]
      nns 0 id:3987492 attr:98027 dis:3787
      nns 1 id:3107282 attr:67009 dis:5291
      nns 2 id:5744224 attr:51156 dis:5418
      nns 3 id:9211260 attr:81222 dis:5775
      nns 4 id:7373067 attr:53855 dis:5809
      nns 5 id:6872756 attr:95706 dis:5915
      nns 6 id:6279473 attr:68764 dis:6062
      nns 7 id:9788862 attr:69419 dis:6170
      nns 8 id:4015525 attr:99118 dis:6212
      nns 9 id:73290 attr:81611 dis:6268

[120.420 s] *** Query time: 114.356874
qps:87.4456
cmp per query:10000000
recall: 1 of course
sel distribution: 0 0 0 0 0.9925 0.0075 0 0 0 0 0 
selectivity: 0.499871
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[411.823 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_10.json 10 100"
	User time (seconds): 10785.08
	System time (seconds): 2321.15
	Percent of CPU this job got: 3179%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 6:52.21
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7944192
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 78466662
	Voluntary context switches: 478207
	Involuntary context switches: 501759
	Swaps: 0
	File system inputs: 0
	File system outputs: 1800
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
