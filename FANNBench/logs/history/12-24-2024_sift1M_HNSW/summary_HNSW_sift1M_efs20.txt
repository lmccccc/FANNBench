Start time: 02:14
====================
START: running TEST_HNSW, sift data --

dataset: sift1M
N: 1000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/qrangesel_1_1_2_random.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/sif_gt_10.json
index file: /mnt/data/mocheng/dataset/sift/hnsw/index/index_hnsw_sel_1_1_2_random_40_1000
ef_search: 20
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json
[ 0.089s ] Loaded metadata, 1000000 attr's found
[ 0.089s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.093s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
[ 0.094s ] Loaded 10000 sift1M queries
[ 0.101s ] Loaded ground truth, gt_size: 10
[ 0.101s ] Index Params -- d: 128, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 1.038s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 2206.725s ] Query results (vector ids, then distances):
query 0 nn's (1, 1): 934876 (1) 695756 (1) 455537 (1) 562594 (1) 908244 (1) 746931 (1) 565814 (1) 454263 (1) 779712 (1) 871066 (1) 
     dis: 	55091.000 67010.000 71441.000 73537.000 73581.000 75554.000 76051.000 76664.000 78092.000 78324.000 
query 1 nn's (1, 1): 413071 (1) 249062 (1) 987636 (1) 586780 (1) 833054 (1) 248426 (1) 849742 (1) 208391 (1) 192537 (1) 948375 (1) 
     dis: 	52570.000 55586.000 56785.000 58246.000 58464.000 58741.000 59323.000 59679.000 59720.000 60673.000 
query 2 nn's (1, 1): 408764 (1) 408462 (1) 408855 (1) 861882 (1) 551743 (1) 861530 (1) 402106 (1) 431595 (1) 905339 (1) 62269 (1) 
     dis: 	31091.000 33608.000 34104.000 35704.000 36325.000 36348.000 36458.000 38236.000 39308.000 39826.000 
query 3 nn's (0, 0): 191115 (0) 889039 (0) 546470 (0) 546496 (0) 207768 (0) 831905 (0) 832999 (0) 190692 (0) 191317 (0) 855554 (0) 
     dis: 	34876.000 34909.000 35734.000 36113.000 36229.000 36624.000 36743.000 36892.000 37275.000 38019.000 
query 4 nn's (0, 0): 340871 (0) 748397 (0) 716433 (0) 112586 (0) 340288 (0) 403978 (0) 59308 (0) 81533 (0) 956898 (0) 278801 (0) 
     dis: 	45914.000 47367.000 52559.000 53980.000 57968.000 59193.000 60042.000 60485.000 61167.000 62620.000 
[ 2206.725s ] *** Query time: 296.915
qps: 33.680
 *** HNSW recall 
HNSW get 88377 postive res from 100000 results, recall@10:0.884
recall dist(10% per bucket): 0.000 0.000 0.000 0.002 0.007 0.016 0.043 0.084 0.163 0.272 0.412 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 10030102, average: 1003.010
finished ivfpq index examples
[ 2206.728s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift1M 1000000 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/qrangesel_1_1_2_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/sif_gt_10.json /mnt/data/mocheng/dataset/sift/hnsw/index/index_hnsw_sel_1_1_2_random_40_1000 20 128"
	User time (seconds): 661.69
	System time (seconds): 722.21
	Percent of CPU this job got: 62%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 36:57.55
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 232862844
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 67312
	Minor (reclaiming a frame) page faults: 66168254
	Voluntary context switches: 70730
	Involuntary context switches: 17787
	Swaps: 0
	File system inputs: 2603064
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
