

===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
attr: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
query: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
qrange: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_80000_1_100000_random.json
output: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_80000_1_100000_random_10.json
topk: 10
dim: 128
start
[3.896 s] Loaded dataset, size=10000000, dim=128
[4.615 s] Loaded attr, size=0
[4.615 s] Loading query vectors and attributes
query vecs data loaded, with dim: 128, size=10000
[4.618 s] Loaded query vectors
[4.620 s] Loaded 10000 queries
====================Vectors====================

[4.620 s] Loading database
data loaded, with dim: 128, nb=10000000
[4.620 s] Indexing database, size 10000000*128 from max 10000000
[7.289 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[7.663 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[177.048 s] Query results (vector ids, then distances):
query 0, qrange [3090, 83089]
      nns 0 id:4160485 attr:5102 dis:65950
      nns 1 id:2898305 attr:81060 dis:67180
      nns 2 id:1167995 attr:22866 dis:72023
      nns 3 id:7364551 attr:11748 dis:72592
      nns 4 id:6141318 attr:31677 dis:73183
      nns 5 id:5284494 attr:77667 dis:73728
      nns 6 id:1160663 attr:44937 dis:74292
      nns 7 id:4738758 attr:63657 dis:74463
      nns 8 id:7293718 attr:39822 dis:75573
      nns 9 id:7632021 attr:61505 dis:75587

query 1, qrange [8794, 88793]
      nns 0 id:8449497 attr:70727 dis:32633
      nns 1 id:5552416 attr:78513 dis:42944
      nns 2 id:285986 attr:29147 dis:43778
      nns 3 id:4234271 attr:59540 dis:44439
      nns 4 id:1273419 attr:33970 dis:46522
      nns 5 id:7501440 attr:19981 dis:46910
      nns 6 id:411491 attr:28374 dis:46959
      nns 7 id:1233453 attr:72165 dis:48662
      nns 8 id:9492445 attr:65346 dis:48691
      nns 9 id:3221056 attr:31139 dis:49695

query 2, qrange [5620, 85619]
      nns 0 id:9710602 attr:78610 dis:40495
      nns 1 id:5055964 attr:53394 dis:42316
      nns 2 id:3900297 attr:84319 dis:43033
      nns 3 id:4588082 attr:5850 dis:47637
      nns 4 id:1931585 attr:19001 dis:48317
      nns 5 id:289025 attr:23641 dis:48416
      nns 6 id:1571863 attr:66187 dis:48528
      nns 7 id:237844 attr:57153 dis:49294
      nns 8 id:199400 attr:49790 dis:49395
      nns 9 id:2304211 attr:67268 dis:49692

query 3, qrange [8898, 88897]
      nns 0 id:4083199 attr:37081 dis:3910
      nns 1 id:980813 attr:57404 dis:4296
      nns 2 id:2205832 attr:41999 dis:4343
      nns 3 id:6151275 attr:54227 dis:4602
      nns 4 id:8410503 attr:57593 dis:4817
      nns 5 id:7269483 attr:17595 dis:4894
      nns 6 id:2965607 attr:50671 dis:5013
      nns 7 id:8174765 attr:80882 dis:5180
      nns 8 id:7301932 attr:58021 dis:5240
      nns 9 id:3643741 attr:49824 dis:5279

query 4, qrange [10175, 90174]
      nns 0 id:7241286 attr:17260 dis:77624
      nns 1 id:3918536 attr:86314 dis:78379
      nns 2 id:3477074 attr:81770 dis:80355
      nns 3 id:9958618 attr:32063 dis:80415
      nns 4 id:5493369 attr:10478 dis:81626
      nns 5 id:6578584 attr:38818 dis:82172
      nns 6 id:3389697 attr:48484 dis:84350
      nns 7 id:1129230 attr:87798 dis:84652
      nns 8 id:6062843 attr:12948 dis:84746
      nns 9 id:6413263 attr:79374 dis:84921

[177.048 s] *** Query time: 169.384307
qps:59.0373
cmp per query:10000000
recall: 1 of course
sel distribution: 0 0 0 0 0 0 0 0.0651 0.9349 0 0 
selectivity: 0.800197
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[341.351 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_80000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_80000_1_100000_random_10.json 10 128"
	User time (seconds): 15870.05
	System time (seconds): 2798.76
	Percent of CPU this job got: 5461%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 5:41.83
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 10132480
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 26
	Minor (reclaiming a frame) page faults: 97932446
	Voluntary context switches: 382580
	Involuntary context switches: 825830
	Swaps: 0
	File system inputs: 34768
	File system outputs: 1800
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
attr: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
query: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
qrange: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_90000_1_100000_random.json
output: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_90000_1_100000_random_10.json
topk: 10
dim: 128
start
[3.717 s] Loaded dataset, size=10000000, dim=128
[4.432 s] Loaded attr, size=0
[4.432 s] Loading query vectors and attributes
query vecs data loaded, with dim: 128, size=10000
[4.436 s] Loaded query vectors
[4.437 s] Loaded 10000 queries
====================Vectors====================

[4.437 s] Loading database
data loaded, with dim: 128, nb=10000000
[4.437 s] Indexing database, size 10000000*128 from max 10000000
[6.993 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[7.272 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[213.849 s] Query results (vector ids, then distances):
query 0, qrange [6392, 96391]
      nns 0 id:2898305 attr:81060 dis:67180
      nns 1 id:3381228 attr:94183 dis:70830
      nns 2 id:1167995 attr:22866 dis:72023
      nns 3 id:7364551 attr:11748 dis:72592
      nns 4 id:6141318 attr:31677 dis:73183
      nns 5 id:2515600 attr:87061 dis:73465
      nns 6 id:5284494 attr:77667 dis:73728
      nns 7 id:1160663 attr:44937 dis:74292
      nns 8 id:4738758 attr:63657 dis:74463
      nns 9 id:7293718 attr:39822 dis:75573

query 1, qrange [1875, 91874]
      nns 0 id:8449497 attr:70727 dis:32633
      nns 1 id:5552416 attr:78513 dis:42944
      nns 2 id:285986 attr:29147 dis:43778
      nns 3 id:4234271 attr:59540 dis:44439
      nns 4 id:1273419 attr:33970 dis:46522
      nns 5 id:7501440 attr:19981 dis:46910
      nns 6 id:411491 attr:28374 dis:46959
      nns 7 id:1233453 attr:72165 dis:48662
      nns 8 id:9492445 attr:65346 dis:48691
      nns 9 id:3221056 attr:31139 dis:49695

query 2, qrange [1435, 91434]
      nns 0 id:9710602 attr:78610 dis:40495
      nns 1 id:5055964 attr:53394 dis:42316
      nns 2 id:3900297 attr:84319 dis:43033
      nns 3 id:4588082 attr:5850 dis:47637
      nns 4 id:1931585 attr:19001 dis:48317
      nns 5 id:289025 attr:23641 dis:48416
      nns 6 id:1571863 attr:66187 dis:48528
      nns 7 id:237844 attr:57153 dis:49294
      nns 8 id:199400 attr:49790 dis:49395
      nns 9 id:2304211 attr:67268 dis:49692

query 3, qrange [8865, 98864]
      nns 0 id:4083199 attr:37081 dis:3910
      nns 1 id:980813 attr:57404 dis:4296
      nns 2 id:1527942 attr:96648 dis:4309
      nns 3 id:2205832 attr:41999 dis:4343
      nns 4 id:4147780 attr:96552 dis:4550
      nns 5 id:6151275 attr:54227 dis:4602
      nns 6 id:8410503 attr:57593 dis:4817
      nns 7 id:7269483 attr:17595 dis:4894
      nns 8 id:2965607 attr:50671 dis:5013
      nns 9 id:8174765 attr:80882 dis:5180

query 4, qrange [4851, 94850]
      nns 0 id:7241286 attr:17260 dis:77624
      nns 1 id:3918536 attr:86314 dis:78379
      nns 2 id:3477074 attr:81770 dis:80355
      nns 3 id:9958618 attr:32063 dis:80415
      nns 4 id:5493369 attr:10478 dis:81626
      nns 5 id:811272 attr:90447 dis:81973
      nns 6 id:6578584 attr:38818 dis:82172
      nns 7 id:1751938 attr:90610 dis:84283
      nns 8 id:3389697 attr:48484 dis:84350
      nns 9 id:1129230 attr:87798 dis:84652

[213.850 s] *** Query time: 206.575963
qps:48.4083
cmp per query:10000000
recall: 1 of course
sel distribution: 0 0 0 0 0 0 0 0 0.0028 0.9972 0 
selectivity: 0.900131
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[332.171 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_90000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_90000_1_100000_random_10.json 10 128"
	User time (seconds): 15718.11
	System time (seconds): 7141.06
	Percent of CPU this job got: 6871%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 5:32.65
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 10132480
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 225518280
	Voluntary context switches: 803825
	Involuntary context switches: 1016740
	Swaps: 0
	File system inputs: 0
	File system outputs: 1800
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
attr: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
query: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
qrange: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100000_1_100000_random.json
output: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100000_1_100000_random_10.json
topk: 10
dim: 128
start
[3.734 s] Loaded dataset, size=10000000, dim=128
[4.442 s] Loaded attr, size=0
[4.442 s] Loading query vectors and attributes
query vecs data loaded, with dim: 128, size=10000
[4.445 s] Loaded query vectors
[4.447 s] Loaded 10000 queries
====================Vectors====================

[4.447 s] Loading database
data loaded, with dim: 128, nb=10000000
[4.447 s] Indexing database, size 10000000*128 from max 10000000
[7.110 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[7.487 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[211.877 s] Query results (vector ids, then distances):
query 0, qrange [0, 99999]
      nns 0 id:4160485 attr:5102 dis:65950
      nns 1 id:2898305 attr:81060 dis:67180
      nns 2 id:3381228 attr:94183 dis:70830
      nns 3 id:1167995 attr:22866 dis:72023
      nns 4 id:7364551 attr:11748 dis:72592
      nns 5 id:5514922 attr:2718 dis:72798
      nns 6 id:6141318 attr:31677 dis:73183
      nns 7 id:2515600 attr:87061 dis:73465
      nns 8 id:5284494 attr:77667 dis:73728
      nns 9 id:1160663 attr:44937 dis:74292

query 1, qrange [0, 99999]
      nns 0 id:8449497 attr:70727 dis:32633
      nns 1 id:5552416 attr:78513 dis:42944
      nns 2 id:285986 attr:29147 dis:43778
      nns 3 id:4234271 attr:59540 dis:44439
      nns 4 id:2253711 attr:93133 dis:45140
      nns 5 id:4907604 attr:92608 dis:46066
      nns 6 id:1273419 attr:33970 dis:46522
      nns 7 id:7501440 attr:19981 dis:46910
      nns 8 id:411491 attr:28374 dis:46959
      nns 9 id:1263214 attr:92124 dis:47608

query 2, qrange [0, 99999]
      nns 0 id:9710602 attr:78610 dis:40495
      nns 1 id:5055964 attr:53394 dis:42316
      nns 2 id:3900297 attr:84319 dis:43033
      nns 3 id:4588082 attr:5850 dis:47637
      nns 4 id:8667807 attr:91616 dis:47988
      nns 5 id:1931585 attr:19001 dis:48317
      nns 6 id:289025 attr:23641 dis:48416
      nns 7 id:1571863 attr:66187 dis:48528
      nns 8 id:237844 attr:57153 dis:49294
      nns 9 id:199400 attr:49790 dis:49395

query 3, qrange [0, 99999]
      nns 0 id:4083199 attr:37081 dis:3910
      nns 1 id:980813 attr:57404 dis:4296
      nns 2 id:1527942 attr:96648 dis:4309
      nns 3 id:2205832 attr:41999 dis:4343
      nns 4 id:4147780 attr:96552 dis:4550
      nns 5 id:6151275 attr:54227 dis:4602
      nns 6 id:8410503 attr:57593 dis:4817
      nns 7 id:7269483 attr:17595 dis:4894
      nns 8 id:2965607 attr:50671 dis:5013
      nns 9 id:8174765 attr:80882 dis:5180

query 4, qrange [0, 99999]
      nns 0 id:7091990 attr:97224 dis:77167
      nns 1 id:7241286 attr:17260 dis:77624
      nns 2 id:3918536 attr:86314 dis:78379
      nns 3 id:3477074 attr:81770 dis:80355
      nns 4 id:9958618 attr:32063 dis:80415
      nns 5 id:5493369 attr:10478 dis:81626
      nns 6 id:811272 attr:90447 dis:81973
      nns 7 id:7963557 attr:98422 dis:82038
      nns 8 id:6578584 attr:38818 dis:82172
      nns 9 id:1751938 attr:90610 dis:84283

[211.878 s] *** Query time: 204.390107
qps:48.926
cmp per query:10000000
recall: 1 of course
sel distribution: 0 0 0 0 0 0 0 0 0 0 1 
selectivity: 1
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[268.801 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100000_1_100000_random_10.json 10 128"
	User time (seconds): 15509.98
	System time (seconds): 7094.90
	Percent of CPU this job got: 8394%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 4:29.29
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 10132480
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 226260666
	Voluntary context switches: 477978
	Involuntary context switches: 1027007
	Swaps: 0
	File system inputs: 0
	File system outputs: 1808
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
