

===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
attr: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
query: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
qrange: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_9000_1_100000_out_dist.json
output: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_9000_1_100000_out_dist_10.json
topk: 10
dim: 128
start
[3.508 s] Loaded dataset, size=10000000, dim=128
[4.216 s] Loaded attr, size=0
[4.216 s] Loading query vectors and attributes
query vecs data loaded, with dim: 128, size=10000
[4.219 s] Loaded query vectors
[4.221 s] Loaded 10000 queries
====================Vectors====================

[4.221 s] Loading database
data loaded, with dim: 128, nb=10000000
[4.221 s] Indexing database, size 10000000*128 from max 10000000
[6.756 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[7.113 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[28.785 s] Query results (vector ids, then distances):
query 0, qrange [15009, 24009]
      nns 0 id:4160485 attr:18340 dis:65950
      nns 1 id:2898305 attr:16783 dis:67180
      nns 2 id:7468388 attr:16797 dis:77229
      nns 3 id:2923944 attr:18397 dis:79984
      nns 4 id:578867 attr:18379 dis:80841
      nns 5 id:5643020 attr:22999 dis:82000
      nns 6 id:9860956 attr:21446 dis:82276
      nns 7 id:9409479 attr:20712 dis:82688
      nns 8 id:331007 attr:23869 dis:83126
      nns 9 id:9607176 attr:20707 dis:83936

query 1, qrange [8045, 17045]
      nns 0 id:4234271 attr:10566 dis:44439
      nns 1 id:1273419 attr:11359 dis:46522
      nns 2 id:1233453 attr:14431 dis:48662
      nns 3 id:469965 attr:12169 dis:50753
      nns 4 id:9781041 attr:10548 dis:57738
      nns 5 id:2473259 attr:13687 dis:58119
      nns 6 id:6429194 attr:8968 dis:59310
      nns 7 id:2807070 attr:12104 dis:61019
      nns 8 id:561862 attr:16804 dis:61150
      nns 9 id:2234566 attr:15227 dis:62094

query 2, qrange [79006, 88006]
      nns 0 id:1931585 attr:85608 dis:48317
      nns 1 id:9068473 attr:87943 dis:52145
      nns 2 id:436139 attr:84089 dis:52554
      nns 3 id:8432027 attr:82488 dis:53772
      nns 4 id:4347605 attr:81783 dis:54968
      nns 5 id:7701746 attr:80142 dis:55365
      nns 6 id:3724739 attr:80949 dis:55376
      nns 7 id:8735610 attr:82491 dis:55738
      nns 8 id:4021389 attr:86393 dis:55907
      nns 9 id:2393824 attr:80933 dis:55985

query 3, qrange [34263, 43263]
      nns 0 id:4083199 attr:34822 dis:3910
      nns 1 id:3421136 attr:41115 dis:5596
      nns 2 id:3041965 attr:42645 dis:6095
      nns 3 id:8419826 attr:36357 dis:6096
      nns 4 id:6148687 attr:35583 dis:6437
      nns 5 id:7914184 attr:37145 dis:6624
      nns 6 id:1911911 attr:42656 dis:6655
      nns 7 id:2218358 attr:41867 dis:6693
      nns 8 id:3061225 attr:40287 dis:6784
      nns 9 id:5716081 attr:38751 dis:7160

query 4, qrange [44589, 53589]
      nns 0 id:6413263 attr:47260 dis:84921
      nns 1 id:4366121 attr:45715 dis:86842
      nns 2 id:546979 attr:51205 dis:86866
      nns 3 id:3692806 attr:52797 dis:86927
      nns 4 id:1850409 attr:48067 dis:88322
      nns 5 id:4831513 attr:51982 dis:91392
      nns 6 id:9968572 attr:53535 dis:91743
      nns 7 id:5257851 attr:52775 dis:92300
      nns 8 id:3850790 attr:45711 dis:94997
      nns 9 id:7434343 attr:48139 dis:95017

[28.786 s] *** Query time: 21.671901
qps:461.427
cmp per query:10000000
recall: 1 of course
sel distribution: 1 0 0 0 0 0 0 0 0 0 0 
selectivity: 0.0879653
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[305.636 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_9000_1_100000_out_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_9000_1_100000_out_dist_10.json 10 128"
	User time (seconds): 2689.55
	System time (seconds): 90.51
	Percent of CPU this job got: 908%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 5:06.12
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 10132480
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 14
	Minor (reclaiming a frame) page faults: 7457187
	Voluntary context switches: 601544
	Involuntary context switches: 21489
	Swaps: 0
	File system inputs: 12576
	File system outputs: 1808
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
attr: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
query: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
qrange: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_10000_1_100000_out_dist.json
output: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_10000_1_100000_out_dist_10.json
topk: 10
dim: 128
start
[3.640 s] Loaded dataset, size=10000000, dim=128
[4.343 s] Loaded attr, size=0
[4.343 s] Loading query vectors and attributes
query vecs data loaded, with dim: 128, size=10000
[4.346 s] Loaded query vectors
[4.348 s] Loaded 10000 queries
====================Vectors====================

[4.348 s] Loading database
data loaded, with dim: 128, nb=10000000
[4.348 s] Indexing database, size 10000000*128 from max 10000000
[6.886 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[7.208 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[30.257 s] Query results (vector ids, then distances):
query 0, qrange [85681, 95681]
      nns 0 id:5284494 attr:91876 dis:73728
      nns 1 id:5423931 attr:88734 dis:77145
      nns 2 id:8191903 attr:89485 dis:78749
      nns 3 id:8465570 attr:89525 dis:81280
      nns 4 id:3790530 attr:92691 dis:81617
      nns 5 id:2078396 attr:90313 dis:81711
      nns 6 id:5343331 attr:87957 dis:81853
      nns 7 id:3968857 attr:91943 dis:82148
      nns 8 id:5710919 attr:92652 dis:82540
      nns 9 id:5943336 attr:88744 dis:83616

query 1, qrange [52091, 62091]
      nns 0 id:8349375 attr:53556 dis:49997
      nns 1 id:2993914 attr:56694 dis:55326
      nns 2 id:5531491 attr:55132 dis:56591
      nns 3 id:8928604 attr:55927 dis:57196
      nns 4 id:7031326 attr:52761 dis:58257
      nns 5 id:8918460 attr:59829 dis:58837
      nns 6 id:8152291 attr:59050 dis:58925
      nns 7 id:4689763 attr:58254 dis:59030
      nns 8 id:1000577 attr:53555 dis:59284
      nns 9 id:8704684 attr:54325 dis:59872

query 2, qrange [0, 6478]
      nns 0 id:6296252 attr:4337 dis:51071
      nns 1 id:9410320 attr:416 dis:52939
      nns 2 id:8565013 attr:2744 dis:54061
      nns 3 id:8042944 attr:5823 dis:55019
      nns 4 id:4555038 attr:1934 dis:55225
      nns 5 id:6290196 attr:5878 dis:57466
      nns 6 id:7168507 attr:4270 dis:57597
      nns 7 id:4907071 attr:2730 dis:58349
      nns 8 id:4135242 attr:4309 dis:58766
      nns 9 id:8064334 attr:5855 dis:59109

query 3, qrange [13119, 23119]
      nns 0 id:1527942 attr:20684 dis:4309
      nns 1 id:6917633 attr:15999 dis:5626
      nns 2 id:727241 attr:22300 dis:6237
      nns 3 id:9010353 attr:14430 dis:6311
      nns 4 id:8649378 attr:15999 dis:6468
      nns 5 id:1344917 attr:18385 dis:6747
      nns 6 id:8501071 attr:17611 dis:6973
      nns 7 id:4486659 attr:15228 dis:7021
      nns 8 id:6486623 attr:17599 dis:7208
      nns 9 id:7709017 attr:16843 dis:7327

query 4, qrange [44344, 54344]
      nns 0 id:6413263 attr:47260 dis:84921
      nns 1 id:4366121 attr:45715 dis:86842
      nns 2 id:546979 attr:51205 dis:86866
      nns 3 id:3692806 attr:52797 dis:86927
      nns 4 id:1850409 attr:48067 dis:88322
      nns 5 id:4831513 attr:51982 dis:91392
      nns 6 id:9968572 attr:53535 dis:91743
      nns 7 id:5257851 attr:52775 dis:92300
      nns 8 id:3850790 attr:45711 dis:94997
      nns 9 id:7434343 attr:48139 dis:95017

[30.257 s] *** Query time: 23.048275
qps:433.872
cmp per query:10000000
recall: 1 of course
sel distribution: 0.346 0.654 0 0 0 0 0 0 0 0 0 
selectivity: 0.0974046
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[306.751 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_10000_1_100000_out_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_10000_1_100000_out_dist_10.json 10 128"
	User time (seconds): 2902.48
	System time (seconds): 43.09
	Percent of CPU this job got: 958%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 5:07.20
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 10132480
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 16
	Minor (reclaiming a frame) page faults: 3795122
	Voluntary context switches: 174487
	Involuntary context switches: 23674
	Swaps: 0
	File system inputs: 13376
	File system outputs: 1808
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
