Start time: 22:17
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_6_1_100000_real.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_6_1_100000_real_100.json
top k:  100
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
building tree
Total edge:704000000
Average degree:704
 tree construction suc
Vamana tree build time: 13.237s
using this batch search3 
total point comp 325254262
avg comp:32525.4
qps: 59.472302956213596
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_500', 0.999695999999997, 168.44997096061707, 13.23722505569458, 2, 5473000)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_6_1_100000_real.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_6_1_100000_real_100.json --output_file /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/ --top_k 100 --vamana_tree --threads 1 --beam_search_size 500 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 167.67
	System time (seconds): 14.39
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:05.30
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 9516448
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 12646264
	Voluntary context switches: 3830
	Involuntary context switches: 803
	Swaps: 0
	File system inputs: 437112
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:30
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_100.json
top k:  100
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
building tree
Total edge:704000000
Average degree:704
 tree construction suc
Vamana tree build time: 13.730s
using this batch search3 
total point comp 191703742
avg comp:19170.4
qps: 95.65980172902846
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_500', 0.9998359999999977, 104.836110830307, 13.729825973510742, 2, 5472040)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_100.json --output_file /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/ --top_k 100 --vamana_tree --threads 1 --beam_search_size 500 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 109.51
	System time (seconds): 7.77
	Percent of CPU this job got: 96%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:01.94
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 9517724
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3540213
	Voluntary context switches: 4007
	Involuntary context switches: 669
	Swaps: 0
	File system inputs: 274208
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:57
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_19_1_100000_real.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_19_1_100000_real_100.json
top k:  100
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
building tree
Total edge:704000000
Average degree:704
 tree construction suc
Vamana tree build time: 5.020s
using this batch search3 
total point comp 60129869
avg comp:6012.99
qps: 238.4605985867566
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_500', 0.9996519999999948, 42.24009370803833, 5.0200583934783936, 2, 5475276)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_19_1_100000_real.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_19_1_100000_real_100.json --output_file /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/ --top_k 100 --vamana_tree --threads 1 --beam_search_size 500 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 45.88
	System time (seconds): 6.96
	Percent of CPU this job got: 105%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:50.23
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 9518444
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 4664160
	Voluntary context switches: 190
	Involuntary context switches: 827
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:16
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_20_1_100000_real.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_20_1_100000_real_100.json
top k:  100
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
building tree
Total edge:704000000
Average degree:704
 tree construction suc
Vamana tree build time: 5.014s
using this batch search3 
total point comp 275242
avg comp:27.5242
qps: 4141.548131590178
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_500', 0.9977239999999616, 2.7266154289245605, 5.0141074657440186, 2, 5473112)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_20_1_100000_real.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_20_1_100000_real_100.json --output_file /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/ --top_k 100 --vamana_tree --threads 1 --beam_search_size 500 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 8.93
	System time (seconds): 5.32
	Percent of CPU this job got: 128%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:11.12
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 9519580
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1998045
	Voluntary context switches: 134
	Involuntary context switches: 1036
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
