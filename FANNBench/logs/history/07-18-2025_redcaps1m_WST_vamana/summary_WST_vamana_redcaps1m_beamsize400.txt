Start time: 22:17
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_6_1_100000_real.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_6_1_100000_real_100.json
top k:  100
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
building tree
Total edge:704000000
Average degree:704
 tree construction suc
Vamana tree build time: 13.473s
using this batch search3 
total point comp 282075006
avg comp:28207.5
qps: 72.34555560277244
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_400', 0.9995929999999958, 138.52804231643677, 13.47330117225647, 2, 5472204)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_6_1_100000_real.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_6_1_100000_real_100.json --output_file /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/ --top_k 100 --vamana_tree --threads 1 --beam_search_size 400 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 138.76
	System time (seconds): 13.19
	Percent of CPU this job got: 97%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:35.51
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 9517660
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 10321808
	Voluntary context switches: 3219
	Involuntary context switches: 902
	Swaps: 0
	File system inputs: 251072
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:30
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_100.json
top k:  100
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
building tree
Total edge:704000000
Average degree:704
 tree construction suc
Vamana tree build time: 13.636s
using this batch search3 
total point comp 168294758
avg comp:16829.5
qps: 115.10010987367032
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_400', 0.9997769999999968, 87.1819953918457, 13.636292219161987, 2, 5474256)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_100.json --output_file /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/ --top_k 100 --vamana_tree --threads 1 --beam_search_size 400 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 90.33
	System time (seconds): 10.10
	Percent of CPU this job got: 96%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:44.31
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 9519464
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 6284521
	Voluntary context switches: 3333
	Involuntary context switches: 925
	Swaps: 0
	File system inputs: 462512
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:57
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_19_1_100000_real.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_19_1_100000_real_100.json
top k:  100
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
building tree
Total edge:704000000
Average degree:704
 tree construction suc
Vamana tree build time: 5.006s
using this batch search3 
total point comp 54433523
avg comp:5443.35
qps: 309.3857841280914
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_400', 0.9996449999999946, 32.62335777282715, 5.0064942836761475, 2, 5473272)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_19_1_100000_real.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_19_1_100000_real_100.json --output_file /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/ --top_k 100 --vamana_tree --threads 1 --beam_search_size 400 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 37.59
	System time (seconds): 6.32
	Percent of CPU this job got: 107%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:40.76
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 9517028
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3627800
	Voluntary context switches: 153
	Involuntary context switches: 738
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:16
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_20_1_100000_real.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_20_1_100000_real_100.json
top k:  100
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
building tree
Total edge:704000000
Average degree:704
 tree construction suc
Vamana tree build time: 4.934s
using this batch search3 
total point comp 263797
avg comp:26.3797
qps: 3645.0680606723404
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_400', 0.9977239999999616, 3.0505733489990234, 4.934040784835815, 2, 5475124)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_20_1_100000_real.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_20_1_100000_real_100.json --output_file /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/ --top_k 100 --vamana_tree --threads 1 --beam_search_size 400 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 8.11
	System time (seconds): 5.55
	Percent of CPU this job got: 121%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:11.24
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 9521408
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2467429
	Voluntary context switches: 148
	Involuntary context switches: 825
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
