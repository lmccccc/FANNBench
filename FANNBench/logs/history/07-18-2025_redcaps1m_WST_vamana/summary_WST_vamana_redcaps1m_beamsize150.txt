Start time: 22:17
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_6_1_100000_real.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_6_1_100000_real_100.json
top k:  100
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
building tree
Total edge:704000000
Average degree:704
 tree construction suc
Vamana tree build time: 13.213s
using this batch search3 
total point comp 160103348
avg comp:16010.3
qps: 161.5699877448763
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_150', 0.9979529999999831, 62.19519639015198, 13.212986946105957, 2, 5470432)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_6_1_100000_real.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_6_1_100000_real_100.json --output_file /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/ --top_k 100 --vamana_tree --threads 1 --beam_search_size 150 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 65.80
	System time (seconds): 10.28
	Percent of CPU this job got: 96%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:19.21
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 9516396
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 5847177
	Voluntary context switches: 3170
	Involuntary context switches: 758
	Swaps: 0
	File system inputs: 190136
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:30
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_100.json
top k:  100
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
building tree
Total edge:704000000
Average degree:704
 tree construction suc
Vamana tree build time: 13.714s
using this batch search3 
total point comp 99835829
avg comp:9983.58
qps: 257.793795756273
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_150', 0.9989259999999885, 39.09070158004761, 13.714215517044067, 2, 5471180)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_100.json --output_file /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/ --top_k 100 --vamana_tree --threads 1 --beam_search_size 150 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 45.25
	System time (seconds): 8.07
	Percent of CPU this job got: 94%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:56.25
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 9516844
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 5
	Minor (reclaiming a frame) page faults: 3535845
	Voluntary context switches: 3059
	Involuntary context switches: 1053
	Swaps: 0
	File system inputs: 133536
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:57
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_19_1_100000_real.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_19_1_100000_real_100.json
top k:  100
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
building tree
Total edge:704000000
Average degree:704
 tree construction suc
Vamana tree build time: 4.954s
using this batch search3 
total point comp 35662724
avg comp:3566.27
qps: 679.1289728695334
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_150', 0.9994419999999916, 15.029189109802246, 4.9540486335754395, 2, 5474252)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_19_1_100000_real.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_19_1_100000_real_100.json --output_file /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/ --top_k 100 --vamana_tree --threads 1 --beam_search_size 150 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 20.10
	System time (seconds): 5.89
	Percent of CPU this job got: 112%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:23.04
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 9520304
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3040224
	Voluntary context switches: 178
	Involuntary context switches: 590
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:16
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_20_1_100000_real.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_20_1_100000_real_100.json
top k:  100
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
building tree
Total edge:704000000
Average degree:704
 tree construction suc
Vamana tree build time: 4.990s
using this batch search3 
total point comp 200991
avg comp:20.0991
qps: 4161.620298821178
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_150', 0.9977189999999615, 2.7036688327789307, 4.99018406867981, 2, 5474252)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_20_1_100000_real.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_20_1_100000_real_100.json --output_file /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/ --top_k 100 --vamana_tree --threads 1 --beam_search_size 150 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 7.99
	System time (seconds): 5.39
	Percent of CPU this job got: 123%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:10.82
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 9519472
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 2195089
	Voluntary context switches: 167
	Involuntary context switches: 843
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
