Start time: 22:17
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_6_1_100000_real.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_6_1_100000_real_100.json
top k:  100
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
building tree
Total edge:704000000
Average degree:704
 tree construction suc
Vamana tree build time: 13.462s
using this batch search3 
total point comp 125240236
avg comp:12524
qps: 201.44046387694408
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_100', 0.9954629999999693, 49.941428422927856, 13.462264060974121, 2, 5473008)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_6_1_100000_real.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_6_1_100000_real_100.json --output_file /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/ --top_k 100 --vamana_tree --threads 1 --beam_search_size 100 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 52.56
	System time (seconds): 11.57
	Percent of CPU this job got: 95%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:07.17
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 9519232
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 2
	Minor (reclaiming a frame) page faults: 7303166
	Voluntary context switches: 3259
	Involuntary context switches: 599
	Swaps: 0
	File system inputs: 233000
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:30
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_100.json
top k:  100
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
building tree
Total edge:704000000
Average degree:704
 tree construction suc
Vamana tree build time: 13.645s
using this batch search3 
total point comp 79219479
avg comp:7921.95
qps: 330.6475019164774
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_100', 0.9974129999999762, 30.54569101333618, 13.64518404006958, 2, 5471180)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_100.json --output_file /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/ --top_k 100 --vamana_tree --threads 1 --beam_search_size 100 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 35.67
	System time (seconds): 8.07
	Percent of CPU this job got: 91%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:47.79
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 9516856
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3540900
	Voluntary context switches: 3223
	Involuntary context switches: 690
	Swaps: 0
	File system inputs: 142448
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:57
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_19_1_100000_real.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_19_1_100000_real_100.json
top k:  100
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
building tree
Total edge:704000000
Average degree:704
 tree construction suc
Vamana tree build time: 4.989s
using this batch search3 
total point comp 29145068
avg comp:2914.51
qps: 829.965577525623
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_100', 0.9988379999999857, 12.349647998809814, 4.9892964363098145, 2, 5475272)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_19_1_100000_real.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_19_1_100000_real_100.json --output_file /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/ --top_k 100 --vamana_tree --threads 1 --beam_search_size 100 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 16.27
	System time (seconds): 6.05
	Percent of CPU this job got: 109%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:20.46
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 9519932
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3197422
	Voluntary context switches: 137
	Involuntary context switches: 596
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:16
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_20_1_100000_real.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_20_1_100000_real_100.json
top k:  100
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
building tree
Total edge:704000000
Average degree:704
 tree construction suc
Vamana tree build time: 4.964s
using this batch search3 
total point comp 170200
avg comp:17.02
qps: 3915.7954015425285
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_100', 0.9976959999999612, 2.8600881099700928, 4.964008808135986, 2, 5475276)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_20_1_100000_real.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_20_1_100000_real_100.json --output_file /mnt/data/mocheng/dataset/redcaps1m/vtree/result/result_sel_1_100000_real.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/vtree/index/index_sel_1_100000_real/ --top_k 100 --vamana_tree --threads 1 --beam_search_size 100 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 7.93
	System time (seconds): 5.54
	Percent of CPU this job got: 123%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:10.94
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 9522548
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2423948
	Voluntary context switches: 191
	Involuntary context switches: 968
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
