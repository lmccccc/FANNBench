Start time: 03:11
Use SSE
dataset: YTRGB1m
data_size: 10000000
dataset_path: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
method: compact
index_k: 8
ef_max: 500
ef_construction: 1000
label_path: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
nthreads: 128
query_path: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
index_dir_path: /mnt/data/mocheng/dataset/youtube1m/dsg/dsg_index/index_dsg_efmax500_efs1000_sel_1_100000_real
Load vecs from: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
# of vecs: 1000000
get data size:1000000 query size:1000
get data label size:10000000
index K:8 ef construction: 1000 ef_max: 500
# Sort Dataset Time: 16.1981920s
method: compact parameters: ef_construction ( 1000 )  index-k( 8)  ef_max (500) 
Building Index using IndexCompactGraph
First point5374340
Command terminated by signal 11
	Command being timed: "../DynamicSegmentGraph/build/benchmark/build_index -dataset YTRGB1m -N 10000000 -dataset_path /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs -index_path /mnt/data/mocheng/dataset/youtube1m/dsg/dsg_index/index_dsg_efmax500_efs1000_sel_1_100000_real -method compact -k 8 -ef_max 500 -ef_construction 1000 -label_path /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json -nthreads 128 -query_path /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs"
	User time (seconds): 12.27
	System time (seconds): 10.87
	Percent of CPU this job got: 97%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:23.72
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12676496
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 4203250
	Voluntary context switches: 265
	Involuntary context switches: 117
	Swaps: 0
	File system inputs: 0
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 05:33
Use SSE
dataset: YTRGB1m
data_size: 1000000
dataset_path: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query_path: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
groundtruth_path: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_10.json
method: compact
index_k: 8
ef_max: 500
ef_construction: 1000
nthreads: 1
ef_search: 1000
qrange_path: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json
query_num: 10000
label_path: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
query_k: 10
Load vecs from: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
# of vecs: 1000000
get data size:1000000 query size:10000
get data label size:1000000
get query range size:10000
get groundtruth size:10000
get query id size:10000
query range size:10000
# Sort Dataset Time: 3.9213200s
search ef:
vertex in set: {1000}
terminate called after throwing an instance of 'std::runtime_error'
  what():  Failed to open file for loading index.
Command terminated by signal 6
	Command being timed: "../DynamicSegmentGraph/build/benchmark/query_index -dataset YTRGB1m -N 1000000 -dataset_path /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs -query_path /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs -groundtruth_path /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_10.json -index_path /mnt/data/mocheng/dataset/youtube1m/dsg/dsg_index/index_dsg_efmax500_efs1000_sel_1_100000_real -method compact -k 8 -ef_max 500 -ef_construction 1000 -nthreads 1 -ef_search 1000 -qrange_path /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json -query_num 10000 -label_path /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json -query_k 10"
	User time (seconds): 2.80
	System time (seconds): 4.39
	Percent of CPU this job got: 86%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:08.32
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8138960
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2034968
	Voluntary context switches: 3
	Involuntary context switches: 12
	Swaps: 0
	File system inputs: 0
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 05:34
Use SSE
dataset: YTRGB1m
data_size: 1000000
dataset_path: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query_path: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
groundtruth_path: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_10.json
method: compact
index_k: 8
ef_max: 500
ef_construction: 1000
nthreads: 1
ef_search: 1000
qrange_path: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json
query_num: 10000
label_path: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
query_k: 10
Load vecs from: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
# of vecs: 1000000
get data size:1000000 query size:10000
get data label size:1000000
get query range size:10000
get groundtruth size:10000
get query id size:10000
query range size:10000
Start time: 05:35
Use SSE
dataset: YTRGB1m
data_size: 1000000
dataset_path: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query_path: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
groundtruth_path: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_10.json
method: compact
index_k: 8
ef_max: 500
ef_construction: 1000
nthreads: 1
ef_search: 1000
qrange_path: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json
query_num: 10000
label_path: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
query_k: 10
Load vecs from: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
# of vecs: 1000000
get data size:1000000 query size:10000
get data label size:1000000
get query range size:10000
get groundtruth size:10000
get query id size:10000
query range size:10000
# Sort Dataset Time: 3.8202410s
search ef:
vertex in set: {1000}
Total edge:47064876
Average degree:47.0649
Max. nns length of one point160
Sum of forward nn #: 47064876
Avg. forward nn #: 47.0649
Avg. delta nn #: 47.0649
# Load Index Time: 1.2160600s
load index done

Search ef: 1000
========================
range: 99732	 recall: 0.0016	 QPS: 1751	Comps: 212	 Hops: 24.8810
range: 99733	 recall: 0.0032	 QPS: 1727	Comps: 211	 Hops: 24.9206
range: 99854	 recall: 0.1492	 QPS: 25	Comps: 14480	 Hops: 1677.9683
range: 99855	 recall: 0.1603	 QPS: 28	Comps: 13165	 Hops: 1517.1587
range: 99856	 recall: 0.0056	 QPS: 415	Comps: 884	 Hops: 105.6270
range: 99915	 recall: 0.0873	 QPS: 44	Comps: 8608	 Hops: 888.0952
range: 99916	 recall: 0.0492	 QPS: 69	Comps: 5432	 Hops: 563.0714
range: 99917	 recall: 0.0079	 QPS: 617	Comps: 554	 Hops: 56.6667
range: 99945	 recall: 0.0175	 QPS: 169	Comps: 2126	 Hops: 246.9921
range: 99946	 recall: 0.0143	 QPS: 199	Comps: 1756	 Hops: 203.1032
range: 99947	 recall: 0.0079	 QPS: 418	Comps: 717	 Hops: 82.1349
range: 99960	 recall: 0.0040	 QPS: 722	Comps: 517	 Hops: 56.5952
range: 99961	 recall: 0.0056	 QPS: 614	Comps: 518	 Hops: 57.6905
range: 99962	 recall: 0.0016	 QPS: 5020	Comps: 73	 Hops: 8.0079
range: 99968	 recall: 0.0016	 QPS: 2638	Comps: 138	 Hops: 16.2063
range: 99976	 recall: 0.9302	 QPS: 4	Comps: 92842	 Hops: 10357.4365
range: 99977	 recall: 0.8246	 QPS: 5	Comps: 78475	 Hops: 8770.6592
range: 99978	 recall: 0.1198	 QPS: 29	Comps: 12415	 Hops: 1379.3651
range: 99983	 recall: 0.0127	 QPS: 252	Comps: 1469	 Hops: 164.4682
range: 99984	 recall: 0.0111	 QPS: 343	Comps: 1055	 Hops: 126.8968
range: 99985	 recall: 0.0040	 QPS: 729	Comps: 513	 Hops: 57.0794
range: 99986	 recall: 0.0000	 QPS: 5162	Comps: 74	 Hops: 8.0317
range: 99987	 recall: 0.0024	 QPS: 1013	Comps: 369	 Hops: 40.5079
range: 99988	 recall: 0.0024	 QPS: 1299	Comps: 290	 Hops: 32.0238
range: 99989	 recall: 0.0024	 QPS: 5402	Comps: 69	 Hops: 7.9603
range: 99990	 recall: 0.0024	 QPS: 1267	Comps: 281	 Hops: 32.2302
range: 99991	 recall: 0.1802	 QPS: 21	Comps: 17650	 Hops: 1975.7380
range: 99992	 recall: 0.1897	 QPS: 20	Comps: 18122	 Hops: 2039.8572
range: 99993	 recall: 0.0635	 QPS: 60	Comps: 5921	 Hops: 665.7222
range: 99994	 recall: 0.0127	 QPS: 228	Comps: 1627	 Hops: 187.0000
range: 99995	 recall: 0.0270	 QPS: 111	Comps: 3343	 Hops: 377.7619
range: 99996	 recall: 0.0421	 QPS: 88	Comps: 4190	 Hops: 489.7222
range: 99997	 recall: 0.0317	 QPS: 105	Comps: 3426	 Hops: 404.7540
range: 99998	 recall: 0.1079	 QPS: 34	Comps: 10799	 Hops: 1244.6270
range: 99999	 recall: 0.2960	 QPS: 12	Comps: 29933	 Hops: 3461.7856
range: 100000	 recall: 0.3579	 QPS: 11	Comps: 31532	 Hops: 3671.5317
range: 100001	 recall: 0.3825	 QPS: 10	Comps: 36301	 Hops: 4239.4521
range: 100002	 recall: 0.2230	 QPS: 17	Comps: 20683	 Hops: 2430.8967
range: 100003	 recall: 0.1786	 QPS: 21	Comps: 17017	 Hops: 2013.4207
range: 100004	 recall: 0.0849	 QPS: 44	Comps: 8269	 Hops: 971.4921
range: 100005	 recall: 0.0333	 QPS: 113	Comps: 3201	 Hops: 377.9524
range: 100006	 recall: 0.3198	 QPS: 11	Comps: 32265	 Hops: 3669.9365
range: 100007	 recall: 0.4960	 QPS: 7	Comps: 50440	 Hops: 5705.2461
range: 100008	 recall: 0.2103	 QPS: 17	Comps: 21100	 Hops: 2373.1111
range: 100009	 recall: 0.0310	 QPS: 114	Comps: 3203	 Hops: 360.6032
range: 100010	 recall: 0.0151	 QPS: 286	Comps: 1300	 Hops: 146.1587
range: 100011	 recall: 0.0103	 QPS: 384	Comps: 975	 Hops: 109.3095
range: 100012	 recall: 0.0024	 QPS: 2613	Comps: 143	 Hops: 16.0159
range: 100013	 recall: 0.0190	 QPS: 320	Comps: 1152	 Hops: 130.8492
range: 100014	 recall: 0.0246	 QPS: 129	Comps: 2880	 Hops: 321.0635
range: 100015	 recall: 0.0222	 QPS: 185	Comps: 1942	 Hops: 218.4206
range: 100016	 recall: 0.0032	 QPS: 2680	Comps: 142	 Hops: 16.0317
range: 100018	 recall: 0.0000	 QPS: 5083	Comps: 73	 Hops: 8.2857
range: 100021	 recall: 0.0460	 QPS: 86	Comps: 4230	 Hops: 470.2222
range: 100022	 recall: 0.0444	 QPS: 86	Comps: 4249	 Hops: 462.9445
range: 100023	 recall: 0.0238	 QPS: 158	Comps: 2333	 Hops: 261.5317
range: 100024	 recall: 0.0008	 QPS: 4652	Comps: 79	 Hops: 9.3889
range: 100026	 recall: 0.0008	 QPS: 4967	Comps: 79	 Hops: 7.9762
range: 100029	 recall: 0.0024	 QPS: 1688	Comps: 220	 Hops: 25.0794
range: 100030	 recall: 0.0024	 QPS: 2687	Comps: 135	 Hops: 16.4762
range: 100031	 recall: 0.0008	 QPS: 5475	Comps: 65	 Hops: 8.2857
range: 100037	 recall: 0.3651	 QPS: 10	Comps: 35647	 Hops: 3849.9524
range: 100038	 recall: 0.3429	 QPS: 11	Comps: 32972	 Hops: 3525.0000
range: 100039	 recall: 0.0516	 QPS: 87	Comps: 4273	 Hops: 468.5000
range: 100046	 recall: 0.0008	 QPS: 5410	Comps: 66	 Hops: 8.0079
range: 100053	 recall: 0.0000	 QPS: 4884	Comps: 76	 Hops: 7.9683
range: 100067	 recall: 0.0135	 QPS: 392	Comps: 948	 Hops: 105.9127
range: 100068	 recall: 0.0071	 QPS: 657	Comps: 557	 Hops: 65.6111
range: 100083	 recall: 0.0000	 QPS: 5090	Comps: 74	 Hops: 8.4683
range: 100098	 recall: 0.2889	 QPS: 12	Comps: 30593	 Hops: 3505.6587
range: 100099	 recall: 0.3722	 QPS: 11	Comps: 34604	 Hops: 3919.7302
range: 100100	 recall: 0.0651	 QPS: 57	Comps: 6279	 Hops: 721.6588
range: 100129	 recall: 0.0008	 QPS: 3839	Comps: 88	 Hops: 8.0317
range: 100159	 recall: 0.0008	 QPS: 2221	Comps: 153	 Hops: 16.8095
range: 100160	 recall: 0.0071	 QPS: 868	Comps: 432	 Hops: 48.9524
range: 100161	 recall: 0.0008	 QPS: 5076	Comps: 75	 Hops: 8.0238
range: 100220	 recall: 0.0079	 QPS: 406	Comps: 898	 Hops: 107.2302
range: 100221	 recall: 0.0151	 QPS: 210	Comps: 1732	 Hops: 203.7698
range: 100222	 recall: 0.0016	 QPS: 1764	Comps: 210	 Hops: 24.5556
Total Recall: 0.0940	 Total QPS: 39.8307	 Total Comps: 9146.8340	 Total Hops: 1033.1782
========================
# total query time: 251.5482400s
	Command being timed: "../DynamicSegmentGraph/build/benchmark/query_index -dataset YTRGB1m -N 1000000 -dataset_path /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs -query_path /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs -groundtruth_path /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_10.json -index_path /mnt/data/mocheng/dataset/youtube1m/dsg/dsg_index/index_dsg_efmax500_efs1000_sel_1_100000_real -method compact -k 8 -ef_max 500 -ef_construction 1000 -nthreads 1 -ef_search 1000 -qrange_path /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json -query_num 10000 -label_path /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json -query_k 10"
	User time (seconds): 250.03
	System time (seconds): 10.89
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 4:20.94
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8138956
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 4494723
	Voluntary context switches: 1
	Involuntary context switches: 333
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 05:42
Use SSE
dataset: YTRGB1m
data_size: 1000000
dataset_path: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
method: compact
index_k: 8
ef_max: 500
ef_construction: 1000
label_path: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
nthreads: 128
query_path: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
index_dir_path: /mnt/data/mocheng/dataset/youtube1m/dsg/dsg_index/index_dsg_efmax500_efs1000_sel_1_100000_real
Load vecs from: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
# of vecs: 1000000
get data size:1000000 query size:1000
get data label size:1000000
index K:8 ef construction: 1000 ef_max: 500
# Sort Dataset Time: 3.9057470s
method: compact parameters: ef_construction ( 1000 )  index-k( 8)  ef_max (500) 
Building Index using IndexCompactGraph
First point576384
All the forward batch nn #: 0
Theoratical backward batch nn #: 0
Max. nns length of one point139
Sum of forward nn #: 41662980
Avg. forward nn #: 41.663
Avg. delta nn #: 41.663
# Build Index Time: 299.1312450s
	Command being timed: "../DynamicSegmentGraph/build/benchmark/build_index -dataset YTRGB1m -N 1000000 -dataset_path /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs -index_path /mnt/data/mocheng/dataset/youtube1m/dsg/dsg_index/index_dsg_efmax500_efs1000_sel_1_100000_real -method compact -k 8 -ef_max 500 -ef_construction 1000 -label_path /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json -nthreads 128 -query_path /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs"
	User time (seconds): 33687.26
	System time (seconds): 151.43
	Percent of CPU this job got: 10960%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 5:08.72
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 9935180
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 7753461
	Voluntary context switches: 9812475
	Involuntary context switches: 1590866
	Swaps: 0
	File system inputs: 0
	File system outputs: 1658736
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
