

===============================================================================================================
START: generating groundtruth

N: 1000000
dataset: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
attr: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
query: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
qrange: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_20_1_100000_real.json
output: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_20_1_100000_real_10.json
topk: 10
dim: 512
start
[1.443 s] Loaded dataset, size=1000000, dim=512
[1.517 s] Loaded attr, size=1000000
[1.517 s] Loading query vectors and attributes
query vecs data loaded, with dim: 512, size=10000
[1.532 s] Loaded query vectors
[1.533 s] Loaded 10000 queries
====================Vectors====================

[29.040 s] Loading database
data loaded, with dim: 512, nb=1000000
[29.040 s] Indexing database, size 1000000*512 from max 1000000
[29.987 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[30.085 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[30.647 s] Query results (vector ids, then distances):
query 0, qrange [1598265916, 1598326302]
      nns 0 id:407020 attr:1598283137 dis:0.986286
      nns 1 id:901418 attr:1598319127 dis:1.02695
      nns 2 id:970398 attr:1598302129 dis:1.03257
      nns 3 id:49534 attr:1598305230 dis:1.03694
      nns 4 id:220766 attr:1598293873 dis:1.04108
      nns 5 id:14136 attr:1598301999 dis:1.04222
      nns 6 id:130861 attr:1598286039 dis:1.04356
      nns 7 id:360047 attr:1598298363 dis:1.04787
      nns 8 id:930895 attr:1598287571 dis:1.04864
      nns 9 id:954127 attr:1598308423 dis:1.0554

query 1, qrange [1556721962, 1556828807]
      nns 0 id:579754 attr:1556732003 dis:0.174449
      nns 1 id:764586 attr:1556801593 dis:0.177565
      nns 2 id:994644 attr:1556817478 dis:0.185854
      nns 3 id:294109 attr:1556755549 dis:0.195113
      nns 4 id:876241 attr:1556742910 dis:0.197412
      nns 5 id:617489 attr:1556824604 dis:0.213749
      nns 6 id:608332 attr:1556779060 dis:0.272222
      nns 7 id:843735 attr:1556799535 dis:0.342331
      nns 8 id:703310 attr:1556734099 dis:0.343854
      nns 9 id:708774 attr:1556757475 dis:0.345105

query 2, qrange [1590889648, 1590963338]
      nns 0 id:451772 attr:1590956756 dis:0.339901
      nns 1 id:972651 attr:1590956020 dis:0.34702
      nns 2 id:891919 attr:1590897420 dis:0.382459
      nns 3 id:354539 attr:1590951170 dis:0.395292
      nns 4 id:468201 attr:1590962504 dis:0.408643
      nns 5 id:772647 attr:1590919219 dis:0.417039
      nns 6 id:965032 attr:1590950063 dis:0.417556
      nns 7 id:13551 attr:1590940020 dis:0.420653
      nns 8 id:410361 attr:1590961845 dis:0.428217
      nns 9 id:195460 attr:1590961619 dis:0.439153

query 3, qrange [1531692163, 1531837350]
      nns 0 id:108264 attr:1531827151 dis:0.6424
      nns 1 id:924275 attr:1531792891 dis:0.738204
      nns 2 id:665038 attr:1531705264 dis:0.740504
      nns 3 id:335282 attr:1531720738 dis:0.758404
      nns 4 id:318971 attr:1531765100 dis:0.773077
      nns 5 id:242132 attr:1531836082 dis:0.784482
      nns 6 id:303524 attr:1531700654 dis:0.786895
      nns 7 id:253619 attr:1531694970 dis:0.787626
      nns 8 id:232533 attr:1531784915 dis:0.792387
      nns 9 id:112808 attr:1531770259 dis:0.795117

query 4, qrange [1576523650, 1576623517]
      nns 0 id:193229 attr:1576619431 dis:0.338957
      nns 1 id:348184 attr:1576549026 dis:0.434319
      nns 2 id:28236 attr:1576616796 dis:0.435834
      nns 3 id:527893 attr:1576603401 dis:0.450404
      nns 4 id:985989 attr:1576590735 dis:0.457429
      nns 5 id:158824 attr:1576599795 dis:0.470062
      nns 6 id:928468 attr:1576591173 dis:0.484546
      nns 7 id:379774 attr:1576525609 dis:0.495525
      nns 8 id:922974 attr:1576614014 dis:0.500992
      nns 9 id:981924 attr:1576550930 dis:0.501475

[30.647 s] *** Query time: 0.560502
qps:17841.1
cmp per query:1000000
recall: 1 of course
sel distribution: 1 0 0 0 0 0 0 0 0 0 0 
selectivity: 0.000998856
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[30.656 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 1000000 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_20_1_100000_real.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_20_1_100000_real_10.json 10 512"
	User time (seconds): 76.12
	System time (seconds): 2.44
	Percent of CPU this job got: 255%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:30.74
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 4042752
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1009126
	Voluntary context switches: 272
	Involuntary context switches: 15535
	Swaps: 0
	File system inputs: 0
	File system outputs: 1592
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 1000000
dataset: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
attr: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
query: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
qrange: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_6_1_100000_real.json
output: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_6_1_100000_real_10.json
topk: 10
dim: 512
start
[1.433 s] Loaded dataset, size=1000000, dim=512
[1.510 s] Loaded attr, size=1000000
[1.510 s] Loading query vectors and attributes
query vecs data loaded, with dim: 512, size=10000
[1.524 s] Loaded query vectors
[1.526 s] Loaded 10000 queries
attr[150000]=1589489971
attr[150001]=1574031191
attr[150002]=1526669340
attr[150003]=1547409996
attr[150004]=1556602178
====================Vectors====================

[28.542 s] Loading database
data loaded, with dim: 512, nb=1000000
[28.542 s] Indexing database, size 1000000*512 from max 1000000
[31.069 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[31.157 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[82.583 s] Query results (vector ids, then distances):
query 0, qrange [1511103540, 1577756983]
      nns 0 id:727106 attr:1557359735 dis:0.62867
      nns 1 id:247269 attr:1563268918 dis:0.675931
      nns 2 id:646437 attr:1533316338 dis:0.695654
      nns 3 id:64073 attr:1552081912 dis:0.759647
      nns 4 id:302070 attr:1529172082 dis:0.76279
      nns 5 id:549163 attr:1531197402 dis:0.765075
      nns 6 id:880422 attr:1565574478 dis:0.768696
      nns 7 id:265404 attr:1530180402 dis:0.77147
      nns 8 id:297407 attr:1562582134 dis:0.77207
      nns 9 id:84548 attr:1557155880 dis:0.785718

query 1, qrange [1506492118, 1576196191]
      nns 0 id:741325 attr:1559616195 dis:0.0996124
      nns 1 id:666880 attr:1555641433 dis:0.100505
      nns 2 id:979250 attr:1523372340 dis:0.1007
      nns 3 id:622447 attr:1532959985 dis:0.102932
      nns 4 id:803332 attr:1530141155 dis:0.106259
      nns 5 id:427146 attr:1514695882 dis:0.106461
      nns 6 id:428754 attr:1560720094 dis:0.107467
      nns 7 id:30989 attr:1574763472 dis:0.108569
      nns 8 id:110189 attr:1507487399 dis:0.109342
      nns 9 id:139424 attr:1535633696 dis:0.109739

query 2, qrange [1544462954, 1591733005]
      nns 0 id:355537 attr:1550334893 dis:0.223724
      nns 1 id:880455 attr:1548258623 dis:0.225104
      nns 2 id:306439 attr:1575579764 dis:0.237904
      nns 3 id:193180 attr:1562795054 dis:0.248944
      nns 4 id:410774 attr:1549698655 dis:0.258191
      nns 5 id:374226 attr:1576918189 dis:0.26283
      nns 6 id:71515 attr:1570882811 dis:0.263239
      nns 7 id:894254 attr:1549229119 dis:0.263523
      nns 8 id:445298 attr:1589162214 dis:0.263825
      nns 9 id:118823 attr:1551317417 dis:0.265197

query 3, qrange [1543721614, 1591408243]
      nns 0 id:689368 attr:1563091635 dis:0.403229
      nns 1 id:783586 attr:1584449301 dis:0.409305
      nns 2 id:907599 attr:1562830155 dis:0.446228
      nns 3 id:124464 attr:1588791594 dis:0.448711
      nns 4 id:687871 attr:1584368476 dis:0.459873
      nns 5 id:461110 attr:1556332640 dis:0.462457
      nns 6 id:889856 attr:1574977953 dis:0.464965
      nns 7 id:609006 attr:1552598619 dis:0.465148
      nns 8 id:306883 attr:1582504320 dis:0.476244
      nns 9 id:483626 attr:1560529488 dis:0.495982

query 4, qrange [1555785735, 1598492447]
      nns 0 id:582698 attr:1557087889 dis:0.259985
      nns 1 id:176027 attr:1580588338 dis:0.268897
      nns 2 id:695669 attr:1587844268 dis:0.269097
      nns 3 id:931553 attr:1570901224 dis:0.283668
      nns 4 id:598411 attr:1595872318 dis:0.286029
      nns 5 id:892178 attr:1586648068 dis:0.288327
      nns 6 id:315361 attr:1592573418 dis:0.29357
      nns 7 id:878527 attr:1582723096 dis:0.298051
      nns 8 id:227862 attr:1580185380 dis:0.301145
      nns 9 id:700754 attr:1557101934 dis:0.304429

[82.583 s] *** Query time: 51.425018
qps:194.458
cmp per query:1000000
recall: 1 of course
sel distribution: 0 0 0 0 0 1 0 0 0 0 0 
selectivity: 0.500001
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[82.594 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 1000000 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_6_1_100000_real.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_6_1_100000_real_10.json 10 512"
	User time (seconds): 3007.72
	System time (seconds): 2656.27
	Percent of CPU this job got: 6842%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:22.77
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 4041728
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 77145634
	Voluntary context switches: 3248305
	Involuntary context switches: 243051
	Swaps: 0
	File system inputs: 0
	File system outputs: 1608
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 1000000
dataset: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
attr: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
query: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
qrange: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_6_1_100000_real.json
output: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_6_1_100000_real_10.json
topk: 10
dim: 512
start
[1.292 s] Loaded dataset, size=1000000, dim=512
[1.365 s] Loaded attr, size=1000000
[1.365 s] Loading query vectors and attributes
query vecs data loaded, with dim: 512, size=10000
[1.378 s] Loaded query vectors
[1.379 s] Loaded 10000 queries
attr[150000]=1589489971
attr[150001]=1574031191
attr[150002]=1526669340
attr[150003]=1547409996
attr[150004]=1556602178
====================Vectors====================

[28.291 s] Loading database
data loaded, with dim: 512, nb=1000000
[28.291 s] Indexing database, size 1000000*512 from max 1000000
[29.279 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[29.382 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[59.670 s] Query results (vector ids, then distances):
query 0, qrange [1540574211, 1590004802]
      nns 0 id:727106 attr:1557359735 dis:0.62867
      nns 1 id:562528 attr:1586530455 dis:0.640719
      nns 2 id:247269 attr:1563268918 dis:0.675931
      nns 3 id:864174 attr:1586141206 dis:0.743074
      nns 4 id:64073 attr:1552081912 dis:0.759647
      nns 5 id:880422 attr:1565574478 dis:0.768696
      nns 6 id:297407 attr:1562582134 dis:0.77207
      nns 7 id:84548 attr:1557155880 dis:0.785718
      nns 8 id:316095 attr:1551987403 dis:0.787149
      nns 9 id:302187 attr:1566023840 dis:0.788031

query 1, qrange [1502815998, 1574739098]
      nns 0 id:741325 attr:1559616195 dis:0.0996124
      nns 1 id:666880 attr:1555641433 dis:0.100505
      nns 2 id:979250 attr:1523372340 dis:0.1007
      nns 3 id:622447 attr:1532959985 dis:0.102932
      nns 4 id:803332 attr:1530141155 dis:0.106259
      nns 5 id:427146 attr:1514695882 dis:0.106461
      nns 6 id:428754 attr:1560720094 dis:0.107467
      nns 7 id:110189 attr:1507487399 dis:0.109342
      nns 8 id:139424 attr:1535633696 dis:0.109739
      nns 9 id:284310 attr:1570817806 dis:0.111931

query 2, qrange [1565134124, 1606255797]
      nns 0 id:964377 attr:1605131892 dis:0.226265
      nns 1 id:306439 attr:1575579764 dis:0.237904
      nns 2 id:757728 attr:1605423787 dis:0.240495
      nns 3 id:75885 attr:1601934153 dis:0.256426
      nns 4 id:374226 attr:1576918189 dis:0.26283
      nns 5 id:71515 attr:1570882811 dis:0.263239
      nns 6 id:445298 attr:1589162214 dis:0.263825
      nns 7 id:771849 attr:1570744783 dis:0.265403
      nns 8 id:903106 attr:1586146246 dis:0.268205
      nns 9 id:792564 attr:1597961764 dis:0.271363

query 3, qrange [1564977898, 1606128091]
      nns 0 id:889987 attr:1593644784 dis:0.403229
      nns 1 id:783586 attr:1584449301 dis:0.409305
      nns 2 id:124464 attr:1588791594 dis:0.448711
      nns 3 id:640717 attr:1593715105 dis:0.455442
      nns 4 id:687871 attr:1584368476 dis:0.459873
      nns 5 id:595884 attr:1603585196 dis:0.462322
      nns 6 id:889856 attr:1574977953 dis:0.464965
      nns 7 id:306883 attr:1582504320 dis:0.476244
      nns 8 id:110113 attr:1584365036 dis:0.496151
      nns 9 id:456770 attr:1569878368 dis:0.496242

query 4, qrange [1486429184, 1570175082]
      nns 0 id:582698 attr:1557087889 dis:0.259985
      nns 1 id:959629 attr:1553076435 dis:0.29346
      nns 2 id:191044 attr:1542912543 dis:0.299727
      nns 3 id:46163 attr:1552605357 dis:0.299946
      nns 4 id:279888 attr:1555515184 dis:0.302924
      nns 5 id:700754 attr:1557101934 dis:0.304429
      nns 6 id:754904 attr:1532757000 dis:0.305476
      nns 7 id:68136 attr:1537086660 dis:0.305922
      nns 8 id:556169 attr:1553542108 dis:0.306526
      nns 9 id:231993 attr:1563749968 dis:0.306901

[59.671 s] *** Query time: 30.288040
qps:330.163
cmp per query:1000000
recall: 1 of course
sel distribution: 0 0 0 0 0 1 0 0 0 0 0 
selectivity: 0.500001
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[59.681 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 1000000 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_6_1_100000_real.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_6_1_100000_real_10.json 10 512"
	User time (seconds): 3261.46
	System time (seconds): 37.75
	Percent of CPU this job got: 5513%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:59.83
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 4040704
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3629881
	Voluntary context switches: 123299
	Involuntary context switches: 172195
	Swaps: 0
	File system inputs: 0
	File system outputs: 1608
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 1000000
dataset: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
attr: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
query: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
qrange: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json
output: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_10.json
topk: 10
dim: 512
start
[1.375 s] Loaded dataset, size=1000000, dim=512
[1.449 s] Loaded attr, size=1000000
[1.449 s] Loading query vectors and attributes
query vecs data loaded, with dim: 512, size=10000
[1.462 s] Loaded query vectors
[1.464 s] Loaded 10000 queries
attr[150000]=1589489971
attr[150001]=1574031191
attr[150002]=1526669340
attr[150003]=1547409996
attr[150004]=1556602178
====================Vectors====================

[31.323 s] Loading database
data loaded, with dim: 512, nb=1000000
[31.323 s] Indexing database, size 1000000*512 from max 1000000
[33.856 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[33.948 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[43.807 s] Query results (vector ids, then distances):
query 0, qrange [1582001887, 1589499026]
      nns 0 id:562528 attr:1586530455 dis:0.640719
      nns 1 id:864174 attr:1586141206 dis:0.743074
      nns 2 id:363324 attr:1588150617 dis:0.813624
      nns 3 id:309200 attr:1583866074 dis:0.854443
      nns 4 id:825029 attr:1587509747 dis:0.888491
      nns 5 id:823706 attr:1585149377 dis:0.904973
      nns 6 id:318225 attr:1582255095 dis:0.905427
      nns 7 id:77303 attr:1588455303 dis:0.912743
      nns 8 id:276583 attr:1587145061 dis:0.91575
      nns 9 id:399187 attr:1587938124 dis:0.91995

query 1, qrange [1560999281, 1570293538]
      nns 0 id:964018 attr:1566639637 dis:0.112722
      nns 1 id:979295 attr:1567526425 dis:0.114972
      nns 2 id:848169 attr:1567967943 dis:0.115206
      nns 3 id:661716 attr:1569475757 dis:0.116391
      nns 4 id:272839 attr:1567350368 dis:0.119473
      nns 5 id:743973 attr:1565255174 dis:0.119675
      nns 6 id:226358 attr:1565225638 dis:0.122247
      nns 7 id:964128 attr:1566424023 dis:0.122338
      nns 8 id:925657 attr:1569885810 dis:0.122751
      nns 9 id:324349 attr:1565636095 dis:0.122988

query 2, qrange [1572763542, 1582585543]
      nns 0 id:306439 attr:1575579764 dis:0.237904
      nns 1 id:374226 attr:1576918189 dis:0.26283
      nns 2 id:435452 attr:1574701387 dis:0.277648
      nns 3 id:328089 attr:1574112193 dis:0.280081
      nns 4 id:800558 attr:1578206579 dis:0.283553
      nns 5 id:625921 attr:1580310462 dis:0.283874
      nns 6 id:919763 attr:1580427352 dis:0.284077
      nns 7 id:882709 attr:1573089021 dis:0.288012
      nns 8 id:684897 attr:1579890463 dis:0.291808
      nns 9 id:341373 attr:1582339286 dis:0.297424

query 3, qrange [1574977513, 1584382757]
      nns 0 id:687871 attr:1584368476 dis:0.459873
      nns 1 id:889856 attr:1574977953 dis:0.464965
      nns 2 id:306883 attr:1582504320 dis:0.476244
      nns 3 id:110113 attr:1584365036 dis:0.496151
      nns 4 id:555783 attr:1582924247 dis:0.516634
      nns 5 id:879049 attr:1580410467 dis:0.516981
      nns 6 id:225830 attr:1582762176 dis:0.530913
      nns 7 id:397607 attr:1576582831 dis:0.533398
      nns 8 id:800827 attr:1581281066 dis:0.538255
      nns 9 id:931871 attr:1577236835 dis:0.546296

query 4, qrange [1517035768, 1535603056]
      nns 0 id:754904 attr:1532757000 dis:0.305476
      nns 1 id:330129 attr:1525225883 dis:0.325459
      nns 2 id:969773 attr:1527858141 dis:0.328195
      nns 3 id:870723 attr:1530111079 dis:0.331562
      nns 4 id:616623 attr:1529427583 dis:0.331704
      nns 5 id:262276 attr:1518198483 dis:0.332961
      nns 6 id:805996 attr:1530049195 dis:0.33464
      nns 7 id:51681 attr:1535136336 dis:0.334985
      nns 8 id:309894 attr:1532146088 dis:0.340342
      nns 9 id:148545 attr:1518097309 dis:0.344824

[43.811 s] *** Query time: 9.858257
qps:1014.38
cmp per query:1000000
recall: 1 of course
sel distribution: 0 1 0 0 0 0 0 0 0 0 0 
selectivity: 0.100001
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[43.819 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 1000000 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_10.json 10 512"
	User time (seconds): 910.44
	System time (seconds): 174.18
	Percent of CPU this job got: 2464%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:44.01
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 4041728
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 5933122
	Voluntary context switches: 499620
	Involuntary context switches: 57585
	Swaps: 0
	File system inputs: 0
	File system outputs: 1608
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 1000000
dataset: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
attr: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
query: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
qrange: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_19_1_100000_real.json
output: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_19_1_100000_real_10.json
topk: 10
dim: 512
start
[1.267 s] Loaded dataset, size=1000000, dim=512
[1.340 s] Loaded attr, size=1000000
[1.340 s] Loading query vectors and attributes
query vecs data loaded, with dim: 512, size=10000
[1.353 s] Loaded query vectors
[1.354 s] Loaded 10000 queries
attr[150000]=1589489971
attr[150001]=1574031191
attr[150002]=1526669340
attr[150003]=1547409996
attr[150004]=1556602178
====================Vectors====================

[29.743 s] Loading database
data loaded, with dim: 512, nb=1000000
[29.743 s] Indexing database, size 1000000*512 from max 1000000
[32.210 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[32.285 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[35.042 s] Query results (vector ids, then distances):
query 0, qrange [1538594774, 1540118398]
      nns 0 id:754695 attr:1539668172 dis:0.825604
      nns 1 id:726200 attr:1540008636 dis:0.925632
      nns 2 id:105181 attr:1539349926 dis:0.934738
      nns 3 id:593061 attr:1539613516 dis:0.96601
      nns 4 id:132222 attr:1538667325 dis:0.969105
      nns 5 id:80643 attr:1539819925 dis:0.971207
      nns 6 id:688747 attr:1539751467 dis:0.97406
      nns 7 id:438901 attr:1539813717 dis:0.981612
      nns 8 id:316477 attr:1539042271 dis:0.985185
      nns 9 id:761464 attr:1539388044 dis:0.98588

query 1, qrange [1558313707, 1559317195]
      nns 0 id:634858 attr:1559095216 dis:0.133582
      nns 1 id:747350 attr:1558405403 dis:0.138346
      nns 2 id:328886 attr:1559221626 dis:0.138659
      nns 3 id:878375 attr:1559157897 dis:0.14365
      nns 4 id:840825 attr:1559253647 dis:0.148035
      nns 5 id:433046 attr:1558315145 dis:0.152704
      nns 6 id:977957 attr:1559149838 dis:0.157562
      nns 7 id:348487 attr:1559253366 dis:0.157575
      nns 8 id:619059 attr:1559307158 dis:0.161102
      nns 9 id:409525 attr:1558370684 dis:0.162405

query 2, qrange [1581675605, 1582524306]
      nns 0 id:341373 attr:1582339286 dis:0.297424
      nns 1 id:509068 attr:1582362871 dis:0.299791
      nns 2 id:459595 attr:1582500502 dis:0.305155
      nns 3 id:782730 attr:1581701847 dis:0.320823
      nns 4 id:838497 attr:1582143070 dis:0.328155
      nns 5 id:91884 attr:1582294672 dis:0.330892
      nns 6 id:864290 attr:1582406470 dis:0.333
      nns 7 id:354254 attr:1581792997 dis:0.353358
      nns 8 id:426699 attr:1581810177 dis:0.356459
      nns 9 id:705 attr:1582226978 dis:0.356876

query 3, qrange [1541361198, 1542915636]
      nns 0 id:769868 attr:1542487532 dis:0.473549
      nns 1 id:493967 attr:1542294990 dis:0.560972
      nns 2 id:953342 attr:1542471165 dis:0.576259
      nns 3 id:136421 attr:1542307684 dis:0.593651
      nns 4 id:175440 attr:1542245841 dis:0.596939
      nns 5 id:238924 attr:1542209507 dis:0.605091
      nns 6 id:972437 attr:1541427748 dis:0.60777
      nns 7 id:385496 attr:1541953821 dis:0.610504
      nns 8 id:762523 attr:1542714651 dis:0.629223
      nns 9 id:742777 attr:1541363545 dis:0.630321

query 4, qrange [1547965400, 1549164333]
      nns 0 id:929991 attr:1548794594 dis:0.316651
      nns 1 id:843400 attr:1549019747 dis:0.3597
      nns 2 id:556735 attr:1548803052 dis:0.373898
      nns 3 id:359872 attr:1548277437 dis:0.377239
      nns 4 id:924765 attr:1548418215 dis:0.381259
      nns 5 id:855122 attr:1548705861 dis:0.383386
      nns 6 id:802461 attr:1548697185 dis:0.391084
      nns 7 id:62976 attr:1548022732 dis:0.402719
      nns 8 id:488089 attr:1548395559 dis:0.405689
      nns 9 id:213717 attr:1548537413 dis:0.406449

[35.042 s] *** Query time: 2.756377
qps:3627.95
cmp per query:1000000
recall: 1 of course
sel distribution: 1 0 0 0 0 0 0 0 0 0 0 
selectivity: 0.010001
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[35.053 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 1000000 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_19_1_100000_real.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_19_1_100000_real_10.json 10 512"
	User time (seconds): 296.29
	System time (seconds): 4.01
	Percent of CPU this job got: 853%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:35.18
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 4040704
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1515806
	Voluntary context switches: 442
	Involuntary context switches: 18165
	Swaps: 0
	File system inputs: 0
	File system outputs: 1600
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 1000000
dataset: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
attr: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
query: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
qrange: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_20_1_100000_real.json
output: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_20_1_100000_real_10.json
topk: 10
dim: 512
start
[1.426 s] Loaded dataset, size=1000000, dim=512
[1.499 s] Loaded attr, size=1000000
[1.499 s] Loading query vectors and attributes
query vecs data loaded, with dim: 512, size=10000
[1.513 s] Loaded query vectors
[1.514 s] Loaded 10000 queries
attr[150000]=1589489971
attr[150001]=1574031191
attr[150002]=1526669340
attr[150003]=1547409996
attr[150004]=1556602178
====================Vectors====================

[29.561 s] Loading database
data loaded, with dim: 512, nb=1000000
[29.561 s] Indexing database, size 1000000*512 from max 1000000
[30.528 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[30.623 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[31.125 s] Query results (vector ids, then distances):
query 0, qrange [1538054874, 1538228285]
      nns 0 id:599551 attr:1538180628 dis:0.966786
      nns 1 id:7045 attr:1538194886 dis:0.983598
      nns 2 id:68529 attr:1538185404 dis:0.993613
      nns 3 id:947605 attr:1538183011 dis:1.00653
      nns 4 id:271895 attr:1538093972 dis:1.00772
      nns 5 id:974529 attr:1538190748 dis:1.00938
      nns 6 id:213518 attr:1538098918 dis:1.03149
      nns 7 id:503208 attr:1538089743 dis:1.0341
      nns 8 id:600622 attr:1538173133 dis:1.03494
      nns 9 id:514184 attr:1538072518 dis:1.05087

query 1, qrange [1506909292, 1507230692]
      nns 0 id:80546 attr:1507132298 dis:0.179151
      nns 1 id:827419 attr:1507142402 dis:0.256975
      nns 2 id:724407 attr:1507017173 dis:0.26388
      nns 3 id:980669 attr:1507135275 dis:0.275899
      nns 4 id:879114 attr:1507046281 dis:0.289616
      nns 5 id:848588 attr:1506958381 dis:0.2941
      nns 6 id:741138 attr:1507051287 dis:0.30363
      nns 7 id:550738 attr:1507215860 dis:0.307471
      nns 8 id:483003 attr:1507147237 dis:0.325128
      nns 9 id:392021 attr:1507037262 dis:0.336731

query 2, qrange [1552519107, 1552626645]
      nns 0 id:150896 attr:1552595157 dis:0.36116
      nns 1 id:167260 attr:1552588486 dis:0.361815
      nns 2 id:847695 attr:1552610954 dis:0.394954
      nns 3 id:853316 attr:1552534618 dis:0.405833
      nns 4 id:75461 attr:1552582672 dis:0.41337
      nns 5 id:445711 attr:1552610564 dis:0.424661
      nns 6 id:830100 attr:1552614396 dis:0.431323
      nns 7 id:95773 attr:1552560774 dis:0.434676
      nns 8 id:609325 attr:1552583949 dis:0.440085
      nns 9 id:974118 attr:1552566634 dis:0.441971

query 3, qrange [1586951418, 1587012565]
      nns 0 id:549134 attr:1586977461 dis:0.65816
      nns 1 id:906513 attr:1586962259 dis:0.666866
      nns 2 id:296186 attr:1586968607 dis:0.670494
      nns 3 id:678133 attr:1586959034 dis:0.67832
      nns 4 id:872475 attr:1586961587 dis:0.691543
      nns 5 id:69667 attr:1586974827 dis:0.70417
      nns 6 id:754085 attr:1586980563 dis:0.706164
      nns 7 id:150904 attr:1587000916 dis:0.712174
      nns 8 id:957612 attr:1586989955 dis:0.718391
      nns 9 id:799000 attr:1586961952 dis:0.723396

query 4, qrange [1549236779, 1549369643]
      nns 0 id:659847 attr:1549307861 dis:0.426705
      nns 1 id:965697 attr:1549315582 dis:0.449609
      nns 2 id:137757 attr:1549310803 dis:0.4746
      nns 3 id:914372 attr:1549316996 dis:0.477559
      nns 4 id:808259 attr:1549285505 dis:0.480712
      nns 5 id:211569 attr:1549255285 dis:0.481805
      nns 6 id:266464 attr:1549317210 dis:0.488579
      nns 7 id:679863 attr:1549248426 dis:0.489044
      nns 8 id:104611 attr:1549317225 dis:0.491212
      nns 9 id:596352 attr:1549241818 dis:0.495878

[31.126 s] *** Query time: 0.502300
qps:19908.4
cmp per query:1000000
recall: 1 of course
sel distribution: 1 0 0 0 0 0 0 0 0 0 0 
selectivity: 0.00100101
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[31.135 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 1000000 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_20_1_100000_real.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_20_1_100000_real_10.json 10 512"
	User time (seconds): 76.95
	System time (seconds): 2.35
	Percent of CPU this job got: 254%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:31.21
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 4042752
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1009129
	Voluntary context switches: 270
	Involuntary context switches: 4079
	Swaps: 0
	File system inputs: 0
	File system outputs: 1592
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
