

===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/deep10m/base.10M.fvecs
attr: /mnt/data/mocheng/dataset/deep10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
query: /mnt/data/mocheng/dataset/deep10m/query.public.10K.fvecs
qrange: /mnt/data/mocheng/dataset/deep10m/label/sel_1_100000_dist/qrangesel_2000_1_100000_in_dist.json
output: /mnt/data/mocheng/dataset/deep10m/label/sel_1_100000_dist/sif_gt_sel_2000_1_100000_in_dist_10.json
topk: 10
dim: 96
start
[7.055 s] Loaded dataset, size=10000000, dim=96
[7.870 s] Loaded attr, size=0
[7.870 s] Loading query vectors and attributes
query vecs data loaded, with dim: 96, size=10000
[7.877 s] Loaded query vectors
[7.879 s] Loaded 10000 queries
====================Vectors====================

[7.879 s] Loading database
data loaded, with dim: 96, nb=10000000
[7.879 s] Indexing database, size 10000000*96 from max 10000000
[12.056 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[12.765 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[46.979 s] Query results (vector ids, then distances):
query 0, qrange [10820, 12820]
      nns 0 id:3234202 attr:10943 dis:0.801252
      nns 1 id:1449858 attr:12813 dis:0.810858
      nns 2 id:6323094 attr:11996 dis:0.833267
      nns 3 id:194104 attr:11155 dis:0.870917
      nns 4 id:8199842 attr:11992 dis:0.872749
      nns 5 id:4127401 attr:11970 dis:0.876762
      nns 6 id:4802902 attr:11643 dis:0.888315
      nns 7 id:8804464 attr:11994 dis:0.894167
      nns 8 id:1518712 attr:12163 dis:0.901833
      nns 9 id:6595512 attr:12274 dis:0.90289

query 1, qrange [51977, 53977]
      nns 0 id:1624973 attr:52373 dis:0.578332
      nns 1 id:6698631 attr:52789 dis:0.611846
      nns 2 id:8008613 attr:53006 dis:0.619313
      nns 3 id:3010752 attr:52149 dis:0.6251
      nns 4 id:6517307 attr:53297 dis:0.6365
      nns 5 id:5332305 attr:52033 dis:0.641086
      nns 6 id:2932295 attr:52306 dis:0.644197
      nns 7 id:2636411 attr:53271 dis:0.647656
      nns 8 id:3151612 attr:52494 dis:0.650039
      nns 9 id:174097 attr:53603 dis:0.650345

query 2, qrange [7435, 9435]
      nns 0 id:9965450 attr:8319 dis:0.439941
      nns 1 id:1748642 attr:7736 dis:0.446002
      nns 2 id:1253669 attr:8991 dis:0.460055
      nns 3 id:1443965 attr:9219 dis:0.461987
      nns 4 id:7679657 attr:9360 dis:0.465982
      nns 5 id:718807 attr:7436 dis:0.466022
      nns 6 id:9314562 attr:8215 dis:0.478205
      nns 7 id:7843546 attr:8422 dis:0.478905
      nns 8 id:3289523 attr:9339 dis:0.486086
      nns 9 id:2397484 attr:8587 dis:0.492447

query 3, qrange [33255, 35255]
      nns 0 id:4485830 attr:33608 dis:0.474989
      nns 1 id:6133186 attr:34211 dis:0.510833
      nns 2 id:4507829 attr:34727 dis:0.525862
      nns 3 id:4541663 attr:34670 dis:0.526043
      nns 4 id:2067240 attr:34756 dis:0.541405
      nns 5 id:1136789 attr:33806 dis:0.556426
      nns 6 id:4450797 attr:33894 dis:0.563708
      nns 7 id:9220273 attr:34742 dis:0.566913
      nns 8 id:723510 attr:34189 dis:0.583212
      nns 9 id:7353432 attr:33278 dis:0.596819

query 4, qrange [61208, 63208]
      nns 0 id:2436361 attr:61267 dis:0.2421
      nns 1 id:1554515 attr:62525 dis:0.272082
      nns 2 id:3958298 attr:62213 dis:0.274271
      nns 3 id:324705 attr:61418 dis:0.283906
      nns 4 id:440701 attr:62279 dis:0.286911
      nns 5 id:7309468 attr:62509 dis:0.28872
      nns 6 id:5510644 attr:62693 dis:0.289088
      nns 7 id:7677218 attr:62207 dis:0.290144
      nns 8 id:9727674 attr:62256 dis:0.294365
      nns 9 id:7595798 attr:61824 dis:0.296334

[46.980 s] *** Query time: 34.211485
qps:292.3
cmp per query:10000000
recall: 1 of course
sel distribution: 1 0 0 0 0 0 0 0 0 0 0 
selectivity: 0.0199256
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[390.736 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/deep10m/base.10M.fvecs /mnt/data/mocheng/dataset/deep10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json /mnt/data/mocheng/dataset/deep10m/query.public.10K.fvecs /mnt/data/mocheng/dataset/deep10m/label/sel_1_100000_dist/qrangesel_2000_1_100000_in_dist.json /mnt/data/mocheng/dataset/deep10m/label/sel_1_100000_dist/sif_gt_sel_2000_1_100000_in_dist_10.json 10 96"
	User time (seconds): 2516.25
	System time (seconds): 18.55
	Percent of CPU this job got: 647%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 6:31.26
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7631872
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 3998287
	Voluntary context switches: 1477
	Involuntary context switches: 338407
	Swaps: 0
	File system inputs: 104
	File system outputs: 1792
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
