

===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
attr: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
qrange: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_19.json
output: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_19_10.json
topk: 10
dim: 100
thread_num: 128
start
[2.453 s] Loaded dataset, size=10000000, dim=100
[3.801 s] Loaded attr, size=10000000
[3.801 s] Loading query vectors and attributes
query vecs data loaded, with dim: 100, size=10000
[3.803 s] Loaded query vectors
[3.806 s] Loaded 10000 queries
====================Vectors====================

[133.634 s] Loading database
data loaded, with dim: 100, nb=10000000
[133.634 s] Indexing database, size 10000000*100 from max 10000000
[135.649 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[135.919 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[136.208 s] Query 0 done, time: 0.090
[136.309 s] Query 6100 done, time: 1.598
[137.073 s] Query 5400 done, time: 8.589
[137.082 s] Query 1500 done, time: 8.717
[137.424 s] Query 2200 done, time: 15.516
[138.616 s] Query 4700 done, time: 34.438
[138.636 s] Query 400 done, time: 34.724
[139.575 s] Query 9300 done, time: 48.827
[139.632 s] Query 3300 done, time: 50.964
[139.812 s] Query 7200 done, time: 54.970
[140.242 s] Query 4000 done, time: 60.458
[141.039 s] Query 8600 done, time: 74.639
[141.435 s] Query 6500 done, time: 80.547
[141.673 s] Query 2600 done, time: 84.395
[142.693 s] Query 7900 done, time: 100.925
[143.798 s] Query 5100 done, time: 120.584
[144.268 s] Query 1200 done, time: 128.492
[144.800 s] Query 9000 done, time: 137.670
[145.472 s] Query 1900 done, time: 149.954
[145.668 s] Query 800 done, time: 153.094
[146.686 s] Query 3700 done, time: 172.067
[146.895 s] Query 5800 done, time: 176.326
[147.062 s] Query 7600 done, time: 178.747
[147.257 s] Query 9700 done, time: 180.573
[149.074 s] Query 100 done, time: 212.649
[149.508 s] Query 2300 done, time: 219.173
[149.599 s] Query 8300 done, time: 220.211
[149.691 s] Query 4400 done, time: 222.306
[150.723 s] Query 6900 done, time: 240.019
[152.137 s] Query 8700 done, time: 263.937
[153.137 s] Query 5500 done, time: 280.483
[153.379 s] Query 3000 done, time: 285.189
[153.536 s] Query 500 done, time: 287.251
[153.931 s] Query 1600 done, time: 294.208
[154.233 s] Query 4800 done, time: 299.560
[154.585 s] Query 6200 done, time: 305.549
[154.836 s] Query 3400 done, time: 310.049
[155.107 s] Query 8000 done, time: 314.748
[156.432 s] Query 9400 done, time: 338.002
[156.546 s] Query 7300 done, time: 340.076
[157.142 s] Query 6600 done, time: 350.030
[158.412 s] Query 900 done, time: 372.504
[158.413 s] Query 4100 done, time: 372.802
[159.103 s] Query 9800 done, time: 384.580
[161.698 s] Query 5900 done, time: 428.096
[161.771 s] Query 2700 done, time: 429.547
[162.737 s] Query 2000 done, time: 446.909
[163.887 s] Query 9100 done, time: 468.095
[164.340 s] Query 1300 done, time: 476.215
[164.717 s] Query 200 done, time: 483.446
[164.888 s] Query 8400 done, time: 487.626
[165.163 s] Query 4500 done, time: 492.167
[165.434 s] Query 5200 done, time: 496.617
[166.949 s] Query 6300 done, time: 523.868
[167.230 s] Query 3800 done, time: 529.078
[167.498 s] Query 1700 done, time: 532.992
[168.496 s] Query 7000 done, time: 550.966
[168.503 s] Query 7700 done, time: 551.154
[168.752 s] Query 9500 done, time: 554.997
[168.788 s] Query 3100 done, time: 556.660
[169.244 s] Query 4900 done, time: 564.972
[170.462 s] Query 2400 done, time: 585.754
[172.422 s] Query 8800 done, time: 621.605
[172.583 s] Query 5600 done, time: 624.050
[173.268 s] Query 600 done, time: 635.399
[173.301 s] Query 8100 done, time: 636.749
[174.609 s] Query 3500 done, time: 659.037
[174.642 s] Query 4200 done, time: 659.285
[175.507 s] Query 5300 done, time: 674.771
[176.050 s] Query 9900 done, time: 682.433
[176.608 s] Query 1000 done, time: 694.327
[176.681 s] Query 7400 done, time: 695.126
[177.044 s] Query 300 done, time: 702.173
[178.186 s] Query 2800 done, time: 720.785
[179.087 s] Query 2100 done, time: 737.401
[179.094 s] Query 7800 done, time: 737.626
[179.597 s] Query 6000 done, time: 744.948
[179.636 s] Query 1400 done, time: 745.650
[180.149 s] Query 6700 done, time: 754.682
[180.342 s] Query 9200 done, time: 757.398
[180.800 s] Query 7100 done, time: 765.882
[181.913 s] Query 4600 done, time: 785.091
[182.637 s] Query 8500 done, time: 797.106
[183.577 s] Query 700 done, time: 812.036
[183.605 s] Query 2500 done, time: 812.481
[184.151 s] Query 3900 done, time: 821.960
[184.166 s] Query 5700 done, time: 822.283
[185.827 s] Query 3200 done, time: 851.429
[186.063 s] Query 9600 done, time: 854.864
[186.444 s] Query 5000 done, time: 861.390
[186.634 s] Query 6400 done, time: 865.315
[187.295 s] Query 8900 done, time: 876.544
[188.718 s] Query 1100 done, time: 900.648
[189.065 s] Query 1800 done, time: 906.738
[189.126 s] Query 3600 done, time: 907.784
[189.520 s] Query 8200 done, time: 913.630
[190.739 s] Query 6800 done, time: 930.875
[190.959 s] Query 4300 done, time: 933.630
[191.182 s] Query 7500 done, time: 936.681
[192.554 s] Query 2900 done, time: 950.958
[193.240 s] Query results (vector ids, then distances):
query 0, qrange {19, 59754, 93097}
      nns 0 id:9715655 attr:57619 dis:9488
      nns 1 id:2716677 attr:9435 dis:9610
      nns 2 id:5376130 attr:10 dis:9831
      nns 3 id:4000929 attr:85793 dis:10465
      nns 4 id:8869285 attr:54217 dis:10771
      nns 5 id:6464821 attr:9411 dis:11072
      nns 6 id:8718558 attr:10 dis:11177
      nns 7 id:2270424 attr:10 dis:11940
      nns 8 id:4268005 attr:85847 dis:12047
      nns 9 id:4228485 attr:94101 dis:12149

query 1, qrange {19, 34076, 67420}
      nns 0 id:3338949 attr:77475 dis:7823
      nns 1 id:6693881 attr:13784 dis:8318
      nns 2 id:2915146 attr:6 dis:10003
      nns 3 id:6218290 attr:6 dis:10949
      nns 4 id:7629371 attr:73090 dis:11437
      nns 5 id:4403537 attr:56776 dis:11908
      nns 6 id:9996113 attr:19166 dis:12030
      nns 7 id:6201944 attr:10 dis:12231
      nns 8 id:9910036 attr:6 dis:12352
      nns 9 id:27827 attr:39516 dis:12402

query 2, qrange {19, 22676, 56004}
      nns 0 id:9743895 attr:97756 dis:10145
      nns 1 id:2567980 attr:6 dis:10427
      nns 2 id:6007808 attr:6 dis:10863
      nns 3 id:7821433 attr:56020 dis:11342
      nns 4 id:1665436 attr:6 dis:11447
      nns 5 id:2826478 attr:6 dis:11457
      nns 6 id:8553474 attr:6 dis:11936
      nns 7 id:613441 attr:9068 dis:11972
      nns 8 id:8625378 attr:6 dis:12099
      nns 9 id:5162143 attr:96978 dis:12147

query 3, qrange {19, 49722, 83066}
      nns 0 id:7020630 attr:6 dis:8902
      nns 1 id:4153275 attr:2963 dis:9892
      nns 2 id:6654687 attr:31810 dis:11270
      nns 3 id:7110321 attr:61330 dis:11525
      nns 4 id:8860902 attr:6 dis:11708
      nns 5 id:3279722 attr:10 dis:11933
      nns 6 id:2264390 attr:6 dis:11971
      nns 7 id:5731015 attr:75901 dis:12709
      nns 8 id:3510165 attr:53530 dis:12970
      nns 9 id:9678835 attr:51563 dis:13080

query 4, qrange {19, 6728, 40053}
      nns 0 id:2953313 attr:3268 dis:5863
      nns 1 id:6527555 attr:13143 dis:6296
      nns 2 id:449527 attr:71436 dis:6766
      nns 3 id:1444782 attr:20 dis:6837
      nns 4 id:2066916 attr:10 dis:6893
      nns 5 id:3533412 attr:6 dis:7191
      nns 6 id:5123136 attr:6 dis:7194
      nns 7 id:5752140 attr:10 dis:7245
      nns 8 id:4114673 attr:3460 dis:7252
      nns 9 id:9134626 attr:6 dis:7265

[193.240 s] *** Query time: 956.805387
qps:10.4514
cmp per query:10000000
recall: 1 of course
sel distribution: 1 0 0 0 0 0 0 0 0 0 0 
selectivity: 0.0167076
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[193.246 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth_arbi 10000000 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_19_10.json 10 100 128"
	User time (seconds): 6988.22
	System time (seconds): 19.58
	Percent of CPU this job got: 3617%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:13.74
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7983104
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 4781416
	Voluntary context switches: 6822
	Involuntary context switches: 328622
	Swaps: 0
	File system inputs: 0
	File system outputs: 1816
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
