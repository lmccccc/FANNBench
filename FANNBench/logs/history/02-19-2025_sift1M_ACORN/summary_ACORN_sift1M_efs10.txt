Start time: 20:32
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_1/attr_sel_1_500_random_1.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_1/qrangesel_1_1_500_random_1.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_1/sif_gt_sel_1_1_500_random_1_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_1_M40_ga25_Mb64
ef_search: 10 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_500_random_1/attr_sel_1_500_random_1.json
[ 0.170s ] Loaded metadata, 1000000 attr's found
[ 0.170s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.174s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_1/qrangesel_1_1_500_random_1.json
[ 0.177s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_1/sif_gt_sel_1_1_500_random_1_10.json
[ 0.200s ] Loaded ground truth, gt_size: 10
[ 0.200s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
========= METADATA =======
	* cumulative max num neighbors per level
		indx 0: 0
		indx 1: 124
		indx 2: 1124
		indx 3: 2124
		indx 4: 3124
		indx 5: 4124
	* level probabilities
		level 0: 0.975000
		level 1: 0.024375
		level 2: 0.000609
		level 3: 0.000015
		level 4: 0.000000
		level 5: 0.000000
	* efConstruction: 1000
	* efSearch: 16
	* max_level: 4
	* entry_point: 118295
	* gamma: 25
========= LEVEL STATS OF ACORN =======
========= LEVEL 0 =======
* stats on level 0, max 124 neighbors per vertex:
   1. nb of nodes: 1000000
   2. neighbors per node: 86.77 (86765992)
   3. nb of reciprocal neighbors: 60.08
   4. nb of neighbors that are also neighbor-of-neighbors: 84.83 (84828895)
========= LEVEL 1 =======
* stats on level 1, max 1000 neighbors per vertex:
   1. nb of nodes: 24956
   2. neighbors per node: 1000.00 (24956000)
   3. nb of reciprocal neighbors: 238.07
   4. nb of neighbors that are also neighbor-of-neighbors: 783.69 (19557649)
========= LEVEL 2 =======
* stats on level 2, max 1000 neighbors per vertex:
   1. nb of nodes: 623
   2. neighbors per node: 583.18 (363319)
   3. nb of reciprocal neighbors: 581.49
   4. nb of neighbors that are also neighbor-of-neighbors: 582.55 (362929)
========= LEVEL 3 =======
* stats on level 3, max 1000 neighbors per vertex:
   1. nb of nodes: 16
   2. neighbors per node: 15.00 (240)
   3. nb of reciprocal neighbors: 15.00
   4. nb of neighbors that are also neighbor-of-neighbors: 15.00 (240)
========= LEVEL 4 =======
* stats on level 4, max 1000 neighbors per vertex:
   1. nb of nodes: 1
   2. neighbors per node: 0.00 (0)
   3. nb of reciprocal neighbors: 0.00
   4. nb of neighbors that are also neighbor-of-neighbors: 0.00 (0)
METADATA VEC for number nodes per level
	level 0: 999868 nodes
	level 1: 24956 nodes
	level 2: 623 nodes
	level 3: 16 nodes
	level 4: 1 nodes
	level 5: 0 nodes
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 462.697s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 10
selectivity: 1.000
[ 476.359s ] Query results (vector ids, then distances):
query 0 nn's (1): 36538 (1) 36267 (1) 931632 (1) 910119 (1) 871066 (1) 886222 (1) 480497 (1) 224263 (1) 871568 (1) 2837 (1) 
     dis: 	73344.000 76583.000 76645.000 77564.000 78324.000 78912.000 79223.000 80246.000 80499.000 80995.000 
query 1 nn's (1): 413247 (1) 413071 (1) 706838 (1) 880592 (1) 249062 (1) 400194 (1) 880462 (1) 586780 (1) 248426 (1) 849742 (1) 
     dis: 	51187.000 52570.000 54813.000 54987.000 55586.000 55595.000 56396.000 58246.000 58741.000 59323.000 
query 2 nn's (1): 408764 (1) 408462 (1) 861882 (1) 406324 (1) 861530 (1) 402106 (1) 823095 (1) 900097 (1) 431595 (1) 527380 (1) 
     dis: 	31091.000 33608.000 35704.000 36225.000 36348.000 36458.000 37621.000 38137.000 38236.000 38696.000 
query 3 nn's (1): 970797 (1) 125539 (1) 48044 (1) 191115 (1) 889039 (1) 546470 (1) 123985 (1) 546496 (1) 207768 (1) 831905 (1) 
     dis: 	30510.000 30863.000 32777.000 34876.000 34909.000 35734.000 36107.000 36113.000 36229.000 36624.000 
query 4 nn's (1): 748397 (1) 748193 (1) 716433 (1) 107281 (1) 416604 (1) 371420 (1) 368246 (1) 279082 (1) 175407 (1) 403978 (1) 
     dis: 	47367.000 48151.000 52559.000 54643.000 55814.000 56914.000 57046.000 57527.000 58065.000 59193.000 
[ 476.359s ] *** Query time: 3.341
qps: 2993.492
 *** acorn recall 
efs:10
acorn get 61278 postive res from 100000 results, recall@10:0.613
recall dist(10% per bucket): 0.032 0.039 0.054 0.069 0.088 0.102 0.119 0.128 0.134 0.126 0.110 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[476.952s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 7512394
ndis: 0
nreorder: 0
average distance computations per query: 751.239
[ 476.952s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_1/attr_sel_1_500_random_1.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_1/qrangesel_1_1_500_random_1.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_1/sif_gt_sel_1_1_500_random_1_10.json /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_1_M40_ga25_Mb64 10 128"
	User time (seconds): 469.73
	System time (seconds): 7.37
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 7:57.12
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 11478236
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3217586
	Voluntary context switches: 1
	Involuntary context switches: 667
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 21:11
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_2/attr_sel_1_500_random_2.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_2/qrangesel_1_1_500_random_2.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_2/sif_gt_sel_1_1_500_random_2_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_2_M40_ga25_Mb64
ef_search: 10 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_500_random_2/attr_sel_1_500_random_2.json
[ 0.109s ] Loaded metadata, 1000000 attr's found
[ 0.109s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.114s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_2/qrangesel_1_1_500_random_2.json
[ 0.117s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_2/sif_gt_sel_1_1_500_random_2_10.json
[ 0.139s ] Loaded ground truth, gt_size: 10
[ 0.139s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
========= METADATA =======
	* cumulative max num neighbors per level
		indx 0: 0
		indx 1: 124
		indx 2: 1124
		indx 3: 2124
		indx 4: 3124
		indx 5: 4124
	* level probabilities
		level 0: 0.975000
		level 1: 0.024375
		level 2: 0.000609
		level 3: 0.000015
		level 4: 0.000000
		level 5: 0.000000
	* efConstruction: 1000
	* efSearch: 16
	* max_level: 4
	* entry_point: 118295
	* gamma: 25
========= LEVEL STATS OF ACORN =======
========= LEVEL 0 =======
* stats on level 0, max 124 neighbors per vertex:
   1. nb of nodes: 1000000
   2. neighbors per node: 86.76 (86760604)
   3. nb of reciprocal neighbors: 60.07
   4. nb of neighbors that are also neighbor-of-neighbors: 84.82 (84822940)
========= LEVEL 1 =======
* stats on level 1, max 1000 neighbors per vertex:
   1. nb of nodes: 24956
   2. neighbors per node: 1000.00 (24956000)
   3. nb of reciprocal neighbors: 237.50
   4. nb of neighbors that are also neighbor-of-neighbors: 784.26 (19571951)
========= LEVEL 2 =======
* stats on level 2, max 1000 neighbors per vertex:
   1. nb of nodes: 623
   2. neighbors per node: 582.99 (363200)
   3. nb of reciprocal neighbors: 581.28
   4. nb of neighbors that are also neighbor-of-neighbors: 582.35 (362802)
========= LEVEL 3 =======
* stats on level 3, max 1000 neighbors per vertex:
   1. nb of nodes: 16
   2. neighbors per node: 15.00 (240)
   3. nb of reciprocal neighbors: 15.00
   4. nb of neighbors that are also neighbor-of-neighbors: 15.00 (240)
========= LEVEL 4 =======
* stats on level 4, max 1000 neighbors per vertex:
   1. nb of nodes: 1
   2. neighbors per node: 0.00 (0)
   3. nb of reciprocal neighbors: 0.00
   4. nb of neighbors that are also neighbor-of-neighbors: 0.00 (0)
METADATA VEC for number nodes per level
	level 0: 999839 nodes
	level 1: 24956 nodes
	level 2: 623 nodes
	level 3: 16 nodes
	level 4: 1 nodes
	level 5: 0 nodes
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 468.299s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 10
selectivity: 0.900
[ 491.064s ] Query results (vector ids, then distances):
query 0 nn's (2): 932085 (2) 934876 (2) 695756 (2) 435345 (2) 562594 (2) 908244 (2) 600499 (2) 562167 (2) 746931 (2) 565419 (2) 
     dis: 	54229.000 55091.000 67010.000 68247.000 73537.000 73581.000 73793.000 75124.000 75554.000 75634.000 
query 1 nn's (2): 413247 (2) 880592 (2) 249062 (2) 880462 (2) 248426 (2) 849742 (2) 832927 (2) 20845 (2) 517238 (2) 71819 (2) 
     dis: 	51187.000 54987.000 55586.000 56396.000 58741.000 59323.000 60029.000 60053.000 61274.000 61982.000 
query 2 nn's (2): 669835 (2) 408764 (2) 408462 (2) 408855 (2) 406273 (2) 406324 (2) 551743 (2) 861530 (2) 402106 (2) 239766 (2) 
     dis: 	30792.000 31091.000 33608.000 34104.000 36048.000 36225.000 36325.000 36348.000 36458.000 36631.000 
query 3 nn's (2): 970797 (2) 125539 (2) 48044 (2) 191115 (2) 889039 (2) 546470 (2) 123985 (2) 546496 (2) 207768 (2) 190692 (2) 
     dis: 	30510.000 30863.000 32777.000 34876.000 34909.000 35734.000 36107.000 36113.000 36229.000 36892.000 
query 4 nn's (2): 748397 (2) 748193 (2) 716433 (2) 112586 (2) 107281 (2) 416604 (2) 371420 (2) 368246 (2) 279082 (2) 175407 (2) 
     dis: 	47367.000 48151.000 52559.000 53980.000 54643.000 55814.000 56914.000 57046.000 57527.000 58065.000 
[ 491.064s ] *** Query time: 3.193
qps: 3132.077
 *** acorn recall 
efs:10
acorn get 61576 postive res from 100000 results, recall@10:0.616
recall dist(10% per bucket): 0.029 0.038 0.051 0.071 0.086 0.100 0.123 0.132 0.136 0.130 0.105 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[491.629s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 7474357
ndis: 0
nreorder: 0
average distance computations per query: 747.436
[ 491.629s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_2/attr_sel_1_500_random_2.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_2/qrangesel_1_1_500_random_2.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_2/sif_gt_sel_1_1_500_random_2_10.json /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_2_M40_ga25_Mb64 10 128"
	User time (seconds): 484.67
	System time (seconds): 7.09
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 8:11.79
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 11478244
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3156654
	Voluntary context switches: 1
	Involuntary context switches: 720
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 21:50
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_3/attr_sel_1_500_random_3.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_3/qrangesel_1_1_500_random_3.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_3/sif_gt_sel_1_1_500_random_3_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_3_M40_ga25_Mb64
ef_search: 10 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_500_random_3/attr_sel_1_500_random_3.json
[ 0.134s ] Loaded metadata, 1000000 attr's found
[ 0.134s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.137s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_3/qrangesel_1_1_500_random_3.json
[ 0.140s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_3/sif_gt_sel_1_1_500_random_3_10.json
[ 0.156s ] Loaded ground truth, gt_size: 10
[ 0.156s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
========= METADATA =======
	* cumulative max num neighbors per level
		indx 0: 0
		indx 1: 124
		indx 2: 1124
		indx 3: 2124
		indx 4: 3124
		indx 5: 4124
	* level probabilities
		level 0: 0.975000
		level 1: 0.024375
		level 2: 0.000609
		level 3: 0.000015
		level 4: 0.000000
		level 5: 0.000000
	* efConstruction: 1000
	* efSearch: 16
	* max_level: 4
	* entry_point: 118295
	* gamma: 25
========= LEVEL STATS OF ACORN =======
========= LEVEL 0 =======
* stats on level 0, max 124 neighbors per vertex:
   1. nb of nodes: 1000000
   2. neighbors per node: 86.75 (86752054)
   3. nb of reciprocal neighbors: 60.06
   4. nb of neighbors that are also neighbor-of-neighbors: 84.81 (84814596)
========= LEVEL 1 =======
* stats on level 1, max 1000 neighbors per vertex:
   1. nb of nodes: 24956
   2. neighbors per node: 1000.00 (24956000)
   3. nb of reciprocal neighbors: 239.03
   4. nb of neighbors that are also neighbor-of-neighbors: 782.17 (19519746)
========= LEVEL 2 =======
* stats on level 2, max 1000 neighbors per vertex:
   1. nb of nodes: 623
   2. neighbors per node: 584.28 (364008)
   3. nb of reciprocal neighbors: 582.58
   4. nb of neighbors that are also neighbor-of-neighbors: 583.66 (363620)
========= LEVEL 3 =======
* stats on level 3, max 1000 neighbors per vertex:
   1. nb of nodes: 16
   2. neighbors per node: 15.00 (240)
   3. nb of reciprocal neighbors: 15.00
   4. nb of neighbors that are also neighbor-of-neighbors: 15.00 (240)
========= LEVEL 4 =======
* stats on level 4, max 1000 neighbors per vertex:
   1. nb of nodes: 1
   2. neighbors per node: 0.00 (0)
   3. nb of reciprocal neighbors: 0.00
   4. nb of neighbors that are also neighbor-of-neighbors: 0.00 (0)
METADATA VEC for number nodes per level
	level 0: 999832 nodes
	level 1: 24955 nodes
	level 2: 623 nodes
	level 3: 16 nodes
	level 4: 1 nodes
	level 5: 0 nodes
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 450.487s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 10
selectivity: 0.800
[ 481.010s ] Query results (vector ids, then distances):
query 0 nn's (3): 435345 (3) 872728 (3) 908244 (3) 568573 (3) 36267 (3) 910119 (3) 843384 (3) 480497 (3) 478814 (3) 225116 (3) 
     dis: 	68247.000 71861.000 73581.000 75944.000 76583.000 77564.000 77588.000 79223.000 80543.000 80639.000 
query 1 nn's (3): 413071 (3) 249062 (3) 400194 (3) 248426 (3) 849742 (3) 250786 (3) 956542 (3) 214501 (3) 133522 (3) 250884 (3) 
     dis: 	52570.000 55586.000 55595.000 58741.000 59323.000 63393.000 64382.000 64551.000 64619.000 64664.000 
query 2 nn's (3): 408462 (3) 861530 (3) 239766 (3) 900097 (3) 431595 (3) 527380 (3) 906773 (3) 401804 (3) 311367 (3) 678042 (3) 
     dis: 	33608.000 36348.000 36631.000 38137.000 38236.000 38696.000 39266.000 39297.000 39874.000 39953.000 
query 3 nn's (3): 970797 (3) 191115 (3) 889039 (3) 546470 (3) 123985 (3) 546496 (3) 207768 (3) 831905 (3) 832999 (3) 191317 (3) 
     dis: 	30510.000 34876.000 34909.000 35734.000 36107.000 36113.000 36229.000 36624.000 36743.000 37275.000 
query 4 nn's (3): 748397 (3) 748193 (3) 716433 (3) 112586 (3) 371420 (3) 368246 (3) 279082 (3) 175407 (3) 403978 (3) 549505 (3) 
     dis: 	47367.000 48151.000 52559.000 53980.000 56914.000 57046.000 57527.000 58065.000 59193.000 59638.000 
[ 481.010s ] *** Query time: 2.427
qps: 4119.672
 *** acorn recall 
efs:10
acorn get 60496 postive res from 100000 results, recall@10:0.605
recall dist(10% per bucket): 0.033 0.042 0.054 0.069 0.085 0.109 0.122 0.130 0.134 0.125 0.097 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[481.621s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 7303669
ndis: 0
nreorder: 0
average distance computations per query: 730.367
[ 481.621s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_3/attr_sel_1_500_random_3.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_3/qrangesel_1_1_500_random_3.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_3/sif_gt_sel_1_1_500_random_3_10.json /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_3_M40_ga25_Mb64 10 128"
	User time (seconds): 475.88
	System time (seconds): 5.84
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 8:01.73
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 11478240
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2885756
	Voluntary context switches: 1
	Involuntary context switches: 441
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 22:28
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_4/attr_sel_1_500_random_4.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_4/qrangesel_1_1_500_random_4.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_4/sif_gt_sel_1_1_500_random_4_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_4_M40_ga25_Mb64
ef_search: 10 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_500_random_4/attr_sel_1_500_random_4.json
[ 0.140s ] Loaded metadata, 1000000 attr's found
[ 0.140s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.144s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_4/qrangesel_1_1_500_random_4.json
[ 0.146s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_4/sif_gt_sel_1_1_500_random_4_10.json
[ 0.163s ] Loaded ground truth, gt_size: 10
[ 0.163s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
========= METADATA =======
	* cumulative max num neighbors per level
		indx 0: 0
		indx 1: 124
		indx 2: 1124
		indx 3: 2124
		indx 4: 3124
		indx 5: 4124
	* level probabilities
		level 0: 0.975000
		level 1: 0.024375
		level 2: 0.000609
		level 3: 0.000015
		level 4: 0.000000
		level 5: 0.000000
	* efConstruction: 1000
	* efSearch: 16
	* max_level: 4
	* entry_point: 118295
	* gamma: 25
========= LEVEL STATS OF ACORN =======
========= LEVEL 0 =======
* stats on level 0, max 124 neighbors per vertex:
   1. nb of nodes: 1000000
   2. neighbors per node: 86.76 (86755662)
   3. nb of reciprocal neighbors: 60.06
   4. nb of neighbors that are also neighbor-of-neighbors: 84.81 (84814124)
========= LEVEL 1 =======
* stats on level 1, max 1000 neighbors per vertex:
   1. nb of nodes: 24956
   2. neighbors per node: 1000.00 (24956000)
   3. nb of reciprocal neighbors: 237.73
   4. nb of neighbors that are also neighbor-of-neighbors: 783.62 (19556130)
========= LEVEL 2 =======
* stats on level 2, max 1000 neighbors per vertex:
   1. nb of nodes: 623
   2. neighbors per node: 584.13 (363910)
   3. nb of reciprocal neighbors: 582.40
   4. nb of neighbors that are also neighbor-of-neighbors: 583.52 (363531)
========= LEVEL 3 =======
* stats on level 3, max 1000 neighbors per vertex:
   1. nb of nodes: 16
   2. neighbors per node: 15.00 (240)
   3. nb of reciprocal neighbors: 15.00
   4. nb of neighbors that are also neighbor-of-neighbors: 15.00 (240)
========= LEVEL 4 =======
* stats on level 4, max 1000 neighbors per vertex:
   1. nb of nodes: 1
   2. neighbors per node: 0.00 (0)
   3. nb of reciprocal neighbors: 0.00
   4. nb of neighbors that are also neighbor-of-neighbors: 0.00 (0)
METADATA VEC for number nodes per level
	level 0: 999820 nodes
	level 1: 24955 nodes
	level 2: 622 nodes
	level 3: 16 nodes
	level 4: 1 nodes
	level 5: 0 nodes
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 442.016s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 10
selectivity: 0.701
[ 482.719s ] Query results (vector ids, then distances):
query 0 nn's (4): 36538 (4) 908244 (4) 36267 (4) 931632 (4) 910119 (4) 779712 (4) 49874 (4) 480497 (4) 87578 (4) 871568 (4) 
     dis: 	73344.000 73581.000 76583.000 76645.000 77564.000 78092.000 78889.000 79223.000 79874.000 80499.000 
query 1 nn's (4): 249062 (4) 849742 (4) 832927 (4) 133524 (4) 522078 (4) 543219 (4) 250786 (4) 833086 (4) 406020 (4) 956542 (4) 
     dis: 	55586.000 59323.000 60029.000 61283.000 63234.000 63302.000 63393.000 63595.000 63621.000 64382.000 
query 2 nn's (4): 408764 (4) 408462 (4) 861882 (4) 406324 (4) 861530 (4) 402106 (4) 823095 (4) 900097 (4) 431595 (4) 527380 (4) 
     dis: 	31091.000 33608.000 35704.000 36225.000 36348.000 36458.000 37621.000 38137.000 38236.000 38696.000 
query 3 nn's (4): 125539 (4) 191115 (4) 546470 (4) 123985 (4) 831905 (4) 191317 (4) 855554 (4) 993773 (4) 899013 (4) 546122 (4) 
     dis: 	30863.000 34876.000 35734.000 36107.000 36624.000 37275.000 38019.000 39153.000 39632.000 39639.000 
query 4 nn's (4): 748397 (4) 748193 (4) 107281 (4) 416604 (4) 279082 (4) 175407 (4) 491554 (4) 549505 (4) 278744 (4) 279356 (4) 
     dis: 	47367.000 48151.000 54643.000 55814.000 57527.000 58065.000 58390.000 59638.000 61604.000 61829.000 
[ 482.720s ] *** Query time: 2.425
qps: 4123.747
 *** acorn recall 
efs:10
acorn get 60317 postive res from 100000 results, recall@10:0.603
recall dist(10% per bucket): 0.032 0.044 0.054 0.075 0.088 0.106 0.116 0.133 0.126 0.129 0.098 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[483.313s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 7169351
ndis: 0
nreorder: 0
average distance computations per query: 716.935
[ 483.313s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_4/attr_sel_1_500_random_4.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_4/qrangesel_1_1_500_random_4.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_4/sif_gt_sel_1_1_500_random_4_10.json /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_4_M40_ga25_Mb64 10 128"
	User time (seconds): 476.96
	System time (seconds): 6.43
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 8:03.43
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 11477220
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2879741
	Voluntary context switches: 1
	Involuntary context switches: 827
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:05
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_5/attr_sel_1_500_random_5.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_5/qrangesel_1_1_500_random_5.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_5/sif_gt_sel_1_1_500_random_5_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_5_M40_ga25_Mb64
ef_search: 10 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_500_random_5/attr_sel_1_500_random_5.json
[ 0.182s ] Loaded metadata, 1000000 attr's found
[ 0.182s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.187s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_5/qrangesel_1_1_500_random_5.json
[ 0.190s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_5/sif_gt_sel_1_1_500_random_5_10.json
[ 0.212s ] Loaded ground truth, gt_size: 10
[ 0.212s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
========= METADATA =======
	* cumulative max num neighbors per level
		indx 0: 0
		indx 1: 124
		indx 2: 1124
		indx 3: 2124
		indx 4: 3124
		indx 5: 4124
	* level probabilities
		level 0: 0.975000
		level 1: 0.024375
		level 2: 0.000609
		level 3: 0.000015
		level 4: 0.000000
		level 5: 0.000000
	* efConstruction: 1000
	* efSearch: 16
	* max_level: 4
	* entry_point: 118295
	* gamma: 25
========= LEVEL STATS OF ACORN =======
========= LEVEL 0 =======
* stats on level 0, max 124 neighbors per vertex:
   1. nb of nodes: 1000000
   2. neighbors per node: 86.76 (86761028)
   3. nb of reciprocal neighbors: 60.07
   4. nb of neighbors that are also neighbor-of-neighbors: 84.82 (84822198)
========= LEVEL 1 =======
* stats on level 1, max 1000 neighbors per vertex:
   1. nb of nodes: 24956
   2. neighbors per node: 1000.00 (24956000)
   3. nb of reciprocal neighbors: 238.52
   4. nb of neighbors that are also neighbor-of-neighbors: 785.40 (19600324)
========= LEVEL 2 =======
* stats on level 2, max 1000 neighbors per vertex:
   1. nb of nodes: 623
   2. neighbors per node: 584.98 (364441)
   3. nb of reciprocal neighbors: 583.29
   4. nb of neighbors that are also neighbor-of-neighbors: 584.36 (364056)
========= LEVEL 3 =======
* stats on level 3, max 1000 neighbors per vertex:
   1. nb of nodes: 16
   2. neighbors per node: 15.00 (240)
   3. nb of reciprocal neighbors: 15.00
   4. nb of neighbors that are also neighbor-of-neighbors: 15.00 (240)
========= LEVEL 4 =======
* stats on level 4, max 1000 neighbors per vertex:
   1. nb of nodes: 1
   2. neighbors per node: 0.00 (0)
   3. nb of reciprocal neighbors: 0.00
   4. nb of neighbors that are also neighbor-of-neighbors: 0.00 (0)
METADATA VEC for number nodes per level
	level 0: 999815 nodes
	level 1: 24955 nodes
	level 2: 623 nodes
	level 3: 16 nodes
	level 4: 1 nodes
	level 5: 0 nodes
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 446.285s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 10
selectivity: 0.600
[ 497.414s ] Query results (vector ids, then distances):
query 0 nn's (5): 561813 (5) 435345 (5) 455537 (5) 562594 (5) 908244 (5) 619660 (5) 236647 (5) 568573 (5) 931632 (5) 910119 (5) 
     dis: 	59531.000 68247.000 71441.000 73537.000 73581.000 74356.000 75704.000 75944.000 76645.000 77564.000 
query 1 nn's (5): 413247 (5) 249062 (5) 400194 (5) 833054 (5) 20845 (5) 517238 (5) 560219 (5) 480949 (5) 833086 (5) 406020 (5) 
     dis: 	51187.000 55586.000 55595.000 58464.000 60053.000 61274.000 61494.000 62997.000 63595.000 63621.000 
query 2 nn's (5): 551743 (5) 861530 (5) 401804 (5) 744548 (5) 534822 (5) 57338 (5) 743053 (5) 10065 (5) 104121 (5) 398086 (5) 
     dis: 	36325.000 36348.000 39297.000 40014.000 41204.000 41524.000 43243.000 43255.000 43289.000 43291.000 
query 3 nn's (5): 970797 (5) 125539 (5) 123985 (5) 546496 (5) 207768 (5) 831905 (5) 855554 (5) 443320 (5) 722075 (5) 993773 (5) 
     dis: 	30510.000 30863.000 36107.000 36113.000 36229.000 36624.000 38019.000 38260.000 38524.000 39153.000 
query 4 nn's (5): 748397 (5) 748193 (5) 716433 (5) 112586 (5) 107281 (5) 416604 (5) 371420 (5) 368246 (5) 807785 (5) 403978 (5) 
     dis: 	47367.000 48151.000 52559.000 53980.000 54643.000 55814.000 56914.000 57046.000 58908.000 59193.000 
[ 497.414s ] *** Query time: 3.163
qps: 3161.375
 *** acorn recall 
efs:10
acorn get 61488 postive res from 100000 results, recall@10:0.615
recall dist(10% per bucket): 0.030 0.040 0.055 0.068 0.086 0.103 0.119 0.130 0.126 0.128 0.116 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[498.105s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 6972346
ndis: 0
nreorder: 0
average distance computations per query: 697.235
[ 498.105s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_5/attr_sel_1_500_random_5.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_5/qrangesel_1_1_500_random_5.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_5/sif_gt_sel_1_1_500_random_5_10.json /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_5_M40_ga25_Mb64 10 128"
	User time (seconds): 491.08
	System time (seconds): 7.17
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 8:18.28
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 11477224
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3156482
	Voluntary context switches: 1
	Involuntary context switches: 685
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:42
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_6/attr_sel_1_500_random_6.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_6/qrangesel_1_1_500_random_6.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_6/sif_gt_sel_1_1_500_random_6_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_6_M40_ga25_Mb64
ef_search: 10 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_500_random_6/attr_sel_1_500_random_6.json
[ 0.150s ] Loaded metadata, 1000000 attr's found
[ 0.150s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.153s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_6/qrangesel_1_1_500_random_6.json
[ 0.156s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_6/sif_gt_sel_1_1_500_random_6_10.json
[ 0.172s ] Loaded ground truth, gt_size: 10
[ 0.172s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
========= METADATA =======
	* cumulative max num neighbors per level
		indx 0: 0
		indx 1: 124
		indx 2: 1124
		indx 3: 2124
		indx 4: 3124
		indx 5: 4124
	* level probabilities
		level 0: 0.975000
		level 1: 0.024375
		level 2: 0.000609
		level 3: 0.000015
		level 4: 0.000000
		level 5: 0.000000
	* efConstruction: 1000
	* efSearch: 16
	* max_level: 4
	* entry_point: 118295
	* gamma: 25
========= LEVEL STATS OF ACORN =======
========= LEVEL 0 =======
* stats on level 0, max 124 neighbors per vertex:
   1. nb of nodes: 1000000
   2. neighbors per node: 86.77 (86768738)
   3. nb of reciprocal neighbors: 60.08
   4. nb of neighbors that are also neighbor-of-neighbors: 84.83 (84830429)
========= LEVEL 1 =======
* stats on level 1, max 1000 neighbors per vertex:
   1. nb of nodes: 24956
   2. neighbors per node: 1000.00 (24956000)
   3. nb of reciprocal neighbors: 237.90
   4. nb of neighbors that are also neighbor-of-neighbors: 783.60 (19555499)
========= LEVEL 2 =======
* stats on level 2, max 1000 neighbors per vertex:
   1. nb of nodes: 623
   2. neighbors per node: 583.57 (363562)
   3. nb of reciprocal neighbors: 581.82
   4. nb of neighbors that are also neighbor-of-neighbors: 582.98 (363196)
========= LEVEL 3 =======
* stats on level 3, max 1000 neighbors per vertex:
   1. nb of nodes: 16
   2. neighbors per node: 15.00 (240)
   3. nb of reciprocal neighbors: 15.00
   4. nb of neighbors that are also neighbor-of-neighbors: 15.00 (240)
========= LEVEL 4 =======
* stats on level 4, max 1000 neighbors per vertex:
   1. nb of nodes: 1
   2. neighbors per node: 0.00 (0)
   3. nb of reciprocal neighbors: 0.00
   4. nb of neighbors that are also neighbor-of-neighbors: 0.00 (0)
METADATA VEC for number nodes per level
	level 0: 999849 nodes
	level 1: 24955 nodes
	level 2: 623 nodes
	level 3: 16 nodes
	level 4: 1 nodes
	level 5: 0 nodes
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 447.427s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 10
selectivity: 0.500
[ 501.934s ] Query results (vector ids, then distances):
query 0 nn's (6): 562594 (6) 619660 (6) 2176 (6) 3752 (6) 843384 (6) 886222 (6) 871568 (6) 225116 (6) 391655 (6) 930567 (6) 
     dis: 	73537.000 74356.000 76608.000 77004.000 77588.000 78912.000 80499.000 80639.000 80749.000 81870.000 
query 1 nn's (6): 413247 (6) 706838 (6) 880592 (6) 400194 (6) 248426 (6) 849742 (6) 202612 (6) 266890 (6) 122309 (6) 522078 (6) 
     dis: 	51187.000 54813.000 54987.000 55595.000 58741.000 59323.000 60695.000 60695.000 62769.000 63234.000 
query 2 nn's (6): 402106 (6) 900097 (6) 869379 (6) 30990 (6) 937126 (6) 398086 (6) 562123 (6) 401475 (6) 736271 (6) 227807 (6) 
     dis: 	36458.000 38137.000 41020.000 41957.000 42388.000 43291.000 43413.000 43576.000 44758.000 45049.000 
query 3 nn's (6): 970797 (6) 546470 (6) 546496 (6) 207768 (6) 190692 (6) 191317 (6) 855554 (6) 722075 (6) 546767 (6) 885741 (6) 
     dis: 	30510.000 35734.000 36113.000 36229.000 36892.000 37275.000 38019.000 38524.000 39632.000 39790.000 
query 4 nn's (6): 371420 (6) 368246 (6) 403978 (6) 59308 (6) 279356 (6) 548521 (6) 279095 (6) 566738 (6) 30116 (6) 122623 (6) 
     dis: 	56914.000 57046.000 59193.000 60042.000 61829.000 61937.000 62409.000 62898.000 63010.000 63192.000 
[ 501.935s ] *** Query time: 3.305
qps: 3025.712
 *** acorn recall 
efs:10
acorn get 65750 postive res from 100000 results, recall@10:0.657
recall dist(10% per bucket): 0.019 0.032 0.045 0.061 0.079 0.093 0.111 0.124 0.139 0.138 0.161 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[502.531s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 6955436
ndis: 0
nreorder: 0
average distance computations per query: 695.544
[ 502.531s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_6/attr_sel_1_500_random_6.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_6/qrangesel_1_1_500_random_6.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_6/sif_gt_sel_1_1_500_random_6_10.json /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_6_M40_ga25_Mb64 10 128"
	User time (seconds): 495.71
	System time (seconds): 6.87
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 8:22.69
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 11478244
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3156331
	Voluntary context switches: 1
	Involuntary context switches: 642
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:19
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_7/attr_sel_1_500_random_7.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_7/qrangesel_1_1_500_random_7.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_7/sif_gt_sel_1_1_500_random_7_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_7_M40_ga25_Mb64
ef_search: 10 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_500_random_7/attr_sel_1_500_random_7.json
[ 0.191s ] Loaded metadata, 1000000 attr's found
[ 0.191s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.196s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_7/qrangesel_1_1_500_random_7.json
[ 0.199s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_7/sif_gt_sel_1_1_500_random_7_10.json
[ 0.221s ] Loaded ground truth, gt_size: 10
[ 0.221s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
========= METADATA =======
	* cumulative max num neighbors per level
		indx 0: 0
		indx 1: 124
		indx 2: 1124
		indx 3: 2124
		indx 4: 3124
		indx 5: 4124
	* level probabilities
		level 0: 0.975000
		level 1: 0.024375
		level 2: 0.000609
		level 3: 0.000015
		level 4: 0.000000
		level 5: 0.000000
	* efConstruction: 1000
	* efSearch: 16
	* max_level: 4
	* entry_point: 118295
	* gamma: 25
========= LEVEL STATS OF ACORN =======
========= LEVEL 0 =======
* stats on level 0, max 124 neighbors per vertex:
   1. nb of nodes: 1000000
   2. neighbors per node: 86.75 (86745099)
   3. nb of reciprocal neighbors: 60.05
   4. nb of neighbors that are also neighbor-of-neighbors: 84.81 (84805218)
========= LEVEL 1 =======
* stats on level 1, max 1000 neighbors per vertex:
   1. nb of nodes: 24956
   2. neighbors per node: 1000.00 (24956000)
   3. nb of reciprocal neighbors: 237.09
   4. nb of neighbors that are also neighbor-of-neighbors: 782.27 (19522434)
========= LEVEL 2 =======
* stats on level 2, max 1000 neighbors per vertex:
   1. nb of nodes: 623
   2. neighbors per node: 584.50 (364146)
   3. nb of reciprocal neighbors: 582.83
   4. nb of neighbors that are also neighbor-of-neighbors: 583.87 (363752)
========= LEVEL 3 =======
* stats on level 3, max 1000 neighbors per vertex:
   1. nb of nodes: 16
   2. neighbors per node: 15.00 (240)
   3. nb of reciprocal neighbors: 15.00
   4. nb of neighbors that are also neighbor-of-neighbors: 15.00 (240)
========= LEVEL 4 =======
* stats on level 4, max 1000 neighbors per vertex:
   1. nb of nodes: 1
   2. neighbors per node: 0.00 (0)
   3. nb of reciprocal neighbors: 0.00
   4. nb of neighbors that are also neighbor-of-neighbors: 0.00 (0)
METADATA VEC for number nodes per level
	level 0: 999852 nodes
	level 1: 24955 nodes
	level 2: 623 nodes
	level 3: 16 nodes
	level 4: 1 nodes
	level 5: 0 nodes
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 449.989s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 10
selectivity: 0.400
[ 501.799s ] Query results (vector ids, then distances):
query 0 nn's (7): 435345 (7) 455537 (7) 893601 (7) 565419 (7) 36267 (7) 454263 (7) 779712 (7) 49874 (7) 886222 (7) 480497 (7) 
     dis: 	68247.000 71441.000 74016.000 75634.000 76583.000 76664.000 78092.000 78889.000 78912.000 79223.000 
query 1 nn's (7): 413247 (7) 706838 (7) 849742 (7) 987215 (7) 832927 (7) 20845 (7) 266890 (7) 517238 (7) 833335 (7) 560219 (7) 
     dis: 	51187.000 54813.000 59323.000 59904.000 60029.000 60053.000 60695.000 61274.000 61296.000 61494.000 
query 2 nn's (7): 551743 (7) 401804 (7) 744548 (7) 736302 (7) 260648 (7) 776491 (7) 762362 (7) 742644 (7) 743053 (7) 227542 (7) 
     dis: 	36325.000 39297.000 40014.000 40215.000 41196.000 41845.000 42544.000 42628.000 43243.000 43311.000 
query 3 nn's (7): 48044 (7) 546470 (7) 123985 (7) 190621 (7) 443320 (7) 993773 (7) 919152 (7) 546767 (7) 899013 (7) 546766 (7) 
     dis: 	32777.000 35734.000 36107.000 38013.000 38260.000 39153.000 39212.000 39632.000 39632.000 39814.000 
query 4 nn's (7): 340871 (7) 716433 (7) 107281 (7) 371420 (7) 368246 (7) 279082 (7) 340288 (7) 807785 (7) 79424 (7) 59308 (7) 
     dis: 	45914.000 52559.000 54643.000 56914.000 57046.000 57527.000 57968.000 58908.000 59956.000 60042.000 
[ 501.799s ] *** Query time: 3.198
qps: 3126.514
 *** acorn recall 
efs:10
acorn get 67139 postive res from 100000 results, recall@10:0.671
recall dist(10% per bucket): 0.017 0.028 0.043 0.061 0.073 0.094 0.107 0.119 0.131 0.148 0.180 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[502.453s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 6893153
ndis: 0
nreorder: 0
average distance computations per query: 689.315
[ 502.453s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_7/attr_sel_1_500_random_7.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_7/qrangesel_1_1_500_random_7.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_7/sif_gt_sel_1_1_500_random_7_10.json /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_7_M40_ga25_Mb64 10 128"
	User time (seconds): 495.39
	System time (seconds): 7.22
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 8:22.64
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 11478240
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3155191
	Voluntary context switches: 1
	Involuntary context switches: 568
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:55
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_8/attr_sel_1_500_random_8.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_8/qrangesel_1_1_500_random_8.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_8/sif_gt_sel_1_1_500_random_8_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_8_M40_ga25_Mb64
ef_search: 10 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_500_random_8/attr_sel_1_500_random_8.json
[ 0.102s ] Loaded metadata, 1000000 attr's found
[ 0.102s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.105s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_8/qrangesel_1_1_500_random_8.json
[ 0.107s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_8/sif_gt_sel_1_1_500_random_8_10.json
[ 0.118s ] Loaded ground truth, gt_size: 10
[ 0.118s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
========= METADATA =======
	* cumulative max num neighbors per level
		indx 0: 0
		indx 1: 124
		indx 2: 1124
		indx 3: 2124
		indx 4: 3124
		indx 5: 4124
	* level probabilities
		level 0: 0.975000
		level 1: 0.024375
		level 2: 0.000609
		level 3: 0.000015
		level 4: 0.000000
		level 5: 0.000000
	* efConstruction: 1000
	* efSearch: 16
	* max_level: 4
	* entry_point: 118295
	* gamma: 25
========= LEVEL STATS OF ACORN =======
========= LEVEL 0 =======
* stats on level 0, max 124 neighbors per vertex:
   1. nb of nodes: 1000000
   2. neighbors per node: 86.77 (86774230)
   3. nb of reciprocal neighbors: 60.10
   4. nb of neighbors that are also neighbor-of-neighbors: 84.84 (84838187)
========= LEVEL 1 =======
* stats on level 1, max 1000 neighbors per vertex:
   1. nb of nodes: 24956
   2. neighbors per node: 1000.00 (24956000)
   3. nb of reciprocal neighbors: 237.63
   4. nb of neighbors that are also neighbor-of-neighbors: 785.53 (19603721)
========= LEVEL 2 =======
* stats on level 2, max 1000 neighbors per vertex:
   1. nb of nodes: 623
   2. neighbors per node: 583.14 (363296)
   3. nb of reciprocal neighbors: 581.40
   4. nb of neighbors that are also neighbor-of-neighbors: 582.52 (362908)
========= LEVEL 3 =======
* stats on level 3, max 1000 neighbors per vertex:
   1. nb of nodes: 16
   2. neighbors per node: 15.00 (240)
   3. nb of reciprocal neighbors: 15.00
   4. nb of neighbors that are also neighbor-of-neighbors: 15.00 (240)
========= LEVEL 4 =======
* stats on level 4, max 1000 neighbors per vertex:
   1. nb of nodes: 1
   2. neighbors per node: 0.00 (0)
   3. nb of reciprocal neighbors: 0.00
   4. nb of neighbors that are also neighbor-of-neighbors: 0.00 (0)
METADATA VEC for number nodes per level
	level 0: 999850 nodes
	level 1: 24955 nodes
	level 2: 623 nodes
	level 3: 16 nodes
	level 4: 1 nodes
	level 5: 0 nodes
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 449.006s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 10
selectivity: 0.300
[ 492.125s ] Query results (vector ids, then distances):
query 0 nn's (8): 701919 (8) 957845 (8) 791852 (8) 710644 (8) 871600 (8) 238549 (8) 169794 (8) 876511 (8) 882943 (8) 17310 (8) 
     dis: 	79508.000 81399.000 81417.000 82615.000 83748.000 84591.000 84829.000 85498.000 85654.000 85857.000 
query 1 nn's (8): 413247 (8) 249062 (8) 420802 (8) 517923 (8) 406020 (8) 598353 (8) 957556 (8) 123544 (8) 913887 (8) 17970 (8) 
     dis: 	51187.000 55586.000 57941.000 61150.000 63621.000 63645.000 64360.000 64720.000 64851.000 65368.000 
query 2 nn's (8): 406273 (8) 406324 (8) 402106 (8) 527380 (8) 306132 (8) 401804 (8) 905339 (8) 311367 (8) 150588 (8) 695462 (8) 
     dis: 	36048.000 36225.000 36458.000 38696.000 39154.000 39297.000 39308.000 39874.000 39984.000 40907.000 
query 3 nn's (8): 125539 (8) 48044 (8) 191115 (8) 546470 (8) 207768 (8) 191317 (8) 443320 (8) 722075 (8) 919152 (8) 546766 (8) 
     dis: 	30863.000 32777.000 34876.000 35734.000 36229.000 37275.000 38260.000 38524.000 39212.000 39814.000 
query 4 nn's (8): 278744 (8) 279356 (8) 495828 (8) 292169 (8) 535022 (8) 292963 (8) 358802 (8) 264181 (8) 291998 (8) 351068 (8) 
     dis: 	61604.000 61829.000 62846.000 63465.000 63560.000 63955.000 64754.000 65049.000 68320.000 68766.000 
[ 492.125s ] *** Query time: 3.458
qps: 2891.856
 *** acorn recall 
efs:10
acorn get 68688 postive res from 100000 results, recall@10:0.687
recall dist(10% per bucket): 0.012 0.023 0.036 0.055 0.072 0.094 0.108 0.122 0.141 0.151 0.186 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[492.759s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 6750476
ndis: 0
nreorder: 0
average distance computations per query: 675.048
[ 492.759s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_8/attr_sel_1_500_random_8.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_8/qrangesel_1_1_500_random_8.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_8/sif_gt_sel_1_1_500_random_8_10.json /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_8_M40_ga25_Mb64 10 128"
	User time (seconds): 485.89
	System time (seconds): 7.04
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 8:12.94
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 11476860
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3151457
	Voluntary context switches: 1
	Involuntary context switches: 458
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:32
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_9/attr_sel_1_500_random_9.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_9/qrangesel_1_1_500_random_9.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_9/sif_gt_sel_1_1_500_random_9_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_9_M40_ga25_Mb64
ef_search: 10 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_500_random_9/attr_sel_1_500_random_9.json
[ 0.108s ] Loaded metadata, 1000000 attr's found
[ 0.108s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.111s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_9/qrangesel_1_1_500_random_9.json
[ 0.112s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_9/sif_gt_sel_1_1_500_random_9_10.json
[ 0.123s ] Loaded ground truth, gt_size: 10
[ 0.123s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
========= METADATA =======
	* cumulative max num neighbors per level
		indx 0: 0
		indx 1: 124
		indx 2: 1124
		indx 3: 2124
		indx 4: 3124
		indx 5: 4124
	* level probabilities
		level 0: 0.975000
		level 1: 0.024375
		level 2: 0.000609
		level 3: 0.000015
		level 4: 0.000000
		level 5: 0.000000
	* efConstruction: 1000
	* efSearch: 16
	* max_level: 4
	* entry_point: 118295
	* gamma: 25
========= LEVEL STATS OF ACORN =======
========= LEVEL 0 =======
* stats on level 0, max 124 neighbors per vertex:
   1. nb of nodes: 1000000
   2. neighbors per node: 86.77 (86773773)
   3. nb of reciprocal neighbors: 60.10
   4. nb of neighbors that are also neighbor-of-neighbors: 84.84 (84839583)
========= LEVEL 1 =======
* stats on level 1, max 1000 neighbors per vertex:
   1. nb of nodes: 24956
   2. neighbors per node: 1000.00 (24956000)
   3. nb of reciprocal neighbors: 238.21
   4. nb of neighbors that are also neighbor-of-neighbors: 784.82 (19585981)
========= LEVEL 2 =======
* stats on level 2, max 1000 neighbors per vertex:
   1. nb of nodes: 623
   2. neighbors per node: 585.15 (364550)
   3. nb of reciprocal neighbors: 583.48
   4. nb of neighbors that are also neighbor-of-neighbors: 584.53 (364162)
========= LEVEL 3 =======
* stats on level 3, max 1000 neighbors per vertex:
   1. nb of nodes: 16
   2. neighbors per node: 15.00 (240)
   3. nb of reciprocal neighbors: 15.00
   4. nb of neighbors that are also neighbor-of-neighbors: 15.00 (240)
========= LEVEL 4 =======
* stats on level 4, max 1000 neighbors per vertex:
   1. nb of nodes: 1
   2. neighbors per node: 0.00 (0)
   3. nb of reciprocal neighbors: 0.00
   4. nb of neighbors that are also neighbor-of-neighbors: 0.00 (0)
METADATA VEC for number nodes per level
	level 0: 999845 nodes
	level 1: 24954 nodes
	level 2: 622 nodes
	level 3: 16 nodes
	level 4: 1 nodes
	level 5: 0 nodes
Total edge:1025438
Average degree:170906.333
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 446.397s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 10
selectivity: 0.200
[ 479.899s ] Query results (vector ids, then distances):
query 0 nn's (9): 934876 (9) 36538 (9) 600499 (9) 480497 (9) 619829 (9) 171663 (9) 368702 (9) 899809 (9) 919197 (9) 63349 (9) 
     dis: 	55091.000 73344.000 73793.000 79223.000 79309.000 81148.000 81686.000 81969.000 83031.000 83341.000 
query 1 nn's (9): 400194 (9) 480949 (9) 14836 (9) 123544 (9) 207435 (9) 868337 (9) 993635 (9) 2781 (9) 502126 (9) 885995 (9) 
     dis: 	55595.000 62997.000 63289.000 64720.000 64749.000 65294.000 65914.000 65973.000 66089.000 66865.000 
query 2 nn's (9): 408462 (9) 861882 (9) 69035 (9) 778799 (9) 150588 (9) 695462 (9) 392607 (9) 778663 (9) 23781 (9) 980997 (9) 
     dis: 	33608.000 35704.000 39400.000 39616.000 39984.000 40907.000 42706.000 43368.000 43670.000 43808.000 
query 3 nn's (9): 970797 (9) 48044 (9) 191317 (9) 855554 (9) 191092 (9) 81001 (9) 190895 (9) 81147 (9) 768705 (9) 852240 (9) 
     dis: 	30510.000 32777.000 37275.000 38019.000 40234.000 42181.000 42699.000 42747.000 42781.000 43386.000 
query 4 nn's (9): 716433 (9) 107281 (9) 491554 (9) 110691 (9) 123410 (9) 313434 (9) 372151 (9) 279701 (9) 364588 (9) 554493 (9) 
     dis: 	52559.000 54643.000 58390.000 62166.000 65209.000 66889.000 67289.000 68830.000 69073.000 69141.000 
[ 479.899s ] *** Query time: 3.352
qps: 2983.575
 *** acorn recall 
efs:10
acorn get 70624 postive res from 100000 results, recall@10:0.706
recall dist(10% per bucket): 0.008 0.016 0.028 0.050 0.071 0.086 0.106 0.134 0.147 0.156 0.197 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[480.544s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 6478661
ndis: 0
nreorder: 0
average distance computations per query: 647.866
[ 480.544s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_9/attr_sel_1_500_random_9.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_9/qrangesel_1_1_500_random_9.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_9/sif_gt_sel_1_1_500_random_9_10.json /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_9_M40_ga25_Mb64 10 128"
	User time (seconds): 473.58
	System time (seconds): 7.11
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 8:00.72
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 11478244
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3263747
	Voluntary context switches: 1
	Involuntary context switches: 627
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 02:07
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_10/attr_sel_1_500_random_10.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_10/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_10/sif_gt_sel_1_1_500_random_10_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_10_M40_ga25_Mb64
ef_search: 10 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_500_random_10/attr_sel_1_500_random_10.json
[ 0.107s ] Loaded metadata, 1000000 attr's found
[ 0.107s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.110s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_10/qrangesel_1_1_500_random_10.json
[ 0.113s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_10/sif_gt_sel_1_1_500_random_10_10.json
[ 0.125s ] Loaded ground truth, gt_size: 10
[ 0.125s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
========= METADATA =======
	* cumulative max num neighbors per level
		indx 0: 0
		indx 1: 124
		indx 2: 1124
		indx 3: 2124
		indx 4: 3124
		indx 5: 4124
	* level probabilities
		level 0: 0.975000
		level 1: 0.024375
		level 2: 0.000609
		level 3: 0.000015
		level 4: 0.000000
		level 5: 0.000000
	* efConstruction: 1000
	* efSearch: 16
	* max_level: 4
	* entry_point: 118295
	* gamma: 25
========= LEVEL STATS OF ACORN =======
========= LEVEL 0 =======
* stats on level 0, max 124 neighbors per vertex:
   1. nb of nodes: 1000000
   2. neighbors per node: 86.75 (86754774)
   3. nb of reciprocal neighbors: 60.06
   4. nb of neighbors that are also neighbor-of-neighbors: 84.82 (84820207)
========= LEVEL 1 =======
* stats on level 1, max 1000 neighbors per vertex:
   1. nb of nodes: 24956
   2. neighbors per node: 1000.00 (24956000)
   3. nb of reciprocal neighbors: 236.91
   4. nb of neighbors that are also neighbor-of-neighbors: 784.15 (19569244)
========= LEVEL 2 =======
* stats on level 2, max 1000 neighbors per vertex:
   1. nb of nodes: 623
   2. neighbors per node: 583.94 (363792)
   3. nb of reciprocal neighbors: 582.25
   4. nb of neighbors that are also neighbor-of-neighbors: 583.37 (363437)
========= LEVEL 3 =======
* stats on level 3, max 1000 neighbors per vertex:
   1. nb of nodes: 16
   2. neighbors per node: 15.00 (240)
   3. nb of reciprocal neighbors: 15.00
   4. nb of neighbors that are also neighbor-of-neighbors: 15.00 (240)
========= LEVEL 4 =======
* stats on level 4, max 1000 neighbors per vertex:
   1. nb of nodes: 1
   2. neighbors per node: 0.00 (0)
   3. nb of reciprocal neighbors: 0.00
   4. nb of neighbors that are also neighbor-of-neighbors: 0.00 (0)
METADATA VEC for number nodes per level
	level 0: 999816 nodes
	level 1: 24956 nodes
	level 2: 623 nodes
	level 3: 16 nodes
	level 4: 1 nodes
	level 5: 0 nodes
Total edge:1025412
Average degree:170902.000
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 447.950s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 10
selectivity: 0.100
[ 474.044s ] Query results (vector ids, then distances):
query 0 nn's (10): 910119 (10) 871066 (10) 87578 (10) 225116 (10) 544275 (10) 732473 (10) 989762 (10) 879793 (10) 385660 (10) 792391 (10) 
     dis: 	77564.000 78324.000 79874.000 80639.000 81883.000 82401.000 83466.000 84247.000 84984.000 85414.000 
query 1 nn's (10): 122309 (10) 522078 (10) 956542 (10) 395932 (10) 538688 (10) 955909 (10) 916032 (10) 674586 (10) 265108 (10) 607922 (10) 
     dis: 	62769.000 63234.000 64382.000 64664.000 66780.000 68636.000 69604.000 69847.000 70466.000 70589.000 
query 2 nn's (10): 527380 (10) 906773 (10) 62269 (10) 260648 (10) 227807 (10) 331338 (10) 310475 (10) 929985 (10) 943842 (10) 261884 (10) 
     dis: 	38696.000 39266.000 39826.000 41196.000 45049.000 45445.000 45762.000 46938.000 47811.000 48362.000 
query 3 nn's (10): 546767 (10) 886001 (10) 885710 (10) 768705 (10) 609251 (10) 681907 (10) 994263 (10) 190642 (10) 443393 (10) 969106 (10) 
     dis: 	39632.000 41953.000 42655.000 42781.000 42882.000 42925.000 43074.000 44707.000 44946.000 45038.000 
query 4 nn's (10): 416604 (10) 201628 (10) 293118 (10) 236863 (10) 997836 (10) 322138 (10) 866737 (10) 535320 (10) 610628 (10) 693394 (10) 
     dis: 	55814.000 64201.000 64286.000 64330.000 64352.000 64927.000 65302.000 66543.000 66721.000 67178.000 
[ 474.044s ] *** Query time: 3.728
qps: 2682.761
 *** acorn recall 
efs:10
acorn get 73334 postive res from 100000 results, recall@10:0.733
recall dist(10% per bucket): 0.004 0.012 0.023 0.038 0.058 0.083 0.106 0.128 0.160 0.174 0.213 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[474.620s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 5645792
ndis: 0
nreorder: 0
average distance computations per query: 564.579
[ 474.620s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_10/attr_sel_1_500_random_10.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_10/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_10/sif_gt_sel_1_1_500_random_10_10.json /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_10_M40_ga25_Mb64 10 128"
	User time (seconds): 468.22
	System time (seconds): 6.55
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 7:54.79
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 11476744
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3105902
	Voluntary context switches: 4
	Involuntary context switches: 629
	Swaps: 0
	File system inputs: 0
	File system outputs: 48
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 02:40
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_11/attr_sel_1_500_random_11.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_11/qrangesel_1_1_500_random_11.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_11/sif_gt_sel_1_1_500_random_11_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_11_M40_ga25_Mb64
ef_search: 10 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_500_random_11/attr_sel_1_500_random_11.json
[ 0.109s ] Loaded metadata, 1000000 attr's found
[ 0.109s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.112s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_11/qrangesel_1_1_500_random_11.json
[ 0.114s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_11/sif_gt_sel_1_1_500_random_11_10.json
[ 0.125s ] Loaded ground truth, gt_size: 10
[ 0.125s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
========= METADATA =======
	* cumulative max num neighbors per level
		indx 0: 0
		indx 1: 124
		indx 2: 1124
		indx 3: 2124
		indx 4: 3124
		indx 5: 4124
	* level probabilities
		level 0: 0.975000
		level 1: 0.024375
		level 2: 0.000609
		level 3: 0.000015
		level 4: 0.000000
		level 5: 0.000000
	* efConstruction: 1000
	* efSearch: 16
	* max_level: 4
	* entry_point: 118295
	* gamma: 25
========= LEVEL STATS OF ACORN =======
========= LEVEL 0 =======
* stats on level 0, max 124 neighbors per vertex:
   1. nb of nodes: 1000000
   2. neighbors per node: 86.75 (86750470)
   3. nb of reciprocal neighbors: 60.05
   4. nb of neighbors that are also neighbor-of-neighbors: 84.81 (84813417)
========= LEVEL 1 =======
* stats on level 1, max 1000 neighbors per vertex:
   1. nb of nodes: 24956
   2. neighbors per node: 1000.00 (24956000)
   3. nb of reciprocal neighbors: 237.23
   4. nb of neighbors that are also neighbor-of-neighbors: 784.72 (19583382)
========= LEVEL 2 =======
* stats on level 2, max 1000 neighbors per vertex:
   1. nb of nodes: 623
   2. neighbors per node: 582.76 (363060)
   3. nb of reciprocal neighbors: 581.05
   4. nb of neighbors that are also neighbor-of-neighbors: 582.15 (362679)
========= LEVEL 3 =======
* stats on level 3, max 1000 neighbors per vertex:
   1. nb of nodes: 16
   2. neighbors per node: 15.00 (240)
   3. nb of reciprocal neighbors: 15.00
   4. nb of neighbors that are also neighbor-of-neighbors: 15.00 (240)
========= LEVEL 4 =======
* stats on level 4, max 1000 neighbors per vertex:
   1. nb of nodes: 1
   2. neighbors per node: 0.00 (0)
   3. nb of reciprocal neighbors: 0.00
   4. nb of neighbors that are also neighbor-of-neighbors: 0.00 (0)
METADATA VEC for number nodes per level
	level 0: 999839 nodes
	level 1: 24955 nodes
	level 2: 623 nodes
	level 3: 16 nodes
	level 4: 1 nodes
	level 5: 0 nodes
Total edge:1025434
Average degree:170905.667
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 440.082s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 10
selectivity: 0.090
[ 464.485s ] Query results (vector ids, then distances):
query 0 nn's (11): 908244 (11) 893601 (11) 236647 (11) 886630 (11) 721706 (11) 886222 (11) 478814 (11) 882961 (11) 486457 (11) 16429 (11) 
     dis: 	73581.000 74016.000 75704.000 77660.000 78655.000 78912.000 80543.000 81991.000 82210.000 83307.000 
query 1 nn's (11): 987636 (11) 208391 (11) 271353 (11) 20845 (11) 395932 (11) 196686 (11) 17970 (11) 741996 (11) 739835 (11) 931691 (11) 
     dis: 	56785.000 59679.000 59720.000 60053.000 64664.000 65338.000 65368.000 65479.000 65572.000 67716.000 
query 2 nn's (11): 669835 (11) 551661 (11) 402106 (11) 527380 (11) 695462 (11) 534822 (11) 716686 (11) 370619 (11) 299884 (11) 669812 (11) 
     dis: 	30792.000 34698.000 36458.000 38696.000 40907.000 41204.000 41511.000 43940.000 44243.000 44351.000 
query 3 nn's (11): 123985 (11) 832999 (11) 907380 (11) 885741 (11) 708739 (11) 930433 (11) 852240 (11) 502128 (11) 854966 (11) 885692 (11) 
     dis: 	36107.000 36743.000 39157.000 39790.000 43313.000 43360.000 43386.000 44114.000 46212.000 46360.000 
query 4 nn's (11): 748397 (11) 265906 (11) 713777 (11) 720273 (11) 5164 (11) 780441 (11) 306702 (11) 372151 (11) 284736 (11) 725319 (11) 
     dis: 	47367.000 64201.000 65320.000 65489.000 66326.000 66440.000 66598.000 67289.000 69049.000 69396.000 
[ 464.485s ] *** Query time: 2.676
qps: 3736.331
 *** acorn recall 
efs:10
acorn get 73515 postive res from 100000 results, recall@10:0.735
recall dist(10% per bucket): 0.004 0.010 0.022 0.037 0.054 0.081 0.115 0.130 0.160 0.185 0.202 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[465.103s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 5518182
ndis: 0
nreorder: 0
average distance computations per query: 551.818
[ 465.103s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_11/attr_sel_1_500_random_11.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_11/qrangesel_1_1_500_random_11.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_11/sif_gt_sel_1_1_500_random_11_10.json /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_11_M40_ga25_Mb64 10 128"
	User time (seconds): 459.75
	System time (seconds): 5.44
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 7:45.22
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 11476300
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2879782
	Voluntary context switches: 1
	Involuntary context switches: 662
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:13
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_12/attr_sel_1_500_random_12.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_12/qrangesel_1_1_500_random_12.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_12/sif_gt_sel_1_1_500_random_12_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_12_M40_ga25_Mb64
ef_search: 10 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_500_random_12/attr_sel_1_500_random_12.json
[ 0.105s ] Loaded metadata, 1000000 attr's found
[ 0.105s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.108s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_12/qrangesel_1_1_500_random_12.json
[ 0.110s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_12/sif_gt_sel_1_1_500_random_12_10.json
[ 0.122s ] Loaded ground truth, gt_size: 10
[ 0.122s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
========= METADATA =======
	* cumulative max num neighbors per level
		indx 0: 0
		indx 1: 124
		indx 2: 1124
		indx 3: 2124
		indx 4: 3124
		indx 5: 4124
	* level probabilities
		level 0: 0.975000
		level 1: 0.024375
		level 2: 0.000609
		level 3: 0.000015
		level 4: 0.000000
		level 5: 0.000000
	* efConstruction: 1000
	* efSearch: 16
	* max_level: 4
	* entry_point: 118295
	* gamma: 25
========= LEVEL STATS OF ACORN =======
========= LEVEL 0 =======
* stats on level 0, max 124 neighbors per vertex:
   1. nb of nodes: 1000000
   2. neighbors per node: 86.75 (86749612)
   3. nb of reciprocal neighbors: 60.05
   4. nb of neighbors that are also neighbor-of-neighbors: 84.81 (84810253)
========= LEVEL 1 =======
* stats on level 1, max 1000 neighbors per vertex:
   1. nb of nodes: 24956
   2. neighbors per node: 1000.00 (24956000)
   3. nb of reciprocal neighbors: 237.67
   4. nb of neighbors that are also neighbor-of-neighbors: 784.10 (19567920)
========= LEVEL 2 =======
* stats on level 2, max 1000 neighbors per vertex:
   1. nb of nodes: 623
   2. neighbors per node: 588.84 (366845)
   3. nb of reciprocal neighbors: 587.11
   4. nb of neighbors that are also neighbor-of-neighbors: 588.22 (366463)
========= LEVEL 3 =======
* stats on level 3, max 1000 neighbors per vertex:
   1. nb of nodes: 16
   2. neighbors per node: 15.00 (240)
   3. nb of reciprocal neighbors: 15.00
   4. nb of neighbors that are also neighbor-of-neighbors: 15.00 (240)
========= LEVEL 4 =======
* stats on level 4, max 1000 neighbors per vertex:
   1. nb of nodes: 1
   2. neighbors per node: 0.00 (0)
   3. nb of reciprocal neighbors: 0.00
   4. nb of neighbors that are also neighbor-of-neighbors: 0.00 (0)
METADATA VEC for number nodes per level
	level 0: 999810 nodes
	level 1: 24956 nodes
	level 2: 623 nodes
	level 3: 16 nodes
	level 4: 1 nodes
	level 5: 0 nodes
Total edge:1025406
Average degree:170901.000
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 442.040s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 10
selectivity: 0.080
[ 466.449s ] Query results (vector ids, then distances):
query 0 nn's (12): 934876 (12) 619660 (12) 886630 (12) 779712 (12) 478814 (12) 860056 (12) 486457 (12) 374617 (12) 882943 (12) 586295 (12) 
     dis: 	55091.000 74356.000 77660.000 78092.000 80543.000 82023.000 82210.000 82937.000 85654.000 85742.000 
query 1 nn's (12): 400194 (12) 248426 (12) 208391 (12) 411149 (12) 275502 (12) 9574 (12) 802330 (12) 678602 (12) 863230 (12) 831545 (12) 
     dis: 	55595.000 58741.000 59679.000 65267.000 65338.000 67555.000 67697.000 68393.000 68833.000 71049.000 
query 2 nn's (12): 230295 (12) 23781 (12) 861555 (12) 275762 (12) 398521 (12) 769053 (12) 309710 (12) 811472 (12) 307615 (12) 735273 (12) 
     dis: 	40331.000 43670.000 45134.000 46248.000 46278.000 46507.000 48517.000 50447.000 51069.000 51538.000 
query 3 nn's (12): 191317 (12) 855554 (12) 190630 (12) 857203 (12) 941084 (12) 190996 (12) 830786 (12) 960672 (12) 843496 (12) 907379 (12) 
     dis: 	37275.000 38019.000 40280.000 40672.000 41374.000 42676.000 45213.000 45699.000 46140.000 47296.000 
query 4 nn's (12): 953387 (12) 30116 (12) 358802 (12) 441587 (12) 432653 (12) 177646 (12) 363689 (12) 816555 (12) 431744 (12) 93009 (12) 
     dis: 	58065.000 63010.000 64754.000 66692.000 68665.000 70605.000 71867.000 71916.000 72688.000 74281.000 
[ 466.450s ] *** Query time: 3.210
qps: 3114.954
 *** acorn recall 
efs:10
acorn get 73707 postive res from 100000 results, recall@10:0.737
recall dist(10% per bucket): 0.005 0.011 0.020 0.034 0.059 0.079 0.109 0.136 0.155 0.180 0.212 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[467.154s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 5283512
ndis: 0
nreorder: 0
average distance computations per query: 528.351
[ 467.154s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_12/attr_sel_1_500_random_12.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_12/qrangesel_1_1_500_random_12.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_12/sif_gt_sel_1_1_500_random_12_10.json /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_12_M40_ga25_Mb64 10 128"
	User time (seconds): 460.61
	System time (seconds): 6.69
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 7:47.33
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 11478236
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3097670
	Voluntary context switches: 1
	Involuntary context switches: 907
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:46
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_13/attr_sel_1_500_random_13.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_13/qrangesel_1_1_500_random_13.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_13/sif_gt_sel_1_1_500_random_13_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_13_M40_ga25_Mb64
ef_search: 10 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_500_random_13/attr_sel_1_500_random_13.json
[ 0.104s ] Loaded metadata, 1000000 attr's found
[ 0.105s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.107s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_13/qrangesel_1_1_500_random_13.json
[ 0.109s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_13/sif_gt_sel_1_1_500_random_13_10.json
[ 0.120s ] Loaded ground truth, gt_size: 10
[ 0.120s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
========= METADATA =======
	* cumulative max num neighbors per level
		indx 0: 0
		indx 1: 124
		indx 2: 1124
		indx 3: 2124
		indx 4: 3124
		indx 5: 4124
	* level probabilities
		level 0: 0.975000
		level 1: 0.024375
		level 2: 0.000609
		level 3: 0.000015
		level 4: 0.000000
		level 5: 0.000000
	* efConstruction: 1000
	* efSearch: 16
	* max_level: 4
	* entry_point: 118295
	* gamma: 25
========= LEVEL STATS OF ACORN =======
========= LEVEL 0 =======
* stats on level 0, max 124 neighbors per vertex:
   1. nb of nodes: 1000000
   2. neighbors per node: 86.76 (86759381)
   3. nb of reciprocal neighbors: 60.07
   4. nb of neighbors that are also neighbor-of-neighbors: 84.82 (84821681)
========= LEVEL 1 =======
* stats on level 1, max 1000 neighbors per vertex:
   1. nb of nodes: 24956
   2. neighbors per node: 1000.00 (24956000)
   3. nb of reciprocal neighbors: 237.39
   4. nb of neighbors that are also neighbor-of-neighbors: 784.42 (19576096)
========= LEVEL 2 =======
* stats on level 2, max 1000 neighbors per vertex:
   1. nb of nodes: 623
   2. neighbors per node: 588.13 (366407)
   3. nb of reciprocal neighbors: 586.44
   4. nb of neighbors that are also neighbor-of-neighbors: 587.51 (366020)
========= LEVEL 3 =======
* stats on level 3, max 1000 neighbors per vertex:
   1. nb of nodes: 16
   2. neighbors per node: 15.00 (240)
   3. nb of reciprocal neighbors: 15.00
   4. nb of neighbors that are also neighbor-of-neighbors: 15.00 (240)
========= LEVEL 4 =======
* stats on level 4, max 1000 neighbors per vertex:
   1. nb of nodes: 1
   2. neighbors per node: 0.00 (0)
   3. nb of reciprocal neighbors: 0.00
   4. nb of neighbors that are also neighbor-of-neighbors: 0.00 (0)
METADATA VEC for number nodes per level
	level 0: 999833 nodes
	level 1: 24954 nodes
	level 2: 621 nodes
	level 3: 16 nodes
	level 4: 1 nodes
	level 5: 0 nodes
Total edge:1025425
Average degree:170904.167
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 444.604s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 10
selectivity: 0.070
[ 468.232s ] Query results (vector ids, then distances):
query 0 nn's (13): 12840 (13) 985197 (13) 843563 (13) 86760 (13) 482980 (13) 412381 (13) 455038 (13) 207744 (13) 379417 (13) 435134 (13) 
     dis: 	84979.000 85705.000 87019.000 87816.000 89684.000 92036.000 92327.000 93095.000 93147.000 93867.000 
query 1 nn's (13): 400194 (13) 192537 (13) 766416 (13) 522078 (13) 250786 (13) 913942 (13) 2781 (13) 987074 (13) 876870 (13) 885850 (13) 
     dis: 	55595.000 59720.000 62602.000 63234.000 63393.000 65508.000 65973.000 66681.000 68350.000 68671.000 
query 2 nn's (13): 408462 (13) 900097 (13) 889222 (13) 742474 (13) 669812 (13) 577672 (13) 300888 (13) 218945 (13) 261770 (13) 369936 (13) 
     dis: 	33608.000 38137.000 43287.000 44028.000 44351.000 45413.000 47279.000 47538.000 48054.000 48885.000 
query 3 nn's (13): 970797 (13) 48044 (13) 191115 (13) 546470 (13) 190630 (13) 102152 (13) 190642 (13) 969106 (13) 830786 (13) 930244 (13) 
     dis: 	30510.000 32777.000 34876.000 35734.000 40280.000 43008.000 44707.000 45038.000 45213.000 45861.000 
query 4 nn's (13): 549359 (13) 629243 (13) 337011 (13) 466909 (13) 587449 (13) 511896 (13) 662629 (13) 279905 (13) 460675 (13) 422156 (13) 
     dis: 	60779.000 68392.000 68818.000 69172.000 72193.000 72536.000 72903.000 73829.000 74264.000 74357.000 
[ 468.232s ] *** Query time: 3.105
qps: 3220.388
 *** acorn recall 
efs:10
acorn get 74037 postive res from 100000 results, recall@10:0.740
recall dist(10% per bucket): 0.004 0.008 0.020 0.035 0.054 0.079 0.111 0.137 0.161 0.184 0.207 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[468.889s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 5128620
ndis: 0
nreorder: 0
average distance computations per query: 512.862
[ 468.889s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_13/attr_sel_1_500_random_13.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_13/qrangesel_1_1_500_random_13.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_13/sif_gt_sel_1_1_500_random_13_10.json /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_13_M40_ga25_Mb64 10 128"
	User time (seconds): 461.86
	System time (seconds): 7.13
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 7:49.03
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 11477224
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3446151
	Voluntary context switches: 1
	Involuntary context switches: 1046
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 04:19
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_14/attr_sel_1_500_random_14.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_14/qrangesel_1_1_500_random_14.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_14/sif_gt_sel_1_1_500_random_14_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_14_M40_ga25_Mb64
ef_search: 10 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_500_random_14/attr_sel_1_500_random_14.json
[ 0.104s ] Loaded metadata, 1000000 attr's found
[ 0.104s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.107s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_14/qrangesel_1_1_500_random_14.json
[ 0.108s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_14/sif_gt_sel_1_1_500_random_14_10.json
[ 0.120s ] Loaded ground truth, gt_size: 10
[ 0.120s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
========= METADATA =======
	* cumulative max num neighbors per level
		indx 0: 0
		indx 1: 124
		indx 2: 1124
		indx 3: 2124
		indx 4: 3124
		indx 5: 4124
	* level probabilities
		level 0: 0.975000
		level 1: 0.024375
		level 2: 0.000609
		level 3: 0.000015
		level 4: 0.000000
		level 5: 0.000000
	* efConstruction: 1000
	* efSearch: 16
	* max_level: 4
	* entry_point: 118295
	* gamma: 25
========= LEVEL STATS OF ACORN =======
========= LEVEL 0 =======
* stats on level 0, max 124 neighbors per vertex:
   1. nb of nodes: 1000000
   2. neighbors per node: 86.77 (86770737)
   3. nb of reciprocal neighbors: 60.08
   4. nb of neighbors that are also neighbor-of-neighbors: 84.83 (84832210)
========= LEVEL 1 =======
* stats on level 1, max 1000 neighbors per vertex:
   1. nb of nodes: 24956
   2. neighbors per node: 1000.00 (24956000)
   3. nb of reciprocal neighbors: 236.41
   4. nb of neighbors that are also neighbor-of-neighbors: 784.44 (19576523)
========= LEVEL 2 =======
* stats on level 2, max 1000 neighbors per vertex:
   1. nb of nodes: 623
   2. neighbors per node: 588.42 (366587)
   3. nb of reciprocal neighbors: 586.74
   4. nb of neighbors that are also neighbor-of-neighbors: 587.81 (366204)
========= LEVEL 3 =======
* stats on level 3, max 1000 neighbors per vertex:
   1. nb of nodes: 16
   2. neighbors per node: 15.00 (240)
   3. nb of reciprocal neighbors: 15.00
   4. nb of neighbors that are also neighbor-of-neighbors: 15.00 (240)
========= LEVEL 4 =======
* stats on level 4, max 1000 neighbors per vertex:
   1. nb of nodes: 1
   2. neighbors per node: 0.00 (0)
   3. nb of reciprocal neighbors: 0.00
   4. nb of neighbors that are also neighbor-of-neighbors: 0.00 (0)
METADATA VEC for number nodes per level
	level 0: 999857 nodes
	level 1: 24955 nodes
	level 2: 623 nodes
	level 3: 16 nodes
	level 4: 1 nodes
	level 5: 0 nodes
Total edge:1025452
Average degree:170908.667
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 440.341s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 10
selectivity: 0.060
[ 463.685s ] Query results (vector ids, then distances):
query 0 nn's (14): 843384 (14) 732473 (14) 12980 (14) 956632 (14) 61061 (14) 868610 (14) 628092 (14) 203984 (14) 236941 (14) 207684 (14) 
     dis: 	77588.000 82401.000 86314.000 87780.000 88419.000 89259.000 90054.000 90831.000 92149.000 94039.000 
query 1 nn's (14): 706838 (14) 833054 (14) 753772 (14) 955909 (14) 63444 (14) 214320 (14) 753843 (14) 15096 (14) 874755 (14) 860637 (14) 
     dis: 	54813.000 58464.000 67802.000 68636.000 69191.000 69372.000 69765.000 70321.000 72800.000 73064.000 
query 2 nn's (14): 431595 (14) 260648 (14) 889222 (14) 104121 (14) 516925 (14) 940565 (14) 398521 (14) 301460 (14) 227458 (14) 689947 (14) 
     dis: 	38236.000 41196.000 43287.000 43289.000 45537.000 46193.000 46278.000 46629.000 48593.000 48648.000 
query 3 nn's (14): 190621 (14) 956544 (14) 102152 (14) 930433 (14) 443513 (14) 855019 (14) 984374 (14) 889047 (14) 983490 (14) 124334 (14) 
     dis: 	38013.000 42167.000 43008.000 43360.000 43463.000 44293.000 45216.000 45744.000 45982.000 46039.000 
query 4 nn's (14): 491554 (14) 30116 (14) 305983 (14) 279883 (14) 220557 (14) 496866 (14) 356787 (14) 58849 (14) 529052 (14) 363689 (14) 
     dis: 	58390.000 63010.000 63776.000 66242.000 68559.000 69270.000 69333.000 70321.000 70840.000 71867.000 
[ 463.685s ] *** Query time: 2.848
qps: 3510.695
 *** acorn recall 
efs:10
acorn get 73998 postive res from 100000 results, recall@10:0.740
recall dist(10% per bucket): 0.004 0.009 0.018 0.034 0.053 0.083 0.107 0.143 0.168 0.178 0.204 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[464.291s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 4648523
ndis: 0
nreorder: 0
average distance computations per query: 464.852
[ 464.291s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_14/attr_sel_1_500_random_14.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_14/qrangesel_1_1_500_random_14.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_14/sif_gt_sel_1_1_500_random_14_10.json /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_14_M40_ga25_Mb64 10 128"
	User time (seconds): 458.18
	System time (seconds): 6.18
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 7:44.40
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 11477224
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3039806
	Voluntary context switches: 1
	Involuntary context switches: 646
	Swaps: 0
	File system inputs: 0
	File system outputs: 48
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 04:53
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_15/attr_sel_1_500_random_15.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_15/qrangesel_1_1_500_random_15.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_15/sif_gt_sel_1_1_500_random_15_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_15_M40_ga25_Mb64
ef_search: 10 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_500_random_15/attr_sel_1_500_random_15.json
[ 0.102s ] Loaded metadata, 1000000 attr's found
[ 0.102s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.105s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_15/qrangesel_1_1_500_random_15.json
[ 0.107s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_15/sif_gt_sel_1_1_500_random_15_10.json
[ 0.118s ] Loaded ground truth, gt_size: 10
[ 0.118s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
========= METADATA =======
	* cumulative max num neighbors per level
		indx 0: 0
		indx 1: 124
		indx 2: 1124
		indx 3: 2124
		indx 4: 3124
		indx 5: 4124
	* level probabilities
		level 0: 0.975000
		level 1: 0.024375
		level 2: 0.000609
		level 3: 0.000015
		level 4: 0.000000
		level 5: 0.000000
	* efConstruction: 1000
	* efSearch: 16
	* max_level: 4
	* entry_point: 118295
	* gamma: 25
========= LEVEL STATS OF ACORN =======
========= LEVEL 0 =======
* stats on level 0, max 124 neighbors per vertex:
   1. nb of nodes: 1000000
   2. neighbors per node: 86.75 (86749615)
   3. nb of reciprocal neighbors: 60.05
   4. nb of neighbors that are also neighbor-of-neighbors: 84.81 (84811080)
========= LEVEL 1 =======
* stats on level 1, max 1000 neighbors per vertex:
   1. nb of nodes: 24956
   2. neighbors per node: 1000.00 (24956000)
   3. nb of reciprocal neighbors: 237.99
   4. nb of neighbors that are also neighbor-of-neighbors: 783.37 (19549864)
========= LEVEL 2 =======
* stats on level 2, max 1000 neighbors per vertex:
   1. nb of nodes: 623
   2. neighbors per node: 587.86 (366235)
   3. nb of reciprocal neighbors: 586.16
   4. nb of neighbors that are also neighbor-of-neighbors: 587.24 (365851)
========= LEVEL 3 =======
* stats on level 3, max 1000 neighbors per vertex:
   1. nb of nodes: 16
   2. neighbors per node: 15.00 (240)
   3. nb of reciprocal neighbors: 15.00
   4. nb of neighbors that are also neighbor-of-neighbors: 15.00 (240)
========= LEVEL 4 =======
* stats on level 4, max 1000 neighbors per vertex:
   1. nb of nodes: 1
   2. neighbors per node: 0.00 (0)
   3. nb of reciprocal neighbors: 0.00
   4. nb of neighbors that are also neighbor-of-neighbors: 0.00 (0)
METADATA VEC for number nodes per level
	level 0: 999792 nodes
	level 1: 24955 nodes
	level 2: 623 nodes
	level 3: 16 nodes
	level 4: 1 nodes
	level 5: 0 nodes
Total edge:1025387
Average degree:170897.833
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 441.223s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 10
selectivity: 0.050
[ 463.100s ] Query results (vector ids, then distances):
query 0 nn's (15): 708177 (15) 49874 (15) 619829 (15) 463781 (15) 813701 (15) 403026 (15) 502709 (15) 993710 (15) 393275 (15) 710890 (15) 
     dis: 	65260.000 78889.000 79309.000 82947.000 83875.000 91235.000 91914.000 92209.000 92512.000 92719.000 
query 1 nn's (15): 249062 (15) 833335 (15) 122309 (15) 541805 (15) 885995 (15) 905997 (15) 844161 (15) 885692 (15) 2492 (15) 843919 (15) 
     dis: 	55586.000 61296.000 62769.000 62878.000 66865.000 67911.000 68294.000 69036.000 69114.000 69286.000 
query 2 nn's (15): 408855 (15) 900097 (15) 762362 (15) 742644 (15) 669805 (15) 369936 (15) 306242 (15) 197078 (15) 523150 (15) 905364 (15) 
     dis: 	34104.000 38137.000 42544.000 42628.000 48807.000 48885.000 49024.000 50116.000 50315.000 50364.000 
query 3 nn's (15): 190728 (15) 807831 (15) 190645 (15) 960672 (15) 885692 (15) 703409 (15) 996895 (15) 190986 (15) 867667 (15) 889093 (15) 
     dis: 	39892.000 44482.000 45155.000 45699.000 46360.000 48003.000 49406.000 49832.000 51033.000 53178.000 
query 4 nn's (15): 279356 (15) 30116 (15) 292815 (15) 280705 (15) 351068 (15) 356787 (15) 305618 (15) 728481 (15) 58849 (15) 458756 (15) 
     dis: 	61829.000 63010.000 65771.000 66487.000 68766.000 69333.000 69418.000 69788.000 70321.000 72094.000 
[ 463.100s ] *** Query time: 2.828
qps: 3535.854
 *** acorn recall 
efs:10
acorn get 72824 postive res from 100000 results, recall@10:0.728
recall dist(10% per bucket): 0.004 0.011 0.022 0.037 0.057 0.084 0.111 0.145 0.163 0.180 0.186 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[463.647s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 4187126
ndis: 0
nreorder: 0
average distance computations per query: 418.713
[ 463.647s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_15/attr_sel_1_500_random_15.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_15/qrangesel_1_1_500_random_15.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_15/sif_gt_sel_1_1_500_random_15_10.json /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_15_M40_ga25_Mb64 10 128"
	User time (seconds): 458.16
	System time (seconds): 5.60
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 7:43.78
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 11478244
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2962943
	Voluntary context switches: 1
	Involuntary context switches: 641
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 05:27
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_16/attr_sel_1_500_random_16.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_16/qrangesel_1_1_500_random_16.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_16/sif_gt_sel_1_1_500_random_16_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_16_M40_ga25_Mb64
ef_search: 10 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_500_random_16/attr_sel_1_500_random_16.json
[ 0.103s ] Loaded metadata, 1000000 attr's found
[ 0.103s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.107s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_16/qrangesel_1_1_500_random_16.json
[ 0.108s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_16/sif_gt_sel_1_1_500_random_16_10.json
[ 0.120s ] Loaded ground truth, gt_size: 10
[ 0.120s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
========= METADATA =======
	* cumulative max num neighbors per level
		indx 0: 0
		indx 1: 124
		indx 2: 1124
		indx 3: 2124
		indx 4: 3124
		indx 5: 4124
	* level probabilities
		level 0: 0.975000
		level 1: 0.024375
		level 2: 0.000609
		level 3: 0.000015
		level 4: 0.000000
		level 5: 0.000000
	* efConstruction: 1000
	* efSearch: 16
	* max_level: 4
	* entry_point: 118295
	* gamma: 25
========= LEVEL STATS OF ACORN =======
========= LEVEL 0 =======
* stats on level 0, max 124 neighbors per vertex:
   1. nb of nodes: 1000000
   2. neighbors per node: 86.76 (86764070)
   3. nb of reciprocal neighbors: 60.08
   4. nb of neighbors that are also neighbor-of-neighbors: 84.83 (84826727)
========= LEVEL 1 =======
* stats on level 1, max 1000 neighbors per vertex:
   1. nb of nodes: 24956
   2. neighbors per node: 1000.00 (24956000)
   3. nb of reciprocal neighbors: 237.82
   4. nb of neighbors that are also neighbor-of-neighbors: 785.29 (19597816)
========= LEVEL 2 =======
* stats on level 2, max 1000 neighbors per vertex:
   1. nb of nodes: 623
   2. neighbors per node: 589.37 (367175)
   3. nb of reciprocal neighbors: 587.66
   4. nb of neighbors that are also neighbor-of-neighbors: 588.79 (366817)
========= LEVEL 3 =======
* stats on level 3, max 1000 neighbors per vertex:
   1. nb of nodes: 16
   2. neighbors per node: 15.00 (240)
   3. nb of reciprocal neighbors: 15.00
   4. nb of neighbors that are also neighbor-of-neighbors: 15.00 (240)
========= LEVEL 4 =======
* stats on level 4, max 1000 neighbors per vertex:
   1. nb of nodes: 1
   2. neighbors per node: 0.00 (0)
   3. nb of reciprocal neighbors: 0.00
   4. nb of neighbors that are also neighbor-of-neighbors: 0.00 (0)
METADATA VEC for number nodes per level
	level 0: 999875 nodes
	level 1: 24955 nodes
	level 2: 623 nodes
	level 3: 16 nodes
	level 4: 1 nodes
	level 5: 0 nodes
Total edge:1025470
Average degree:170911.667
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 443.198s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 10
selectivity: 0.040
[ 464.749s ] Query results (vector ids, then distances):
query 0 nn's (16): 565419 (16) 931721 (16) 871600 (16) 929921 (16) 985197 (16) 586295 (16) 708525 (16) 13995 (16) 883696 (16) 565104 (16) 
     dis: 	75634.000 83415.000 83748.000 84923.000 85705.000 85742.000 85924.000 86127.000 87944.000 89103.000 
query 1 nn's (16): 406020 (16) 723098 (16) 538884 (16) 142502 (16) 862291 (16) 923513 (16) 214299 (16) 179210 (16) 999215 (16) 523309 (16) 
     dis: 	63621.000 66853.000 68644.000 68788.000 70825.000 71037.000 71172.000 73463.000 73609.000 73713.000 
query 2 nn's (16): 370467 (16) 199020 (16) 893716 (16) 929798 (16) 965346 (16) 717527 (16) 806888 (16) 111210 (16) 339145 (16) 655851 (16) 
     dis: 	44778.000 45878.000 49023.000 49693.000 51567.000 52195.000 52856.000 53461.000 53479.000 53793.000 
query 3 nn's (16): 956544 (16) 190895 (16) 885894 (16) 443325 (16) 191158 (16) 542306 (16) 996910 (16) 947569 (16) 907923 (16) 681770 (16) 
     dis: 	42167.000 42699.000 44492.000 44708.000 45168.000 49506.000 49739.000 51915.000 52412.000 52685.000 
query 4 nn's (16): 278801 (16) 236863 (16) 358802 (16) 547650 (16) 566666 (16) 725319 (16) 613700 (16) 405226 (16) 391770 (16) 49913 (16) 
     dis: 	62620.000 64330.000 64754.000 66128.000 69312.000 69396.000 73741.000 74212.000 75488.000 76181.000 
[ 464.749s ] *** Query time: 3.046
qps: 3282.631
 *** acorn recall 
efs:10
acorn get 71804 postive res from 100000 results, recall@10:0.718
recall dist(10% per bucket): 0.006 0.011 0.021 0.043 0.057 0.087 0.114 0.149 0.167 0.174 0.170 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[465.360s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 3739713
ndis: 0
nreorder: 0
average distance computations per query: 373.971
[ 465.360s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_16/attr_sel_1_500_random_16.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_16/qrangesel_1_1_500_random_16.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_16/sif_gt_sel_1_1_500_random_16_10.json /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_16_M40_ga25_Mb64 10 128"
	User time (seconds): 459.06
	System time (seconds): 6.45
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 7:45.53
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 11478236
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3070422
	Voluntary context switches: 1
	Involuntary context switches: 659
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 06:01
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_17/attr_sel_1_500_random_17.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_17/qrangesel_1_1_500_random_17.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_17/sif_gt_sel_1_1_500_random_17_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_17_M40_ga25_Mb64
ef_search: 10 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_500_random_17/attr_sel_1_500_random_17.json
[ 0.106s ] Loaded metadata, 1000000 attr's found
[ 0.106s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.109s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_17/qrangesel_1_1_500_random_17.json
[ 0.111s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_17/sif_gt_sel_1_1_500_random_17_10.json
[ 0.122s ] Loaded ground truth, gt_size: 10
[ 0.122s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
========= METADATA =======
	* cumulative max num neighbors per level
		indx 0: 0
		indx 1: 124
		indx 2: 1124
		indx 3: 2124
		indx 4: 3124
		indx 5: 4124
	* level probabilities
		level 0: 0.975000
		level 1: 0.024375
		level 2: 0.000609
		level 3: 0.000015
		level 4: 0.000000
		level 5: 0.000000
	* efConstruction: 1000
	* efSearch: 16
	* max_level: 4
	* entry_point: 118295
	* gamma: 25
========= LEVEL STATS OF ACORN =======
========= LEVEL 0 =======
* stats on level 0, max 124 neighbors per vertex:
   1. nb of nodes: 1000000
   2. neighbors per node: 86.76 (86762483)
   3. nb of reciprocal neighbors: 60.08
   4. nb of neighbors that are also neighbor-of-neighbors: 84.83 (84825422)
========= LEVEL 1 =======
* stats on level 1, max 1000 neighbors per vertex:
   1. nb of nodes: 24956
   2. neighbors per node: 1000.00 (24956000)
   3. nb of reciprocal neighbors: 236.91
   4. nb of neighbors that are also neighbor-of-neighbors: 784.85 (19586809)
========= LEVEL 2 =======
* stats on level 2, max 1000 neighbors per vertex:
   1. nb of nodes: 623
   2. neighbors per node: 588.54 (366659)
   3. nb of reciprocal neighbors: 586.83
   4. nb of neighbors that are also neighbor-of-neighbors: 587.93 (366281)
========= LEVEL 3 =======
* stats on level 3, max 1000 neighbors per vertex:
   1. nb of nodes: 16
   2. neighbors per node: 15.00 (240)
   3. nb of reciprocal neighbors: 15.00
   4. nb of neighbors that are also neighbor-of-neighbors: 15.00 (240)
========= LEVEL 4 =======
* stats on level 4, max 1000 neighbors per vertex:
   1. nb of nodes: 1
   2. neighbors per node: 0.00 (0)
   3. nb of reciprocal neighbors: 0.00
   4. nb of neighbors that are also neighbor-of-neighbors: 0.00 (0)
METADATA VEC for number nodes per level
	level 0: 999928 nodes
	level 1: 24956 nodes
	level 2: 623 nodes
	level 3: 16 nodes
	level 4: 1 nodes
	level 5: 0 nodes
Total edge:1025524
Average degree:170920.667
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 444.184s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 10
selectivity: 0.030
[ 465.428s ] Query results (vector ids, then distances):
query 0 nn's (17): 872728 (17) 701919 (17) 541845 (17) 394507 (17) 989762 (17) 839679 (17) 15295 (17) 308335 (17) 165581 (17) 573636 (17) 
     dis: 	71861.000 79508.000 80761.000 82181.000 83466.000 83911.000 91519.000 91894.000 92831.000 96231.000 
query 1 nn's (17): 974985 (17) 522482 (17) 990316 (17) 210769 (17) 852739 (17) 990877 (17) 931884 (17) 852939 (17) 411241 (17) 266405 (17) 
     dis: 	61333.000 64822.000 73123.000 73349.000 73521.000 73545.000 74452.000 74617.000 74840.000 75193.000 
query 2 nn's (17): 716686 (17) 68761 (17) 218142 (17) 336985 (17) 655461 (17) 689954 (17) 977403 (17) 936080 (17) 160896 (17) 883436 (17) 
     dis: 	41511.000 49488.000 50054.000 50087.000 50249.000 51125.000 51919.000 54719.000 54987.000 55279.000 
query 3 nn's (17): 190630 (17) 857203 (17) 889896 (17) 190642 (17) 886122 (17) 191297 (17) 855361 (17) 560867 (17) 392104 (17) 854235 (17) 
     dis: 	40280.000 40672.000 43139.000 44707.000 44790.000 45744.000 49051.000 49423.000 50032.000 50719.000 
query 4 nn's (17): 325164 (17) 903495 (17) 153534 (17) 726115 (17) 403256 (17) 122359 (17) 434341 (17) 495377 (17) 237144 (17) 972541 (17) 
     dis: 	72977.000 74349.000 75285.000 75759.000 76960.000 77153.000 77690.000 80779.000 81643.000 81995.000 
[ 465.429s ] *** Query time: 3.245
qps: 3081.689
 *** acorn recall 
efs:10
acorn get 70632 postive res from 100000 results, recall@10:0.706
recall dist(10% per bucket): 0.006 0.014 0.024 0.043 0.063 0.096 0.121 0.144 0.161 0.166 0.162 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[466.006s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 3180560
ndis: 0
nreorder: 0
average distance computations per query: 318.056
[ 466.006s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_17/attr_sel_1_500_random_17.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_17/qrangesel_1_1_500_random_17.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_17/sif_gt_sel_1_1_500_random_17_10.json /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_17_M40_ga25_Mb64 10 128"
	User time (seconds): 459.78
	System time (seconds): 6.36
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 7:46.16
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 11477108
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3061771
	Voluntary context switches: 1
	Involuntary context switches: 549
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 06:35
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_18/attr_sel_1_500_random_18.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_18/qrangesel_1_1_500_random_18.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_18/sif_gt_sel_1_1_500_random_18_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_18_M40_ga25_Mb64
ef_search: 10 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_500_random_18/attr_sel_1_500_random_18.json
[ 0.103s ] Loaded metadata, 1000000 attr's found
[ 0.103s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.107s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_18/qrangesel_1_1_500_random_18.json
[ 0.108s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_18/sif_gt_sel_1_1_500_random_18_10.json
[ 0.120s ] Loaded ground truth, gt_size: 10
[ 0.120s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
========= METADATA =======
	* cumulative max num neighbors per level
		indx 0: 0
		indx 1: 124
		indx 2: 1124
		indx 3: 2124
		indx 4: 3124
		indx 5: 4124
	* level probabilities
		level 0: 0.975000
		level 1: 0.024375
		level 2: 0.000609
		level 3: 0.000015
		level 4: 0.000000
		level 5: 0.000000
	* efConstruction: 1000
	* efSearch: 16
	* max_level: 4
	* entry_point: 118295
	* gamma: 25
========= LEVEL STATS OF ACORN =======
========= LEVEL 0 =======
* stats on level 0, max 124 neighbors per vertex:
   1. nb of nodes: 1000000
   2. neighbors per node: 86.77 (86770175)
   3. nb of reciprocal neighbors: 60.08
   4. nb of neighbors that are also neighbor-of-neighbors: 84.83 (84833923)
========= LEVEL 1 =======
* stats on level 1, max 1000 neighbors per vertex:
   1. nb of nodes: 24956
   2. neighbors per node: 1000.00 (24956000)
   3. nb of reciprocal neighbors: 237.22
   4. nb of neighbors that are also neighbor-of-neighbors: 783.78 (19560039)
========= LEVEL 2 =======
* stats on level 2, max 1000 neighbors per vertex:
   1. nb of nodes: 623
   2. neighbors per node: 587.87 (366240)
   3. nb of reciprocal neighbors: 586.18
   4. nb of neighbors that are also neighbor-of-neighbors: 587.26 (365862)
========= LEVEL 3 =======
* stats on level 3, max 1000 neighbors per vertex:
   1. nb of nodes: 16
   2. neighbors per node: 15.00 (240)
   3. nb of reciprocal neighbors: 15.00
   4. nb of neighbors that are also neighbor-of-neighbors: 15.00 (240)
========= LEVEL 4 =======
* stats on level 4, max 1000 neighbors per vertex:
   1. nb of nodes: 1
   2. neighbors per node: 0.00 (0)
   3. nb of reciprocal neighbors: 0.00
   4. nb of neighbors that are also neighbor-of-neighbors: 0.00 (0)
METADATA VEC for number nodes per level
	level 0: 999896 nodes
	level 1: 24953 nodes
	level 2: 623 nodes
	level 3: 16 nodes
	level 4: 1 nodes
	level 5: 0 nodes
Total edge:1025489
Average degree:170914.833
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 447.124s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 10
selectivity: 0.020
[ 467.944s ] Query results (vector ids, then distances):
query 0 nn's (18): 141844 (18) 722837 (18) 586295 (18) 710805 (18) 564313 (18) 403950 (18) 515743 (18) 842653 (18) 564043 (18) 260028 (18) 
     dis: 	85136.000 85573.000 85742.000 87889.000 89247.000 91390.000 93212.000 95400.000 96585.000 97005.000 
query 1 nn's (18): 17970 (18) 196507 (18) 621926 (18) 183026 (18) 103968 (18) 867946 (18) 621174 (18) 795667 (18) 9814 (18) 546785 (18) 
     dis: 	65368.000 70646.000 71257.000 74623.000 75874.000 77427.000 77673.000 79076.000 79335.000 79847.000 
query 2 nn's (18): 776491 (18) 575505 (18) 823487 (18) 235583 (18) 956578 (18) 270853 (18) 584383 (18) 902671 (18) 247915 (18) 870589 (18) 
     dis: 	41845.000 43212.000 49745.000 51518.000 53669.000 53817.000 54304.000 57796.000 58232.000 58282.000 
query 3 nn's (18): 960691 (18) 807831 (18) 183026 (18) 907379 (18) 270165 (18) 843539 (18) 819323 (18) 390265 (18) 846825 (18) 908963 (18) 
     dis: 	43292.000 44482.000 45401.000 47296.000 48807.000 55944.000 56676.000 57071.000 57243.000 57650.000 
query 4 nn's (18): 716433 (18) 403978 (18) 115005 (18) 619010 (18) 804072 (18) 512012 (18) 560740 (18) 521827 (18) 806230 (18) 234141 (18) 
     dis: 	52559.000 59193.000 67477.000 74594.000 74950.000 77865.000 78230.000 80062.000 81108.000 82339.000 
[ 467.944s ] *** Query time: 3.316
qps: 3016.077
 *** acorn recall 
efs:10
acorn get 66001 postive res from 100000 results, recall@10:0.660
recall dist(10% per bucket): 0.008 0.018 0.035 0.057 0.082 0.107 0.135 0.151 0.154 0.147 0.106 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[468.501s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 2420557
ndis: 0
nreorder: 0
average distance computations per query: 242.056
[ 468.501s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_18/attr_sel_1_500_random_18.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_18/qrangesel_1_1_500_random_18.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_18/sif_gt_sel_1_1_500_random_18_10.json /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_18_M40_ga25_Mb64 10 128"
	User time (seconds): 462.34
	System time (seconds): 6.30
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 7:48.65
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 11478236
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3052563
	Voluntary context switches: 2
	Involuntary context switches: 569
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 07:09
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_19/attr_sel_1_500_random_19.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_19/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_19/sif_gt_sel_1_1_500_random_19_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_19_M40_ga25_Mb64
ef_search: 10 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_500_random_19/attr_sel_1_500_random_19.json
[ 0.102s ] Loaded metadata, 1000000 attr's found
[ 0.102s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.106s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_19/qrangesel_1_1_500_random_19.json
[ 0.107s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_19/sif_gt_sel_1_1_500_random_19_10.json
[ 0.119s ] Loaded ground truth, gt_size: 10
[ 0.119s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
========= METADATA =======
	* cumulative max num neighbors per level
		indx 0: 0
		indx 1: 124
		indx 2: 1124
		indx 3: 2124
		indx 4: 3124
		indx 5: 4124
	* level probabilities
		level 0: 0.975000
		level 1: 0.024375
		level 2: 0.000609
		level 3: 0.000015
		level 4: 0.000000
		level 5: 0.000000
	* efConstruction: 1000
	* efSearch: 16
	* max_level: 4
	* entry_point: 118295
	* gamma: 25
========= LEVEL STATS OF ACORN =======
========= LEVEL 0 =======
* stats on level 0, max 124 neighbors per vertex:
   1. nb of nodes: 1000000
   2. neighbors per node: 86.76 (86758473)
   3. nb of reciprocal neighbors: 60.07
   4. nb of neighbors that are also neighbor-of-neighbors: 84.82 (84820017)
========= LEVEL 1 =======
* stats on level 1, max 1000 neighbors per vertex:
   1. nb of nodes: 24956
   2. neighbors per node: 1000.00 (24955881)
   3. nb of reciprocal neighbors: 238.26
   4. nb of neighbors that are also neighbor-of-neighbors: 782.98 (19540049)
========= LEVEL 2 =======
* stats on level 2, max 1000 neighbors per vertex:
   1. nb of nodes: 623
   2. neighbors per node: 588.69 (366755)
   3. nb of reciprocal neighbors: 586.97
   4. nb of neighbors that are also neighbor-of-neighbors: 588.07 (366368)
========= LEVEL 3 =======
* stats on level 3, max 1000 neighbors per vertex:
   1. nb of nodes: 16
   2. neighbors per node: 15.00 (240)
   3. nb of reciprocal neighbors: 15.00
   4. nb of neighbors that are also neighbor-of-neighbors: 15.00 (240)
========= LEVEL 4 =======
* stats on level 4, max 1000 neighbors per vertex:
   1. nb of nodes: 1
   2. neighbors per node: 0.00 (0)
   3. nb of reciprocal neighbors: 0.00
   4. nb of neighbors that are also neighbor-of-neighbors: 0.00 (0)
METADATA VEC for number nodes per level
	level 0: 999910 nodes
	level 1: 24955 nodes
	level 2: 623 nodes
	level 3: 16 nodes
	level 4: 1 nodes
	level 5: 0 nodes
Total edge:1025505
Average degree:170917.500
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 446.308s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 10
selectivity: 0.010
[ 466.599s ] Query results (vector ids, then distances):
query 0 nn's (19): 523764 (19) 577058 (19) 842653 (19) 481385 (19) 563984 (19) 225062 (19) 586914 (19) 223514 (19) 878419 (19) 224178 (19) 
     dis: 	88882.000 91683.000 95400.000 97390.000 101894.000 102436.000 103932.000 104131.000 104422.000 108080.000 
query 1 nn's (19): 739835 (19) 13310 (19) 561463 (19) 122292 (19) 206189 (19) 635936 (19) 570080 (19) 407132 (19) 868500 (19) 791367 (19) 
     dis: 	65572.000 79928.000 80065.000 80150.000 81224.000 81854.000 82104.000 82294.000 84200.000 84438.000 
query 2 nn's (19): 299398 (19) 9938 (19) 432692 (19) 673658 (19) 237272 (19) 194421 (19) 69586 (19) 704410 (19) 280755 (19) 948895 (19) 
     dis: 	42089.000 48163.000 49583.000 51710.000 52531.000 53514.000 53903.000 55754.000 56448.000 57743.000 
query 3 nn's (19): 224482 (19) 854517 (19) 905803 (19) 563984 (19) 969181 (19) 791367 (19) 739835 (19) 10399 (19) 868600 (19) 957534 (19) 
     dis: 	54438.000 54669.000 57829.000 61438.000 62163.000 63142.000 63650.000 64302.000 65167.000 65500.000 
query 4 nn's (19): 101436 (19) 151491 (19) 660969 (19) 862798 (19) 422048 (19) 350527 (19) 410753 (19) 599228 (19) 246690 (19) 603896 (19) 
     dis: 	63023.000 74210.000 75971.000 80395.000 83215.000 84629.000 84735.000 85495.000 87704.000 89545.000 
[ 466.599s ] *** Query time: 3.284
qps: 3044.740
 *** acorn recall 
efs:10
acorn get 52792 postive res from 100000 results, recall@10:0.528
recall dist(10% per bucket): 0.034 0.051 0.078 0.101 0.122 0.131 0.132 0.127 0.113 0.075 0.037 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[467.208s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 1290731
ndis: 0
nreorder: 0
average distance computations per query: 129.073
[ 467.208s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_19/attr_sel_1_500_random_19.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_19/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/sift/label/sel_1_500_random_19/sif_gt_sel_1_1_500_random_19_10.json /mnt/data/mocheng/dataset/sift/acorn/index/index_acorn_sel_1_500_random_19_M40_ga25_Mb64 10 128"
	User time (seconds): 460.82
	System time (seconds): 6.50
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 7:47.36
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 11477212
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3101640
	Voluntary context switches: 1
	Involuntary context switches: 960
	Swaps: 0
	File system inputs: 0
	File system outputs: 48
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
