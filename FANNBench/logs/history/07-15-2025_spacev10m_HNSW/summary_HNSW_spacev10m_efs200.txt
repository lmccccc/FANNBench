Start time: 19:48
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000
ef_search: 200
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.369s ] Loaded metadata, 10000000 attr's found
[ 1.369s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.371s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 1.374s ] Loaded 10000 spacev10m queries
[ 1.381s ] Loaded ground truth, gt_size: 10
[ 1.381s ] Index Params -- d: 100, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.088s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 192.764s ] Query results (vector ids, then distances):
query 0 nn's (19, 24678, 44673): 606211 (19, 33896) 8563527 (19, 35080) 8341867 (19, 39581) 3228742 (19, 40604) 1247229 (19, 31397) 7386818 (19, 38747) 5099788 (19, 26746) 4692244 (19, 26526) 1295714 (19, 44481) 6401363 (19, 35648) 
     dis: 	5333.000 9559.000 9671.000 9981.000 9990.000 10670.000 11437.000 11853.000 11974.000 12000.000 
query 1 nn's (19, 22162, 42151): 7629371 (19, 40048) 7000075 (19, 30779) 9910036 (19, 39846) 4745747 (19, 41606) 9504433 (19, 24361) 8597183 (19, 26829) 6704562 (19, 23383) 917900 (19, 40978) 5927260 (19, 26127) 6889844 (19, 36016) 
     dis: 	11437.000 11704.000 12352.000 12529.000 12566.000 12875.000 13188.000 13946.000 14155.000 14227.000 
query 2 nn's (19, 17210, 37204): 9743895 (19, 34323) 5920553 (19, 18978) 8553474 (19, 25557) 613441 (19, 25663) 8625378 (19, 24303) 3159516 (19, 28361) 6805269 (19, 29938) 2927516 (19, 26174) 9947550 (19, 21766) 6973245 (19, 23421) 
     dis: 	10145.000 11587.000 11936.000 11972.000 12099.000 12193.000 13152.000 13197.000 13339.000 13382.000 
query 3 nn's (19, 37494, 57500): 7020630 (19, 54958) 3279722 (19, 51437) 233485 (19, 44737) 3624059 (19, 43399) 5731015 (19, 52049) 8298687 (19, 37701) 9005255 (19, 48116) 3228780 (19, 39403) 7061054 (19, 48424) 4112389 (19, 54395) 
     dis: 	8902.000 11933.000 12222.000 12612.000 12709.000 12840.000 13357.000 13473.000 13699.000 13745.000 
query 4 nn's (19, 12989, 32993): 6527555 (19, 15247) 449527 (19, 17419) 1444782 (19, 19731) 2066916 (19, 15626) 3533412 (19, 21683) 5752140 (19, 29283) 1060205 (19, 22186) 4293822 (19, 25057) 4057764 (19, 13210) 403008 (19, 29015) 
     dis: 	6296.000 6766.000 6837.000 6893.000 7191.000 7245.000 7390.000 7607.000 7653.000 7908.000 
[ 192.764s ] *** Query time: 32.960
qps: 303.397
 *** HNSW recall 
HNSW get 76476 postive res from 100000 results, recall@10:0.765
recall dist(10% per bucket): 0.002 0.003 0.006 0.019 0.041 0.069 0.111 0.152 0.207 0.223 0.168 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 125979568, average: 12597.957
finished ivfpq index examples
[ 192.767s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query_arbi spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_10.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000 200 100"
	User time (seconds): 183.69
	System time (seconds): 9.65
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:13.35
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7305124
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2943875
	Voluntary context switches: 2
	Involuntary context switches: 309
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 19:57
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000
ef_search: 200
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.372s ] Loaded metadata, 10000000 attr's found
[ 1.372s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.374s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 1.377s ] Loaded 10000 spacev10m queries
[ 1.384s ] Loaded ground truth, gt_size: 10
[ 1.384s ] Index Params -- d: 100, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 5.989s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 178.539s ] Query results (vector ids, then distances):
query 0 nn's (19, 24678, 44673): 606211 (19, 33896) 8563527 (19, 35080) 8341867 (19, 39581) 3228742 (19, 40604) 1247229 (19, 31397) 7386818 (19, 38747) 5099788 (19, 26746) 4692244 (19, 26526) 1295714 (19, 44481) 6401363 (19, 35648) 
     dis: 	5333.000 9559.000 9671.000 9981.000 9990.000 10670.000 11437.000 11853.000 11974.000 12000.000 
query 1 nn's (19, 22162, 42151): 7629371 (19, 40048) 7000075 (19, 30779) 9910036 (19, 39846) 4745747 (19, 41606) 9504433 (19, 24361) 8597183 (19, 26829) 6704562 (19, 23383) 917900 (19, 40978) 5927260 (19, 26127) 6889844 (19, 36016) 
     dis: 	11437.000 11704.000 12352.000 12529.000 12566.000 12875.000 13188.000 13946.000 14155.000 14227.000 
query 2 nn's (19, 17210, 37204): 9743895 (19, 34323) 5920553 (19, 18978) 8553474 (19, 25557) 613441 (19, 25663) 8625378 (19, 24303) 3159516 (19, 28361) 6805269 (19, 29938) 2927516 (19, 26174) 9947550 (19, 21766) 6973245 (19, 23421) 
     dis: 	10145.000 11587.000 11936.000 11972.000 12099.000 12193.000 13152.000 13197.000 13339.000 13382.000 
query 3 nn's (19, 37494, 57500): 7020630 (19, 54958) 3279722 (19, 51437) 233485 (19, 44737) 3624059 (19, 43399) 5731015 (19, 52049) 8298687 (19, 37701) 9005255 (19, 48116) 3228780 (19, 39403) 7061054 (19, 48424) 4112389 (19, 54395) 
     dis: 	8902.000 11933.000 12222.000 12612.000 12709.000 12840.000 13357.000 13473.000 13699.000 13745.000 
query 4 nn's (19, 12989, 32993): 6527555 (19, 15247) 449527 (19, 17419) 1444782 (19, 19731) 2066916 (19, 15626) 3533412 (19, 21683) 5752140 (19, 29283) 1060205 (19, 22186) 4293822 (19, 25057) 4057764 (19, 13210) 403008 (19, 29015) 
     dis: 	6296.000 6766.000 6837.000 6893.000 7191.000 7245.000 7390.000 7607.000 7653.000 7908.000 
[ 178.539s ] *** Query time: 26.548
qps: 376.677
 *** HNSW recall 
HNSW get 76476 postive res from 100000 results, recall@10:0.765
recall dist(10% per bucket): 0.002 0.003 0.006 0.019 0.041 0.069 0.111 0.152 0.207 0.223 0.168 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 125979568, average: 12597.957
finished ivfpq index examples
[ 178.540s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query_arbi spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_10.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000 200 100"
	User time (seconds): 173.97
	System time (seconds): 4.85
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:58.83
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7305124
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1857069
	Voluntary context switches: 2
	Involuntary context switches: 118
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 20:01
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000
ef_search: 200
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.383s ] Loaded metadata, 10000000 attr's found
[ 1.383s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.385s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 1.388s ] Loaded 10000 spacev10m queries
[ 1.396s ] Loaded ground truth, gt_size: 10
[ 1.396s ] Index Params -- d: 100, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.129s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 181.706s ] Query results (vector ids, then distances):
query 0 nn's (19, 24678, 44673): 606211 (19, 33896) 8563527 (19, 35080) 8341867 (19, 39581) 3228742 (19, 40604) 1247229 (19, 31397) 7386818 (19, 38747) 5099788 (19, 26746) 4692244 (19, 26526) 1295714 (19, 44481) 6401363 (19, 35648) 
     dis: 	5333.000 9559.000 9671.000 9981.000 9990.000 10670.000 11437.000 11853.000 11974.000 12000.000 
query 1 nn's (19, 22162, 42151): 7629371 (19, 40048) 7000075 (19, 30779) 9910036 (19, 39846) 4745747 (19, 41606) 9504433 (19, 24361) 8597183 (19, 26829) 6704562 (19, 23383) 917900 (19, 40978) 5927260 (19, 26127) 6889844 (19, 36016) 
     dis: 	11437.000 11704.000 12352.000 12529.000 12566.000 12875.000 13188.000 13946.000 14155.000 14227.000 
query 2 nn's (19, 17210, 37204): 9743895 (19, 34323) 5920553 (19, 18978) 8553474 (19, 25557) 613441 (19, 25663) 8625378 (19, 24303) 3159516 (19, 28361) 6805269 (19, 29938) 2927516 (19, 26174) 9947550 (19, 21766) 6973245 (19, 23421) 
     dis: 	10145.000 11587.000 11936.000 11972.000 12099.000 12193.000 13152.000 13197.000 13339.000 13382.000 
query 3 nn's (19, 37494, 57500): 7020630 (19, 54958) 3279722 (19, 51437) 233485 (19, 44737) 3624059 (19, 43399) 5731015 (19, 52049) 8298687 (19, 37701) 9005255 (19, 48116) 3228780 (19, 39403) 7061054 (19, 48424) 4112389 (19, 54395) 
     dis: 	8902.000 11933.000 12222.000 12612.000 12709.000 12840.000 13357.000 13473.000 13699.000 13745.000 
query 4 nn's (19, 12989, 32993): 6527555 (19, 15247) 449527 (19, 17419) 1444782 (19, 19731) 2066916 (19, 15626) 3533412 (19, 21683) 5752140 (19, 29283) 1060205 (19, 22186) 4293822 (19, 25057) 4057764 (19, 13210) 403008 (19, 29015) 
     dis: 	6296.000 6766.000 6837.000 6893.000 7191.000 7245.000 7390.000 7607.000 7653.000 7908.000 
[ 181.706s ] *** Query time: 27.265
qps: 366.776
 *** HNSW recall 
HNSW get 76476 postive res from 100000 results, recall@10:0.765
recall dist(10% per bucket): 0.002 0.003 0.006 0.019 0.041 0.069 0.111 0.152 0.207 0.223 0.168 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 125979568, average: 12597.957
finished ivfpq index examples
[ 181.707s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query_arbi spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_10.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000 200 100"
	User time (seconds): 176.80
	System time (seconds): 5.30
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:02.12
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7303284
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1856558
	Voluntary context switches: 1
	Involuntary context switches: 158
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 20:04
Start time: 01:29
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000
ef_search: 200
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.362s ] Loaded metadata, 10000000 attr's found
[ 1.362s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.365s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 1.368s ] Loaded 10000 spacev10m queries
[ 1.375s ] Loaded ground truth, gt_size: 10
[ 1.375s ] Index Params -- d: 100, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.037s ] Searching the 10 nearest neighbors of 10000 vectors in the index
Start time: 01:41
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000
ef_search: 200
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.376s ] Loaded metadata, 10000000 attr's found
[ 1.376s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.378s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 1.380s ] Loaded 10000 spacev10m queries
[ 1.388s ] Loaded ground truth, gt_size: 10
[ 1.388s ] Index Params -- d: 100, N: 10000000
selectivity: 0.100
[ 699.929s ] Query results (vector ids, then distances):
query 0 nn's (10, 3924, 37259): 5096505 (10, 4836) 290760 (10, 18624) 3082748 (10, 31903) 2037978 (10, 9706) 7305168 (10, 17763) 1360571 (10, 16867) 1858226 (10, 19035) 4287666 (10, 31095) 6240106 (10, 15888) 9234384 (10, 8354) 
     dis: 	6150.000 6292.000 6920.000 7721.000 7885.000 7959.000 8454.000 8574.000 8824.000 9137.000 
query 1 nn's (10, 9720, 43052): 1027770 (10, 9965) 4573755 (10, 43023) 1087257 (10, 37334) 8663938 (10, 42468) 9844113 (10, 29377) 9311189 (10, 35154) 7957281 (10, 36745) 4561316 (10, 14983) 4813594 (10, 22509) 5325898 (10, 17388) 
     dis: 	4889.000 7795.000 8514.000 9766.000 9916.000 10152.000 10252.000 10291.000 10432.000 10446.000 
query 2 nn's (10, 65731, 99055): 4574760 (10, 86639) 2734445 (10, 87139) 3524579 (10, 75574) 2212807 (10, 78994) 2882757 (10, 88969) 2884416 (10, 95410) 323907 (10, 73687) 3361974 (10, 88468) 1054367 (10, 85708) 3521500 (10, 85322) 
     dis: 	3034.000 4135.000 5017.000 6204.000 7205.000 8944.000 9129.000 9257.000 9476.000 9861.000 
query 3 nn's (10, 35398, 68747): 4286832 (10, 39922) 1866926 (10, 59871) 4371036 (10, 63019) 9455216 (10, 66473) 6638511 (10, 49779) 8818246 (10, 67263) 9398930 (10, 63911) 8584054 (10, 49156) 6447414 (10, 58775) 9793596 (10, 44408) 
     dis: 	4960.000 9254.000 9414.000 9443.000 9691.000 10127.000 10184.000 10463.000 10517.000 10571.000 
query 4 nn's (10, 39745, 73096): 6279473 (10, 51031) 3097455 (10, 63497) 7159963 (10, 73006) 4242116 (10, 64811) 5466057 (10, 59505) 3531751 (10, 72430) 8728294 (10, 70066) 7177846 (10, 41057) 8212769 (10, 54201) 1875114 (10, 43629) 
     dis: 	6062.000 6385.000 6530.000 6564.000 6864.000 6872.000 6872.000 7009.000 7049.000 7134.000 
[ 699.930s ] *** Query time: 73.075
qps: 136.845
 *** HNSW recall 
HNSW get 95895 postive res from 100000 results, recall@10:0.959
recall dist(10% per bucket): 0.003 0.001 0.001 0.001 0.001 0.003 0.011 0.021 0.048 0.138 0.772 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 125979568, average: 12597.957
finished ivfpq index examples
[ 699.932s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query_arbi spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_10.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000 200 100"
	User time (seconds): 584.74
	System time (seconds): 36.23
	Percent of CPU this job got: 88%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 11:41.40
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7305116
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 12312694
	Voluntary context switches: 1
	Involuntary context switches: 18383
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 02:12
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_19_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000
ef_search: 200
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.363s ] Loaded metadata, 10000000 attr's found
[ 1.363s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.366s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 1.368s ] Loaded 10000 spacev10m queries
[ 1.376s ] Loaded ground truth, gt_size: 10
[ 1.376s ] Index Params -- d: 100, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.173s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.017
[ 201.675s ] Query results (vector ids, then distances):
query 0 nn's (19, 59754, 93097): 9715655 (19, 84028) 2716677 (19, 84514) 5376130 (19, 68208) 4000929 (19, 67017) 8869285 (19, 82643) 6464821 (19, 70652) 8718558 (19, 72718) 2270424 (19, 90516) 4268005 (19, 63710) 4228485 (19, 71025) 
     dis: 	9488.000 9610.000 9831.000 10465.000 10771.000 11072.000 11177.000 11940.000 12047.000 12149.000 
query 1 nn's (19, 34076, 67420): 3338949 (19, 66092) 6693881 (19, 56563) 2915146 (19, 51247) 6218290 (19, 59593) 7629371 (19, 40048) 4403537 (19, 59894) 9996113 (19, 51123) 6201944 (19, 57440) 9910036 (19, 39846) 27827 (19, 56777) 
     dis: 	7823.000 8318.000 10003.000 10949.000 11437.000 11908.000 12030.000 12231.000 12352.000 12402.000 
query 2 nn's (19, 22676, 56004): 9743895 (19, 34323) 2567980 (19, 48364) 6007808 (19, 37675) 7821433 (19, 42021) 1665436 (19, 38580) 2826478 (19, 46182) 8553474 (19, 25557) 613441 (19, 25663) 8625378 (19, 24303) 5162143 (19, 55376) 
     dis: 	10145.000 10427.000 10863.000 11342.000 11447.000 11457.000 11936.000 11972.000 12099.000 12147.000 
query 3 nn's (19, 49722, 83066): 7020630 (19, 54958) 4153275 (19, 66225) 6654687 (19, 65741) 7110321 (19, 67757) 8860902 (19, 70051) 3279722 (19, 51437) 2264390 (19, 73882) 5731015 (19, 52049) 3510165 (19, 79454) 9678835 (19, 58889) 
     dis: 	8902.000 9892.000 11270.000 11525.000 11708.000 11933.000 11971.000 12709.000 12970.000 13080.000 
query 4 nn's (19, 6728, 40053): 2953313 (19, 37275) 6527555 (19, 15247) 449527 (19, 17419) 1444782 (19, 19731) 2066916 (19, 15626) 3533412 (19, 21683) 5752140 (19, 29283) 9134626 (19, 12526) 1060205 (19, 22186) 4293822 (19, 25057) 
     dis: 	5863.000 6296.000 6766.000 6837.000 6893.000 7191.000 7245.000 7265.000 7390.000 7607.000 
[ 201.675s ] *** Query time: 38.321
qps: 260.954
 *** HNSW recall 
HNSW get 83899 postive res from 100000 results, recall@10:0.839
recall dist(10% per bucket): 0.002 0.001 0.002 0.007 0.019 0.035 0.067 0.114 0.180 0.258 0.316 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 125979568, average: 12597.957
finished ivfpq index examples
[ 201.677s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query_arbi spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_19_10.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000 200 100"
	User time (seconds): 189.80
	System time (seconds): 12.48
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:22.31
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7305128
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3455444
	Voluntary context switches: 1
	Involuntary context switches: 314
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
