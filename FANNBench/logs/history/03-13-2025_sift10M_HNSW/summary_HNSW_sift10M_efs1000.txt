Start time: 01:48
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 1000
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.711s ] Loaded metadata, 10000000 attr's found
[ 0.711s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.714s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.715s ] Loaded 10000 sift10M queries
[ 0.722s ] Loaded ground truth, gt_size: 10
[ 0.722s ] Index Params -- d: 128, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 16.562s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 165.793s ] Query results (vector ids, then distances):
query 0 nn's (44843, 44942): 1160663 (44937) 593325 (44939) 1609860 (44874) 1923487 (44877) 6005033 (44913) 3095531 (44920) 7091829 (44878) 9837787 (44900) 2306496 (44877) 4414639 (44852) 
     dis: 	74292.000 93971.000 98657.000 100638.000 107799.000 111975.000 113152.000 113619.000 113824.000 115779.000 
query 1 nn's (42821, 42920): 7957648 (42897) 8453351 (42853) 4754171 (42830) 635661 (42825) 1565098 (42885) 4062412 (42832) 5498897 (42903) 7656223 (42884) 2836390 (42856) 508412 (42834) 
     dis: 	81752.000 85545.000 85715.000 88316.000 93990.000 95550.000 102246.000 104330.000 107201.000 109311.000 
query 2 nn's (13165, 13264): 2858053 (13240) 8500702 (13178) 5121329 (13223) 4306175 (13182) 3494307 (13167) 342160 (13197) 3380755 (13173) 1686475 (13254) 5928403 (13190) 6648054 (13203) 
     dis: 	63217.000 70202.000 70372.000 70560.000 71173.000 73304.000 75586.000 83570.000 86007.000 88435.000 
query 3 nn's (25839, 25938): 6617844 (25931) 7567068 (25855) 5530477 (25921) 7342247 (25846) 4541290 (25878) 7055827 (25927) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	20214.000 23321.000 23870.000 27610.000 30077.000 32190.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (45629, 45728): 2160380 (45685) 1253413 (45668) 1284141 (45665) 5720716 (45669) 966699 (45702) 5722740 (45687) 625529 (45723) 8575841 (45639) 619740 (45674) 5697257 (45663) 
     dis: 	101857.000 102472.000 103314.000 113419.000 119391.000 120791.000 123741.000 125045.000 125725.000 125845.000 
[ 165.793s ] *** Query time: 90.268
qps: 110.781
 *** HNSW recall 
HNSW get 79896 postive res from 100000 results, recall@10:0.799
recall dist(10% per bucket): 0.000 0.001 0.001 0.007 0.016 0.039 0.093 0.172 0.246 0.268 0.156 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 531075954, average: 53107.595
finished ivfpq index examples
[ 165.794s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 1000 128"
	User time (seconds): 146.38
	System time (seconds): 10.27
	Percent of CPU this job got: 94%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:46.29
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8357800
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2926561
	Voluntary context switches: 23609
	Involuntary context switches: 236
	Swaps: 0
	File system inputs: 2807944
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
