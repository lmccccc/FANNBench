Start time: 23:09
dataset: sift10M
N: 10000000
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
query range file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
ground truth file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json
K: 100
nprobe: 30
collection name: collection_sift10M_sel_1_100000_random
collection  collection_sift10M_sel_1_100000_random  exists
collection size: data: ["{'count(*)': 10000000}"]
query d: 128
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 100
ids shape: 10000 100
gt shape: (10000, 100)
milvus get  855040  postive res from  1000000  results, recall@ 100 : 0.85504
recall dist(10\% per bucket):  [0.000e+00 0.000e+00 0.000e+00 0.000e+00 1.200e-03 4.800e-03 3.290e-02
 1.542e-01 4.487e-01 3.581e-01 1.000e-04]
10000  queries cost: 155.3086700439453 , qps: 64.38790569238957
	Command being timed: "python -u utils/pymilvus_ivfpq.py sift10M 10000000 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json 100 30 collection_sift10M_sel_1_100000_random query 64 128"
	User time (seconds): 86.71
	System time (seconds): 2.91
	Percent of CPU this job got: 31%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 4:41.42
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 129624
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 96267
	Voluntary context switches: 38022
	Involuntary context switches: 685244
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:44
dataset: sift10M
N: 10000000
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
query range file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
ground truth file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json
K: 100
nprobe: 30
collection name: collection_sift10M_sel_1_100000_random_128
collection  collection_sift10M_sel_1_100000_random_128  exists
collection size: data: ["{'count(*)': 10000000}"]
query d: 128
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 100
ids shape: 10000 100
gt shape: (10000, 100)
milvus get  905941  postive res from  1000000  results, recall@ 100 : 0.905941
recall dist(10\% per bucket):  [0.     0.     0.     0.     0.0012 0.0045 0.0249 0.0944 0.2145 0.6389
 0.0216]
10000  queries cost: 198.8616497516632 , qps: 50.28621663597741
	Command being timed: "python -u utils/pymilvus_ivfpq.py sift10M 10000000 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json 100 30 collection_sift10M_sel_1_100000_random_128 query 128 128"
	User time (seconds): 82.66
	System time (seconds): 2.23
	Percent of CPU this job got: 19%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 7:26.41
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 128580
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 96365
	Voluntary context switches: 36917
	Involuntary context switches: 455910
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:12
dataset: sift10M
N: 10000000
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
query range file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json
ground truth file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json
K: 100
nprobe: 30
collection name: collection_sift10M_sel_1_100000_random_128
collection  collection_sift10M_sel_1_100000_random_128  exists
collection size: data: ["{'count(*)': 10000000}"]
query d: 128
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 100
ids shape: 10000 100
gt shape: (10000, 100)
milvus get  861466  postive res from  1000000  results, recall@ 100 : 0.861466
recall dist(10\% per bucket):  [0.     0.     0.     0.0009 0.0039 0.0233 0.0812 0.1628 0.2338 0.4697
 0.0244]
10000  queries cost: 178.9217607975006 , qps: 55.89035093007922
	Command being timed: "python -u utils/pymilvus_ivfpq.py sift10M 10000000 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json 100 30 collection_sift10M_sel_1_100000_random_128 query 128 128"
	User time (seconds): 71.36
	System time (seconds): 1.92
	Percent of CPU this job got: 23%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 5:14.45
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 131356
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 98641
	Voluntary context switches: 33790
	Involuntary context switches: 464836
	Swaps: 0
	File system inputs: 248
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:17
dataset: sift10M
N: 10000000
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
query range file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json
ground truth file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json
K: 100
nprobe: 30
collection name: collection_sift10M_sel_1_100000_random_128
collection  collection_sift10M_sel_1_100000_random_128  exists
collection size: data: ["{'count(*)': 10000000}"]
query d: 128
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 100
Traceback (most recent call last):
  File "utils/pymilvus_ivfpq.py", line 252, in <module>
    hist[q_bucket] += 1
KeyboardInterrupt
Command terminated by signal 2
	Command being timed: "python -u utils/pymilvus_ivfpq.py sift10M 10000000 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json 100 30 collection_sift10M_sel_1_100000_random_128 query 128 128"
	User time (seconds): 29.93
	System time (seconds): 2.27
	Percent of CPU this job got: 22%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:25.71
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 126616
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 81713
	Voluntary context switches: 20925
	Involuntary context switches: 565785
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:29
dataset: sift10M
N: 10000000
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
query range file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json
ground truth file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_100.json
K: 100
nprobe: 30
collection name: collection_sift10M_sel_1_100000_random_128
collection  collection_sift10M_sel_1_100000_random_128  exists
collection size: data: ["{'count(*)': 10000000}"]
query d: 128
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 100
ids shape: 10000 100
gt shape: (10000, 100)
milvus get  728959  postive res from  1000000  results, recall@ 100 : 0.728959
recall dist(10\% per bucket):  [0.     0.     0.0014 0.0145 0.0682 0.1613 0.2084 0.1742 0.1497 0.201
 0.0213]
10000  queries cost: 149.47718453407288 , qps: 66.89984181311985
	Command being timed: "python -u utils/pymilvus_ivfpq.py sift10M 10000000 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_100.json 100 30 collection_sift10M_sel_1_100000_random_128 query 128 128"
	User time (seconds): 90.30
	System time (seconds): 2.70
	Percent of CPU this job got: 35%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 4:19.80
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 127336
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 102552
	Voluntary context switches: 30899
	Involuntary context switches: 740857
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:54
dataset: sift10M
N: 10000000
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
query range file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json
ground truth file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_100.json
K: 100
nprobe: 30
collection name: collection_sift10M_sel_1_100000_random_128
collection  collection_sift10M_sel_1_100000_random_128  exists
collection size: data: ["{'count(*)': 10000000}"]
query d: 128
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 100
error, get  86  results, expect  100
res: data: ["[{'id': 1160663, 'distance': 73661.4609375, 'entity': {}}, {'id': 1609860, 'distance': 98874.265625, 'entity': {}}, {'id': 3095531, 'distance': 111892.984375, 'entity': {}}, {'id': 2306496, 'distance': 113950.234375, 'entity': {}}, {'id': 8395367, 'distance': 115542.140625, 'entity': {}}, {'id': 6764458, 'distance': 120020.515625, 'entity': {}}, {'id': 3941607, 'distance': 122052.0625, 'entity': {}}, {'id': 4206912, 'distance': 122505.0390625, 'entity': {}}, {'id': 5684488, 'distance': 123659.34375, 'entity': {}}, {'id': 2598901, 'distance': 123893.8125, 'entity': {}}, {'id': 1540250, 'distance': 124548.1640625, 'entity': {}}, {'id': 916445, 'distance': 124945.3125, 'entity': {}}, {'id': 5974509, 'distance': 127164.421875, 'entity': {}}, {'id': 6158851, 'distance': 127524.015625, 'entity': {}}, {'id': 3857088, 'distance': 127607.28125, 'entity': {}}, {'id': 6459097, 'distance': 128689.8828125, 'entity': {}}, {'id': 9276548, 'distance': 130428.6953125, 'entity': {}}, {'id': 1370582, 'distance': 132261.65625, 'entity': {}}, {'id': 5189045, 'distance': 132812.75, 'entity': {}}, {'id': 6246801, 'distance': 136034.8125, 'entity': {}}, {'id': 2162574, 'distance': 137112.96875, 'entity': {}}, {'id': 4201073, 'distance': 138378.890625, 'entity': {}}, {'id': 967682, 'distance': 138675.96875, 'entity': {}}, {'id': 4315590, 'distance': 138707.046875, 'entity': {}}, {'id': 1665452, 'distance': 141686.75, 'entity': {}}, {'id': 8963577, 'distance': 141704.359375, 'entity': {}}, {'id': 7452542, 'distance': 141966.4375, 'entity': {}}, {'id': 1304271, 'distance': 141986.859375, 'entity': {}}, {'id': 6097844, 'distance': 142497.265625, 'entity': {}}, {'id': 8250800, 'distance': 142749.5625, 'entity': {}}, {'id': 4037290, 'distance': 143557.359375, 'entity': {}}, {'id': 5520339, 'distance': 144212.109375, 'entity': {}}, {'id': 5904156, 'distance': 144560.453125, 'entity': {}}, {'id': 9442103, 'distance': 144843.4375, 'entity': {}}, {'id': 8684296, 'distance': 145840.375, 'entity': {}}, {'id': 88742, 'distance': 149456.453125, 'entity': {}}, {'id': 8340621, 'distance': 149710.6875, 'entity': {}}, {'id': 3863028, 'distance': 150086.375, 'entity': {}}, {'id': 6960942, 'distance': 150919.78125, 'entity': {}}, {'id': 9713739, 'distance': 151536.3125, 'entity': {}}, {'id': 2542608, 'distance': 152150.375, 'entity': {}}, {'id': 3817793, 'distance': 152150.875, 'entity': {}}, {'id': 1328482, 'distance': 154085.0625, 'entity': {}}, {'id': 5625959, 'distance': 155619.421875, 'entity': {}}, {'id': 4160915, 'distance': 155687.390625, 'entity': {}}, {'id': 8998039, 'distance': 156083.4375, 'entity': {}}, {'id': 2265357, 'distance': 156770.75, 'entity': {}}, {'id': 7934258, 'distance': 156938.5625, 'entity': {}}, {'id': 8765142, 'distance': 160251.3125, 'entity': {}}, {'id': 9002249, 'distance': 160729.59375, 'entity': {}}, {'id': 3367200, 'distance': 160958.84375, 'entity': {}}, {'id': 9404791, 'distance': 161334.25, 'entity': {}}, {'id': 7307614, 'distance': 162858.421875, 'entity': {}}, {'id': 9351641, 'distance': 164837.40625, 'entity': {}}, {'id': 5778576, 'distance': 165812.6875, 'entity': {}}, {'id': 3623670, 'distance': 167085.34375, 'entity': {}}, {'id': 541405, 'distance': 167394.234375, 'entity': {}}, {'id': 9731487, 'distance': 167522.453125, 'entity': {}}, {'id': 3466359, 'distance': 168588.4375, 'entity': {}}, {'id': 8366888, 'distance': 171621.515625, 'entity': {}}, {'id': 9936961, 'distance': 171975.90625, 'entity': {}}, {'id': 3480965, 'distance': 172616.140625, 'entity': {}}, {'id': 2494134, 'distance': 172819.75, 'entity': {}}, {'id': 714209, 'distance': 173246.484375, 'entity': {}}, {'id': 4865228, 'distance': 173875.90625, 'entity': {}}, {'id': 8432698, 'distance': 175921.5, 'entity': {}}, {'id': 4707569, 'distance': 177769.265625, 'entity': {}}, {'id': 1011484, 'distance': 179262.484375, 'entity': {}}, {'id': 8603125, 'distance': 179433.90625, 'entity': {}}, {'id': 8640205, 'distance': 180895.640625, 'entity': {}}, {'id': 9706172, 'distance': 181033.421875, 'entity': {}}, {'id': 8279265, 'distance': 182508.46875, 'entity': {}}, {'id': 4705215, 'distance': 182589.1875, 'entity': {}}, {'id': 6439365, 'distance': 183128.734375, 'entity': {}}, {'id': 5833165, 'distance': 183419.6875, 'entity': {}}, {'id': 2150384, 'distance': 183830.3125, 'entity': {}}, {'id': 2913105, 'distance': 184838.765625, 'entity': {}}, {'id': 6027229, 'distance': 187538.9375, 'entity': {}}, {'id': 1500994, 'distance': 189938.390625, 'entity': {}}, {'id': 9413580, 'distance': 194672.953125, 'entity': {}}, {'id': 2599750, 'distance': 195040.140625, 'entity': {}}, {'id': 6691449, 'distance': 202639.5, 'entity': {}}, {'id': 4139760, 'distance': 203189.8125, 'entity': {}}, {'id': 1091752, 'distance': 203659.234375, 'entity': {}}, {'id': 8004183, 'distance': 204306.0, 'entity': {}}, {'id': 5897037, 'distance': 227020.890625, 'entity': {}}]"]
exp: 44843 <= label <= 44942
Traceback (most recent call last):
  File "utils/pymilvus_ivfpq.py", line 246, in <module>
    if(ids[i][top] == gt[i][gtind]):
IndexError: list index out of range
Command exited with non-zero status 1
	Command being timed: "python -u utils/pymilvus_ivfpq.py sift10M 10000000 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_100.json 100 30 collection_sift10M_sel_1_100000_random_128 query 128 128"
	User time (seconds): 1.98
	System time (seconds): 1.57
	Percent of CPU this job got: 261%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:01.36
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 130400
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 40774
	Voluntary context switches: 536
	Involuntary context switches: 606621
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 1
