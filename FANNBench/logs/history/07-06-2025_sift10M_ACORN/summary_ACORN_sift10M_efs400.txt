Start time: 02:38
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift10M
N: 10000000
gamma: 25
M: 40
M_beta: 64
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_1_100000_random_M40_ga25_Mb64
ef_search: 400 
dim: 128
metadata or vector loaded from json, size: 10000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 1.896s ] Loaded metadata, 10000000 attr's found
[ 1.896s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.900s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
[ 1.903s ] Loaded 10000 sift10M queries
metadata or vector loaded from json, size: 1000000
loaded gt from: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json
[ 2.082s ] Loaded ground truth, gt_size: 100
[ 2.082s ] Index Params -- d: 128, M: 40, N: 10000000, gamma: 25
--ACORN index created
acorn size: 5985260000, memory: 10705.242MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 9999555 nodes
level 1 : 249955 nodes
level 2 : 6212 nodes
level 3 : 140 nodes
level 4 : 3 nodes
level 5 : 0 nodes
Total edge:10255865
Average degree per layer:1709310.833
node size:10000000
Average degree:149.631
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 13.147s ] Searching the 100 nearest neighbors of 10000 vectors in the index, efsearch 400
selectivity: 0.500
[ 653.361s ] Query results (vector ids, then distances):
query 0 nn's (16495): 1167995 (22866) 6141318 (31677) 1160663 (44937) 4738758 (63657) 7293718 (39822) 7632021 (61505) 1020562 (25533) 6984373 (66297) 7077742 (48276) 9397776 (41815) 238649 (52700) 9536881 (62309) 7860530 (36909) 7866119 (35104) 2375126 (35044) 77153 (55251) 8851580 (35051) 1835932 (42846) 7164607 (51560) 6951413 (64572) 1077702 (54735) 5770330 (20661) 8435256 (22283) 9251169 (17058) 5343331 (64452) 4874283 (26334) 4689336 (50131) 9860956 (45915) 419470 (53438) 3255720 (45053) 7873580 (61095) 2481703 (26660) 9409479 (53603) 3663987 (28773) 331007 (42101) 9534078 (23152) 8428377 (21292) 6019325 (39083) 392808 (49021) 4897568 (21711) 1929740 (63695) 3879851 (51251) 5305337 (33050) 9607176 (18423) 6002319 (38494) 6871531 (32699) 242725 (22773) 1203246 (35809) 4770231 (18286) 5324763 (21207) 7237592 (57273) 9237550 (19315) 7912999 (56114) 7459877 (65985) 7011791 (23273) 2365415 (44282) 5001655 (54619) 5686859 (17291) 447965 (21988) 839586 (47809) 46468 (34801) 9906463 (54872) 4671898 (19963) 3369112 (45196) 4047656 (37028) 5228659 (32650) 3049131 (56789) 6009021 (45302) 1059921 (24441) 1891236 (55041) 7220675 (64056) 6071002 (32340) 7200266 (62910) 1000673 (62068) 3384323 (18456) 7895839 (33099) 4532213 (19173) 7989030 (16945) 7263957 (52681) 8052577 (63399) 476293 (42096) 5356206 (17599) 4218358 (21713) 3094752 (38222) 8838842 (42249) 4436135 (46921) 4271011 (16541) 902148 (61383) 6425728 (45806) 1449158 (58339) 8446671 (55365) 9501438 (62638) 9119171 (57162) 6392245 (58867) 8898051 (65788) 3409110 (29194) 5600358 (36832) 867263 (31804) 9584266 (30762) 5972935 (59004) 
     dis: 	72023.000 73183.000 74292.000 74463.000 75573.000 75587.000 76767.000 76880.000 76934.000 77424.000 77858.000 78206.000 78859.000 79448.000 79929.000 79964.000 80060.000 80072.000 80358.000 80726.000 80790.000 81243.000 81799.000 81847.000 81853.000 82000.000 82232.000 82276.000 82431.000 82432.000 82438.000 82457.000 82688.000 82852.000 83126.000 83197.000 83232.000 83269.000 83552.000 83581.000 83583.000 83717.000 83735.000 83936.000 83988.000 84002.000 84214.000 84353.000 84388.000 84463.000 84487.000 84526.000 84734.000 84945.000 85235.000 85293.000 85310.000 85405.000 85625.000 85800.000 85831.000 85842.000 85847.000 85865.000 85876.000 85928.000 86023.000 86034.000 86093.000 86203.000 86211.000 86280.000 86329.000 86345.000 86376.000 86379.000 86402.000 86458.000 86743.000 86793.000 86891.000 86902.000 86906.000 86958.000 87152.000 87276.000 87297.000 87357.000 87485.000 87494.000 87510.000 87543.000 87559.000 87576.000 87602.000 87631.000 87654.000 87684.000 87824.000 87846.000 
query 1 nn's (66494): 285986 (29147) 1273419 (33970) 7501440 (19981) 411491 (28374) 3221056 (31139) 8349375 (52325) 469965 (40746) 9958454 (20815) 9791343 (31369) 3309105 (58581) 1120308 (58129) 8596968 (57015) 7917424 (30836) 9009284 (43025) 371485 (21478) 7120642 (56260) 6378991 (24604) 7331745 (31011) 2993914 (24499) 8879018 (38985) 9015118 (35539) 4922660 (25703) 7692715 (33795) 5008572 (16803) 5531491 (42049) 375999 (11846) 4870548 (14957) 5509879 (56316) 9933148 (29627) 6073626 (52753) 296178 (9794) 1843885 (58567) 7693023 (48225) 9537422 (38205) 8646169 (48602) 3631651 (46071) 9781041 (46813) 3786289 (47328) 5516040 (39608) 1341845 (13158) 1784776 (14038) 9167559 (28640) 1350904 (17079) 8590082 (35871) 2473259 (21347) 6174201 (27446) 7342014 (43207) 8588450 (26655) 9245954 (25046) 8918460 (22635) 8152291 (58419) 4689763 (13954) 9211699 (48066) 1000577 (42240) 741761 (13735) 1461697 (9342) 8440112 (16815) 1259657 (41217) 8984166 (19820) 6533284 (58872) 4649124 (10463) 6986308 (42127) 9913606 (25633) 2807070 (21497) 7315015 (40488) 5386381 (56639) 2652241 (18132) 7672903 (50549) 9349060 (12055) 8675363 (15599) 2234566 (43091) 2353489 (36758) 6630533 (47319) 8828687 (57507) 5226515 (31871) 691253 (12031) 4009753 (42973) 6971668 (13402) 482087 (52392) 3231603 (11404) 7968009 (34408) 2093850 (58698) 8518091 (32017) 1932354 (54429) 1345854 (17575) 5790422 (10136) 6672132 (28461) 5254261 (23886) 3740235 (47884) 3891904 (36054) 7513620 (14628) 8155958 (44047) 9388703 (42582) 735668 (54882) 5307850 (28502) 5869072 (17436) 6383821 (40068) 6281612 (57414) 8743749 (50038) 7856853 (44589) 
     dis: 	43778.000 46522.000 46910.000 46959.000 49695.000 49997.000 50753.000 51055.000 51493.000 51760.000 52532.000 52768.000 52837.000 52935.000 54431.000 54684.000 54869.000 54968.000 55326.000 56123.000 56457.000 56486.000 56490.000 56506.000 56591.000 56619.000 56915.000 56959.000 57000.000 57111.000 57313.000 57411.000 57450.000 57685.000 57703.000 57719.000 57738.000 57771.000 57779.000 57814.000 57917.000 57926.000 57960.000 58064.000 58119.000 58390.000 58531.000 58633.000 58737.000 58837.000 58925.000 59030.000 59230.000 59284.000 59621.000 60324.000 60340.000 60594.000 60632.000 60780.000 60858.000 60913.000 60931.000 61019.000 61093.000 61198.000 61403.000 62051.000 62069.000 62084.000 62094.000 62214.000 62563.000 62681.000 62693.000 62694.000 62791.000 62855.000 63173.000 63219.000 63272.000 63407.000 63533.000 63792.000 63804.000 63807.000 63864.000 63867.000 63956.000 64165.000 64180.000 64475.000 64556.000 64597.000 64772.000 64890.000 64958.000 65021.000 65073.000 65075.000 
query 2 nn's (9202): 4588082 (5850) 1931585 (19001) 289025 (23641) 199400 (49790) 5982237 (43009) 9262583 (10127) 3493381 (41222) 6296252 (42595) 9466222 (12113) 9416415 (22498) 436139 (39429) 2511585 (51247) 4279056 (31979) 9609459 (52017) 9410320 (17475) 5988705 (35014) 4154052 (32764) 2448858 (26319) 40266 (43315) 7654217 (36735) 8068558 (3605) 3942637 (41711) 893390 (20914) 8432027 (41968) 2098752 (8636) 2601636 (4981) 4331583 (20733) 1198061 (39524) 8086660 (10594) 1229611 (42372) 2346097 (47666) 9541874 (40780) 5499961 (41359) 1784913 (17205) 4347605 (5987) 4519717 (16603) 3724739 (11973) 2413882 (42838) 4450077 (4833) 4021389 (14109) 5035777 (42804) 8001622 (38121) 8590994 (28647) 9790465 (51400) 3795529 (39233) 6363894 (12238) 9330360 (23016) 5039283 (52769) 3967402 (4299) 3061201 (36811) 888761 (42790) 9403244 (18354) 2953864 (3859) 141025 (31028) 5631784 (19399) 4495608 (32772) 1160482 (18573) 4957555 (20414) 8635193 (4483) 1463083 (23709) 4259715 (27472) 1878319 (14518) 2412946 (20189) 6856614 (13752) 1956474 (39813) 4713533 (11323) 445822 (18954) 3948507 (46592) 2038327 (32825) 247874 (27384) 764856 (15554) 8965515 (47906) 8064334 (52538) 2180225 (33712) 2721859 (45661) 2027436 (10601) 2800256 (3943) 8329652 (11029) 9302830 (30435) 9724885 (20426) 2247452 (7760) 1700496 (39753) 8690196 (29802) 8703413 (48767) 1758192 (46894) 3667879 (49905) 5488746 (22698) 27015 (15961) 2571149 (4419) 5834114 (42413) 7409471 (23955) 4111853 (11705) 8511243 (52818) 9650562 (41043) 9975313 (47116) 4735422 (29589) 596128 (12783) 483758 (16444) 6511526 (45450) 3457019 (10629) 
     dis: 	47637.000 48317.000 48416.000 49395.000 50144.000 50601.000 51043.000 51071.000 51654.000 51724.000 52554.000 52611.000 52719.000 52894.000 52939.000 53001.000 53029.000 53034.000 53080.000 53106.000 53350.000 53664.000 53672.000 53772.000 53912.000 53913.000 54277.000 54288.000 54318.000 54404.000 54464.000 54558.000 54632.000 54759.000 54968.000 55350.000 55376.000 55630.000 55719.000 55907.000 55983.000 55995.000 56108.000 56197.000 56262.000 56312.000 56319.000 56504.000 56939.000 56977.000 57045.000 57060.000 57221.000 57318.000 57398.000 57423.000 57554.000 57694.000 57831.000 57848.000 57942.000 58055.000 58237.000 58297.000 58484.000 58526.000 58536.000 58549.000 58701.000 58734.000 58933.000 58955.000 59109.000 59124.000 59206.000 59233.000 59276.000 59281.000 59365.000 59587.000 59600.000 59681.000 59783.000 59874.000 59887.000 60030.000 60058.000 60080.000 60086.000 60114.000 60126.000 60183.000 60259.000 60272.000 60295.000 60303.000 60339.000 60413.000 60574.000 60604.000 
query 3 nn's (59201): 980813 (57404) 1527942 (96648) 4147780 (96552) 6151275 (54227) 8410503 (57593) 2965607 (50671) 8174765 (80882) 7301932 (58021) 3643741 (49824) 1218934 (95625) 5124856 (83202) 9132978 (88985) 3421136 (79354) 6917633 (65929) 1417424 (52791) 3143192 (84650) 6411621 (75479) 2892348 (96310) 3041965 (53918) 727241 (54631) 5224964 (92235) 8649378 (64804) 1911911 (93967) 2218358 (96205) 1344917 (94289) 1553832 (56561) 1739894 (59501) 8501071 (59579) 4246457 (73056) 4486659 (62681) 1514080 (69970) 9577990 (76369) 7301436 (87758) 1590183 (88142) 8381210 (50663) 3633444 (58089) 9925791 (97055) 8051314 (74322) 5381241 (67484) 192312 (56033) 879082 (58444) 9313337 (65861) 179529 (69049) 9354839 (82742) 9978957 (58477) 2112048 (90994) 7404448 (97484) 9625994 (68515) 9603354 (76938) 5792548 (50167) 9335193 (61835) 1028926 (67570) 4983026 (77570) 5777538 (67724) 7119531 (90378) 3421950 (66323) 7463079 (77126) 7614050 (89191) 3009997 (97202) 686764 (84900) 2236726 (90758) 422848 (66608) 7865854 (55686) 6045699 (86837) 1061321 (74643) 936598 (90457) 8688385 (51100) 7950822 (60752) 5106668 (83807) 578322 (76455) 2843331 (94548) 6697954 (97706) 8012973 (49730) 7583501 (51620) 8643637 (91536) 3252978 (77827) 3112499 (60951) 3704240 (51893) 7747974 (55824) 7216322 (83941) 597580 (97456) 4995291 (67298) 5181700 (61434) 3379947 (69911) 7556732 (84479) 449169 (84914) 9947826 (87273) 3540851 (56783) 1229577 (98674) 7829631 (88278) 3195943 (64046) 3080406 (50210) 9332155 (77339) 6676311 (50438) 6306155 (92517) 7745448 (77965) 2842840 (85067) 240857 (83846) 9102009 (51785) 4540202 (85638) 
     dis: 	4296.000 4309.000 4550.000 4602.000 4817.000 5013.000 5180.000 5240.000 5279.000 5468.000 5492.000 5559.000 5596.000 5626.000 5643.000 5653.000 5998.000 6047.000 6095.000 6237.000 6378.000 6468.000 6655.000 6693.000 6747.000 6792.000 6845.000 6973.000 6981.000 7021.000 7171.000 7282.000 7394.000 7460.000 7506.000 7509.000 7580.000 7644.000 7666.000 7673.000 7688.000 7693.000 7708.000 7725.000 7788.000 7792.000 7801.000 7825.000 7841.000 8040.000 8123.000 8228.000 8247.000 8322.000 8362.000 8402.000 8404.000 8407.000 8437.000 8491.000 8496.000 8500.000 8579.000 8590.000 8608.000 8643.000 8797.000 8815.000 8875.000 8885.000 8898.000 8912.000 8919.000 8939.000 8954.000 8993.000 9075.000 9212.000 9230.000 9254.000 9370.000 9382.000 9404.000 9470.000 9526.000 9576.000 9621.000 9679.000 9736.000 9746.000 9774.000 9786.000 9813.000 9835.000 9888.000 9980.000 9997.000 10000.000 10018.000 10060.000 
query 4 nn's (3185): 3477074 (81770) 6578584 (38818) 3389697 (48484) 1141817 (80050) 4344456 (43616) 1149636 (70537) 2524726 (73742) 546979 (84338) 9569496 (46755) 3692806 (78743) 7358946 (78288) 7423926 (65584) 3832333 (60859) 7603300 (57407) 5708200 (65636) 8630333 (78134) 3637016 (75733) 2908498 (78047) 1743659 (74315) 6551841 (44576) 5117098 (71983) 6357047 (37869) 3842053 (47229) 2732612 (65651) 4380344 (42821) 6838860 (49930) 4501065 (71247) 8713517 (85738) 3650068 (52380) 9170163 (44830) 3329904 (47742) 9836279 (55277) 4830381 (40295) 3823745 (70484) 2989150 (73723) 4775817 (52301) 1082443 (61970) 4719865 (48976) 9067729 (68162) 3405146 (73681) 5257851 (42550) 9383376 (65777) 3016662 (80615) 5707536 (47200) 1782927 (73442) 6720082 (47192) 64045 (81996) 3647183 (65407) 303093 (72258) 4750135 (57127) 6699578 (59103) 3839204 (40859) 1020874 (60599) 8493266 (66603) 2045614 (57740) 417315 (38580) 4422483 (78850) 6258948 (83408) 1466559 (35927) 5399121 (81519) 8515169 (70508) 7434343 (79828) 9632952 (47320) 5475257 (51556) 4399052 (55143) 5826594 (84832) 1281985 (76129) 6565772 (85719) 5729760 (66147) 5001194 (51110) 3099917 (49532) 272409 (47998) 9821817 (36297) 4374812 (62476) 4551510 (38108) 2288117 (77366) 992395 (66919) 4982207 (84124) 8972367 (43409) 6658100 (78266) 5012556 (55013) 2454280 (80510) 2721988 (37884) 330819 (62462) 3978865 (68342) 1784595 (44244) 3814747 (40292) 9182395 (79583) 6217116 (43388) 1162782 (76796) 5433383 (70512) 5126636 (78266) 3803911 (59233) 797235 (41978) 3475746 (46970) 7069107 (55837) 487654 (77574) 3308297 (62108) 6784852 (64491) 3671814 (57552) 
     dis: 	80355.000 82172.000 84350.000 85933.000 85939.000 85940.000 86290.000 86866.000 86883.000 86927.000 87070.000 87152.000 87409.000 87829.000 88206.000 88437.000 88515.000 88949.000 89054.000 89542.000 89682.000 90314.000 90358.000 90596.000 90617.000 90822.000 90882.000 91007.000 91009.000 91164.000 91223.000 91244.000 91259.000 91268.000 91566.000 91583.000 91730.000 91846.000 92148.000 92174.000 92300.000 92692.000 92881.000 93074.000 93193.000 93429.000 93643.000 93789.000 93920.000 93976.000 94180.000 94216.000 94288.000 94291.000 94445.000 94565.000 94638.000 94672.000 94725.000 94807.000 94897.000 95017.000 95103.000 95165.000 95276.000 95431.000 95434.000 95525.000 95543.000 95630.000 95977.000 96104.000 96157.000 96273.000 96528.000 96597.000 96611.000 96706.000 96804.000 96976.000 97064.000 97065.000 97226.000 97440.000 97454.000 97615.000 97638.000 97667.000 97672.000 97821.000 97848.000 98026.000 98148.000 98154.000 98179.000 98237.000 98333.000 98394.000 98408.000 98423.000 
[ 653.362s ] *** Query time: 113.061
qps: 88.448
 *** acorn recall 
efs:400
acorn get 975996 postive res from 1000000 results, recall@100:0.976
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.004 0.039 0.528 0.428 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[653.418s] Timing results for search of k=100 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 149606567
ndis: 0
nreorder: 0
average distance computations per query: 14960.656
[ 653.418s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift10M 10000000 25 40 64 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_1_100000_random_M40_ga25_Mb64 400 128"
	User time (seconds): 626.61
	System time (seconds): 27.88
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 10:54.98
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 17013976
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 7468019
	Voluntary context switches: 1
	Involuntary context switches: 2632
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 02:56
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift10M
N: 10000000
gamma: 25
M: 40
M_beta: 64
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_1_100000_random_M40_ga25_Mb64
ef_search: 400 
dim: 128
metadata or vector loaded from json, size: 10000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 1.171s ] Loaded metadata, 10000000 attr's found
[ 1.171s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.175s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json
[ 1.177s ] Loaded 10000 sift10M queries
metadata or vector loaded from json, size: 1000000
loaded gt from: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json
[ 1.299s ] Loaded ground truth, gt_size: 100
[ 1.300s ] Index Params -- d: 128, M: 40, N: 10000000, gamma: 25
--ACORN index created
acorn size: 5985260000, memory: 10705.242MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 9999555 nodes
level 1 : 249955 nodes
level 2 : 6212 nodes
level 3 : 140 nodes
level 4 : 3 nodes
level 5 : 0 nodes
Total edge:10255865
Average degree per layer:1709310.833
node size:10000000
Average degree:149.631
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 11.769s ] Searching the 100 nearest neighbors of 10000 vectors in the index, efsearch 400
selectivity: 0.100
[ 573.147s ] Query results (vector ids, then distances):
query 0 nn's (30338): 6141318 (31677) 7293718 (39822) 7860530 (36909) 7866119 (35104) 2375126 (35044) 8851580 (35051) 6019325 (39083) 5305337 (33050) 6002319 (38494) 6871531 (32699) 1203246 (35809) 46468 (34801) 4047656 (37028) 5228659 (32650) 6071002 (32340) 7895839 (33099) 3094752 (38222) 5600358 (36832) 9584266 (30762) 9107723 (35394) 6865307 (40092) 5315711 (38979) 1432946 (31393) 705774 (37942) 5008601 (36205) 8135232 (36517) 5577977 (34177) 8615059 (36713) 2478200 (32527) 6899305 (38669) 8360507 (37312) 1313109 (34667) 1136638 (31056) 9085685 (31413) 3947830 (38978) 9422333 (33977) 746007 (34895) 9672475 (38293) 8892654 (36847) 4988257 (36327) 6440255 (32710) 8438028 (31678) 1136340 (34358) 8612315 (32697) 7589020 (37600) 9548834 (39161) 2640746 (31954) 8841384 (38576) 4254855 (35011) 9596672 (40182) 223353 (38579) 9099555 (39603) 8989130 (35440) 3496238 (34854) 3532484 (31798) 6134807 (34370) 4862834 (38903) 102938 (32717) 3206773 (35296) 9122103 (34064) 9868360 (38444) 4985966 (32045) 7907051 (32852) 3645920 (34139) 9097134 (39520) 1530219 (33642) 8435167 (38735) 7100864 (37198) 705927 (35856) 5073149 (38840) 3440180 (37064) 8635455 (35154) 2947576 (33862) 458819 (31656) 1326722 (30890) 2082844 (36255) 4408250 (32306) 9722001 (36218) 1066507 (33527) 4183417 (38130) 4417381 (38052) 33203 (34980) 8070406 (31467) 147219 (34878) 1907588 (35276) 2562887 (34187) 7490838 (39808) 3452727 (37631) 8671427 (33099) 6609059 (39227) 9577450 (34723) 1939129 (36144) 9645387 (39738) 5717461 (35827) 839322 (37140) 3975533 (33764) 4874891 (39564) 7330607 (37534) 9541266 (36406) 4456411 (32239) 
     dis: 	73183.000 75573.000 78859.000 79448.000 79929.000 80060.000 83269.000 83735.000 83988.000 84002.000 84353.000 85831.000 85876.000 85928.000 86280.000 86379.000 86958.000 87654.000 87824.000 88236.000 88343.000 88379.000 88466.000 88599.000 88866.000 88922.000 89184.000 89325.000 89521.000 89696.000 89755.000 89869.000 90165.000 90439.000 90800.000 90926.000 92033.000 92252.000 92310.000 92323.000 92348.000 92570.000 92703.000 92750.000 93011.000 93101.000 93245.000 93280.000 93472.000 93610.000 93709.000 93802.000 94059.000 94063.000 94066.000 94086.000 94103.000 94282.000 94393.000 94416.000 94445.000 94497.000 94922.000 95222.000 95233.000 95324.000 95348.000 95429.000 95522.000 95557.000 95566.000 95604.000 95635.000 95704.000 95715.000 95956.000 96010.000 96042.000 96234.000 96450.000 96459.000 96595.000 96598.000 96616.000 96779.000 97022.000 97050.000 97173.000 97175.000 97242.000 97285.000 97302.000 97428.000 97499.000 97533.000 97552.000 97582.000 97738.000 97862.000 97875.000 
query 1 nn's (40337): 5552416 (78513) 1909131 (86406) 5271910 (85162) 1745130 (81239) 1503119 (86342) 4456023 (81807) 7409966 (77482) 8223991 (85939) 3200275 (77568) 1015812 (81428) 1410399 (79450) 8857836 (86643) 3733744 (80018) 2077396 (86724) 9460541 (85631) 8811964 (78982) 109736 (83008) 8899541 (77302) 8880895 (85935) 5796685 (85349) 3419918 (85008) 9329945 (82932) 6363708 (86935) 7066298 (82075) 4082654 (81611) 5838578 (80325) 3738992 (82987) 7582671 (84196) 9900713 (80753) 2901807 (85802) 5113286 (82655) 8757781 (78436) 4365144 (85163) 2773940 (83061) 6861763 (79255) 1358210 (82366) 4321977 (86855) 9967397 (78546) 5682634 (83480) 4317853 (78238) 5847833 (86661) 4500577 (79020) 1116609 (86888) 8549337 (81124) 6605974 (84206) 3595041 (81789) 801963 (83162) 2442767 (79429) 2280013 (82912) 9594077 (86656) 509915 (81217) 3059195 (82186) 4565789 (86269) 8588534 (77075) 6639650 (81288) 5481254 (81714) 1886034 (78747) 1329486 (82222) 4546662 (85828) 9220661 (83515) 5988769 (77978) 8717769 (79874) 4558935 (86467) 4007564 (84162) 4058523 (78300) 4811463 (85249) 5424055 (81172) 3435845 (77715) 9015685 (78130) 7374448 (83457) 3209840 (77363) 4430490 (86075) 5117797 (86623) 1208441 (84977) 5425346 (81306) 8189889 (86632) 5466960 (78112) 9294765 (80557) 5234937 (86897) 296036 (85169) 8838862 (78806) 2380220 (83780) 9429619 (85840) 7452672 (82219) 8032969 (80529) 767180 (81326) 5248280 (85367) 3975668 (85506) 2244611 (77270) 2765204 (81025) 3170445 (78292) 7580269 (82450) 6679899 (77613) 2742397 (82912) 5250239 (85491) 9746886 (82707) 3791268 (86621) 6423268 (81346) 4649157 (79932) 4010699 (83940) 
     dis: 	42944.000 51310.000 52252.000 54734.000 59550.000 59585.000 60255.000 61426.000 64056.000 64480.000 64505.000 65552.000 65583.000 65598.000 65602.000 66348.000 66467.000 66896.000 67701.000 68091.000 70467.000 70708.000 70710.000 70821.000 71063.000 71072.000 71399.000 71610.000 72674.000 72743.000 72758.000 72763.000 72819.000 73221.000 73309.000 73722.000 74235.000 74478.000 74500.000 74598.000 75091.000 75262.000 75355.000 75408.000 75572.000 75624.000 75800.000 75826.000 76045.000 76070.000 76465.000 76655.000 77169.000 77186.000 77403.000 77578.000 77900.000 78067.000 78527.000 78559.000 78567.000 78591.000 78628.000 79040.000 79138.000 79667.000 80137.000 80457.000 80504.000 80541.000 80665.000 80727.000 80981.000 80989.000 81002.000 81106.000 81341.000 81418.000 81577.000 81665.000 81824.000 82062.000 82065.000 82254.000 82276.000 82304.000 82417.000 83510.000 83789.000 83796.000 83813.000 83813.000 83880.000 84019.000 84289.000 84366.000 84467.000 84509.000 84567.000 84617.000 
query 2 nn's (77037): 237844 (57153) 8132849 (63316) 2795236 (62148) 9068473 (62147) 8863268 (55928) 8455929 (59448) 4665202 (65519) 8565013 (65663) 4433607 (61698) 1329974 (65153) 4555038 (63166) 8563094 (58325) 1080573 (56490) 8198272 (61501) 6114289 (59111) 7685482 (62295) 7168507 (61488) 5596868 (58496) 8333106 (61471) 2723946 (57827) 4542872 (61400) 9384590 (59693) 5715023 (62436) 8075681 (59224) 8051890 (56266) 945107 (59251) 3224964 (61887) 1795636 (58821) 4647083 (61889) 4898170 (58003) 5228926 (56641) 3108541 (56307) 5520814 (57891) 2350493 (63546) 4497755 (65054) 29358 (65481) 9586564 (59008) 6247603 (63801) 137116 (60929) 2871507 (64701) 330461 (65445) 2523582 (58820) 7454296 (64256) 8084717 (62575) 4703041 (58856) 7651848 (56532) 1366265 (58751) 2883341 (56298) 2540958 (64117) 283793 (56625) 2461335 (62859) 4391513 (62475) 3860058 (61774) 6412105 (61120) 868456 (62065) 4743122 (61891) 9431634 (57575) 7158950 (63558) 9705261 (60516) 1613547 (58741) 6208823 (61767) 7221663 (60629) 5315700 (61751) 9982250 (57564) 245248 (61481) 8383671 (61008) 6553074 (59575) 1015153 (56733) 5270485 (63229) 2721821 (58910) 5985758 (62278) 5878397 (58972) 2764590 (56554) 2382554 (61058) 6090181 (61186) 9212023 (59032) 1143584 (56157) 1579423 (63799) 3612389 (59908) 7464135 (57113) 3714042 (64506) 3624966 (62785) 5787667 (61097) 2007487 (61256) 4299983 (57114) 4511809 (62276) 2220152 (61420) 8597513 (60174) 5074720 (59964) 668342 (65314) 7975982 (61676) 8725358 (58498) 6081638 (56501) 7028317 (60120) 7671868 (56373) 2352405 (59041) 8975057 (60034) 6406251 (59215) 4877317 (64096) 2244705 (58840) 
     dis: 	49294.000 50997.000 51181.000 52145.000 53225.000 53383.000 53809.000 54061.000 54908.000 55134.000 55225.000 55995.000 56182.000 56416.000 56627.000 57176.000 57597.000 57613.000 57924.000 58328.000 58989.000 59021.000 59123.000 59158.000 59334.000 59895.000 60035.000 60175.000 60225.000 60397.000 60628.000 60710.000 61539.000 61611.000 61845.000 61858.000 61965.000 62491.000 62507.000 62667.000 62691.000 62798.000 62909.000 63001.000 63300.000 63338.000 63398.000 63404.000 63499.000 63549.000 63628.000 63630.000 63678.000 63832.000 64004.000 64174.000 64188.000 64334.000 64345.000 64567.000 64786.000 64879.000 64911.000 65420.000 65519.000 65632.000 65675.000 65701.000 65774.000 65778.000 65911.000 66113.000 66246.000 66262.000 66383.000 66496.000 66664.000 66769.000 66775.000 66850.000 66858.000 66915.000 67187.000 67271.000 67273.000 67312.000 67389.000 67395.000 67550.000 67577.000 67607.000 67639.000 67718.000 67733.000 67780.000 67874.000 67974.000 68014.000 68178.000 68183.000 
query 3 nn's (87036): 6411621 (75479) 4246457 (73056) 1514080 (69970) 9577990 (76369) 8051314 (74322) 179529 (69049) 9625994 (68515) 9603354 (76938) 4983026 (77570) 7463079 (77126) 1061321 (74643) 578322 (76455) 3252978 (77827) 3379947 (69911) 9332155 (77339) 7745448 (77965) 4537205 (69605) 4824483 (76626) 9706597 (74482) 4856979 (75280) 4899384 (72017) 4258600 (71620) 2311118 (74542) 5110678 (76661) 5566648 (76538) 6934608 (78112) 5758654 (75285) 9833335 (77885) 2941694 (75342) 3877232 (75132) 3523917 (69249) 115823 (73565) 2256506 (68295) 4491781 (76846) 6943685 (74006) 6091433 (73224) 8959954 (71809) 5147194 (72622) 3965061 (75682) 1787200 (69230) 8157747 (69658) 1961581 (78022) 6252048 (74147) 5498749 (76453) 1096237 (78243) 4104803 (73729) 9604675 (71943) 116302 (75981) 4338667 (76290) 4933042 (77577) 434846 (75860) 6662913 (70602) 7018328 (77497) 7887517 (75786) 957097 (68545) 2960857 (72083) 2050399 (70248) 8532848 (73219) 8198543 (69740) 9081529 (71677) 5330122 (76348) 650123 (74647) 6306650 (70227) 3610014 (69045) 8663753 (69694) 4664026 (76358) 3547401 (70131) 5429548 (77215) 6089729 (74507) 3004616 (77242) 617732 (74005) 7865409 (71914) 6901252 (69639) 3284716 (71856) 6141330 (71761) 8267830 (72849) 5520378 (71660) 2139674 (71194) 675474 (72788) 2789396 (77393) 5623544 (73074) 424664 (69813) 848098 (76205) 1850642 (68351) 9512018 (69878) 3925959 (76081) 8538918 (76447) 899264 (69740) 9083030 (74195) 3053302 (73591) 6156871 (73592) 5577884 (76925) 6342790 (75860) 7276573 (72528) 4825798 (71816) 7966182 (78001) 9211610 (72496) 3013029 (68711) 4376452 (73079) 2411446 (71039) 
     dis: 	5998.000 6981.000 7171.000 7282.000 7644.000 7708.000 7825.000 7841.000 8247.000 8404.000 8608.000 8885.000 8993.000 9470.000 9813.000 9980.000 10154.000 10174.000 10493.000 10532.000 10665.000 10702.000 10792.000 10821.000 10846.000 10851.000 10977.000 10990.000 10994.000 11135.000 11236.000 11239.000 11270.000 11345.000 11402.000 11545.000 11598.000 11814.000 11823.000 12107.000 12215.000 12233.000 12370.000 12402.000 12425.000 12449.000 12475.000 12477.000 12528.000 12581.000 12703.000 12925.000 12973.000 12997.000 13280.000 13373.000 13393.000 13452.000 13530.000 13569.000 13660.000 13700.000 13837.000 13838.000 13894.000 13904.000 14106.000 14164.000 14165.000 14232.000 14449.000 14525.000 14544.000 14582.000 14633.000 14672.000 14774.000 14870.000 14911.000 14933.000 15158.000 15176.000 15192.000 15218.000 15254.000 15407.000 15552.000 15584.000 15623.000 15654.000 15797.000 15851.000 15852.000 16025.000 16027.000 16087.000 16089.000 16102.000 16154.000 16161.000 
query 4 nn's (55705): 6578584 (38818) 6357047 (37869) 4380344 (42821) 4830381 (40295) 935279 (38708) 5257851 (42550) 8478796 (34009) 7559534 (34726) 3839204 (40859) 417315 (38580) 1466559 (35927) 9821817 (36297) 4551510 (38108) 1194149 (42059) 2721988 (37884) 3814747 (40292) 797235 (41978) 6468850 (33298) 8742734 (35925) 2528505 (42180) 4355165 (36701) 2840566 (32970) 1355777 (35010) 1508852 (41574) 9353798 (42619) 3287249 (35694) 2161200 (41175) 9293426 (36276) 1947516 (39904) 6559886 (41230) 5674137 (35926) 6770270 (37124) 2178583 (39724) 7210902 (34563) 7360489 (42573) 4179938 (41546) 2625230 (34952) 7261106 (38848) 8843847 (34786) 4982198 (41794) 9074384 (42770) 2423429 (42078) 1086928 (34656) 933705 (35471) 6132133 (35938) 3368229 (35512) 1381124 (33201) 8325663 (40558) 6152391 (40418) 34728 (33521) 8137702 (38188) 230302 (33409) 8210698 (41615) 6361396 (38338) 9825567 (40718) 1417456 (42485) 2352243 (35415) 9394278 (40775) 4122433 (37847) 8065643 (36769) 4413812 (39749) 4122303 (37458) 2071068 (33013) 4186740 (33627) 3587564 (33538) 1635265 (38182) 4337818 (33817) 3739124 (38868) 3732556 (39898) 4738668 (36615) 3529474 (35064) 6819816 (35889) 4230287 (36808) 3300045 (37849) 9687221 (35602) 1319029 (40740) 9999853 (42029) 1528313 (42186) 795939 (35580) 854041 (37966) 6527495 (38120) 6871356 (38212) 4650677 (34446) 9484373 (39404) 8227456 (34411) 280740 (38932) 1200356 (37898) 3135878 (42728) 1083442 (40498) 8683631 (38436) 4440064 (36556) 2479436 (36680) 7011109 (40800) 9338967 (33200) 3797890 (38909) 3431944 (35508) 8752105 (41411) 2596769 (36909) 9225825 (34921) 7480361 (40223) 
     dis: 	82172.000 90314.000 90617.000 91259.000 91951.000 92300.000 93054.000 93517.000 94216.000 94565.000 94725.000 96157.000 96528.000 97089.000 97226.000 97638.000 98154.000 98748.000 99004.000 99006.000 99536.000 99749.000 100068.000 100216.000 100266.000 100312.000 100676.000 100967.000 100979.000 101018.000 101026.000 101255.000 101293.000 101343.000 101655.000 102032.000 102068.000 102266.000 102270.000 102326.000 102477.000 102613.000 102639.000 102758.000 102961.000 103089.000 103263.000 103263.000 103353.000 103387.000 103459.000 103690.000 104034.000 104191.000 104226.000 104284.000 104566.000 104644.000 104690.000 104940.000 104972.000 104994.000 105047.000 105180.000 105422.000 105594.000 105873.000 105947.000 106067.000 106224.000 106335.000 106347.000 106376.000 106438.000 106449.000 106593.000 106702.000 106783.000 106857.000 106968.000 107019.000 107154.000 107184.000 107292.000 107296.000 107449.000 107449.000 107512.000 107581.000 107632.000 107673.000 107700.000 107757.000 107763.000 107864.000 108160.000 108224.000 108294.000 108335.000 108576.000 
[ 573.147s ] *** Query time: 136.153
qps: 73.447
 *** acorn recall 
efs:400
acorn get 987952 postive res from 1000000 results, recall@100:0.988
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.001 0.009 0.418 0.572 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[573.209s] Timing results for search of k=100 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 112938766
ndis: 0
nreorder: 0
average distance computations per query: 11293.877
[ 573.209s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift10M 10000000 25 40 64 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_1_100000_random_M40_ga25_Mb64 400 128"
	User time (seconds): 547.70
	System time (seconds): 27.27
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 9:35.44
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 17014916
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 7166578
	Voluntary context switches: 0
	Involuntary context switches: 2139
	Swaps: 0
	File system inputs: 0
	File system outputs: 64
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:21
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift10M
N: 10000000
gamma: 25
M: 40
M_beta: 64
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_1_100000_random_M40_ga25_Mb64
ef_search: 400 
dim: 128
metadata or vector loaded from json, size: 10000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 1.267s ] Loaded metadata, 10000000 attr's found
[ 1.267s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.270s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json
[ 1.272s ] Loaded 10000 sift10M queries
metadata or vector loaded from json, size: 1000000
loaded gt from: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_100.json
[ 1.398s ] Loaded ground truth, gt_size: 100
[ 1.398s ] Index Params -- d: 128, M: 40, N: 10000000, gamma: 25
--ACORN index created
acorn size: 5985260000, memory: 10705.242MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 9999555 nodes
level 1 : 249955 nodes
level 2 : 6212 nodes
level 3 : 140 nodes
level 4 : 3 nodes
level 5 : 0 nodes
Total edge:10255865
Average degree per layer:1709310.833
node size:10000000
Average degree:149.631
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 13.478s ] Searching the 100 nearest neighbors of 10000 vectors in the index, efsearch 400
selectivity: 0.010
[ 528.726s ] Query results (vector ids, then distances):
query 0 nn's (66811): 8403027 (67450) 2260181 (67765) 3704351 (66936) 9378841 (67272) 8710437 (67666) 7733897 (67571) 6592213 (67197) 4173863 (67608) 4910821 (67040) 962371 (66952) 2620182 (67682) 9107698 (67599) 873412 (67168) 3843925 (67076) 8845691 (66999) 3526473 (67146) 3813172 (67723) 9314443 (67545) 6937422 (67301) 7091250 (67596) 2758974 (67297) 4929785 (67064) 1428198 (67700) 561922 (67632) 1938934 (66865) 5492067 (67489) 2762041 (67060) 4701803 (67593) 7102788 (67612) 8423848 (67281) 6263573 (67526) 8049250 (67422) 7127231 (67569) 7148781 (67671) 3561475 (67031) 2661201 (67505) 2569556 (67318) 4018856 (66829) 6768337 (67642) 476247 (67555) 1473467 (67795) 9927783 (66921) 2036782 (67516) 1822807 (67165) 3637471 (67727) 5284556 (66887) 9221841 (67314) 4067947 (67446) 8210098 (66940) 1311600 (67177) 9099514 (66886) 682125 (67648) 5421355 (67569) 2874557 (66829) 5134913 (66830) 720518 (67517) 8650332 (67794) 7945013 (67385) 8905430 (67146) 4703390 (67124) 6429861 (66814) 7177862 (66881) 5944896 (67561) 1466972 (67100) 8491615 (67708) 4797604 (67241) 767289 (66900) 2347824 (67120) 5074605 (67699) 4687582 (67402) 7409873 (67552) 9631577 (67273) 2066339 (66861) 3186439 (67131) 8905026 (66859) 1373789 (67491) 5333122 (67477) 8572299 (67776) 4243506 (67419) 5816333 (67209) 8106224 (67545) 4399701 (66952) 1491438 (67316) 5349916 (67073) 3711488 (67440) 8473066 (66998) 3087653 (67569) 6752283 (67516) 4571270 (67294) 1270987 (67021) 7491791 (66938) 9677390 (67109) 4280051 (67015) 3642471 (67213) 5211831 (67128) 4742405 (67043) 1926617 (67042) 423904 (67358) 2617611 (67362) 8785189 (67454) 
     dis: 	87416.000 90521.000 90932.000 91614.000 91758.000 93100.000 93236.000 93463.000 93775.000 94914.000 96020.000 96724.000 96833.000 98315.000 99498.000 99530.000 100645.000 101750.000 101980.000 102094.000 102582.000 102661.000 103223.000 103345.000 103484.000 103672.000 103933.000 103955.000 105524.000 105738.000 106104.000 106285.000 106476.000 106835.000 107334.000 107677.000 108295.000 109300.000 109366.000 109560.000 109848.000 109904.000 109952.000 110418.000 110518.000 110722.000 110750.000 111147.000 111332.000 111643.000 111757.000 111778.000 111983.000 112217.000 112325.000 112806.000 113163.000 113208.000 113230.000 113295.000 113338.000 113426.000 113491.000 113544.000 113861.000 114001.000 114003.000 114063.000 114081.000 114192.000 114454.000 114809.000 114966.000 115089.000 115149.000 115157.000 115158.000 115262.000 115270.000 115434.000 115491.000 115505.000 115715.000 115854.000 116029.000 116138.000 116361.000 116367.000 116523.000 116570.000 116654.000 116811.000 116912.000 116979.000 117077.000 117549.000 117659.000 117932.000 118291.000 118333.000 
query 1 nn's (67810): 5838578 (80325) 9900713 (80753) 8549337 (81124) 509915 (81217) 5424055 (81172) 9294765 (80557) 8032969 (80529) 2765204 (81025) 5666656 (80815) 6168230 (80264) 6225217 (80943) 5941545 (80770) 8366738 (80505) 4099900 (80711) 5426587 (80360) 396317 (81225) 7853731 (80509) 3620796 (80258) 2674497 (80311) 7581274 (81100) 6768824 (80544) 6067204 (80454) 7830504 (80353) 3590023 (80534) 7026865 (81171) 3591833 (80960) 9688174 (80685) 8029168 (80656) 7582695 (80751) 8180678 (81075) 3861622 (80950) 6408 (80621) 5667339 (80392) 7931185 (80636) 6983565 (80270) 8045632 (80849) 8150421 (80634) 4278462 (80257) 6451481 (81107) 2075235 (80860) 3111838 (80707) 7364489 (80263) 2246180 (80570) 9211101 (80695) 553463 (80259) 1714383 (80586) 6504915 (80333) 5871892 (80835) 3476862 (80771) 2499255 (80367) 9654343 (80841) 44901 (81166) 8470707 (81161) 6767214 (81156) 711954 (81007) 2828683 (80755) 8911613 (80284) 9442946 (80695) 4947700 (80294) 189701 (80601) 6840018 (80429) 8382087 (80438) 8596783 (80298) 6602250 (80967) 7331686 (81058) 3860320 (80802) 8442852 (81041) 6328935 (80742) 4479412 (81073) 163817 (80427) 1377258 (81017) 855717 (80316) 5893925 (80342) 8321964 (81174) 8623781 (80941) 2842302 (80516) 3711642 (80514) 3711993 (81021) 1258305 (81086) 8160407 (80307) 3024802 (80696) 3885784 (81038) 2830600 (80781) 6907313 (80401) 1977575 (80775) 7133610 (80531) 3076896 (80572) 1186743 (80239) 5364563 (81106) 1937820 (80433) 8864906 (80550) 8592796 (81117) 9708248 (81169) 5814915 (80285) 7284954 (80464) 4132515 (80664) 4611358 (80640) 8641473 (80656) 6098453 (80771) 6035761 (80410) 
     dis: 	71072.000 72674.000 75408.000 76465.000 80137.000 81418.000 82276.000 83796.000 85142.000 86482.000 86554.000 87104.000 87114.000 88931.000 89134.000 89540.000 90043.000 90700.000 91914.000 92577.000 93446.000 93733.000 94292.000 94819.000 94831.000 96421.000 97460.000 97589.000 97596.000 97687.000 98184.000 98404.000 98491.000 99108.000 99314.000 99607.000 100309.000 100955.000 101049.000 101052.000 101088.000 101740.000 101851.000 102321.000 102449.000 102625.000 103002.000 103375.000 103452.000 103638.000 103682.000 104460.000 104701.000 104772.000 105049.000 105109.000 105346.000 105963.000 106098.000 106439.000 106605.000 106783.000 106925.000 106990.000 107514.000 108412.000 108512.000 108641.000 108695.000 108806.000 109120.000 109146.000 109701.000 110324.000 110440.000 110477.000 110673.000 110902.000 110995.000 111189.000 111384.000 111391.000 111462.000 111555.000 111604.000 111721.000 111753.000 111770.000 112099.000 112243.000 112463.000 112672.000 112902.000 113125.000 113135.000 113197.000 113309.000 113401.000 113583.000 113955.000 
query 2 nn's (80229): 5727909 (90490) 515037 (90656) 5709226 (90258) 4112561 (89860) 86206 (89955) 7466107 (89787) 8860131 (89804) 1380491 (90138) 4347309 (90358) 5406339 (90424) 5043393 (90355) 3827437 (90317) 7964601 (89960) 981842 (89952) 7223463 (89971) 5224373 (90157) 2140486 (90307) 3582852 (90144) 1944507 (90001) 5017634 (90012) 5907913 (89721) 8196817 (89980) 7004103 (89868) 3843694 (90380) 3973290 (89737) 6034490 (90076) 7537883 (90124) 7734691 (89795) 4502826 (90525) 9827814 (90252) 2581224 (90603) 6140224 (90545) 991901 (90604) 7611121 (90091) 7879176 (90271) 729684 (90430) 2323619 (90250) 4129975 (89746) 4511904 (90618) 6594457 (90026) 2868611 (89951) 5908251 (89799) 3636755 (89788) 9803398 (90512) 9028216 (90549) 8423097 (90464) 7715900 (90394) 7446969 (89822) 7058647 (89879) 5782741 (90379) 9362764 (90134) 7156368 (90657) 8894577 (90486) 4717677 (90663) 7728486 (90223) 6947930 (89791) 6046323 (90037) 8861125 (90024) 4312200 (90591) 5680835 (89904) 5567501 (90541) 9376418 (90389) 4148572 (90018) 9453350 (90583) 9609753 (90295) 3303937 (90116) 3309996 (90344) 6951173 (90307) 1175959 (90028) 6041107 (90367) 2029499 (89844) 9328463 (89788) 9571295 (90469) 4958619 (89999) 7040637 (89866) 1965354 (89728) 2480763 (90160) 8637335 (90531) 9308696 (90383) 59872 (89885) 5995668 (90171) 602185 (89882) 6327565 (90575) 78458 (89733) 1065921 (90122) 3348434 (90524) 5958397 (90515) 4712776 (89997) 2428976 (90254) 2292676 (90516) 15387 (90569) 5587985 (90389) 3125495 (89874) 6365848 (90386) 9987830 (90043) 4202025 (90030) 408310 (90594) 1624938 (90244) 9786019 (90204) 534273 (90337) 
     dis: 	60084.000 61187.000 61273.000 61277.000 62188.000 63202.000 65394.000 66237.000 66548.000 68801.000 68879.000 71749.000 72707.000 72900.000 73360.000 73471.000 73918.000 74225.000 74255.000 74834.000 75195.000 75292.000 75351.000 75816.000 75911.000 76436.000 76845.000 77248.000 77430.000 77700.000 78594.000 78664.000 78931.000 79130.000 79161.000 79847.000 79921.000 80019.000 80099.000 80418.000 80541.000 81002.000 81314.000 81419.000 81449.000 82017.000 82057.000 82094.000 82213.000 82498.000 82647.000 82744.000 82770.000 82818.000 82948.000 82990.000 83004.000 83106.000 83113.000 83113.000 83118.000 83155.000 83160.000 83760.000 84216.000 84308.000 84325.000 84480.000 84497.000 84630.000 84920.000 85252.000 85261.000 85309.000 85335.000 85507.000 85568.000 85663.000 85682.000 86011.000 86047.000 86102.000 86110.000 86123.000 86181.000 86460.000 86721.000 86808.000 86995.000 87305.000 87336.000 87674.000 87675.000 87931.000 88026.000 88038.000 88045.000 88163.000 88257.000 88346.000 
query 3 nn's (81228): 840086 (7034) 6281603 (7047) 1180726 (6952) 7890747 (7446) 9231939 (6869) 493857 (7268) 8089617 (7268) 8618960 (7556) 8701088 (6988) 4498186 (6839) 907443 (6923) 3917528 (7833) 9526471 (7592) 7302298 (6887) 232753 (7204) 9623826 (7197) 3094610 (7202) 5548322 (6881) 2009002 (6908) 8362700 (7030) 5466233 (7407) 3647654 (7077) 7210863 (7612) 8404341 (7090) 3258762 (6929) 2090840 (7817) 1486412 (7135) 639753 (7377) 9245688 (7071) 9140968 (7271) 438493 (6876) 7727529 (7430) 7287289 (7361) 606674 (7758) 1022275 (7634) 6081816 (7748) 4909074 (7438) 5354276 (7506) 4299939 (7534) 1554089 (7563) 9161719 (7320) 6046972 (7747) 4926732 (6976) 3692343 (7190) 2000232 (7446) 3779998 (7672) 4450655 (7311) 5538121 (7042) 9778189 (7176) 538489 (7211) 7514291 (6979) 8204406 (7043) 5488169 (7685) 5203333 (7269) 3615073 (7561) 5172258 (7095) 799918 (7655) 452242 (7405) 816336 (7106) 6920826 (7045) 2128995 (7073) 8991739 (6849) 1441085 (7472) 9464792 (7670) 8037472 (6901) 3416045 (7696) 2753223 (7680) 7820689 (6838) 9938976 (7500) 1222837 (7829) 9597935 (7209) 2389755 (7562) 2253039 (7388) 5486652 (7261) 2558587 (7086) 5002736 (7053) 4835206 (6992) 7527407 (7703) 4187347 (7507) 3949103 (7673) 4284323 (7605) 3978452 (7650) 8598492 (7062) 4952836 (7642) 9269979 (7639) 7739196 (7299) 418466 (7776) 2327647 (7291) 312316 (7641) 374214 (7199) 1181329 (7341) 4782467 (7355) 1043026 (7252) 2716133 (7694) 2231159 (6874) 4681538 (6949) 1594161 (7181) 2478369 (7188) 1151699 (7211) 8253758 (7685) 
     dis: 	9013.000 9157.000 11574.000 12341.000 13039.000 13482.000 13812.000 14688.000 15266.000 15771.000 15871.000 16066.000 16282.000 16701.000 18419.000 18466.000 18667.000 19324.000 19488.000 19726.000 20227.000 20599.000 20837.000 21551.000 22891.000 23420.000 23999.000 24238.000 24369.000 24433.000 24700.000 24922.000 25095.000 25174.000 25235.000 25636.000 25769.000 26030.000 26166.000 26228.000 26344.000 26400.000 26839.000 26931.000 27438.000 27560.000 27685.000 27739.000 27763.000 27846.000 27855.000 27993.000 28246.000 28299.000 28408.000 28468.000 28495.000 28524.000 28642.000 28907.000 28934.000 28986.000 29136.000 29295.000 29434.000 29450.000 29611.000 29766.000 29833.000 29860.000 29882.000 29978.000 30109.000 30221.000 30314.000 30385.000 30513.000 30830.000 30919.000 31169.000 31487.000 31601.000 31737.000 31805.000 31906.000 31912.000 31950.000 32018.000 32096.000 32136.000 32146.000 32174.000 32371.000 32456.000 32646.000 32923.000 33087.000 33142.000 33185.000 33189.000 
query 4 nn's (89717): 1162782 (76796) 4082080 (76531) 6221821 (76784) 1618996 (76691) 8319961 (76609) 8207174 (77036) 6531232 (76299) 3199307 (76965) 1776999 (76473) 6274805 (76455) 3136966 (76552) 608851 (76588) 6627719 (76242) 1903611 (76234) 1539863 (76530) 4181311 (76969) 5352085 (76950) 3520884 (76965) 6292460 (77207) 6365202 (76568) 6556006 (76613) 4730227 (77095) 4273418 (77031) 3376181 (76798) 8432554 (76502) 1271454 (76737) 1952210 (76924) 6162168 (76750) 2958111 (76909) 136176 (76349) 8562010 (77147) 5871538 (76601) 5043646 (76583) 9022000 (76799) 4183967 (76467) 6862891 (76952) 5578253 (76991) 6506698 (76701) 6394828 (76349) 7497064 (76252) 6688925 (77117) 9474436 (76232) 9721131 (76870) 4091152 (76530) 5004079 (76417) 2186749 (76699) 2471753 (76829) 5821583 (76393) 9908144 (76273) 996143 (76544) 9803152 (76476) 2337606 (76321) 6561885 (77127) 6361804 (76947) 7615725 (76929) 1610200 (76943) 3605992 (77175) 7261021 (76283) 8916251 (76273) 5047340 (76256) 9599891 (76561) 1772958 (76963) 7931620 (77115) 9125903 (76765) 6758813 (76510) 6887605 (76999) 406301 (77040) 5575835 (76723) 9492467 (76507) 4003644 (77017) 366456 (76893) 9264739 (76973) 1802148 (76955) 6432205 (76861) 4196262 (76458) 9108671 (77070) 7415358 (77137) 9056744 (77088) 8921634 (76923) 4225267 (76453) 1613898 (76929) 5677165 (76733) 7321437 (76533) 9468406 (77220) 2182713 (76499) 618280 (76777) 6934604 (76932) 7003764 (76601) 1237322 (76824) 9065465 (76564) 1828847 (76641) 5680785 (76237) 345070 (76837) 9621610 (76392) 1437854 (76356) 5647249 (77110) 9606395 (76962) 7825164 (76814) 4425319 (76743) 6265241 (76979) 
     dis: 	97821.000 99987.000 105884.000 106853.000 107346.000 107347.000 107637.000 108263.000 109802.000 110484.000 110513.000 110772.000 110826.000 110888.000 110914.000 111934.000 112236.000 112271.000 112364.000 112651.000 112935.000 113198.000 113729.000 113876.000 113998.000 115147.000 115298.000 115371.000 115429.000 115625.000 115798.000 115828.000 116160.000 116545.000 116571.000 116854.000 117003.000 117235.000 117529.000 117597.000 117979.000 118351.000 118422.000 118479.000 118535.000 119310.000 119429.000 119459.000 119468.000 119511.000 119582.000 119841.000 119902.000 119958.000 119985.000 120012.000 120358.000 120729.000 121104.000 121793.000 121930.000 122402.000 122744.000 122849.000 122894.000 123029.000 123392.000 123533.000 123923.000 123972.000 124297.000 124785.000 125005.000 125098.000 125116.000 125197.000 125280.000 125320.000 125647.000 125786.000 125801.000 126010.000 126015.000 126088.000 126135.000 126187.000 126500.000 126504.000 126518.000 126643.000 126652.000 126973.000 127122.000 127332.000 127350.000 127366.000 127391.000 127528.000 127632.000 127732.000 
[ 528.726s ] *** Query time: 164.488
qps: 60.795
 *** acorn recall 
efs:400
acorn get 959062 postive res from 1000000 results, recall@100:0.959
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.001 0.005 0.075 0.750 0.170 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[528.767s] Timing results for search of k=100 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 31064687
ndis: 0
nreorder: 0
average distance computations per query: 3106.469
[ 528.767s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift10M 10000000 25 40 64 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_100.json /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_1_100000_random_M40_ga25_Mb64 400 128"
	User time (seconds): 501.88
	System time (seconds): 28.34
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 8:50.42
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 17014668
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 7544862
	Voluntary context switches: 1
	Involuntary context switches: 819
	Swaps: 0
	File system inputs: 0
	File system outputs: 48
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:33
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift10M
N: 10000000
gamma: 25
M: 40
M_beta: 64
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_1_100000_random_M40_ga25_Mb64
ef_search: 400 
dim: 128
metadata or vector loaded from json, size: 10000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 1.293s ] Loaded metadata, 10000000 attr's found
[ 1.293s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.297s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json
[ 1.299s ] Loaded 10000 sift10M queries
metadata or vector loaded from json, size: 1000000
loaded gt from: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_100.json
[ 1.434s ] Loaded ground truth, gt_size: 100
[ 1.434s ] Index Params -- d: 128, M: 40, N: 10000000, gamma: 25
--ACORN index created
acorn size: 5985260000, memory: 10705.242MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 9999555 nodes
level 1 : 249955 nodes
level 2 : 6212 nodes
level 3 : 140 nodes
level 4 : 3 nodes
level 5 : 0 nodes
Total edge:10255865
Average degree per layer:1709310.833
node size:10000000
Average degree:149.631
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 13.862s ] Searching the 100 nearest neighbors of 10000 vectors in the index, efsearch 400
selectivity: 0.001
[ 528.908s ] Query results (vector ids, then distances):
query 0 nn's (44843): 1160663 (44937) 1609860 (44874) 1923487 (44877) 3095531 (44920) 9837787 (44900) 2306496 (44877) 4414639 (44852) 8395367 (44860) 5962510 (44942) 7944820 (44897) 8360904 (44938) 2619475 (44889) 3890373 (44930) 3797653 (44859) 916445 (44848) 973062 (44888) 2808959 (44867) 5974509 (44920) 6459097 (44923) 1625019 (44885) 9480292 (44863) 4568108 (44892) 2792025 (44902) 1370582 (44857) 5189045 (44910) 8333889 (44882) 557171 (44894) 1393512 (44901) 5578552 (44925) 3055598 (44851) 205633 (44892) 1862650 (44856) 4157877 (44936) 8252272 (44852) 836643 (44928) 8963577 (44939) 3679125 (44893) 5368238 (44888) 8250800 (44931) 8183260 (44919) 7720917 (44885) 2383001 (44874) 451723 (44940) 4468284 (44919) 1576578 (44870) 5209663 (44897) 164629 (44845) 5974052 (44847) 5189803 (44907) 6077570 (44928) 8340621 (44846) 5880043 (44858) 8951982 (44915) 8907109 (44936) 7377562 (44904) 3205053 (44909) 484453 (44865) 7788644 (44927) 3817793 (44928) 5857133 (44893) 8270044 (44858) 4587156 (44903) 3078330 (44869) 3216953 (44844) 1328482 (44936) 2404555 (44894) 371497 (44922) 652484 (44871) 565699 (44940) 5115030 (44923) 9803007 (44929) 4590591 (44865) 9901790 (44884) 2441410 (44861) 5702306 (44922) 689647 (44877) 3025648 (44928) 203426 (44905) 8872930 (44857) 3739048 (44888) 4873182 (44882) 1984498 (44886) 2125374 (44925) 9341891 (44880) 3622145 (44899) 9002249 (44905) 1112355 (44849) 1724847 (44915) 9501768 (44862) 7343425 (44896) 4894936 (44883) 277349 (44919) 4572902 (44864) 6253337 (44844) 5430473 (44908) 9975654 (44919) 8356887 (44924) 9126205 (44933) 3427733 (44899) 9580647 (44857) 
     dis: 	74292.000 98657.000 100638.000 111975.000 113619.000 113824.000 115779.000 115823.000 117938.000 118361.000 121324.000 121869.000 122763.000 123909.000 124868.000 127202.000 127743.000 128042.000 129459.000 129727.000 130348.000 130842.000 131411.000 132360.000 133148.000 134303.000 134528.000 135667.000 136262.000 137305.000 139274.000 139811.000 140317.000 140400.000 141148.000 141544.000 143047.000 143050.000 143069.000 143288.000 143555.000 144266.000 144375.000 144492.000 144849.000 144864.000 145891.000 146044.000 147666.000 147747.000 148447.000 149354.000 149472.000 149809.000 149962.000 150009.000 150973.000 151419.000 151457.000 152590.000 152826.000 153688.000 154396.000 154404.000 154413.000 154803.000 155047.000 155117.000 155132.000 155226.000 155308.000 155717.000 155941.000 156272.000 156433.000 156551.000 157252.000 157507.000 158172.000 158386.000 158515.000 159022.000 159483.000 159617.000 159885.000 160271.000 160295.000 160655.000 161075.000 161771.000 161882.000 161911.000 161924.000 162393.000 163206.000 163315.000 163476.000 163847.000 163853.000 164233.000 
query 1 nn's (44942): 7957648 (42897) 5498897 (42903) 508412 (42834) 4910301 (42853) 502289 (42895) 4884755 (42853) 2970984 (42893) 3355759 (42873) 7191186 (42843) 4200867 (42836) 9330654 (42888) 8500554 (42884) 2273257 (42859) 4846142 (42878) 8909252 (42836) 3809888 (42834) 7825938 (42919) 728012 (42832) 6368355 (42838) 3488741 (42850) 7477209 (42879) 4387698 (42902) 2359708 (42825) 4243613 (42882) 9291446 (42919) 5312529 (42912) 6051355 (42850) 7976759 (42872) 5992662 (42906) 9079212 (42857) 7119992 (42846) 1779083 (42852) 6701531 (42895) 9521631 (42901) 3770911 (42868) 2579421 (42830) 1640954 (42844) 9634578 (42836) 4270376 (42903) 2241282 (42841) 2178305 (42892) 3005276 (42821) 4810689 (42874) 9261280 (42895) 2666993 (42909) 7243890 (42899) 900495 (42902) 6619715 (42886) 9339389 (42871) 4468023 (42912) 1360729 (42891) 7717169 (42894) 2030854 (42846) 2396489 (42845) 9961406 (42885) 6970830 (42851) 3297584 (42828) 774880 (42855) 3145482 (42895) 2291602 (42871) 9343385 (42855) 4350027 (42915) 7477068 (42866) 9240751 (42848) 8430097 (42863) 3728716 (42893) 4114406 (42883) 7944396 (42844) 3377031 (42911) 2987260 (42830) 3791713 (42822) 1181834 (42823) 4657884 (42843) 4550268 (42900) 3367968 (42895) 4824258 (42879) 4026183 (42850) 5922894 (42850) 5562422 (42880) 5718891 (42863) 7203630 (42826) 9459653 (42877) 456023 (42899) 3483162 (42847) 4349946 (42862) 4583391 (42853) 3751447 (42888) 9705183 (42825) 2352038 (42870) 5765758 (42840) 5097209 (42912) 637808 (42830) 8720055 (42834) 1280352 (42848) 2110548 (42894) 4781282 (42843) 3041586 (42869) 7184878 (42870) 3622058 (42861) 502219 (42883) 
     dis: 	81752.000 102246.000 109311.000 118422.000 125360.000 126515.000 130270.000 133364.000 133965.000 139944.000 140977.000 141388.000 141804.000 141874.000 142799.000 144482.000 144594.000 145351.000 145680.000 146545.000 147150.000 147642.000 148976.000 149901.000 150010.000 152197.000 153836.000 156585.000 156881.000 156949.000 157138.000 157523.000 157632.000 158843.000 160200.000 160259.000 161516.000 162467.000 162511.000 163044.000 163710.000 163849.000 165931.000 166144.000 168058.000 168106.000 169537.000 169797.000 170781.000 171039.000 172330.000 172814.000 174145.000 174448.000 175261.000 176304.000 177770.000 178020.000 178038.000 178424.000 179213.000 179415.000 179475.000 179693.000 180389.000 180823.000 181435.000 181500.000 181621.000 181935.000 182983.000 183325.000 183909.000 184026.000 184747.000 184968.000 186017.000 186609.000 187117.000 187214.000 187214.000 187219.000 187384.000 187751.000 188260.000 188598.000 188627.000 189119.000 189241.000 189553.000 189557.000 189897.000 190373.000 190458.000 190490.000 190821.000 191719.000 191897.000 193806.000 194097.000 
query 2 nn's (42821): 5121329 (13223) 7661926 (13256) 297077 (13228) 4985003 (13238) 3582405 (13181) 1764336 (13256) 7327136 (13195) 2596648 (13218) 315080 (13233) 2038486 (13254) 2468921 (13168) 3642943 (13195) 3199506 (13234) 9613 (13214) 7238949 (13173) 3223485 (13177) 9629252 (13185) 873107 (13206) 9790996 (13169) 9465824 (13168) 6545719 (13264) 7148357 (13212) 8314257 (13234) 8047376 (13211) 9314208 (13221) 9031671 (13217) 5433036 (13239) 7926346 (13207) 2804615 (13247) 6657764 (13220) 8913452 (13239) 2471512 (13241) 8972175 (13185) 4264776 (13219) 9179998 (13231) 2565160 (13203) 5681066 (13169) 7024218 (13219) 5930381 (13204) 2513456 (13179) 8398694 (13232) 7389921 (13222) 8454636 (13226) 5654256 (13215) 6908075 (13244) 522315 (13195) 8099610 (13222) 9974321 (13227) 4005809 (13235) 4926391 (13215) 2766393 (13261) 7216288 (13196) 2925196 (13210) 9442506 (13187) 427773 (13182) 7812105 (13258) 4651999 (13220) 5803626 (13171) 7718659 (13232) 5178978 (13206) 6451818 (13209) 2165113 (13250) 7762561 (13244) 827400 (13189) 8042023 (13207) 8706939 (13202) 9369792 (13227) 956988 (13243) 8751664 (13174) 8966126 (13245) 8281820 (13174) 57778 (13198) 6083969 (13263) 7520959 (13231) 9609019 (13246) 1333132 (13239) 1574483 (13184) 4583866 (13186) 3371895 (13240) 5448908 (13217) 869615 (13242) 3304300 (13231) 8725209 (13220) 7269614 (13209) 8114537 (13194) 5925145 (13222) 4652614 (13241) 9160501 (13207) 4616273 (13184) 7956737 (13258) 357909 (13239) 8749851 (13235) 5138009 (13261) 224245 (13174) 7849630 (13222) 9323960 (13177) 9980923 (13215) 803460 (13225) 2458199 (13261) 3801169 (13191) 
     dis: 	70372.000 87719.000 90968.000 98290.000 98300.000 101106.000 101853.000 106823.000 107507.000 107998.000 109354.000 109950.000 110721.000 111692.000 112364.000 118728.000 120014.000 121693.000 123261.000 123972.000 124371.000 126604.000 128479.000 129374.000 131245.000 133073.000 133608.000 133818.000 133871.000 133983.000 134504.000 135236.000 135854.000 136094.000 137050.000 137362.000 138071.000 141103.000 141863.000 142109.000 142494.000 143292.000 143954.000 144053.000 144224.000 145276.000 145906.000 146039.000 147023.000 147546.000 147888.000 149624.000 149803.000 150268.000 150313.000 151599.000 151783.000 151855.000 152302.000 153378.000 153774.000 154074.000 154247.000 155561.000 155653.000 156108.000 156514.000 157235.000 157795.000 158045.000 159258.000 159912.000 160745.000 161266.000 161558.000 161692.000 161736.000 162160.000 162540.000 162905.000 162993.000 163455.000 164075.000 164258.000 164887.000 165027.000 166118.000 166156.000 166171.000 166311.000 166413.000 166666.000 167074.000 167300.000 167747.000 167943.000 168933.000 169437.000 170574.000 170891.000 
query 3 nn's (42920): 6629608 (25896) 8935190 (25881) 1133697 (25860) 4559467 (25860) 5542583 (25900) 9621318 (25903) 2657750 (25859) 1356892 (25894) 0 (95392) 1 (606) 6976982 (25935) 6376269 (25866) 7213714 (25920) 2 (92353) 7639554 (25912) 9199144 (25934) 783085 (25888) 5109719 (25913) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	198404.000 210468.000 211375.000 230977.000 240478.000 240534.000 243718.000 243919.000 253115.000 257664.000 261764.000 270314.000 275321.000 281193.000 281822.000 293632.000 322257.000 330602.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (13165): 1284141 (45665) 5722740 (45687) 5186454 (45698) 81179 (45685) 2953361 (45700) 5610475 (45646) 2098355 (45685) 3779417 (45727) 4627021 (45636) 5571420 (45666) 7515673 (45650) 4408469 (45720) 6714133 (45696) 9286246 (45645) 5109351 (45717) 4065663 (45641) 1723821 (45639) 5168741 (45690) 6982100 (45668) 9954269 (45639) 3318408 (45685) 4922302 (45648) 325958 (45648) 8050525 (45660) 6216767 (45667) 1306477 (45636) 6582596 (45661) 2060435 (45693) 54831 (45652) 9401527 (45722) 2824392 (45645) 6747648 (45640) 5410558 (45663) 7771577 (45630) 5429292 (45682) 8332343 (45688) 8850393 (45710) 90406 (45640) 9456331 (45707) 1833744 (45650) 6361291 (45687) 1900554 (45695) 3885115 (45689) 4096234 (45669) 4001518 (45702) 2394934 (45697) 545543 (45671) 767649 (45700) 9718361 (45683) 4406581 (45714) 9823401 (45668) 2308663 (45683) 3776920 (45727) 1220532 (45639) 2201374 (45639) 8194424 (45721) 7301976 (45700) 508589 (45663) 7651126 (45653) 298530 (45668) 9514371 (45691) 6827351 (45688) 5446777 (45705) 3065049 (45664) 3878608 (45702) 9203400 (45675) 4129170 (45632) 9753274 (45636) 1999056 (45720) 207812 (45638) 9310699 (45723) 9209147 (45667) 9129841 (45702) 6270044 (45722) 1642494 (45673) 9607382 (45696) 9332654 (45641) 3422263 (45709) 3121721 (45728) 5333093 (45719) 3432097 (45637) 9491110 (45675) 1884312 (45673) 5940312 (45685) 7056553 (45660) 1042538 (45704) 3748570 (45670) 9297673 (45631) 4846149 (45674) 2250290 (45672) 8712266 (45677) 5996637 (45660) 2239801 (45666) 3409821 (45693) 6108490 (45636) 125160 (45670) 6678639 (45638) 482317 (45716) 5615609 (45654) 4594375 (45660) 
     dis: 	103314.000 120791.000 127402.000 128703.000 130322.000 131058.000 131547.000 132676.000 133646.000 134139.000 134195.000 135585.000 138102.000 138813.000 139146.000 141588.000 141823.000 141912.000 142190.000 142464.000 142669.000 143175.000 144217.000 144613.000 144725.000 144778.000 145001.000 145204.000 145272.000 146007.000 146492.000 146533.000 146600.000 147664.000 148226.000 148772.000 149723.000 149935.000 152157.000 152247.000 152454.000 153398.000 153584.000 154070.000 154121.000 154346.000 154407.000 155631.000 156039.000 156168.000 157060.000 157547.000 157629.000 157733.000 157989.000 158329.000 160627.000 161126.000 161267.000 161400.000 161644.000 162127.000 162422.000 162754.000 163177.000 164237.000 165752.000 165824.000 165930.000 166307.000 166758.000 166887.000 167072.000 167078.000 167745.000 168745.000 168930.000 168938.000 168958.000 169610.000 169990.000 170411.000 170546.000 170999.000 171199.000 171209.000 171361.000 171422.000 171428.000 171670.000 171811.000 172837.000 172861.000 172941.000 173091.000 173387.000 173516.000 173546.000 173719.000 173876.000 
[ 528.909s ] *** Query time: 171.201
qps: 58.411
 *** acorn recall 
efs:400
acorn get 214656 postive res from 1000000 results, recall@100:0.215
recall dist(10% per bucket): 0.218 0.218 0.273 0.208 0.071 0.012 0.001 0.000 0.000 0.000 0.000 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[528.940s] Timing results for search of k=100 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 5060865
ndis: 0
nreorder: 0
average distance computations per query: 506.086
[ 528.940s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift10M 10000000 25 40 64 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_100.json /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_1_100000_random_M40_ga25_Mb64 400 128"
	User time (seconds): 510.87
	System time (seconds): 18.96
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 8:50.29
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 17015648
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 5206291
	Voluntary context switches: 1
	Involuntary context switches: 3085
	Swaps: 0
	File system inputs: 0
	File system outputs: 56
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
