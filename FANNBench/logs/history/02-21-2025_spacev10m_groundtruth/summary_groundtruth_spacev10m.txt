

===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
attr: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
query: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
qrange: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json
output: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_10.json
topk: 10
dim: 100
start
[6.428 s] Loaded dataset, size=10000000, dim=100
[7.182 s] Loaded attr, size=0
[7.182 s] Loading query vectors and attributes
query vecs data loaded, with dim: 100, size=10000
[7.229 s] Loaded query vectors
[7.231 s] Loaded 10000 queries
====================Vectors====================

[7.231 s] Loading database
data loaded, with dim: 100, nb=10000000
[7.231 s] Indexing database, size 10000000*100 from max 10000000
[9.170 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[9.398 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[13.983 s] Query results (vector ids, then distances):
query 0, qrange [15274, 15373]
      nns 0 id:5769046 attr:15300 dis:9760
      nns 1 id:6224069 attr:15338 dis:12232
      nns 2 id:4702781 attr:15290 dis:15871
      nns 3 id:2493110 attr:15304 dis:16052
      nns 4 id:6782267 attr:15338 dis:16860
      nns 5 id:5926329 attr:15321 dis:16872
      nns 6 id:3801107 attr:15313 dis:17013
      nns 7 id:7780681 attr:15282 dis:17127
      nns 8 id:6529736 attr:15348 dis:17145
      nns 9 id:2811379 attr:15348 dis:17259

query 1, qrange [47455, 47554]
      nns 0 id:7518689 attr:47475 dis:14099
      nns 1 id:3240786 attr:47517 dis:14117
      nns 2 id:8895531 attr:47457 dis:16033
      nns 3 id:8854808 attr:47533 dis:16089
      nns 4 id:2593429 attr:47531 dis:16302
      nns 5 id:3718329 attr:47526 dis:16521
      nns 6 id:3080191 attr:47543 dis:16565
      nns 7 id:2850999 attr:47531 dis:17208
      nns 8 id:3740147 attr:47481 dis:17241
      nns 9 id:1397039 attr:47520 dis:17250

query 2, qrange [2622, 2721]
      nns 0 id:9318566 attr:2630 dis:13497
      nns 1 id:2863448 attr:2661 dis:13837
      nns 2 id:6508399 attr:2700 dis:14398
      nns 3 id:3213761 attr:2637 dis:14469
      nns 4 id:1562829 attr:2650 dis:15124
      nns 5 id:3947897 attr:2715 dis:15265
      nns 6 id:9670994 attr:2700 dis:15493
      nns 7 id:2611515 attr:2635 dis:15557
      nns 8 id:603741 attr:2706 dis:15869
      nns 9 id:2705292 attr:2700 dis:15896

query 3, qrange [73957, 74056]
      nns 0 id:6689609 attr:74003 dis:11782
      nns 1 id:4050481 attr:73978 dis:13924
      nns 2 id:3760026 attr:74053 dis:15702
      nns 3 id:5661120 attr:74004 dis:16283
      nns 4 id:3150044 attr:74030 dis:16419
      nns 5 id:1231887 attr:74000 dis:16493
      nns 6 id:1038480 attr:73987 dis:16539
      nns 7 id:2140224 attr:74017 dis:16565
      nns 8 id:7040076 attr:74003 dis:16982
      nns 9 id:1522104 attr:74017 dis:17357

query 4, qrange [58381, 58480]
      nns 0 id:3852825 attr:58478 dis:7615
      nns 1 id:4103136 attr:58443 dis:8373
      nns 2 id:6808813 attr:58381 dis:8420
      nns 3 id:1006805 attr:58478 dis:8433
      nns 4 id:1999660 attr:58444 dis:8443
      nns 5 id:3871589 attr:58382 dis:9103
      nns 6 id:9684351 attr:58456 dis:9147
      nns 7 id:8896456 attr:58451 dis:9150
      nns 8 id:1919573 attr:58401 dis:9235
      nns 9 id:8984060 attr:58471 dis:9338

[13.983 s] *** Query time: 4.584266
qps:2181.37
cmp per query:10000000
recall: 1 of course
sel distribution: 1 0 0 0 0 0 0 0 0 0 0 
selectivity: 0.000999939
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[299.715 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_10.json 10 100"
	User time (seconds): 711.48
	System time (seconds): 6.74
	Percent of CPU this job got: 239%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 4:59.94
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7944192
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2092855
	Voluntary context switches: 3611
	Involuntary context switches: 21025
	Swaps: 0
	File system inputs: 8111208
	File system outputs: 1800
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
attr: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_6/attr_sel_1_500_random_6.json
query: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
qrange: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_6/qrangesel_1_1_500_random_6.json
output: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_6/sif_gt_sel_1_1_500_random_6_10.json
topk: 10
dim: 100
start
[2.555 s] Loaded dataset, size=10000000, dim=100
[3.221 s] Loaded attr, size=0
[3.221 s] Loading query vectors and attributes
query vecs data loaded, with dim: 100, size=10000
[3.223 s] Loaded query vectors
[3.225 s] Loaded 10000 queries
====================Vectors====================

[3.225 s] Loading database
data loaded, with dim: 100, nb=10000000
[3.225 s] Indexing database, size 10000000*100 from max 10000000
[5.176 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[5.381 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[215.351 s] Query results (vector ids, then distances):
query 0, qrange [6, 6]
      nns 0 id:4661794 attr:6 dis:3012
      nns 1 id:1352077 attr:6 dis:3278
      nns 2 id:8023016 attr:6 dis:4691
      nns 3 id:2436347 attr:6 dis:5094
      nns 4 id:525784 attr:6 dis:5270
      nns 5 id:1781760 attr:6 dis:5414
      nns 6 id:3647719 attr:6 dis:5508
      nns 7 id:7509422 attr:6 dis:5894
      nns 8 id:9694965 attr:6 dis:5944
      nns 9 id:5096505 attr:6 dis:6150

query 1, qrange [6, 6]
      nns 0 id:1027770 attr:6 dis:4889
      nns 1 id:3024255 attr:6 dis:6351
      nns 2 id:3545414 attr:6 dis:7469
      nns 3 id:4573755 attr:6 dis:7795
      nns 4 id:3338949 attr:6 dis:7823
      nns 5 id:9408428 attr:6 dis:8315
      nns 6 id:6957767 attr:6 dis:8400
      nns 7 id:1852123 attr:6 dis:8637
      nns 8 id:8784659 attr:6 dis:8816
      nns 9 id:6631934 attr:6 dis:9175

query 2, qrange [6, 6]
      nns 0 id:8005273 attr:6 dis:3855
      nns 1 id:2734445 attr:6 dis:4135
      nns 2 id:4290437 attr:6 dis:4555
      nns 3 id:3524579 attr:6 dis:5017
      nns 4 id:2755608 attr:6 dis:5154
      nns 5 id:2212807 attr:6 dis:6204
      nns 6 id:9191130 attr:6 dis:6308
      nns 7 id:8672246 attr:6 dis:6310
      nns 8 id:4927764 attr:6 dis:6596
      nns 9 id:7542827 attr:6 dis:6852

query 3, qrange [6, 6]
      nns 0 id:1208824 attr:6 dis:7689
      nns 1 id:7481558 attr:6 dis:7695
      nns 2 id:9922446 attr:6 dis:8365
      nns 3 id:8906949 attr:6 dis:8898
      nns 4 id:1866926 attr:6 dis:9254
      nns 5 id:4371036 attr:6 dis:9414
      nns 6 id:9455216 attr:6 dis:9443
      nns 7 id:8694166 attr:6 dis:9661
      nns 8 id:1717763 attr:6 dis:9696
      nns 9 id:3489463 attr:6 dis:9701

query 4, qrange [6, 6]
      nns 0 id:3987492 attr:6 dis:3787
      nns 1 id:9534901 attr:6 dis:5126
      nns 2 id:4352168 attr:6 dis:5321
      nns 3 id:9323555 attr:6 dis:5435
      nns 4 id:9211260 attr:6 dis:5775
      nns 5 id:4549236 attr:6 dis:5827
      nns 6 id:9052024 attr:6 dis:5984
      nns 7 id:6279473 attr:6 dis:6062
      nns 8 id:7240270 attr:6 dis:6198
      nns 9 id:4015525 attr:6 dis:6212

[215.352 s] *** Query time: 209.969326
qps:47.626
cmp per query:10000000
recall: 1 of course
sel distribution: 0 0 0 0 1 0 0 0 0 0 0 
selectivity: 0.499994
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[288.075 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_6/attr_sel_1_500_random_6.json /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_6/qrangesel_1_1_500_random_6.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_6/sif_gt_sel_1_1_500_random_6_10.json 10 100"
	User time (seconds): 11684.78
	System time (seconds): 11822.10
	Percent of CPU this job got: 8149%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 4:48.43
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7943168
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 361077989
	Voluntary context switches: 1498581
	Involuntary context switches: 1320847
	Swaps: 0
	File system inputs: 0
	File system outputs: 1800
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
