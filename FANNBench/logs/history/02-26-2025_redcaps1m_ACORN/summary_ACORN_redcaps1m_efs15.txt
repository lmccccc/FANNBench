Start time: 10:25
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: redcaps1m
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/timestamp.json
qrange file: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_6_random.json
gt file: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_6_random_10.json
index file: /mnt/data/mocheng/dataset/redcaps1m/acorn/index/index_acorn_real_label_M40_ga25_Mb64
ef_search: 15 
dim: 512
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/redcaps1m/timestamp.json
[ 0.239s ] Loaded metadata, 1000000 attr's found
[ 0.239s ] Loading query vectors and attributes
query vecs data loaded, with dim: 512, nb=10000
[ 0.253s ] Loaded query vectors from /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_6_random.json
[ 0.258s ] Loaded 10000 redcaps1m queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_6_random_10.json
[ 0.274s ] Loaded ground truth, gt_size: 10
[ 0.274s ] Index Params -- d: 512, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 2535.233MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999944 nodes
level 1 : 24955 nodes
level 2 : 622 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025538
Average degree per layer:170923.000
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 2.826s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 15
selectivity: 0.500
[ 75.826s ] Query results (vector ids, then distances):
query 0 nn's (1531765284): 276583 (1533965442) 934902 (1534088170) 517012 (1549955901) 597487 (1551023861) 289857 (1532201658) 140252 (1585446374) 761117 (1584232669) 258712 (1560899368) 961702 (1552062072) 900002 (1549718470) 
     dis: 	0.916 0.922 0.927 0.935 0.936 0.937 0.937 0.939 0.941 0.945 
query 1 nn's (1586036106): 979250 (1557017196) 728340 (1574276126) 803332 (1550464472) 361663 (1577302575) 428754 (1544918864) 30989 (1555612472) 110189 (1563057799) 984241 (1583369066) 667007 (1534812939) 939001 (1562622208) 
     dis: 	0.101 0.101 0.106 0.106 0.107 0.109 0.109 0.109 0.112 0.113 
query 2 nn's (1533381414): 355537 (1569549910) 880455 (1563252917) 306439 (1587166763) 757728 (1549394377) 193180 (1590955321) 410774 (1584487571) 301614 (1549070155) 299577 (1575332164) 771849 (1550798985) 258758 (1586382202) 
     dis: 	0.224 0.225 0.238 0.240 0.249 0.258 0.262 0.264 0.265 0.268 
query 3 nn's (1586782162): 689368 (1577995933) 889987 (1577990461) 783586 (1570422403) 640717 (1596726949) 687871 (1593890469) 889856 (1584822371) 609006 (1597400318) 769868 (1557791942) 213744 (1585996476) 483626 (1594654126) 
     dis: 	0.403 0.403 0.409 0.455 0.460 0.465 0.465 0.474 0.477 0.496 
query 4 nn's (1545403871): 176027 (1553193585) 598411 (1562017701) 421184 (1558289958) 959629 (1573860803) 68136 (1585001657) 231993 (1540849707) 54130 (1565384067) 331507 (1562970973) 929991 (1559418568) 403555 (1548539694) 
     dis: 	0.269 0.286 0.289 0.293 0.306 0.307 0.308 0.314 0.317 0.318 
[ 75.826s ] *** Query time: 8.982
qps: 1113.289
 *** acorn recall 
efs:15
acorn get 75663 postive res from 100000 results, recall@10:0.757
recall dist(10% per bucket): 0.107 0.015 0.011 0.016 0.021 0.030 0.042 0.063 0.101 0.182 0.411 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[76.642s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 8068740
ndis: 0
nreorder: 0
average distance computations per query: 806.874
[ 76.642s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query redcaps1m 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/timestamp.json /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_6_random.json /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_6_random_10.json /mnt/data/mocheng/dataset/redcaps1m/acorn/index/index_acorn_real_label_M40_ga25_Mb64 15 512"
	User time (seconds): 67.15
	System time (seconds): 9.03
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:16.89
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12990688
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3258394
	Voluntary context switches: 0
	Involuntary context switches: 754
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 10:40
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: redcaps1m
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/timestamp.json
qrange file: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_10_random.json
gt file: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_10_random_10.json
index file: /mnt/data/mocheng/dataset/redcaps1m/acorn/index/index_acorn_real_label_M40_ga25_Mb64
ef_search: 15 
dim: 512
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/redcaps1m/timestamp.json
[ 0.233s ] Loaded metadata, 1000000 attr's found
[ 0.233s ] Loading query vectors and attributes
query vecs data loaded, with dim: 512, nb=10000
[ 0.247s ] Loaded query vectors from /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_10_random.json
[ 0.252s ] Loaded 10000 redcaps1m queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_10_random_10.json
[ 0.268s ] Loaded ground truth, gt_size: 10
[ 0.268s ] Index Params -- d: 512, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 2535.233MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999944 nodes
level 1 : 24955 nodes
level 2 : 622 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025538
Average degree per layer:170923.000
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 2.785s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 15
selectivity: 0.100
[ 60.523s ] Query results (vector ids, then distances):
query 0 nn's (1557954304): 966405 (1560149875) 57470 (1565980477) 352345 (1561326169) 460924 (1567164993) 565479 (1564671986) 459620 (1566147456) 375508 (1562649051) 841348 (1566775621) 556314 (1560794171) 375105 (1558982602) 
     dis: 	0.850 0.886 0.907 0.922 0.943 0.945 0.958 0.964 0.973 0.975 
query 1 nn's (1567262768): 803332 (1550464472) 428754 (1544918864) 896567 (1545686094) 8069 (1552702111) 795520 (1546185723) 457200 (1554283715) 979295 (1551634784) 104425 (1548157472) 630058 (1546987570) 710350 (1543969241) 
     dis: 	0.106 0.107 0.111 0.112 0.113 0.115 0.115 0.115 0.117 0.117 
query 2 nn's (1543323430): 374226 (1540159958) 837851 (1541593920) 988519 (1541030272) 423208 (1533881652) 476689 (1533881746) 904824 (1539980763) 17779 (1528988514) 980529 (1537818962) 312490 (1528485626) 965924 (1526231571) 
     dis: 	0.263 0.281 0.290 0.291 0.291 0.299 0.300 0.300 0.305 0.307 
query 3 nn's (1555317047): 905275 (1548944501) 27812 (1543016949) 340980 (1543080428) 758927 (1537668553) 933991 (1538214131) 634766 (1541901948) 208236 (1543761875) 684978 (1536876732) 931871 (1537063155) 382010 (1541360322) 
     dis: 	0.459 0.511 0.514 0.515 0.541 0.544 0.544 0.546 0.546 0.550 
query 4 nn's (1525726888): 191044 (1536046753) 46163 (1526733049) 440553 (1532363045) 59094 (1535817960) 738842 (1527090038) 458642 (1534341741) 222228 (1535984303) 262612 (1529024724) 726345 (1525282505) 829234 (1536601269) 
     dis: 	0.300 0.300 0.307 0.317 0.319 0.322 0.323 0.332 0.335 0.338 
[ 60.523s ] *** Query time: 7.916
qps: 1263.274
 *** acorn recall 
efs:15
acorn get 86470 postive res from 100000 results, recall@10:0.865
recall dist(10% per bucket): 0.038 0.007 0.006 0.008 0.011 0.018 0.029 0.053 0.088 0.193 0.548 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[61.277s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 5923433
ndis: 0
nreorder: 0
average distance computations per query: 592.343
[ 61.277s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query redcaps1m 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/timestamp.json /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_10_random.json /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_10_random_10.json /mnt/data/mocheng/dataset/redcaps1m/acorn/index/index_acorn_real_label_M40_ga25_Mb64 15 512"
	User time (seconds): 52.25
	System time (seconds): 8.73
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:01.66
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12990748
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3258367
	Voluntary context switches: 1
	Involuntary context switches: 1852
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 10:51
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: redcaps1m
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/timestamp.json
qrange file: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_19_random.json
gt file: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_19_random_10.json
index file: /mnt/data/mocheng/dataset/redcaps1m/acorn/index/index_acorn_real_label_M40_ga25_Mb64
ef_search: 15 
dim: 512
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/redcaps1m/timestamp.json
[ 0.218s ] Loaded metadata, 1000000 attr's found
[ 0.218s ] Loading query vectors and attributes
query vecs data loaded, with dim: 512, nb=10000
[ 0.232s ] Loaded query vectors from /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_19_random.json
[ 0.237s ] Loaded 10000 redcaps1m queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_19_random_10.json
[ 0.253s ] Loaded ground truth, gt_size: 10
[ 0.253s ] Index Params -- d: 512, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 2535.233MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999944 nodes
level 1 : 24955 nodes
level 2 : 622 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025538
Average degree per layer:170923.000
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 2.757s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 15
selectivity: 0.010
[ 50.321s ] Query results (vector ids, then distances):
query 0 nn's (1494704266): 14042 (1496276807) 803713 (1497610145) 782723 (1497309412) 570812 (1496281843) 629524 (1496928394) 505130 (1495672336) 115982 (1496352989) 601245 (1496593251) 682975 (1495379254) 64517 (1496379388) 
     dis: 	0.944 0.968 0.979 0.985 1.000 1.016 1.017 1.019 1.024 1.026 
query 1 nn's (1497977749): 399497 (1587264520) 769260 (1587746034) 770454 (1587757602) 344524 (1587574524) 314305 (1587443661) 469350 (1587659598) 195797 (1587420815) 531753 (1587486363) 696364 (1587746580) 58895 (1587634095) 
     dis: 	0.118 0.127 0.127 0.132 0.135 0.136 0.145 0.157 0.159 0.159 
query 2 nn's (1587242368): 30013 (1535029598) 501517 (1534903762) 98597 (1535050659) 103153 (1534891193) 549955 (1534122846) 77216 (1534252357) 160303 (1535157529) 742254 (1535381837) 49790 (1534195514) 141403 (1534645454) 
     dis: 	0.323 0.328 0.360 0.367 0.373 0.377 0.378 0.379 0.390 0.390 
query 3 nn's (1587926868): 714247 (1603680219) 280271 (1603293061) 132845 (1603707615) 562023 (1602959494) 445023 (1603650389) 706770 (1603634439) 341989 (1603036594) 361935 (1603480837) 120108 (1602950692) 141566 (1603000521) 
     dis: 	0.535 0.555 0.584 0.612 0.620 0.652 0.660 0.663 0.665 0.671 
query 4 nn's (1534119609): 155547 (1607469446) 29223 (1607811252) 947757 (1607616587) 121009 (1607388799) 581806 (1608026412) 998086 (1607349412) 298028 (1607484109) 419232 (1607767541) 679863 (1607963030) 259062 (1607614516) 
     dis: 	0.408 0.425 0.446 0.451 0.466 0.482 0.483 0.486 0.489 0.492 
[ 50.321s ] *** Query time: 6.048
qps: 1653.363
 *** acorn recall 
efs:15
acorn get 54078 postive res from 100000 results, recall@10:0.541
recall dist(10% per bucket): 0.202 0.040 0.038 0.045 0.051 0.067 0.076 0.091 0.120 0.135 0.135 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[51.126s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 1462388
ndis: 0
nreorder: 0
average distance computations per query: 146.239
[ 51.126s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query redcaps1m 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/timestamp.json /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_19_random.json /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_19_random_10.json /mnt/data/mocheng/dataset/redcaps1m/acorn/index/index_acorn_real_label_M40_ga25_Mb64 15 512"
	User time (seconds): 42.69
	System time (seconds): 8.43
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:51.37
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12992736
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3258364
	Voluntary context switches: 0
	Involuntary context switches: 250
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 11:00
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: redcaps1m
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/timestamp.json
qrange file: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_20_random.json
gt file: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_20_random_10.json
index file: /mnt/data/mocheng/dataset/redcaps1m/acorn/index/index_acorn_real_label_M40_ga25_Mb64
ef_search: 15 
dim: 512
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/redcaps1m/timestamp.json
[ 0.258s ] Loaded metadata, 1000000 attr's found
[ 0.258s ] Loading query vectors and attributes
query vecs data loaded, with dim: 512, nb=10000
[ 0.274s ] Loaded query vectors from /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_20_random.json
[ 0.279s ] Loaded 10000 redcaps1m queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_20_random_10.json
[ 0.299s ] Loaded ground truth, gt_size: 10
[ 0.299s ] Index Params -- d: 512, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 2535.233MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999944 nodes
level 1 : 24955 nodes
level 2 : 622 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025538
Average degree per layer:170923.000
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 2.839s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 15
selectivity: 0.001
[ 46.562s ] Query results (vector ids, then distances):
query 0 nn's (1598265916): 302487 (1598312560) 875775 (1598295853) 291060 (1598290200) 896791 (1598305384) 220102 (1598273395) 774255 (1598288386) 111195 (1598298650) 118295 (1591192268) 165875 (1598320413) 513179 (1598268300) 
     dis: 	1.203 1.224 1.227 1.243 1.265 1.303 1.342 1.384 1.409 1.428 
query 1 nn's (1598326302): 384290 (1556749507) 605335 (1556723660) 546638 (1556786857) 611916 (1556818231) 283349 (1556809344) 552152 (1556729173) 144347 (1556789839) 228314 (1556801661) 287545 (1556827667) 407690 (1556820863) 
     dis: 	0.911 1.002 1.005 1.010 1.026 1.035 1.041 1.056 1.061 1.063 
query 2 nn's (1556721962): 363407 (1590895453) 87650 (1590949850) 55977 (1590897881) 495838 (1590943672) 94604 (1590940281) 382743 (1590956363) 958589 (1590895885) 55921 (1590933391) -1 (0) -1 (0) 
     dis: 	0.753 0.780 0.814 0.814 0.821 0.859 0.867 0.868 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (1556828807): 682369 (1531764789) 221086 (1531755083) 215087 (1531772274) 764152 (1531772694) 304985 (1531781650) 356929 (1531752167) 402890 (1531778071) 273301 (1531705990) 315655 (1531732195) 89559 (1531770516) 
     dis: 	1.055 1.093 1.146 1.168 1.197 1.201 1.206 1.227 1.231 1.239 
query 4 nn's (1590889648): 197281 (1576549572) 422631 (1576554573) 674907 (1576531932) 236624 (1576541149) 877404 (1576610532) 437361 (1576566719) 102008 (1576551035) 938278 (1576535041) 48759 (1576586127) -1 (0) 
     dis: 	0.896 0.935 0.979 0.997 1.013 1.024 1.211 1.218 1.240 340282346638528859811704183484516925440.000 
[ 46.563s ] *** Query time: 2.613
qps: 3826.959
 *** acorn recall 
efs:15
acorn get 1570 postive res from 100000 results, recall@10:0.016
recall dist(10% per bucket): 0.925 0.037 0.017 0.010 0.005 0.003 0.002 0.001 0.001 0.000 0.000 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[47.465s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 99454
ndis: 0
nreorder: 0
average distance computations per query: 9.945
[ 47.466s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query redcaps1m 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/timestamp.json /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_20_random.json /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_20_random_10.json /mnt/data/mocheng/dataset/redcaps1m/acorn/index/index_acorn_real_label_M40_ga25_Mb64 15 512"
	User time (seconds): 38.70
	System time (seconds): 8.88
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:47.86
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12990988
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3258363
	Voluntary context switches: 1
	Involuntary context switches: 1283
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:30
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: redcaps1m
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_6/attr_sel_1_500_random_6.json
qrange file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_6/qrangesel_1_1_500_random_6.json
gt file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_6/sif_gt_sel_1_1_500_random_6_10.json
index file: /mnt/data/mocheng/dataset/redcaps1m/acorn/index/index_acorn_sel_1_500_random_6_M40_ga25_Mb64
ef_search: 15 
dim: 512
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_6/attr_sel_1_500_random_6.json
[ 0.144s ] Loaded metadata, 1000000 attr's found
[ 0.144s ] Loading query vectors and attributes
query vecs data loaded, with dim: 512, nb=10000
[ 0.160s ] Loaded query vectors from /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_6/qrangesel_1_1_500_random_6.json
[ 0.164s ] Loaded 10000 redcaps1m queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_6/sif_gt_sel_1_1_500_random_6_10.json
[ 0.180s ] Loaded ground truth, gt_size: 10
[ 0.180s ] Index Params -- d: 512, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 2535.233MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999919 nodes
level 1 : 24956 nodes
level 2 : 621 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025513
Average degree per layer:170918.833
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 2.678s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 15
selectivity: 0.499
[ 67.094s ] Query results (vector ids, then distances):
query 0 nn's (6): 256648 (6) 101223 (6) 882495 (6) 747763 (6) 961165 (6) 319403 (6) 805742 (6) 37528 (6) 704717 (6) 463749 (6) 
     dis: 	0.949 0.963 0.966 0.973 0.981 0.981 0.982 0.983 0.986 0.991 
query 1 nn's (6): 253654 (6) 666880 (6) 660394 (6) 622447 (6) 964028 (6) 428754 (6) 30989 (6) 139424 (6) 442989 (6) 427957 (6) 
     dis: 	0.099 0.101 0.103 0.103 0.106 0.107 0.109 0.110 0.110 0.111 
query 2 nn's (6): 355537 (6) 940490 (6) 410774 (6) 620585 (6) 894254 (6) 299577 (6) 773055 (6) 792564 (6) 328504 (6) 161603 (6) 
     dis: 	0.224 0.246 0.258 0.259 0.264 0.264 0.265 0.271 0.273 0.275 
query 3 nn's (6): 689368 (6) 124464 (6) 635563 (6) 595884 (6) 609006 (6) 413550 (6) 994151 (6) 35100 (6) 246538 (6) 27812 (6) 
     dis: 	0.403 0.449 0.460 0.462 0.465 0.477 0.499 0.501 0.503 0.511 
query 4 nn's (6): 582698 (6) 522469 (6) 797013 (6) 234795 (6) 931553 (6) 46163 (6) 279888 (6) 556169 (6) 742084 (6) 331507 (6) 
     dis: 	0.260 0.260 0.273 0.274 0.284 0.300 0.303 0.307 0.308 0.314 
[ 67.094s ] *** Query time: 7.741
qps: 1291.784
 *** acorn recall 
efs:15
acorn get 75699 postive res from 100000 results, recall@10:0.757
recall dist(10% per bucket): 0.111 0.014 0.012 0.017 0.021 0.029 0.041 0.058 0.098 0.175 0.425 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[67.699s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 8063178
ndis: 0
nreorder: 0
average distance computations per query: 806.318
[ 67.699s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query redcaps1m 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_6/attr_sel_1_500_random_6.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_6/qrangesel_1_1_500_random_6.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_6/sif_gt_sel_1_1_500_random_6_10.json /mnt/data/mocheng/dataset/redcaps1m/acorn/index/index_acorn_sel_1_500_random_6_M40_ga25_Mb64 15 512"
	User time (seconds): 60.01
	System time (seconds): 7.90
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:07.92
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12991776
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3258473
	Voluntary context switches: 1
	Involuntary context switches: 102
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:50
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: redcaps1m
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_10/attr_sel_1_500_random_10.json
qrange file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_10/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_10/sif_gt_sel_1_1_500_random_10_10.json
index file: /mnt/data/mocheng/dataset/redcaps1m/acorn/index/index_acorn_sel_1_500_random_10_M40_ga25_Mb64
ef_search: 15 
dim: 512
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_10/attr_sel_1_500_random_10.json
[ 0.153s ] Loaded metadata, 1000000 attr's found
[ 0.153s ] Loading query vectors and attributes
query vecs data loaded, with dim: 512, nb=10000
[ 0.170s ] Loaded query vectors from /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_10/qrangesel_1_1_500_random_10.json
[ 0.173s ] Loaded 10000 redcaps1m queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_10/sif_gt_sel_1_1_500_random_10_10.json
[ 0.189s ] Loaded ground truth, gt_size: 10
[ 0.189s ] Index Params -- d: 512, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 2535.233MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999973 nodes
level 1 : 24955 nodes
level 2 : 623 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025568
Average degree per layer:170928.000
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 2.815s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 15
selectivity: 0.100
[ 42.883s ] Query results (vector ids, then distances):
query 0 nn's (10): 7102 (10) 64073 (10) 364290 (10) 596166 (10) 997239 (10) 909887 (10) 699054 (10) 927993 (10) 174023 (10) 760479 (10) 
     dis: 	0.758 0.760 0.813 0.854 0.889 0.899 0.903 0.904 0.909 0.914 
query 1 nn's (10): 361537 (10) 428754 (10) 979295 (10) 439637 (10) 424951 (10) 681550 (10) 709969 (10) 408156 (10) 753841 (10) 105750 (10) 
     dis: 	0.107 0.107 0.115 0.115 0.119 0.120 0.120 0.122 0.123 0.126 
query 2 nn's (10): 964377 (10) 771849 (10) 258758 (10) 903106 (10) 400722 (10) 530996 (10) 971858 (10) 625921 (10) 381411 (10) 564449 (10) 
     dis: 	0.226 0.265 0.268 0.268 0.272 0.275 0.283 0.284 0.285 0.286 
query 3 nn's (10): 461110 (10) 382748 (10) 305237 (10) 636892 (10) 863296 (10) 694867 (10) 4433 (10) 431136 (10) 994604 (10) 459020 (10) 
     dis: 	0.462 0.500 0.513 0.526 0.527 0.529 0.533 0.534 0.536 0.548 
query 4 nn's (10): 797013 (10) 959629 (10) 878527 (10) 222228 (10) 567017 (10) 279836 (10) 702801 (10) 732037 (10) 193229 (10) 490515 (10) 
     dis: 	0.273 0.293 0.298 0.323 0.330 0.332 0.335 0.338 0.339 0.351 
[ 42.883s ] *** Query time: 10.128
qps: 987.343
 *** acorn recall 
efs:15
acorn get 88752 postive res from 100000 results, recall@10:0.888
recall dist(10% per bucket): 0.023 0.005 0.006 0.006 0.009 0.015 0.028 0.048 0.094 0.197 0.570 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[43.623s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 5885982
ndis: 0
nreorder: 0
average distance computations per query: 588.598
[ 43.623s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query redcaps1m 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_10/attr_sel_1_500_random_10.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_10/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_10/sif_gt_sel_1_1_500_random_10_10.json /mnt/data/mocheng/dataset/redcaps1m/acorn/index/index_acorn_sel_1_500_random_10_M40_ga25_Mb64 15 512"
	User time (seconds): 33.75
	System time (seconds): 10.06
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:43.89
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12992744
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 4175876
	Voluntary context switches: 1
	Involuntary context switches: 77
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 02:14
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: redcaps1m
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_19/attr_sel_1_500_random_19.json
qrange file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_19/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_19/sif_gt_sel_1_1_500_random_19_10.json
index file: /mnt/data/mocheng/dataset/redcaps1m/acorn/index/index_acorn_sel_1_500_random_19_M40_ga25_Mb64
ef_search: 15 
dim: 512
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_19/attr_sel_1_500_random_19.json
[ 0.103s ] Loaded metadata, 1000000 attr's found
[ 0.103s ] Loading query vectors and attributes
query vecs data loaded, with dim: 512, nb=10000
[ 0.116s ] Loaded query vectors from /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_19/qrangesel_1_1_500_random_19.json
[ 0.118s ] Loaded 10000 redcaps1m queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_19/sif_gt_sel_1_1_500_random_19_10.json
[ 0.129s ] Loaded ground truth, gt_size: 10
[ 0.129s ] Index Params -- d: 512, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 2535.233MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999978 nodes
level 1 : 24956 nodes
level 2 : 623 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025574
Average degree per layer:170929.000
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 2.563s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 15
selectivity: 0.010
[ 30.681s ] Query results (vector ids, then distances):
query 0 nn's (19): 336934 (19) 193999 (19) 866187 (19) 144195 (19) 205397 (19) 818394 (19) 9232 (19) 546641 (19) 739538 (19) 724821 (19) 
     dis: 	0.862 0.947 0.996 1.002 1.023 1.035 1.036 1.036 1.044 1.054 
query 1 nn's (19): 526331 (19) 158846 (19) 264009 (19) 434283 (19) 246783 (19) 69776 (19) 805880 (19) 916232 (19) 357641 (19) 532410 (19) 
     dis: 	0.135 0.138 0.139 0.140 0.142 0.149 0.156 0.160 0.161 0.167 
query 2 nn's (19): 566297 (19) 992746 (19) 932320 (19) 662456 (19) 213600 (19) 560988 (19) 609556 (19) 708602 (19) 867749 (19) 391162 (19) 
     dis: 	0.412 0.441 0.443 0.447 0.459 0.460 0.461 0.461 0.468 0.468 
query 3 nn's (19): 493967 (19) 239054 (19) 231500 (19) 89977 (19) 584120 (19) 432511 (19) 841366 (19) 659758 (19) 414971 (19) 388276 (19) 
     dis: 	0.561 0.587 0.592 0.611 0.624 0.644 0.653 0.657 0.660 0.661 
query 4 nn's (19): 522469 (19) 940668 (19) 402334 (19) 393712 (19) 826811 (19) 947998 (19) 862880 (19) 25013 (19) 819697 (19) 405287 (19) 
     dis: 	0.260 0.358 0.372 0.380 0.416 0.430 0.436 0.441 0.445 0.457 
[ 30.681s ] *** Query time: 5.569
qps: 1795.523
 *** acorn recall 
efs:15
acorn get 50463 postive res from 100000 results, recall@10:0.505
recall dist(10% per bucket): 0.235 0.045 0.039 0.041 0.052 0.060 0.081 0.097 0.116 0.131 0.102 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[31.217s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 1464040
ndis: 0
nreorder: 0
average distance computations per query: 146.404
[ 31.217s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query redcaps1m 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_19/attr_sel_1_500_random_19.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_19/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_19/sif_gt_sel_1_1_500_random_19_10.json /mnt/data/mocheng/dataset/redcaps1m/acorn/index/index_acorn_sel_1_500_random_19_M40_ga25_Mb64 15 512"
	User time (seconds): 23.62
	System time (seconds): 7.88
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:31.51
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12991716
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3258397
	Voluntary context switches: 1
	Involuntary context switches: 60
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:25
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: redcaps1m
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_20/attr_sel_1_500_random_20.json
qrange file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_20/qrangesel_1_1_500_random_20.json
gt file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_20/sif_gt_sel_1_1_500_random_20_10.json
index file: /mnt/data/mocheng/dataset/redcaps1m/acorn/index/index_acorn_sel_1_500_random_20_M40_ga25_Mb64
ef_search: 15 
dim: 512
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_20/attr_sel_1_500_random_20.json
[ 0.152s ] Loaded metadata, 1000000 attr's found
[ 0.152s ] Loading query vectors and attributes
query vecs data loaded, with dim: 512, nb=10000
[ 0.168s ] Loaded query vectors from /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_20/qrangesel_1_1_500_random_20.json
[ 0.171s ] Loaded 10000 redcaps1m queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_20/sif_gt_sel_1_1_500_random_20_10.json
[ 0.187s ] Loaded ground truth, gt_size: 10
[ 0.187s ] Index Params -- d: 512, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 2535.233MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999962 nodes
level 1 : 24956 nodes
level 2 : 622 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025557
Average degree per layer:170926.167
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 2.700s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 15
selectivity: 0.001
[ 27.577s ] Query results (vector ids, then distances):
query 0 nn's (20): 118295 (178) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	1.384 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (20): 118295 (178) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	1.208 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (20): 118295 (178) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	1.158 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (20): 118295 (178) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	1.332 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (20): 118295 (178) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	0.991 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 27.577s ] *** Query time: 0.648
qps: 15426.769
 *** acorn recall 
efs:15
acorn get 0 postive res from 100000 results, recall@10:0.000
recall dist(10% per bucket): 1.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[28.816s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 0
ndis: 0
nreorder: 0
average distance computations per query: 0.000
[ 28.816s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query redcaps1m 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_20/attr_sel_1_500_random_20.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_20/qrangesel_1_1_500_random_20.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_20/sif_gt_sel_1_1_500_random_20_10.json /mnt/data/mocheng/dataset/redcaps1m/acorn/index/index_acorn_sel_1_500_random_20_M40_ga25_Mb64 15 512"
	User time (seconds): 20.05
	System time (seconds): 8.40
	Percent of CPU this job got: 97%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:29.22
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12991720
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3259004
	Voluntary context switches: 1
	Involuntary context switches: 174
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
