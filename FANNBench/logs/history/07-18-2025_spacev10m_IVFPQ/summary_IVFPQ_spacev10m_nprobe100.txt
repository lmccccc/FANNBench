Start time: 00:47
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 100
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.699s ] Loaded metadata, 10000000 attr's found
[ 0.699s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.702s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.703s ] Loaded 10000 spacev10m queries
[ 0.772s ] Loaded ground truth, gt_size: 100
[ 0.772s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 5.070s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 149.363s ] Query results (vector ids, then distances):
query 0 nn's (6, 6): 4661794 (6) 1352077 (6) 1300400 (6) 2436347 (6) 425302 (6) 606211 (6) 1781760 (6) 3647719 (6) 9694965 (6) 8021837 (6) 8207046 (6) 6583311 (6) 1714233 (6) 2721656 (6) 2204643 (6) 6309057 (6) 38473 (6) 5072935 (6) 2382485 (6) 4779084 (6) 3881211 (6) 2116152 (6) 8807530 (6) 2710882 (6) 4617714 (6) 8538301 (6) 3873794 (6) 613770 (6) 5275548 (6) 7007393 (6) 1288832 (6) 106800 (6) 890298 (6) 4022185 (6) 1751249 (6) 8135809 (6) 4915045 (6) 244510 (6) 521477 (6) 2646514 (6) 511283 (6) 8242233 (6) 672964 (6) 4685796 (6) 9818783 (6) 7249395 (6) 8846971 (6) 9600306 (6) 6138359 (6) 3828638 (6) 9053999 (6) 4470364 (6) 2605318 (6) 5950387 (6) 6478048 (6) 6616924 (6) 3057373 (6) 2807977 (6) 608392 (6) 9901604 (6) 1354982 (6) 7983463 (6) 9957153 (6) 3249603 (6) 5236967 (6) 9234384 (6) 9347328 (6) 8662145 (6) 4519081 (6) 8279789 (6) 9169598 (6) 7330716 (6) 3611695 (6) 5320284 (6) 6972939 (6) 488103 (6) 7826722 (6) 3651927 (6) 8656797 (6) 3636367 (6) 6303532 (6) 9715655 (6) 6781400 (6) 399999 (6) 2578991 (6) 694286 (6) 5724721 (6) 5270820 (6) 7887947 (6) 5475688 (6) 6896772 (6) 4104937 (6) 6554307 (6) 6290762 (6) 7151603 (6) 3993234 (6) 5839410 (6) 7592167 (6) 5376130 (6) 2912614 (6) 
     dis: 	2984.658 3268.221 3451.792 5087.593 5217.498 5289.615 5431.436 5457.437 5935.341 6236.472 6248.709 6319.569 6417.146 6593.686 6629.437 6652.851 7033.922 7056.762 7063.430 7156.920 7203.378 7277.672 7416.359 7465.087 7497.100 7562.222 7645.717 7702.021 7706.918 7737.246 7986.281 8017.410 8019.774 8054.457 8086.774 8165.397 8221.855 8238.786 8258.082 8305.614 8325.738 8414.707 8453.121 8463.344 8485.863 8495.926 8507.973 8519.738 8530.008 8559.798 8582.517 8611.803 8620.377 8745.193 8773.149 8824.070 8835.171 8857.557 8872.404 8877.469 8931.254 8935.225 8957.626 9047.767 9058.418 9082.562 9104.535 9110.148 9157.148 9295.413 9300.460 9334.041 9416.246 9420.620 9456.539 9460.742 9483.433 9486.454 9499.611 9511.516 9520.660 9529.710 9545.341 9574.215 9579.595 9586.519 9591.684 9634.572 9634.979 9644.523 9670.004 9671.785 9688.902 9697.652 9726.509 9757.613 9807.203 9809.655 9814.403 9830.801 
query 1 nn's (6, 6): 3024255 (6) 4465136 (6) 6693881 (6) 1087257 (6) 547651 (6) 5778168 (6) 1739093 (6) 128447 (6) 913237 (6) 2201796 (6) 458294 (6) 4731052 (6) 2848947 (6) 5140912 (6) 8268659 (6) 5312590 (6) 3756027 (6) 8084904 (6) 5453229 (6) 1262717 (6) 9482235 (6) 2915146 (6) 1674348 (6) 7070658 (6) 4023729 (6) 413466 (6) 7957281 (6) 3467889 (6) 765304 (6) 4936049 (6) 7995495 (6) 9943863 (6) 9750308 (6) 2400979 (6) 8382701 (6) 9255837 (6) 8598995 (6) 5183877 (6) 2054287 (6) 2067210 (6) 6872221 (6) 2030638 (6) 5642421 (6) 2677560 (6) 4375499 (6) 5833204 (6) 6528340 (6) 7714223 (6) 9265027 (6) 7796940 (6) 2208346 (6) 5888778 (6) 8377057 (6) 1417507 (6) 6218290 (6) 7998901 (6) 3106662 (6) 3213153 (6) 497310 (6) 7898285 (6) 3579661 (6) 1580619 (6) 7983026 (6) 9793572 (6) 1873620 (6) 6270422 (6) 7208440 (6) 7666189 (6) 6565182 (6) 5553093 (6) 3798515 (6) 540705 (6) 2775410 (6) 3683874 (6) 6716625 (6) 7869623 (6) 4936167 (6) 9319596 (6) 3367543 (6) 5137564 (6) 4090413 (6) 6825634 (6) 9542350 (6) 5210631 (6) 1532818 (6) 2781736 (6) 5549017 (6) 8187358 (6) 7684675 (6) 8219055 (6) 3253492 (6) 9619526 (6) 307231 (6) 5221616 (6) 2233630 (6) 9844485 (6) 3375782 (6) 559778 (6) 3787303 (6) 8570172 (6) 
     dis: 	6379.874 7832.273 8301.762 8504.258 9004.402 9105.973 9150.039 9356.089 9373.139 9564.128 9574.802 9578.250 9668.452 9693.582 9813.656 9842.984 10015.396 10035.468 10044.995 10060.453 10064.884 10095.851 10101.637 10131.922 10133.922 10191.559 10204.871 10206.644 10210.698 10231.051 10242.291 10330.024 10333.516 10359.908 10408.098 10441.922 10484.331 10513.588 10524.988 10550.848 10572.423 10580.958 10691.302 10692.555 10694.537 10714.562 10733.514 10735.300 10796.346 10802.645 10830.205 10855.590 10901.291 10981.347 10982.063 10988.488 11009.377 11009.460 11018.956 11020.820 11084.883 11107.436 11132.148 11135.524 11137.979 11149.970 11151.550 11183.873 11196.185 11205.528 11212.209 11222.576 11223.165 11261.956 11266.129 11320.721 11341.545 11344.131 11350.776 11359.807 11365.162 11398.040 11418.918 11432.485 11436.645 11462.670 11487.570 11487.996 11490.506 11498.126 11531.050 11535.861 11556.041 11561.156 11565.191 11568.914 11580.368 11591.172 11601.518 11602.373 
query 2 nn's (6, 6): 4574760 (6) 5189301 (6) 9191130 (6) 5932138 (6) 2966676 (6) 2096002 (6) 9602743 (6) 9746650 (6) 4710102 (6) 9561351 (6) 3123570 (6) 6606573 (6) 1881509 (6) 190238 (6) 1415377 (6) 9485250 (6) 6555137 (6) 8077765 (6) 3361974 (6) 559883 (6) 1563468 (6) 8739701 (6) 5745884 (6) 7804752 (6) 7017176 (6) 4195631 (6) 1063314 (6) 7126935 (6) 7335841 (6) 8558486 (6) 801867 (6) 3405939 (6) 9743895 (6) 134852 (6) 3399987 (6) 7660022 (6) 3200028 (6) 780031 (6) 6936789 (6) 5742825 (6) 6665934 (6) 7287401 (6) 6371127 (6) 4517312 (6) 6489161 (6) 7060335 (6) 192071 (6) 6794035 (6) 1386408 (6) 1044870 (6) 1129169 (6) 8707110 (6) 8900616 (6) 3785496 (6) 7118637 (6) 1633241 (6) 8719744 (6) 1349042 (6) 494920 (6) 8672644 (6) 9177119 (6) 1878266 (6) 5597353 (6) 4001654 (6) 1978808 (6) 5430287 (6) 2168228 (6) 1358363 (6) 9527999 (6) 7276798 (6) 1845312 (6) 2353418 (6) 3322631 (6) 2650195 (6) 6295489 (6) 6561981 (6) 5826070 (6) 8060848 (6) 9957421 (6) 555581 (6) 6399400 (6) 1270107 (6) 8953965 (6) 3641059 (6) 7545774 (6) 6010182 (6) 1472875 (6) 5117458 (6) 4732579 (6) 512960 (6) 8355116 (6) 7444447 (6) 9819304 (6) 349510 (6) 8077716 (6) 6403508 (6) 2487144 (6) 2025216 (6) 6822900 (6) 9436821 (6) 
     dis: 	3037.224 3383.687 6267.928 6957.796 7162.279 7653.282 8058.683 8065.928 8146.718 8304.261 8448.900 8526.036 8710.794 8751.557 8871.452 8921.690 9037.938 9151.803 9248.015 9309.044 9465.871 9700.848 9709.979 9754.347 9826.381 9844.943 9976.283 10000.562 10043.844 10046.443 10084.396 10105.677 10141.879 10261.034 10272.257 10280.343 10305.092 10359.082 10376.779 10395.355 10429.889 10431.211 10449.256 10462.508 10539.983 10548.176 10666.045 10667.146 10702.357 10717.777 10766.950 10794.605 10807.475 10807.533 10846.146 10882.132 10883.082 10925.260 10996.956 10997.800 11003.252 11011.527 11011.813 11021.605 11040.469 11055.530 11059.477 11084.078 11097.531 11101.303 11103.541 11118.324 11121.870 11151.501 11155.983 11183.772 11196.005 11198.382 11211.731 11250.734 11253.492 11254.141 11257.771 11268.782 11277.285 11284.029 11294.848 11299.754 11338.229 11341.593 11348.313 11367.057 11368.633 11395.797 11406.431 11411.988 11418.585 11427.979 11436.857 11458.910 
query 3 nn's (6, 6): 7481558 (6) 1208824 (6) 1153720 (6) 9922446 (6) 3092850 (6) 1681561 (6) 2871407 (6) 8906949 (6) 1866926 (6) 7371232 (6) 4371036 (6) 3092361 (6) 9455216 (6) 6638511 (6) 3489463 (6) 6696694 (6) 8364431 (6) 1986111 (6) 3188407 (6) 2272653 (6) 220595 (6) 6027466 (6) 7775637 (6) 8818246 (6) 7909680 (6) 9398930 (6) 1252765 (6) 4889443 (6) 5579814 (6) 8232477 (6) 6542977 (6) 8584054 (6) 4712751 (6) 9232458 (6) 9619884 (6) 9793596 (6) 4474761 (6) 3353499 (6) 7415071 (6) 580826 (6) 514827 (6) 3626273 (6) 6849775 (6) 484745 (6) 5785595 (6) 3085720 (6) 6546803 (6) 6334064 (6) 8821621 (6) 6684948 (6) 5124721 (6) 7010252 (6) 2958818 (6) 1353097 (6) 5566014 (6) 8159578 (6) 7726743 (6) 1095751 (6) 398589 (6) 2919205 (6) 383549 (6) 3425624 (6) 7082379 (6) 5119260 (6) 3483488 (6) 9740574 (6) 7256503 (6) 4183705 (6) 4653543 (6) 1605226 (6) 1752435 (6) 3517824 (6) 1430920 (6) 823633 (6) 7136455 (6) 5368803 (6) 3922636 (6) 8669768 (6) 5615929 (6) 108033 (6) 3350710 (6) 2348869 (6) 8145731 (6) 8182930 (6) 188678 (6) 9698504 (6) 4149081 (6) 9469428 (6) 3071605 (6) 6689609 (6) 2269546 (6) 9339392 (6) 2018818 (6) 382902 (6) 7557678 (6) 6884602 (6) 662720 (6) 9998938 (6) 3279722 (6) 7085204 (6) 
     dis: 	7708.729 7734.653 8343.044 8379.474 8417.971 8437.070 8743.284 8931.419 9213.961 9248.313 9416.685 9418.953 9468.189 9663.204 9749.266 9879.809 9903.666 9955.667 9963.515 9982.427 9985.955 9992.361 10128.719 10132.153 10167.366 10182.354 10203.097 10256.343 10258.041 10278.982 10387.153 10461.397 10468.141 10486.738 10487.235 10579.027 10583.493 10599.340 10707.939 10721.012 10802.643 10817.467 10851.739 10853.227 10871.354 10938.459 11012.520 11037.910 11038.555 11077.693 11108.404 11135.498 11137.684 11195.715 11229.310 11250.131 11257.046 11270.502 11282.333 11287.721 11322.865 11323.872 11389.697 11401.229 11402.148 11405.461 11411.354 11414.828 11437.974 11454.059 11490.479 11505.859 11516.029 11520.618 11581.289 11589.676 11615.467 11624.347 11636.772 11639.113 11639.569 11650.939 11672.362 11707.943 11721.257 11730.152 11747.998 11781.737 11783.053 11787.401 11798.932 11813.613 11827.555 11831.090 11846.004 11883.125 11926.983 11927.916 11934.662 11939.160 
query 4 nn's (6, 6): 8316529 (6) 5624462 (6) 3987492 (6) 1706143 (6) 9534901 (6) 9970746 (6) 5744224 (6) 9323555 (6) 9211260 (6) 4390138 (6) 6480066 (6) 2172340 (6) 73290 (6) 9833382 (6) 6527555 (6) 1182472 (6) 3097455 (6) 1587943 (6) 6395393 (6) 2320125 (6) 6782257 (6) 9044829 (6) 5012986 (6) 3740241 (6) 942827 (6) 57144 (6) 3693862 (6) 6906799 (6) 5562283 (6) 5783656 (6) 3436988 (6) 7159963 (6) 4738992 (6) 915880 (6) 6091565 (6) 8608979 (6) 3264396 (6) 4607867 (6) 3073679 (6) 9765986 (6) 9374623 (6) 1171695 (6) 523134 (6) 3598596 (6) 3646712 (6) 6634262 (6) 8873679 (6) 6581013 (6) 3655068 (6) 9164737 (6) 1504549 (6) 1030896 (6) 8442744 (6) 3421968 (6) 8774147 (6) 7511825 (6) 4942478 (6) 6789739 (6) 5685630 (6) 8359241 (6) 8855135 (6) 9519711 (6) 349859 (6) 4786845 (6) 5506147 (6) 3531751 (6) 9436869 (6) 1066421 (6) 980351 (6) 6685392 (6) 259750 (6) 4019507 (6) 1995354 (6) 8701864 (6) 4059273 (6) 8342661 (6) 8360636 (6) 5006797 (6) 3795738 (6) 9019284 (6) 703166 (6) 9688429 (6) 3032989 (6) 1410118 (6) 9977617 (6) 4491189 (6) 6331457 (6) 8641215 (6) 8212769 (6) 2266290 (6) 1973506 (6) 3934821 (6) 3299088 (6) 5350870 (6) 1111927 (6) 569140 (6) 1902982 (6) 1555419 (6) 8452116 (6) 1344371 (6) 
     dis: 	2200.067 3592.018 3754.258 4565.575 5128.794 5232.411 5427.193 5444.871 5811.854 5974.076 6247.875 6268.124 6270.180 6271.308 6296.200 6377.544 6382.278 6389.488 6392.427 6409.105 6420.116 6425.558 6432.818 6436.624 6461.586 6473.911 6475.289 6499.683 6509.462 6517.282 6519.250 6531.316 6544.937 6564.545 6602.386 6603.944 6626.527 6634.590 6645.483 6646.298 6652.190 6656.642 6701.781 6704.117 6713.208 6716.867 6729.101 6731.655 6733.690 6735.074 6768.218 6772.979 6773.823 6780.017 6782.499 6785.020 6812.438 6818.299 6839.600 6850.580 6851.965 6857.095 6867.738 6872.748 6875.381 6875.700 6883.197 6885.531 6885.774 6891.021 6891.506 6904.375 6910.196 6917.378 6923.764 6927.873 6937.799 6939.492 6945.017 6955.537 6966.847 6969.197 6976.106 6997.256 7004.524 7006.784 7008.524 7011.688 7019.051 7021.719 7024.929 7026.122 7055.524 7062.428 7067.533 7074.918 7081.535 7089.439 7116.591 7117.773 
[ 149.364s ] *** Query time: 79.712
qps: 125.451
 *** ivfpq recall 
ivfpq get 865816 postive res from 1000000 results, recall@100:0.866
recall dist(10% per bucket): 0.000 0.000 0.003 0.006 0.014 0.036 0.065 0.111 0.200 0.539 0.026 
finished ivfpq index examples
[ 149.434s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 100 100"
	User time (seconds): 143.75
	System time (seconds): 4.04
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:29.60
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2408356
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1218713
	Voluntary context switches: 4235
	Involuntary context switches: 165
	Swaps: 0
	File system inputs: 248880
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:22
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 100
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.701s ] Loaded metadata, 10000000 attr's found
[ 0.701s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.704s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.705s ] Loaded 10000 spacev10m queries
[ 0.774s ] Loaded ground truth, gt_size: 100
[ 0.774s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 4.558s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 109.011s ] Query results (vector ids, then distances):
query 0 nn's (10, 10): 4853416 (10) 7099403 (10) 1536208 (10) 1360571 (10) 7305168 (10) 3454073 (10) 3676917 (10) 1858226 (10) 4932580 (10) 1947126 (10) 1185721 (10) 8725926 (10) 2716677 (10) 6588206 (10) 3622412 (10) 8394382 (10) 3453250 (10) 9518796 (10) 6149370 (10) 2029623 (10) 374574 (10) 8563184 (10) 8804052 (10) 8237276 (10) 8189648 (10) 7703225 (10) 7514294 (10) 3434966 (10) 5816885 (10) 6549569 (10) 3104167 (10) 9227489 (10) 8140727 (10) 485983 (10) 2271622 (10) 3586515 (10) 2751934 (10) 4717852 (10) 9717384 (10) 9868523 (10) 4882576 (10) 9340831 (10) 1514436 (10) 451046 (10) 360414 (10) 1152039 (10) 4850763 (10) 9277605 (10) 2119335 (10) 4005082 (10) 9971641 (10) 6152797 (10) 3485780 (10) 5853211 (10) 5912491 (10) 7264008 (10) 9002228 (10) 4228485 (10) 6008087 (10) 321600 (10) 2272371 (10) 5579758 (10) 7223435 (10) 5574323 (10) 2101821 (10) 2436219 (10) 3496198 (10) 3918311 (10) 5239890 (10) 3972448 (10) 7614330 (10) 9536761 (10) 7565245 (10) 3847526 (10) 9031842 (10) 6801550 (10) 744867 (10) 345762 (10) 1367646 (10) 9563123 (10) 5537105 (10) 6003828 (10) 6592373 (10) 5815184 (10) 5969245 (10) 1534102 (10) 6987930 (10) 3678451 (10) 2961876 (10) 8448520 (10) 3465839 (10) 4578793 (10) 7278775 (10) 4765679 (10) 3752346 (10) 6703971 (10) 865830 (10) 2935602 (10) 5903109 (10) 2385857 (10) 
     dis: 	6414.133 6432.375 6566.185 7775.480 7796.184 8296.418 8401.078 8437.510 8644.477 8929.859 9388.063 9539.368 9634.002 9648.408 9719.994 9720.502 9864.297 9872.281 9906.254 9957.773 10065.496 10346.984 10375.881 10448.883 10507.746 10546.236 10756.645 10839.828 10981.326 10982.100 11006.840 11096.197 11111.314 11171.574 11298.709 11301.265 11419.105 11438.912 11441.676 11454.850 11483.993 11534.354 11605.689 11614.182 11763.213 11766.041 11827.036 11842.545 11873.916 11884.135 11982.711 11997.051 12006.348 12048.520 12051.086 12056.156 12147.061 12155.480 12173.170 12175.359 12363.262 12366.600 12399.912 12413.176 12437.832 12444.395 12461.684 12492.977 12504.562 12508.758 12569.764 12588.819 12606.955 12607.188 12650.980 12685.115 12740.446 12755.459 12775.262 12777.096 12781.033 12787.801 12894.939 12981.934 13011.709 13057.754 13111.205 13135.528 13138.193 13178.535 13195.967 13268.838 13299.130 13306.920 13343.193 13346.205 13363.025 13377.523 13413.555 13413.603 
query 1 nn's (10, 10): 8784659 (10) 6945939 (10) 2769394 (10) 5321556 (10) 4561316 (10) 3193849 (10) 2077395 (10) 4111782 (10) 7928199 (10) 1237024 (10) 5116926 (10) 6783786 (10) 3288493 (10) 4414583 (10) 4952577 (10) 8300390 (10) 9780570 (10) 7905338 (10) 1141657 (10) 8680758 (10) 1216753 (10) 9979859 (10) 4496742 (10) 1587846 (10) 6615426 (10) 982005 (10) 4839935 (10) 1424510 (10) 7853534 (10) 5347257 (10) 5966468 (10) 8431034 (10) 5969404 (10) 6136881 (10) 2114720 (10) 2067413 (10) 6099297 (10) 210208 (10) 583971 (10) 6385836 (10) 8974429 (10) 9267002 (10) 1166066 (10) 9504433 (10) 3761710 (10) 759271 (10) 9248724 (10) 7804689 (10) 1824031 (10) 3724669 (10) 1927377 (10) 5534229 (10) 434519 (10) 5444203 (10) 509025 (10) 7158140 (10) 5664795 (10) 1061353 (10) 5295974 (10) 2817328 (10) 4252119 (10) 6037682 (10) 903398 (10) 7273808 (10) 1478349 (10) 693980 (10) 7841909 (10) 3622736 (10) 9278956 (10) 8561106 (10) 7499767 (10) 9970073 (10) 3034034 (10) 1473367 (10) 316839 (10) 5895577 (10) 7770117 (10) 5303947 (10) 3433669 (10) 5027954 (10) 6680429 (10) 7677236 (10) 8126210 (10) 8884531 (10) 2014179 (10) 7497777 (10) 9914953 (10) 1334523 (10) 524139 (10) 2471528 (10) 2086982 (10) 6454260 (10) 7276702 (10) 9924846 (10) 9881993 (10) 5620878 (10) 8518851 (10) 4360786 (10) 5918556 (10) 4151656 (10) 
     dis: 	8765.226 9079.016 9178.679 10238.240 10290.205 10562.842 10990.313 11085.228 11093.604 11094.037 11180.954 11190.893 11338.807 11380.984 11407.937 11417.113 11590.225 11653.300 11669.965 11672.676 11772.558 11774.113 11816.061 11825.609 11859.049 11970.397 11994.832 12010.205 12114.486 12137.301 12162.845 12179.556 12205.840 12208.055 12210.340 12218.661 12233.834 12304.533 12327.144 12380.741 12394.889 12399.731 12422.762 12472.165 12486.761 12490.968 12513.548 12571.324 12597.032 12615.807 12631.091 12666.966 12671.005 12697.164 12751.724 12780.536 12941.859 12942.832 12951.453 12986.861 12989.711 13003.512 13048.505 13085.325 13137.373 13138.882 13194.434 13207.626 13225.272 13246.035 13249.167 13262.048 13272.125 13285.126 13304.500 13309.635 13320.239 13326.811 13360.018 13361.020 13362.165 13364.578 13373.596 13376.078 13406.706 13419.945 13420.678 13429.071 13429.501 13435.165 13439.880 13448.894 13461.281 13468.123 13479.152 13488.283 13495.214 13505.529 13511.479 13578.844 
query 2 nn's (10, 10): 4290437 (10) 3524579 (10) 2755608 (10) 2768752 (10) 4969561 (10) 5423341 (10) 6688464 (10) 3817374 (10) 7670329 (10) 1233143 (10) 6915696 (10) 6672275 (10) 7433556 (10) 3995931 (10) 1585247 (10) 7037734 (10) 7215858 (10) 3686996 (10) 3485543 (10) 5943431 (10) 4489586 (10) 8773369 (10) 2826478 (10) 2262803 (10) 6791210 (10) 8373012 (10) 4972945 (10) 5329091 (10) 2354559 (10) 3989900 (10) 7839327 (10) 242710 (10) 1481914 (10) 9402325 (10) 1207655 (10) 2895724 (10) 1846155 (10) 4518309 (10) 503519 (10) 8628294 (10) 3709896 (10) 2171312 (10) 5859562 (10) 7147975 (10) 312728 (10) 6829634 (10) 9746995 (10) 5257675 (10) 9208988 (10) 7385231 (10) 5188561 (10) 9568973 (10) 6657725 (10) 7366068 (10) 8805708 (10) 1066233 (10) 5650643 (10) 4024352 (10) 7101891 (10) 7981371 (10) 2280297 (10) 6679312 (10) 6317516 (10) 6351656 (10) 6257635 (10) 8413303 (10) 6131779 (10) 9705570 (10) 6071002 (10) 3409682 (10) 3760456 (10) 1666933 (10) 2692851 (10) 5794271 (10) 1407764 (10) 8167170 (10) 5747150 (10) 1166591 (10) 7073858 (10) 4916447 (10) 1634495 (10) 7153445 (10) 6834481 (10) 177667 (10) 7341391 (10) 3380603 (10) 519893 (10) 5318003 (10) 5012551 (10) 6450938 (10) 4836326 (10) 2927516 (10) 2325840 (10) 4974426 (10) 1705503 (10) 1867155 (10) 4609405 (10) 4450902 (10) 17336 (10) 5829237 (10) 
     dis: 	4542.042 5012.328 5151.526 7858.528 8062.667 8498.254 8687.844 8792.666 9207.074 9287.541 9814.024 9960.715 10019.524 10265.812 10273.459 10723.768 10749.218 11210.739 11350.087 11352.115 11384.483 11434.844 11471.007 11494.721 11508.496 11540.063 11563.412 11711.441 11745.541 11760.250 11883.308 11890.306 11989.419 11995.736 12026.299 12032.654 12038.643 12048.998 12066.062 12093.634 12137.261 12175.985 12176.218 12178.157 12188.467 12208.185 12223.216 12232.277 12267.860 12283.816 12312.312 12315.173 12326.246 12335.066 12348.662 12358.680 12408.514 12437.103 12442.993 12546.582 12571.580 12582.399 12636.973 12639.858 12642.389 12653.181 12703.655 12743.491 12744.352 12756.160 12802.165 12849.970 12863.646 12869.529 12900.824 12915.463 12919.621 12975.484 13004.756 13036.299 13038.209 13083.698 13107.527 13110.076 13113.089 13135.153 13137.607 13154.613 13158.092 13173.264 13174.126 13183.086 13185.847 13203.166 13210.285 13258.392 13277.668 13291.448 13315.174 13328.373 
query 3 nn's (10, 10): 7375372 (10) 8694166 (10) 4153275 (10) 1074776 (10) 9100185 (10) 9157428 (10) 5621855 (10) 8656601 (10) 1174052 (10) 6835770 (10) 7110321 (10) 9760951 (10) 543165 (10) 2824029 (10) 2838160 (10) 3431426 (10) 891922 (10) 1549096 (10) 7102985 (10) 1771224 (10) 9030244 (10) 4925397 (10) 8900242 (10) 1453923 (10) 5971002 (10) 899773 (10) 4280414 (10) 5924329 (10) 6193105 (10) 6114795 (10) 8354889 (10) 407176 (10) 444968 (10) 1559878 (10) 5911798 (10) 5165872 (10) 2262413 (10) 2605021 (10) 2962163 (10) 1887300 (10) 6877659 (10) 5404816 (10) 9750958 (10) 5651044 (10) 8589062 (10) 1981654 (10) 181546 (10) 4300552 (10) 5498239 (10) 2744780 (10) 2113776 (10) 8797109 (10) 1874647 (10) 5555516 (10) 5951119 (10) 8437072 (10) 5241021 (10) 3104897 (10) 5924168 (10) 3539326 (10) 4645211 (10) 6000334 (10) 3433587 (10) 9250690 (10) 7541460 (10) 4003247 (10) 2846312 (10) 916020 (10) 4052646 (10) 586204 (10) 4767661 (10) 7242021 (10) 347839 (10) 6752785 (10) 3400340 (10) 4641079 (10) 613079 (10) 5142677 (10) 7713351 (10) 4432454 (10) 7049263 (10) 7593637 (10) 4072686 (10) 7992788 (10) 1319961 (10) 3720695 (10) 4338390 (10) 7320752 (10) 5340508 (10) 4657476 (10) 6595287 (10) 7641663 (10) 4392973 (10) 8976112 (10) 8108413 (10) 9308855 (10) 7251101 (10) 950864 (10) 8127196 (10) 4587493 (10) 
     dis: 	9178.121 9677.692 9891.278 10423.970 10469.760 10479.249 10713.815 10921.291 10968.396 11394.721 11543.115 11558.764 11574.998 11604.655 11618.854 11693.234 11779.965 11787.654 11933.174 12066.514 12071.457 12112.579 12124.435 12158.029 12166.674 12194.023 12209.152 12212.320 12296.252 12483.910 12486.123 12486.956 12496.656 12496.964 12571.232 12852.544 12865.562 12894.440 12905.453 12941.682 12979.936 12991.156 13015.606 13024.650 13031.410 13095.768 13108.093 13150.133 13153.400 13158.633 13182.557 13210.390 13233.293 13276.822 13281.541 13289.638 13294.702 13327.217 13376.134 13392.977 13395.027 13395.230 13405.546 13417.766 13420.644 13422.107 13426.444 13484.251 13487.062 13521.011 13521.298 13523.365 13551.142 13569.811 13575.195 13580.445 13591.461 13617.886 13620.524 13625.973 13630.391 13642.588 13645.216 13690.410 13704.474 13723.734 13737.175 13741.130 13744.434 13748.075 13761.370 13766.684 13779.967 13896.856 13897.118 13908.191 13912.927 13915.208 13927.621 13959.076 
query 4 nn's (10, 10): 9788862 (10) 3849231 (10) 3367834 (10) 3037959 (10) 9193832 (10) 1906000 (10) 6082909 (10) 1994085 (10) 3480152 (10) 7100626 (10) 449527 (10) 3195289 (10) 6614912 (10) 1444782 (10) 2337939 (10) 8605558 (10) 8902014 (10) 1306176 (10) 2473330 (10) 6738443 (10) 9600067 (10) 6815324 (10) 4175678 (10) 1875114 (10) 288977 (10) 3792530 (10) 2188431 (10) 5021774 (10) 3505357 (10) 7816576 (10) 7209041 (10) 1595830 (10) 5521208 (10) 1432350 (10) 8028995 (10) 9964092 (10) 801930 (10) 7987544 (10) 2514100 (10) 8880992 (10) 290548 (10) 6765006 (10) 2909307 (10) 4630927 (10) 8998151 (10) 1805350 (10) 876017 (10) 5855379 (10) 5781240 (10) 9792010 (10) 6473453 (10) 4786546 (10) 8400780 (10) 5374432 (10) 5892891 (10) 5220285 (10) 8013089 (10) 6414775 (10) 3855566 (10) 6863555 (10) 1203342 (10) 6871337 (10) 6632711 (10) 3018023 (10) 124297 (10) 4364679 (10) 9004320 (10) 2156786 (10) 3254897 (10) 7657646 (10) 9625065 (10) 9135188 (10) 7800694 (10) 8278429 (10) 1493141 (10) 3650471 (10) 8855048 (10) 461309 (10) 7664685 (10) 7619778 (10) 1684521 (10) 1857734 (10) 2661685 (10) 6872346 (10) 2237336 (10) 6080614 (10) 5238216 (10) 1128048 (10) 9027955 (10) 4205878 (10) 2966222 (10) 4249166 (10) 1879610 (10) 8680586 (10) 7320103 (10) 2405191 (10) 8645881 (10) 6664115 (10) 9464897 (10) 8482818 (10) 
     dis: 	6165.131 6168.659 6414.258 6421.977 6456.212 6515.235 6536.395 6542.628 6616.665 6724.251 6766.941 6787.833 6794.460 6826.149 7043.858 7054.201 7096.312 7104.427 7114.095 7120.815 7122.453 7129.933 7134.933 7139.737 7156.568 7159.878 7194.735 7212.983 7239.648 7283.308 7294.718 7322.942 7349.662 7351.869 7351.972 7367.931 7372.417 7421.911 7422.741 7464.204 7465.547 7467.675 7470.019 7476.243 7510.106 7530.123 7554.117 7560.020 7570.895 7594.998 7610.180 7626.246 7639.874 7642.104 7653.684 7663.185 7664.596 7668.369 7669.740 7670.968 7676.588 7687.899 7704.083 7718.061 7724.946 7730.001 7738.081 7740.553 7746.474 7757.048 7766.453 7772.469 7774.736 7775.591 7778.032 7781.876 7783.664 7790.991 7799.050 7805.490 7806.111 7813.905 7817.576 7822.195 7823.262 7832.562 7840.453 7859.636 7866.651 7875.103 7887.809 7892.112 7895.730 7900.683 7903.643 7910.984 7912.040 7917.625 7918.640 7938.004 
[ 109.012s ] *** Query time: 42.569
qps: 234.915
 *** ivfpq recall 
ivfpq get 812360 postive res from 1000000 results, recall@100:0.812
recall dist(10% per bucket): 0.000 0.001 0.003 0.013 0.032 0.059 0.105 0.156 0.242 0.379 0.010 
finished ivfpq index examples
[ 109.048s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 100 100"
	User time (seconds): 105.04
	System time (seconds): 2.87
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:49.23
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2409376
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 2
	Minor (reclaiming a frame) page faults: 893637
	Voluntary context switches: 4292
	Involuntary context switches: 298
	Swaps: 0
	File system inputs: 198112
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:48
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 100
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.709s ] Loaded metadata, 10000000 attr's found
[ 0.709s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.711s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.713s ] Loaded 10000 spacev10m queries
[ 0.781s ] Loaded ground truth, gt_size: 100
[ 0.781s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 4.350s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 102.692s ] Query results (vector ids, then distances):
query 0 nn's (19, 19): 4279856 (19) 8341867 (19) 4470157 (19) 2168891 (19) 3665805 (19) 7367271 (19) 9931603 (19) 1637453 (19) 5746247 (19) 1770486 (19) 3460164 (19) 1372131 (19) 487590 (19) 4686457 (19) 8910608 (19) 3697929 (19) 8378957 (19) 2218806 (19) 1592842 (19) 8182773 (19) 7661076 (19) 8674237 (19) 6686155 (19) 620761 (19) 6750500 (19) 6895596 (19) 1332121 (19) 9502814 (19) 7188002 (19) 6951564 (19) 3089824 (19) 2811379 (19) 2042469 (19) 6064456 (19) 660063 (19) 7109424 (19) 2552899 (19) 232049 (19) 3478881 (19) 9235758 (19) 6363317 (19) 8490642 (19) 4791005 (19) 1115768 (19) 6775481 (19) 7576885 (19) 2577938 (19) 6714105 (19) 1870745 (19) 1774052 (19) 5363571 (19) 5980669 (19) 5558162 (19) 2078033 (19) 4421571 (19) 6662785 (19) 8284371 (19) 8416440 (19) 92086 (19) 9391843 (19) 9519695 (19) 8220285 (19) 5854202 (19) 5387330 (19) 7781092 (19) 5316121 (19) 6325615 (19) 8682279 (19) 2470691 (19) 607691 (19) 356107 (19) 7410389 (19) 8603506 (19) 1500786 (19) 99930 (19) 9112676 (19) 5488688 (19) 8690081 (19) 4840616 (19) 8335206 (19) 9686416 (19) 6227254 (19) 9622591 (19) 8535837 (19) 2152072 (19) 3974730 (19) 3095776 (19) 3703035 (19) 9191948 (19) 214743 (19) 7291721 (19) 8120166 (19) 8902858 (19) 6438288 (19) 1463234 (19) 4807250 (19) 1595145 (19) 7730660 (19) 7164338 (19) 3732361 (19) 
     dis: 	7638.735 9558.711 9934.037 10453.116 11205.758 12684.057 12869.922 13166.826 13499.471 13583.150 14028.183 14605.518 15783.516 16006.377 16105.197 16203.963 16450.496 16520.648 16569.531 16642.363 16667.049 16720.711 16772.645 16812.740 16862.258 16872.947 16907.820 17071.625 17097.293 17135.922 17206.021 17294.500 17312.797 17351.109 17382.109 17409.516 17459.090 17467.510 17482.221 17524.652 17548.877 17593.201 17681.975 17732.672 17806.039 17815.852 17866.320 17870.555 17895.672 17921.639 17941.045 18014.668 18031.244 18083.207 18092.682 18100.348 18107.000 18119.520 18147.936 18268.385 18283.029 18319.234 18326.502 18381.492 18392.924 18399.998 18414.225 18440.750 18473.781 18503.752 18513.434 18514.695 18523.379 18531.203 18552.898 18556.127 18562.434 18597.979 18634.029 18733.520 18738.561 18749.072 18770.697 18775.730 18780.039 18812.898 18820.688 18849.520 18852.707 18927.484 18941.805 18950.982 18952.566 18954.084 18966.477 18978.139 19038.811 19054.658 19056.621 19142.250 
query 1 nn's (19, 19): 3010609 (19) 429713 (19) 5389260 (19) 4568459 (19) 8829523 (19) 110728 (19) 630895 (19) 7568825 (19) 783095 (19) 2929751 (19) 8636733 (19) 6863211 (19) 3144041 (19) 392320 (19) 7198370 (19) 7947913 (19) 5003704 (19) 6027347 (19) 5483238 (19) 4306441 (19) 3862347 (19) 1389708 (19) 5137115 (19) 4177569 (19) 3071481 (19) 474037 (19) 469832 (19) 8648100 (19) 931057 (19) 4286140 (19) 1766446 (19) 8525461 (19) 440253 (19) 445148 (19) 5224635 (19) 5113229 (19) 9339417 (19) 9276130 (19) 6925055 (19) 5788109 (19) 2382853 (19) 425912 (19) 1805393 (19) 4419178 (19) 2858595 (19) 7612669 (19) 7583884 (19) 5608880 (19) 5921858 (19) 8921952 (19) 9545981 (19) 8687481 (19) 9044463 (19) 7457489 (19) 3711559 (19) 5418938 (19) 3004423 (19) 8111746 (19) 3251921 (19) 1326371 (19) 5243086 (19) 4771937 (19) 4882390 (19) 1919587 (19) 6199417 (19) 8716308 (19) 7561374 (19) 1117998 (19) 9201551 (19) 9003892 (19) 912090 (19) 1162693 (19) 4074976 (19) 7056419 (19) 8696428 (19) 9710724 (19) 8555163 (19) 4476482 (19) 6228590 (19) 2633827 (19) 2421511 (19) 5298278 (19) 1952305 (19) 704181 (19) 8431178 (19) 2679090 (19) 1739463 (19) 7055862 (19) 8685169 (19) 8298640 (19) 5895236 (19) 4537168 (19) 4706624 (19) 9300662 (19) 4714245 (19) 4894637 (19) 6088339 (19) 1602262 (19) 2556840 (19) 6685705 (19) 
     dis: 	8391.524 9736.995 10792.950 11708.830 11799.709 12010.175 12441.334 12504.060 12578.889 12892.762 13379.538 13382.105 13498.253 13519.527 13689.697 13856.448 13992.421 14041.268 14224.301 14358.249 14426.482 14536.901 14554.845 14572.909 14747.531 14928.906 14935.573 14951.977 14960.764 15044.445 15057.150 15118.410 15309.520 15310.859 15334.264 15502.815 15533.725 15635.906 15636.932 15639.560 15789.396 15815.390 15816.677 15829.619 15885.144 15974.834 15976.923 16011.895 16012.525 16092.650 16096.720 16101.754 16125.956 16154.598 16223.809 16245.324 16268.004 16274.797 16278.438 16294.100 16309.813 16313.535 16350.902 16357.865 16366.599 16393.750 16404.492 16405.717 16438.086 16444.818 16456.906 16486.672 16492.371 16492.859 16513.250 16520.238 16525.463 16544.434 16559.414 16575.854 16576.900 16602.355 16620.590 16630.746 16636.135 16644.246 16651.059 16654.918 16690.939 16694.262 16738.604 16738.910 16749.150 16776.488 16777.412 16780.898 16791.590 16793.199 16797.977 16806.641 
query 2 nn's (19, 19): 5535345 (19) 5031536 (19) 8226884 (19) 6084444 (19) 749169 (19) 8617679 (19) 8728212 (19) 6971757 (19) 5515036 (19) 1458865 (19) 4577911 (19) 3010954 (19) 5587927 (19) 3921280 (19) 8741529 (19) 779126 (19) 2758942 (19) 9763181 (19) 9645749 (19) 8094377 (19) 9556523 (19) 4882007 (19) 186885 (19) 6774638 (19) 998715 (19) 5301122 (19) 1266640 (19) 9760098 (19) 4658930 (19) 3126483 (19) 7317548 (19) 9915864 (19) 5259633 (19) 3414397 (19) 3943530 (19) 9634721 (19) 9808998 (19) 5541998 (19) 7015834 (19) 841516 (19) 6904606 (19) 4412415 (19) 780774 (19) 3166588 (19) 4464195 (19) 4054698 (19) 1392790 (19) 1340184 (19) 6591284 (19) 9534907 (19) 1357631 (19) 2181097 (19) 2025883 (19) 9705107 (19) 654427 (19) 1149504 (19) 3925923 (19) 8944874 (19) 9501542 (19) 4397958 (19) 2496494 (19) 3137808 (19) 6821524 (19) 5223199 (19) 182565 (19) 3482575 (19) 2093936 (19) 9750691 (19) 420567 (19) 7192516 (19) 3100693 (19) 7073357 (19) 2148037 (19) 2251511 (19) 3151627 (19) 467088 (19) 9359481 (19) 2166472 (19) 6402594 (19) 4104371 (19) 9811611 (19) 5533855 (19) 4807897 (19) 6256506 (19) 8015406 (19) 9906518 (19) 6054547 (19) 3806355 (19) 3571306 (19) 5367800 (19) 5687870 (19) 1124820 (19) 7374384 (19) 7596062 (19) 7728190 (19) 2278982 (19) 9549796 (19) 3848954 (19) 1376315 (19) 6156628 (19) 
     dis: 	12024.223 12097.814 12805.860 12947.198 12954.128 13331.361 13523.029 13618.199 13641.347 13672.826 13766.740 13907.245 14055.801 14087.814 14088.777 14457.531 14672.530 14691.119 14789.039 14894.432 14898.377 14989.438 15053.449 15216.352 15284.398 15348.151 15426.451 15444.068 15477.859 15580.339 15588.112 15687.478 15744.389 15805.731 15806.801 15895.018 15916.496 15954.663 15990.857 16019.096 16027.939 16041.510 16060.621 16062.855 16068.260 16084.735 16087.768 16091.288 16105.752 16147.369 16151.105 16160.312 16171.044 16241.357 16249.508 16315.808 16323.785 16336.685 16364.848 16373.623 16382.705 16387.223 16401.191 16415.109 16462.682 16539.891 16548.938 16624.137 16635.500 16641.426 16652.082 16663.941 16679.633 16687.264 16691.668 16700.486 16730.004 16765.727 16776.020 16863.924 16868.242 16882.580 16906.354 16970.031 16972.322 16984.727 17003.865 17018.240 17036.594 17050.146 17064.855 17068.020 17070.689 17115.266 17116.641 17120.207 17126.447 17142.496 17150.406 17152.523 
query 3 nn's (19, 19): 8688374 (19) 312551 (19) 4281239 (19) 2035960 (19) 1088105 (19) 9323463 (19) 7541027 (19) 7449790 (19) 6105877 (19) 8097175 (19) 4268373 (19) 667960 (19) 5461052 (19) 7491279 (19) 4925847 (19) 4919176 (19) 9080241 (19) 1340184 (19) 9885359 (19) 8129391 (19) 2415373 (19) 8607893 (19) 3009169 (19) 2784680 (19) 5922505 (19) 8045936 (19) 3845490 (19) 176951 (19) 7543980 (19) 7875093 (19) 5215312 (19) 4659110 (19) 9096336 (19) 2586101 (19) 514113 (19) 9913374 (19) 4268377 (19) 3864598 (19) 7997421 (19) 8882286 (19) 6673817 (19) 127654 (19) 628653 (19) 5893105 (19) 1237353 (19) 3131439 (19) 8771503 (19) 2417799 (19) 4672684 (19) 4627911 (19) 7757544 (19) 905800 (19) 7871197 (19) 2006907 (19) 2140224 (19) 3010965 (19) 1652195 (19) 6980401 (19) 4898571 (19) 779126 (19) 190660 (19) 5368564 (19) 2727588 (19) 4638438 (19) 1357332 (19) 1243617 (19) 9122252 (19) 6108720 (19) 313153 (19) 734379 (19) 4476660 (19) 6237451 (19) 6565917 (19) 4279626 (19) 3256399 (19) 3079607 (19) 9161844 (19) 9689796 (19) 6577025 (19) 220083 (19) 7270516 (19) 7528405 (19) 510939 (19) 6431575 (19) 374310 (19) 4883977 (19) 1217792 (19) 8649445 (19) 6908214 (19) 7704337 (19) 6684542 (19) 2670175 (19) 451092 (19) 1843683 (19) 5507863 (19) 4426304 (19) 8307262 (19) 8935605 (19) 7544726 (19) 9283742 (19) 
     dis: 	9944.749 12468.111 12897.088 13140.541 13573.342 13577.740 13779.833 13839.975 13854.350 13899.174 14213.678 14235.775 14459.153 14490.075 14537.353 14661.752 14774.268 14788.648 14900.577 14915.215 15039.348 15193.091 15275.812 15352.617 15577.146 15621.230 15686.299 15709.281 15711.110 15857.826 15918.137 15969.267 16053.637 16094.088 16129.919 16146.223 16169.628 16238.080 16244.188 16275.604 16287.273 16296.250 16419.477 16452.832 16482.240 16485.844 16522.209 16544.324 16554.145 16561.996 16622.148 16662.688 16693.137 16717.066 16762.617 16809.115 16832.432 16862.625 16883.633 16920.576 16935.223 16949.295 16958.963 16973.215 16977.035 16991.266 17002.229 17015.445 17038.037 17047.125 17071.074 17102.043 17106.824 17186.238 17224.346 17249.168 17269.543 17353.676 17366.441 17380.406 17386.838 17398.482 17407.230 17418.684 17425.281 17430.209 17432.629 17449.020 17467.354 17483.234 17487.418 17490.301 17501.660 17503.721 17580.490 17606.637 17611.869 17690.074 17710.186 17715.258 
query 4 nn's (19, 19): 6836665 (19) 7921516 (19) 2798193 (19) 1079096 (19) 5551706 (19) 6384236 (19) 8437136 (19) 8954656 (19) 9191078 (19) 1878195 (19) 9656416 (19) 9493852 (19) 2757759 (19) 2027548 (19) 8921471 (19) 9329860 (19) 1335746 (19) 8536029 (19) 8639136 (19) 5256190 (19) 8349371 (19) 9424986 (19) 511177 (19) 2501959 (19) 5327936 (19) 1643680 (19) 8372024 (19) 793299 (19) 1240610 (19) 1054012 (19) 4955145 (19) 4075229 (19) 1343630 (19) 9253615 (19) 4548642 (19) 7609377 (19) 2015190 (19) 9072469 (19) 5596924 (19) 3842876 (19) 2456896 (19) 325510 (19) 8181039 (19) 7303110 (19) 8407752 (19) 6766193 (19) 8170734 (19) 1895524 (19) 4869663 (19) 3425925 (19) 1753211 (19) 6401886 (19) 4126790 (19) 3321001 (19) 461835 (19) 2484305 (19) 3806355 (19) 7780026 (19) 6095136 (19) 1061844 (19) 4748406 (19) 8889106 (19) 1362637 (19) 9990549 (19) 2914251 (19) 7784434 (19) 6486072 (19) 3965413 (19) 3467576 (19) 5945988 (19) 9499575 (19) 9369425 (19) 3649736 (19) 8490864 (19) 6153524 (19) 9424041 (19) 6409418 (19) 5069455 (19) 7829271 (19) 5186846 (19) 6471165 (19) 3411002 (19) 3266320 (19) 8749146 (19) 3115874 (19) 357262 (19) 351433 (19) 7027172 (19) 7968965 (19) 917401 (19) 6744775 (19) 7074878 (19) 6614285 (19) 3549484 (19) 4933052 (19) 3578648 (19) 5992353 (19) 901364 (19) 5571848 (19) 8926455 (19) 
     dis: 	6851.380 7161.380 7243.177 7413.333 7422.892 7440.549 7512.876 7577.691 7638.171 7665.403 7716.237 7752.497 7754.162 7800.845 7851.804 8018.662 8082.827 8087.817 8088.618 8154.580 8194.400 8197.945 8245.710 8257.182 8382.871 8405.180 8427.924 8459.846 8493.091 8497.349 8563.842 8568.471 8585.865 8615.291 8624.682 8656.666 8665.778 8675.385 8709.665 8732.691 8737.271 8749.697 8752.396 8764.888 8778.420 8786.758 8801.138 8816.869 8825.207 8835.709 8840.059 8853.229 8877.213 8883.633 8911.971 8916.273 8918.075 8953.867 8963.311 8968.421 8970.105 8974.793 8986.098 8986.633 8992.217 9005.859 9014.567 9024.974 9044.827 9065.203 9071.347 9081.488 9093.404 9097.068 9097.351 9100.009 9100.082 9137.573 9146.828 9159.024 9163.772 9169.037 9173.205 9174.557 9184.102 9186.030 9188.041 9194.456 9205.330 9222.142 9227.512 9249.854 9257.406 9267.459 9286.191 9297.177 9304.187 9304.584 9319.009 9338.881 
[ 102.692s ] *** Query time: 34.182
qps: 292.551
 *** ivfpq recall 
ivfpq get 624335 postive res from 1000000 results, recall@100:0.624
recall dist(10% per bucket): 0.002 0.012 0.036 0.080 0.121 0.155 0.191 0.203 0.147 0.051 0.000 
finished ivfpq index examples
[ 102.721s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 100 100"
	User time (seconds): 99.96
	System time (seconds): 1.77
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:42.92
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2409380
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 2
	Minor (reclaiming a frame) page faults: 616673
	Voluntary context switches: 4252
	Involuntary context switches: 73
	Swaps: 0
	File system inputs: 201032
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 02:09
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 100
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.721s ] Loaded metadata, 10000000 attr's found
[ 0.721s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.724s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.726s ] Loaded 10000 spacev10m queries
[ 0.833s ] Loaded ground truth, gt_size: 100
[ 0.833s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 7.016s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 93.790s ] Query results (vector ids, then distances):
query 0 nn's (20, 20): 6443191 (20) 4699240 (20) 7019431 (20) 4459358 (20) 337940 (20) 4283885 (20) 9935667 (20) 3931559 (20) 2466547 (20) 5199441 (20) 6118204 (20) 1860345 (20) 8723167 (20) 2361319 (20) 8237360 (20) 1600402 (20) 5686713 (20) 5694878 (20) 5700300 (20) 8106894 (20) 6203676 (20) 4130845 (20) 3819249 (20) 7590583 (20) 4477572 (20) 1954471 (20) 5695056 (20) 3103688 (20) 4090976 (20) 9797043 (20) 2552786 (20) 1312779 (20) 8399472 (20) 5987689 (20) 8567001 (20) 6845959 (20) 9097950 (20) 2786064 (20) 2458042 (20) 6118135 (20) 8614447 (20) 3660051 (20) 7542820 (20) 2586328 (20) 177291 (20) 9240392 (20) 9999519 (20) 7973202 (20) 328137 (20) 2978873 (20) 9389468 (20) 4692679 (20) 8941600 (20) 1293919 (20) 7324277 (20) 8133655 (20) 1342657 (20) 8912922 (20) 9885669 (20) 1992881 (20) 6447117 (20) 6994186 (20) 8560055 (20) 4283997 (20) 9693597 (20) 989818 (20) 7219310 (20) 7297558 (20) 3668279 (20) 1015685 (20) 8105393 (20) 9250361 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	12183.217 12270.143 16160.129 16676.064 17386.770 17880.533 17992.535 18207.014 18307.053 18672.984 19150.332 19491.441 19745.900 19845.498 19920.078 20036.355 20174.311 20485.605 20493.479 20739.059 20755.684 20782.408 20784.635 20818.801 20888.367 20896.670 20927.170 21028.371 21188.004 21261.119 21297.742 21345.340 21442.434 21536.432 21925.336 21961.820 22296.086 22346.715 22361.885 22408.705 22550.820 22588.672 22626.012 22680.488 22727.977 22802.035 22920.834 23050.590 23083.289 23125.473 23189.160 23279.785 23297.166 23374.359 23624.943 23656.264 23663.773 23754.930 23828.777 24017.971 24171.414 24255.691 24425.607 24471.266 24807.029 25019.336 25058.713 25058.814 26215.145 26337.666 27402.457 28679.742 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (20, 20): 9246122 (20) 6649015 (20) 9227196 (20) 8711930 (20) 662332 (20) 7923085 (20) 6779370 (20) 4366343 (20) 8373788 (20) 9925207 (20) 4889973 (20) 9004403 (20) 207306 (20) 9448304 (20) 2335272 (20) 2328588 (20) 7033809 (20) 7856374 (20) 3079819 (20) 3031494 (20) 3737435 (20) 1116306 (20) 7758605 (20) 6477725 (20) 2329364 (20) 412141 (20) 8165000 (20) 6800635 (20) 7815891 (20) 8036843 (20) 468975 (20) 9733850 (20) 8815262 (20) 5422725 (20) 3201362 (20) 7355829 (20) 2066318 (20) 6230696 (20) 3548616 (20) 9615047 (20) 1811814 (20) 5847668 (20) 1862804 (20) 2193831 (20) 7909216 (20) 7801361 (20) 9499136 (20) 8019961 (20) 1227195 (20) 5200002 (20) 1612480 (20) 2206232 (20) 2637741 (20) 3511348 (20) 8821370 (20) 7525226 (20) 7443650 (20) 2469443 (20) 7243779 (20) 7564432 (20) 9504722 (20) 7077962 (20) 5148112 (20) 1437533 (20) 713169 (20) 9480044 (20) 5944265 (20) 6117251 (20) 3259717 (20) 3808164 (20) 8986450 (20) 200056 (20) 4852439 (20) 1582827 (20) 7826291 (20) 4284080 (20) 5938945 (20) 3729759 (20) 3063077 (20) 2444413 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	13139.062 14440.965 14605.871 15184.494 15359.936 16701.602 16707.025 16868.090 16898.975 17053.594 17081.066 17207.820 17288.924 17501.850 17503.393 17579.057 17745.184 17775.973 17961.277 17967.219 18029.334 18250.920 18321.098 18368.609 18454.305 18606.104 18642.191 18652.273 18662.584 18802.074 18814.203 18896.387 18997.551 19061.352 19064.695 19299.426 19412.939 19525.199 19546.555 19782.484 19786.180 20019.580 20236.906 20377.092 20413.254 20424.176 20428.127 20573.318 20595.717 20632.697 20697.688 20775.277 21081.887 21084.418 21249.500 21262.564 21306.480 21522.598 21593.852 21943.713 21990.707 22105.793 22131.596 22241.850 22281.818 22512.869 22519.652 22686.943 22775.389 23095.732 23283.035 23317.141 23537.570 23574.121 23688.156 23944.801 24995.564 25386.000 25443.490 26446.021 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (20, 20): 3713444 (20) 8465646 (20) 5699749 (20) 8198536 (20) 5706769 (20) 328170 (20) 8979320 (20) 6347471 (20) 1387700 (20) 4277153 (20) 9630261 (20) 4791587 (20) 6654272 (20) 9868186 (20) 7511730 (20) 3065722 (20) 5616307 (20) 528114 (20) 2362170 (20) 4804684 (20) 226817 (20) 3722920 (20) 7809929 (20) 3219846 (20) 5942801 (20) 748842 (20) 4109454 (20) 1626040 (20) 9813685 (20) 4785449 (20) 880418 (20) 6710599 (20) 7801409 (20) 7097457 (20) 4184249 (20) 6079243 (20) 1850205 (20) 1198250 (20) 7779595 (20) 9601568 (20) 9567113 (20) 6434943 (20) 5281691 (20) 9826788 (20) 2012895 (20) 3508787 (20) 341546 (20) 3197180 (20) 3630241 (20) 2755396 (20) 3483919 (20) 3418430 (20) 3612155 (20) 2603749 (20) 2287988 (20) 7544765 (20) 3294613 (20) 6846717 (20) 4313238 (20) 1405930 (20) 1768793 (20) 6339011 (20) 5802131 (20) 2315911 (20) 1638493 (20) 6593827 (20) 1587071 (20) 8193007 (20) 6184186 (20) 1752989 (20) 282076 (20) 4659011 (20) 176430 (20) 3409661 (20) 8341449 (20) 7914745 (20) 6091303 (20) 1568014 (20) 7054744 (20) 9842707 (20) 9280171 (20) 9201564 (20) 7914706 (20) 644052 (20) 7167507 (20) 9717086 (20) 5306527 (20) 4569657 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	11821.822 13209.668 14546.093 14743.147 15112.273 15838.992 16158.321 16340.252 16624.857 16667.367 16812.693 17017.117 17046.209 17197.113 17201.008 17460.637 17466.766 17467.174 17510.326 17561.227 17685.152 17689.559 17800.916 17805.078 17860.086 17916.527 18061.541 18226.445 18284.352 18419.322 18477.967 18729.861 18732.691 18771.492 18859.572 18897.596 18935.191 19265.957 19406.969 19524.535 19527.168 19558.949 19797.283 19845.324 19966.516 20152.023 20161.266 20184.287 20298.287 20346.520 20380.160 20634.660 20823.238 20865.814 20874.477 20958.414 20965.344 20977.059 21166.371 21202.477 21383.227 21470.256 21490.627 21690.484 21787.447 21790.986 21818.156 21820.447 21838.641 22086.238 22245.539 22374.039 22401.738 22430.105 22589.719 22689.598 22699.398 22702.777 22913.625 23388.559 23605.926 23618.742 23721.723 23836.877 24601.590 24770.850 24857.809 25911.328 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (20, 20): 9781225 (20) 5023237 (20) 4869461 (20) 6286207 (20) 5512851 (20) 5515303 (20) 6045440 (20) 1416061 (20) 5321494 (20) 2934450 (20) 5498028 (20) 8067931 (20) 3326654 (20) 8877594 (20) 6165841 (20) 4698642 (20) 9017277 (20) 3773757 (20) 7379412 (20) 9729742 (20) 5743779 (20) 2012895 (20) 6170727 (20) 141448 (20) 2469276 (20) 9673289 (20) 200785 (20) 160607 (20) 1726985 (20) 1150990 (20) 4107089 (20) 4175635 (20) 766363 (20) 5382725 (20) 7172789 (20) 52209 (20) 1821499 (20) 9250092 (20) 2819691 (20) 2072006 (20) 8681765 (20) 4097971 (20) 2808439 (20) 4313238 (20) 1418777 (20) 9385516 (20) 6663084 (20) 8819502 (20) 5843061 (20) 7560238 (20) 2424397 (20) 3761931 (20) 7209457 (20) 7090670 (20) 1494130 (20) 2834330 (20) 4468293 (20) 3378432 (20) 8927645 (20) 8409700 (20) 7410907 (20) 3771989 (20) 2130222 (20) 7825238 (20) 499940 (20) 8225973 (20) 210373 (20) 4081314 (20) 9025163 (20) 9326729 (20) 6147593 (20) 3254599 (20) 9792464 (20) 9371276 (20) 8945993 (20) 3219864 (20) 3144549 (20) 5528239 (20) 1030920 (20) 8172042 (20) 1607420 (20) 408602 (20) 2493598 (20) 2647307 (20) 5656319 (20) 6122344 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	11810.748 15682.982 16343.217 16877.375 17068.734 17505.180 17690.271 17808.576 17942.729 18345.178 18444.203 18772.355 18777.559 19041.398 19071.053 19153.121 19193.559 19232.184 19251.014 19298.871 19344.994 19358.439 19403.707 19474.715 19690.848 19721.559 19886.098 19909.416 19911.215 19924.023 20001.500 20170.889 20189.799 20222.008 20335.020 20507.859 20716.191 20906.129 20909.672 20930.918 20966.686 20980.939 21015.088 21158.059 21215.078 21301.168 21386.225 21484.355 21503.227 21536.961 21688.891 21788.617 21894.822 21917.807 21932.496 22007.105 22115.133 22165.744 22298.562 22514.113 22542.832 22549.121 22629.691 22800.764 22813.172 22815.066 22972.439 22999.846 23295.695 23325.061 23369.764 23385.326 23440.396 23617.020 23720.789 23789.846 23852.486 23937.762 24002.023 24081.820 24186.721 24260.504 24262.543 26176.961 26697.148 26801.391 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (20, 20): 2805400 (20) 4834736 (20) 9988614 (20) 9490690 (20) 4816065 (20) 2867132 (20) 5608022 (20) 3733057 (20) 2749934 (20) 7921485 (20) 7541936 (20) 3722920 (20) 9078501 (20) 8876586 (20) 3535396 (20) 5495283 (20) 5038606 (20) 7312851 (20) 5688258 (20) 7851210 (20) 4302871 (20) 4365971 (20) 6905711 (20) 4096566 (20) 1431536 (20) 6468643 (20) 8793082 (20) 7608317 (20) 1556393 (20) 1510057 (20) 8836957 (20) 3092932 (20) 9849637 (20) 2923872 (20) 5224189 (20) 5506381 (20) 6011640 (20) 4355510 (20) 6881971 (20) 9534197 (20) 2607476 (20) 5166898 (20) 3065722 (20) 1023414 (20) 550297 (20) 6119111 (20) 4321992 (20) 6706105 (20) 4327439 (20) 9271605 (20) 7581401 (20) 5184801 (20) 9119552 (20) 8006361 (20) 1626040 (20) 3436720 (20) 8457720 (20) 7383749 (20) 9437159 (20) 8872670 (20) 8447099 (20) 2914945 (20) 7998811 (20) 4116442 (20) 1538666 (20) 7997572 (20) 439927 (20) 4938188 (20) 2068771 (20) 5331635 (20) 5394133 (20) 7376705 (20) 609870 (20) 9068103 (20) 7742513 (20) 2608651 (20) 1527085 (20) 822019 (20) 4539063 (20) 8245398 (20) 4440413 (20) 9561473 (20) 4277947 (20) 6654272 (20) 9815484 (20) 1323554 (20) 5832635 (20) 3028948 (20) 2259846 (20) 9632532 (20) 6722740 (20) 6476294 (20) 5116883 (20) 7564386 (20) 285258 (20) 7167777 (20) 2161746 (20) 539160 (20) 3729590 (20) 6116579 (20) 
     dis: 	8020.513 8131.236 8313.282 8420.460 8728.763 8795.764 9016.697 9049.032 9181.581 9208.094 9677.945 9754.618 9976.259 10004.038 10024.329 10073.567 10122.614 10130.991 10139.638 10140.724 10168.888 10571.021 10587.707 10637.683 10722.009 10739.327 10773.950 10879.324 10891.346 10895.082 10904.785 10919.646 10925.906 10942.859 11124.557 11142.113 11173.519 11190.187 11209.677 11228.908 11273.146 11281.734 11293.338 11294.183 11312.439 11359.627 11466.742 11551.208 11601.279 11745.863 11766.699 11803.044 11828.842 11851.824 11893.516 11909.270 11962.428 12004.611 12049.394 12060.932 12166.480 12177.995 12178.496 12204.920 12224.447 12252.266 12286.970 12290.942 12578.556 12626.344 12632.797 12642.139 12708.516 12717.703 12840.599 12851.512 12891.712 12956.139 13008.266 13020.897 13029.137 13089.723 13091.363 13101.941 13300.095 13393.724 13491.237 13676.316 13743.402 13806.436 13807.223 13865.219 13877.547 13921.297 13981.270 14086.289 14184.123 14249.502 14324.903 14342.770 
[ 93.791s ] *** Query time: 28.869
qps: 346.393
 *** ivfpq recall 
ivfpq get 299556 postive res from 1000000 results, recall@100:0.300
recall dist(10% per bucket): 0.037 0.152 0.293 0.316 0.163 0.034 0.004 0.001 0.000 0.000 0.001 
finished ivfpq index examples
[ 93.827s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 100 100"
	User time (seconds): 88.16
	System time (seconds): 2.13
	Percent of CPU this job got: 96%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:34.05
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2408356
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 5
	Minor (reclaiming a frame) page faults: 722382
	Voluntary context switches: 4094
	Involuntary context switches: 137
	Swaps: 0
	File system inputs: 262056
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 06:52
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_2_100000_random_100
nprobe: 100
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.386s ] Loaded metadata, 20000000 attr's found
[ 1.386s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.388s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 1.391s ] Loaded 10000 spacev10m queries
[ 1.459s ] Loaded ground truth, gt_size: 100
[ 1.460s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 4.903s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 596.159s ] Query results (vector ids, then distances):
query 0 nn's (6, 738, 84079): 1300400 (10) 8023016 (6) 2436347 (77252) 425302 (6) 3647719 (65816) 5060242 (10) 8021837 (33136) 8207046 (10) 1714233 (17813) 7099403 (46849) 6313468 (20) 1536208 (6) 1200517 (34593) 4592488 (6) 5585254 (6) 7634466 (20) 5072935 (69932) 2382485 (31144) 4779084 (10) 8997960 (10) 3881211 (8699) 8807530 (10) 2710882 (6) 8538301 (73496) 3873794 (10) 7007393 (40293) 9107614 (6) 1288832 (19) 890298 (6) 4022185 (81486) 1751249 (63976) 5261441 (62580) 8423050 (6) 8135809 (49844) 4915045 (12780) 521477 (62459) 3454073 (34171) 2646514 (6) 511283 (646) 5216657 (63291) 3676917 (11326) 8242233 (52177) 672964 (6) 4685796 (10) 8846971 (34767) 6138359 (74583) 4470364 (6) 4066846 (6) 4932580 (6) 5950387 (50134) 6478048 (10) 1947126 (6) 7983463 (52932) 7183723 (56582) 9957153 (6910) 8519503 (32483) 5236967 (92512) 9347328 (6) 8097566 (6) 8348201 (80615) 2204374 (6) 1060668 (10) 9169598 (6) 587457 (99075) 8849839 (8622) 1185721 (18806) 3611695 (88392) 5320284 (6) 5594224 (6) 6972939 (90125) 488103 (19391) 3651927 (35364) 5997165 (88368) 5560302 (6) 8656797 (68643) 3636367 (22139) 6781400 (10) 3781250 (6) 399999 (3200) 2578991 (22515) 694286 (6) 3371587 (99109) 5454 (6) 5270820 (19) 7887947 (38826) 4104937 (75282) 6290762 (10) 3622412 (10) 8394382 (6) 5769046 (6) 8504623 (52440) 3993234 (19) 9576118 (10) 5839410 (6) 2912614 (6) 2210342 (10) 3453250 (6) 9518796 (10) 9426007 (472) 2659628 (6) 
     dis: 	3451.792 4690.926 5087.593 5217.498 5457.437 6061.578 6236.472 6248.709 6417.146 6432.375 6538.946 6566.185 6583.507 6893.854 7046.054 7046.054 7056.762 7063.430 7156.920 7179.660 7203.378 7416.359 7465.087 7562.222 7645.717 7737.246 7944.578 7986.281 8019.774 8054.457 8086.774 8102.345 8130.021 8165.397 8221.855 8258.082 8296.418 8305.614 8325.738 8378.869 8401.078 8414.707 8453.121 8463.344 8507.973 8530.008 8611.803 8628.424 8644.477 8745.193 8773.149 8929.859 8935.225 8936.227 8957.626 9032.845 9058.418 9104.535 9122.137 9181.745 9201.961 9254.884 9300.460 9304.313 9356.174 9388.063 9416.246 9420.620 9437.708 9456.539 9460.742 9486.454 9487.956 9494.082 9499.611 9511.516 9545.341 9559.746 9574.215 9579.595 9586.519 9593.144 9620.402 9634.572 9634.979 9671.785 9697.652 9719.994 9720.502 9734.154 9748.173 9757.613 9781.924 9807.203 9830.801 9861.398 9864.297 9872.281 9878.728 9897.553 
query 1 nn's (6, 14047, 97384): 7672609 (64506) 8108335 (49439) 3545414 (10) 6716785 (84547) 4465136 (10) 3010609 (46874) 6957767 (49327) 1852123 (51656) 8784659 (52306) 547651 (13056) 5778168 (6) 6631934 (6) 1739093 (24698) 7628827 (26185) 2769394 (6) 5649448 (6) 9149269 (23254) 8596579 (59080) 4208062 (10) 7980366 (10) 128447 (3742) 913237 (24473) 1286599 (14035) 458294 (20) 4731052 (6) 6202555 (88208) 2848947 (72167) 4329686 (6) 429713 (44068) 3255981 (69664) 8268659 (29304) 2342379 (4474) 5312590 (6) 9559160 (6) 4764135 (25259) 3756027 (59097) 8084904 (6) 5453229 (44674) 1674348 (19) 4023729 (60534) 1641593 (95098) 5374088 (6) 7191660 (6) 765304 (6) 4936049 (53135) 5321556 (6) 2333383 (68468) 79115 (31887) 4590802 (10) 9750308 (19) 5427517 (51980) 985950 (6) 8598995 (96453) 5183877 (50656) 7393346 (6) 2054287 (84563) 2067210 (6) 6872221 (13301) 2030638 (10) 8370535 (77442) 2677560 (10) 1421700 (10) 4375499 (81139) 5833204 (6) 5559374 (10) 4626956 (6) 2208346 (6) 683232 (10) 8377057 (13467) 1417507 (69488) 7998901 (25766) 2077395 (19987) 3106662 (6) 7107065 (47886) 7898285 (66987) 9198072 (6) 1656217 (85747) 3699133 (83655) 3579661 (17989) 4111782 (6) 6481742 (10) 4576314 (10) 6270422 (10) 6005945 (10738) 5054847 (75270) 540705 (26666) 2775410 (10) 4978442 (10) 3683874 (10) 3402133 (65136) 7869623 (69139) 7896078 (6) 9617296 (10) 3288493 (81396) 4936167 (55552) 3767930 (197) 8540605 (94927) 4952577 (3745) 8300390 (10) 9542350 (6) 
     dis: 	5828.070 6440.204 7509.891 7593.169 7832.273 8391.524 8421.104 8714.764 8765.226 9004.402 9105.973 9132.005 9150.039 9170.427 9178.679 9243.881 9268.881 9269.689 9288.159 9324.425 9356.089 9373.139 9544.611 9574.802 9578.250 9650.701 9668.452 9717.539 9736.995 9742.866 9813.656 9841.668 9842.984 9871.442 9887.145 10015.396 10035.468 10044.995 10101.637 10133.922 10139.391 10204.952 10210.189 10210.698 10231.051 10238.240 10261.571 10298.368 10318.837 10333.516 10414.066 10469.645 10484.331 10513.588 10519.002 10524.988 10550.848 10572.423 10580.958 10687.369 10692.555 10693.323 10694.537 10714.562 10754.563 10792.292 10830.205 10854.428 10901.291 10981.347 10988.488 10990.313 11009.377 11018.941 11020.820 11023.338 11061.956 11077.049 11084.883 11085.228 11098.338 11103.597 11149.970 11167.805 11198.328 11222.576 11223.165 11224.598 11261.956 11317.735 11320.721 11335.729 11337.639 11338.807 11341.545 11360.578 11388.218 11407.937 11417.113 11418.918 
query 2 nn's (6, 2536, 85887): 5189301 (39255) 2755608 (6) 2639412 (10) 8672246 (6) 7542827 (68034) 2966676 (6) 5193386 (6) 1163082 (10) 2096002 (6) 9746650 (10) 9964310 (10) 9561351 (95758) 255402 (10) 190238 (6) 9485250 (6) 6555137 (11850) 7670329 (18596) 1233143 (59130) 8559091 (76574) 4578631 (65340) 1381339 (65200) 2432557 (59465) 4808419 (63739) 5745884 (6) 9339955 (19676) 7804752 (10) 7017176 (10) 9023762 (10) 6672275 (24832) 6648184 (19) 1063314 (6) 2433280 (6) 8558486 (6) 2153650 (10) 3995931 (37072) 1585247 (39009) 7660022 (6) 780031 (81386) 4297707 (77900) 9416901 (69219) 8143423 (28149) 7060335 (39254) 6470386 (111) 192071 (46266) 2604663 (84163) 7634670 (10) 894483 (27568) 7822601 (50645) 1044870 (6) 7215858 (6) 1129169 (10981) 5771135 (63666) 8707110 (6) 3508271 (57682) 3578812 (20) 8900616 (19) 6645538 (6) 7118637 (63381) 1633241 (45236) 6334408 (10) 3768590 (10) 9177119 (27664) 1338708 (6) 1358363 (1106) 7111817 (59025) 1429376 (6) 7276798 (20) 1845312 (6) 2353418 (10) 3322631 (8178) 3977031 (58006) 6590152 (10) 2650195 (47114) 4161499 (60278) 6561981 (37651) 5826070 (10) 8060848 (10) 3686996 (6) 3776514 (10) 1282146 (6) 5422621 (77788) 8655109 (75424) 8953965 (71209) 3641059 (85064) 1264837 (97866) 6010182 (20) 5257112 (6) 1472875 (62375) 5117458 (6) 4732579 (36520) 8355116 (6) 3485543 (22136) 7444447 (34509) 4489586 (6) 349510 (10) 8001182 (10) 6403508 (6) 2487144 (10) 2025216 (6) 7443302 (10) 
     dis: 	3383.687 5151.526 5174.791 6280.505 6856.801 7162.279 7401.517 7548.316 7653.282 8065.928 8232.525 8304.261 8305.850 8751.557 8921.690 9037.938 9207.074 9287.541 9295.510 9358.508 9503.126 9547.432 9682.424 9709.979 9720.692 9754.347 9826.381 9845.057 9960.715 9968.670 9976.283 10046.421 10046.443 10175.123 10265.812 10273.459 10280.343 10359.082 10425.788 10433.818 10459.145 10548.176 10634.722 10666.045 10674.922 10685.457 10694.720 10705.187 10717.777 10749.218 10766.950 10794.424 10794.605 10795.640 10806.342 10807.475 10843.010 10846.146 10882.132 10913.482 10978.796 11003.252 11055.646 11084.078 11097.015 11098.298 11101.303 11103.541 11118.324 11121.870 11124.773 11129.092 11151.501 11182.434 11183.772 11196.005 11198.382 11210.739 11214.681 11225.868 11227.405 11236.250 11257.771 11268.782 11280.822 11284.029 11293.530 11294.848 11299.754 11338.229 11348.313 11350.087 11367.057 11384.483 11395.797 11407.656 11411.988 11418.585 11427.979 11430.022 
query 3 nn's (6, 6261, 89602): 1208824 (10) 1165548 (240) 1153720 (10) 9922446 (19) 1681561 (47276) 2871407 (53815) 4150154 (20) 9732223 (29802) 8906949 (25547) 7371232 (6) 1717763 (50161) 7664306 (6) 1370098 (6) 2187959 (53483) 6696694 (10) 8364431 (37914) 1986111 (53315) 3188407 (22130) 6027466 (6) 4559449 (9944) 7775637 (72150) 4889443 (51294) 5579814 (10) 909327 (49466) 6840798 (10) 1212415 (73815) 4251611 (65558) 9100185 (21069) 9157428 (6) 9232458 (6) 9619884 (10) 5081773 (72994) 4474761 (50534) 6920544 (10) 920948 (6) 3353499 (17132) 7415071 (89790) 580826 (6) 514827 (85870) 4298667 (15598) 3085720 (6) 1174052 (6) 5683960 (6) 2029271 (49219) 8821621 (48828) 9987911 (57752) 2958818 (6) 5962673 (27907) 4774185 (11689) 6703969 (21520) 629955 (91312) 2423598 (10) 1353097 (18025) 7885127 (87860) 786015 (61281) 1095751 (3793) 5946592 (6) 2919205 (14134) 5676630 (6) 237313 (28978) 7082379 (15416) 5119260 (6) 3483488 (6) 1605226 (6) 1752435 (70711) 6424074 (6) 1430920 (6) 823633 (88326) 7136455 (10845) 8726555 (62936) 2824029 (36861) 3922636 (10) 2838160 (19) 5615929 (46755) 3042886 (6) 108033 (26667) 3350710 (6) 5176976 (6) 2348869 (64708) 3431426 (6) 264481 (35825) 8182930 (19) 188678 (96) 9578036 (6) 9698504 (6) 9913885 (60725) 1892004 (6) 3071605 (64937) 6689609 (79923) 2269546 (10) 2018818 (10) 382902 (10) 9998938 (6) 7512122 (6) 7102985 (71028) 1387773 (80877) 121059 (21361) 3266491 (16386) 730245 (48392) 1082518 (10) 
     dis: 	7734.653 7868.146 8343.044 8379.474 8437.070 8743.284 8779.334 8900.137 8931.419 9248.313 9693.879 9711.588 9830.996 9845.855 9879.809 9903.666 9955.667 9963.515 9992.361 10085.939 10128.719 10256.343 10258.041 10355.769 10394.680 10402.322 10446.959 10469.760 10479.249 10486.738 10487.235 10571.123 10583.493 10588.100 10598.635 10599.340 10707.939 10721.012 10802.643 10805.649 10938.459 10968.396 10974.546 11021.347 11038.555 11134.352 11137.684 11144.863 11148.791 11161.422 11168.951 11173.438 11195.715 11221.344 11235.864 11270.502 11273.070 11287.721 11338.289 11385.740 11389.697 11401.229 11402.148 11454.059 11490.479 11499.923 11516.029 11520.618 11581.289 11586.643 11604.655 11615.467 11618.854 11636.772 11637.643 11639.113 11639.569 11640.282 11650.939 11693.234 11699.920 11707.943 11721.257 11728.289 11730.152 11741.680 11764.045 11783.053 11787.401 11798.932 11827.555 11831.090 11927.916 11930.167 11933.174 11933.952 11939.329 11939.831 11950.208 11977.461 
query 4 nn's (6, 4810, 88155): 8316529 (64156) 5624462 (6) 3987492 (6) 1706143 (74584) 9970746 (10) 3107282 (10) 5744224 (10) 9323555 (92467) 9211260 (6) 7373067 (39358) 4549236 (423) 4390138 (6) 9052024 (10) 108240 (20) 9788862 (6) 4015525 (11328) 6480066 (10) 9578545 (92304) 2172340 (6) 73290 (6) 9652129 (88931) 2038833 (82871) 8302917 (86926) 6395393 (62993) 3367834 (6) 3037959 (83554) 9044829 (12188) 3693862 (6) 4842135 (17476) 1906000 (10) 3436988 (6) 6934935 (90864) 6557844 (6) 915880 (162) 6091565 (55742) 8608979 (76983) 3480152 (6) 6001275 (95376) 3264396 (10) 8415758 (10) 3073679 (50688) 9374623 (98354) 1171695 (78988) 2986049 (37305) 1384227 (75370) 3598596 (19) 2190868 (6) 6634262 (6) 6581013 (60466) 3655068 (6) 9164737 (21477) 9240243 (60912) 1504549 (26741) 1030896 (6) 3421968 (6) 8774147 (34934) 3195289 (13503) 4942478 (6) 3192757 (98813) 7558970 (6) 2795570 (10) 8359241 (91750) 6836665 (17999) 9519711 (95188) 8832563 (15634) 980351 (43915) 9438625 (87985) 4019507 (59027) 3484563 (72254) 9832113 (98049) 1995354 (10) 5323762 (10) 8342661 (66531) 4637157 (25557) 9019284 (6) 9688429 (96277) 5663813 (20654) 8627902 (6) 8641215 (2086) 3506156 (6) 2266290 (10) 1973506 (6) 3934821 (70363) 2337939 (41530) 9407510 (20) 3299088 (10) 3852808 (10) 1111927 (84932) 569140 (6) 1071436 (20) 1306176 (10) 2473330 (6) 8452116 (6) 6738443 (74580) 8584382 (10) 5812999 (43187) 4514688 (19) 2699285 (75655) 1240644 (6) 9654936 (10) 
     dis: 	2200.067 3592.018 3754.258 4565.575 5232.411 5282.076 5427.193 5444.871 5811.854 5812.935 5835.722 5974.076 5982.784 6069.213 6165.131 6207.134 6247.875 6264.084 6268.124 6270.180 6290.574 6331.320 6350.396 6392.427 6414.258 6421.977 6425.558 6475.289 6489.069 6515.235 6519.250 6553.997 6557.499 6564.545 6602.386 6603.944 6616.665 6623.186 6626.527 6638.456 6645.483 6652.190 6656.642 6665.578 6681.369 6704.117 6715.320 6716.867 6731.655 6733.690 6735.074 6761.424 6768.218 6772.979 6780.017 6782.499 6787.833 6812.438 6820.370 6824.336 6830.116 6850.580 6851.380 6857.095 6873.786 6885.774 6895.227 6904.375 6907.527 6907.686 6910.196 6927.355 6927.873 6930.838 6955.537 6969.197 6989.871 7008.999 7011.688 7013.160 7021.719 7024.929 7026.122 7043.858 7046.604 7055.524 7058.542 7067.533 7074.918 7087.128 7104.427 7114.095 7116.591 7120.815 7129.590 7132.506 7133.161 7133.228 7139.688 7144.120 
[ 596.160s ] *** Query time: 71.085
qps: 140.677
 *** ivfpq recall 
ivfpq get 866204 postive res from 1000000 results, recall@100:0.866
recall dist(10% per bucket): 0.000 0.000 0.002 0.006 0.015 0.035 0.065 0.110 0.203 0.539 0.024 
finished ivfpq index examples
[ 596.191s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query_arbi spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_2_100000_random_100 100 100"
	User time (seconds): 593.47
	System time (seconds): 1.76
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 9:56.36
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2449304
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 708974
	Voluntary context switches: 4770
	Involuntary context switches: 439
	Swaps: 0
	File system inputs: 205328
	File system outputs: 48
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 08:00
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_2_100000_random_100
nprobe: 100
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.381s ] Loaded metadata, 20000000 attr's found
[ 1.381s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.383s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 1.386s ] Loaded 10000 spacev10m queries
[ 1.455s ] Loaded ground truth, gt_size: 100
[ 1.455s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.560s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 521.156s ] Query results (vector ids, then distances):
query 0 nn's (10, 3924, 37259): 5096505 (9625) 290760 (6) 3082748 (6) 2037978 (10) 1360571 (80630) 7305168 (6) 1858226 (10) 4287666 (6) 6240106 (6) 9234384 (6) 7330716 (6) 4715886 (6) 7115332 (6) 1636600 (10) 8725926 (6) 8066928 (6) 6896772 (6) 8681946 (6) 2641910 (20) 3422560 (10) 5014941 (3474) 8396792 (10) 100232 (6) 8430941 (18601) 2168891 (62029) 1369261 (94704) 261368 (6) 4257711 (1905) 2336751 (30949) 7615253 (5831) 8067752 (6) 8394786 (6) 9284314 (20) 1736948 (10) 651634 (6) 3589892 (19) 6050258 (20) 2072288 (19) 1545663 (143) 8814646 (10) 9974866 (10) 714617 (17290) 9482370 (20) 516556 (10) 6134085 (77084) 2540985 (53571) 4245122 (6) 7976764 (10) 4246173 (87341) 2533258 (10) 5239982 (19) 303346 (6) 5949911 (63478) 1334146 (6) 7765395 (8371) 546824 (6) 1514436 (10) 5614058 (10) 360414 (6) 7338594 (344) 9416199 (6022) 219342 (10) 8015573 (28886) 4087833 (51029) 8356040 (19) 4426046 (6) 2640588 (6) 9697052 (6) 9590656 (10) 5897434 (10) 1436288 (6) 5232970 (92) 9686287 (74094) 9641558 (6) 5822268 (6) 3847526 (6) 2786794 (6) 180303 (87008) 3429928 (10) 4916361 (77798) 554086 (6) 3906051 (58164) 7303024 (6) 1781260 (10) 3069386 (19) 9931603 (98094) 2356719 (80406) 439743 (36555) 8006237 (8477) 2988486 (308) 5106355 (64682) 3465839 (28611) 1480507 (5970) 4979884 (6) 4578793 (44440) 433915 (10914) 785309 (49118) 9116761 (49698) 5011735 (40982) 1644403 (69974) 
     dis: 	6160.498 6278.234 6912.179 7727.770 7775.480 7796.184 8437.510 8505.412 8817.863 9082.562 9334.041 9427.844 9487.969 9488.251 9539.368 9579.247 9670.004 9858.562 9872.243 9910.342 9979.199 10153.791 10194.338 10349.329 10453.116 10499.105 10507.526 10551.658 10780.150 10811.652 10843.920 10890.170 10977.995 10982.784 10989.107 11015.248 11062.088 11062.522 11103.418 11105.123 11105.262 11143.652 11145.988 11174.098 11265.849 11270.858 11326.951 11354.200 11382.648 11410.334 11414.242 11418.144 11448.229 11454.996 11455.246 11517.639 11605.689 11699.774 11763.213 11784.912 11983.867 12062.336 12066.370 12074.582 12108.059 12155.451 12253.543 12391.619 12448.757 12455.973 12498.021 12508.701 12525.904 12572.834 12572.902 12607.188 12623.643 12673.096 12677.688 12683.059 12694.340 12695.281 12785.111 12790.994 12815.275 12869.922 12955.258 13051.428 13060.854 13150.191 13190.874 13195.967 13196.244 13201.932 13268.838 13340.892 13451.812 13463.998 13551.732 13551.918 
query 1 nn's (10, 9720, 43052): 1027770 (10) 4573755 (44328) 1087257 (20765) 8663938 (6) 9844113 (43208) 9311189 (14848) 7957281 (57347) 4561316 (10) 4813594 (6) 5325898 (10) 5642421 (72495) 3171582 (20) 3730938 (10) 4612326 (19) 1259440 (6) 3302437 (12504) 1580619 (77831) 1873620 (6) 7414037 (43413) 3695413 (52311) 6236935 (5348) 6716625 (67701) 8086137 (21337) 3367543 (45163) 4090413 (91123) 4414583 (63322) 1532818 (6) 1762608 (6) 829204 (6) 8680758 (19) 1149324 (6) 4568459 (33980) 7294001 (20341) 3745827 (47474) 4907845 (95666) 7675119 (89394) 5839752 (6) 148357 (88940) 7452717 (10236) 5984083 (95130) 3916292 (6) 7853534 (6) 7584986 (6) 5966468 (10) 4472702 (6) 6894603 (38096) 783848 (10) 6136881 (74039) 7115780 (6) 635323 (45248) 3159596 (6) 210208 (6) 2360244 (10) 6385836 (6) 6800131 (71714) 4444284 (6) 3758565 (65555) 5790200 (6) 3989720 (6) 4931402 (6) 4990177 (7410) 1438709 (74171) 6955583 (85626) 7069505 (29407) 8750865 (6698) 3984563 (65334) 8458602 (10) 7158140 (6) 289405 (29485) 364702 (6) 7771932 (10) 5631441 (83415) 2929751 (2614) 8846889 (47545) 4647345 (52912) 5876514 (6) 5295974 (6) 1617045 (38) 4988377 (43698) 5893116 (6) 5614167 (22532) 2486169 (18802) 1080775 (45906) 8112258 (6) 7398354 (10) 2334617 (12236) 2161411 (82422) 7351899 (53253) 3277999 (98870) 6109984 (6) 9525080 (6) 8058718 (6) 9970073 (52146) 4983695 (83697) 4887323 (42852) 250216 (10) 8658564 (6) 685030 (19) 1749443 (40301) 585173 (57819) 
     dis: 	4900.294 7778.962 8504.258 9825.778 9918.366 10192.278 10204.871 10290.205 10476.307 10493.963 10691.302 10739.775 10775.303 10835.596 11053.697 11084.652 11107.436 11137.979 11165.908 11216.260 11230.197 11266.129 11333.355 11350.776 11365.162 11380.984 11436.645 11465.919 11511.780 11672.676 11689.996 11708.830 11724.800 11900.329 11918.232 11922.650 11935.250 11983.860 11987.536 11991.239 12069.945 12114.486 12140.871 12162.845 12166.013 12170.859 12194.902 12208.055 12221.067 12234.403 12254.244 12304.533 12348.452 12380.741 12410.097 12432.243 12536.977 12582.086 12652.116 12666.665 12683.921 12685.432 12687.573 12689.310 12734.281 12765.764 12776.756 12780.536 12806.768 12807.728 12847.917 12870.703 12892.762 12898.844 12923.687 12938.693 12951.453 12956.312 12989.548 13027.938 13082.157 13098.204 13110.924 13120.432 13138.112 13144.742 13157.663 13158.241 13170.408 13213.385 13225.686 13241.506 13262.048 13262.956 13276.094 13280.840 13283.883 13291.728 13302.316 13356.859 
query 2 nn's (10, 65731, 99055): 4574760 (6) 2734445 (62180) 3524579 (72890) 2212807 (72328) 2882757 (81431) 2884416 (6) 3361974 (6) 323907 (85292) 7433556 (6) 6936789 (35043) 7287401 (63557) 4517312 (6) 1481955 (47148) 6794035 (99007) 7037734 (6) 9436299 (42456) 5943431 (21031) 3436280 (10) 8773369 (45165) 125926 (6) 6514144 (6) 9117124 (6) 5844655 (6963) 2677908 (6) 324947 (2090) 8126778 (6) 3542525 (1433) 9501475 (59607) 2506689 (56410) 9343410 (6) 6687735 (71983) 7276972 (10) 8736868 (6) 386581 (7077) 4934241 (14114) 7268134 (10) 6347954 (6) 3001913 (18239) 8148675 (41370) 9776551 (5555) 7377075 (45641) 6031718 (6) 9385299 (9599) 4559518 (6) 3034378 (10) 714612 (6) 7089200 (6) 2243367 (72661) 3762208 (10) 8641266 (6) 9989075 (12067) 2925428 (6) 3263555 (81940) 7780614 (6) 8311897 (50957) 424378 (6) 1666933 (77307) 9876020 (6) 1665093 (89854) 1784007 (55943) 5917626 (10) 5781317 (94461) 4399607 (73440) 1142982 (6) 9378693 (30241) 8789747 (88553) 8623607 (95808) 4415064 (6) 9968918 (6) 6450938 (6) 1057914 (6) 8499140 (10) 1898905 (23294) 3773784 (6) 8347308 (10) 5771490 (6) 735869 (83643) 4317099 (52213) 9537222 (10) 2476245 (87966) 3163205 (8572) 5724947 (61980) 2992192 (6) 1682089 (58864) 639273 (77627) 9432950 (6) 5924045 (65594) 5716160 (6) 4973899 (67755) 3100194 (6) 6199110 (6) 4641527 (4840) 948312 (6) 4528010 (6) 3026188 (6) 7658108 (10) 6190232 (6) 122806 (6) 409282 (6) 2050706 (6) 
     dis: 	3037.224 4128.249 5012.328 6225.845 7168.193 8934.234 9248.015 9264.332 10019.524 10376.779 10431.211 10462.508 10465.736 10667.146 10723.768 10791.883 11352.115 11355.989 11434.844 11486.619 11543.061 11678.232 11776.938 11795.876 11811.632 11814.823 11817.178 11860.188 11881.285 12117.327 12185.260 12187.892 12311.448 12323.450 12366.891 12399.491 12410.939 12486.075 12509.625 12520.651 12550.630 12553.613 12572.166 12589.342 12664.808 12672.695 12675.002 12703.355 12746.743 12754.693 12765.141 12783.828 12790.481 12823.721 12827.873 12844.629 12849.970 12911.488 12936.507 12992.803 13007.004 13033.638 13049.998 13068.738 13096.613 13119.956 13128.656 13144.067 13159.960 13173.264 13192.734 13210.560 13258.002 13277.037 13281.899 13284.111 13292.547 13310.930 13340.627 13375.941 13397.585 13409.312 13428.921 13429.068 13441.195 13446.378 13469.248 13470.242 13473.111 13475.581 13493.401 13501.547 13503.056 13512.985 13521.589 13541.604 13544.962 13548.075 13549.450 13552.461 
query 3 nn's (10, 35398, 68747): 4286832 (6) 1866926 (10) 4371036 (10) 9455216 (10) 6638511 (98660) 8818246 (244) 9398930 (10) 8584054 (6) 6447414 (6) 9793596 (6) 7010095 (62148) 3626273 (86418) 9671911 (39418) 7010252 (10) 4194256 (6) 3378586 (10) 5677498 (6) 5631232 (6) 8169180 (6) 2343424 (10) 8171167 (97295) 8145731 (62229) 5868840 (6) 7557678 (6) 5056650 (6) 1612122 (6) 82182 (6) 5650507 (38449) 4227632 (10) 3882137 (33096) 3542029 (94474) 4972572 (6) 5555953 (79445) 1453923 (16966) 50823 (36593) 6373283 (17045) 7316328 (19) 6193105 (29164) 7306636 (6) 444968 (6) 6776942 (10) 5429466 (6) 4682173 (77919) 7865786 (10) 2350194 (10) 1835654 (6) 8579187 (32988) 1162941 (10072) 8073919 (84424) 8518674 (6) 4281239 (59268) 1887300 (6) 3208235 (38668) 8768561 (71082) 9721866 (10) 7892339 (81458) 3712306 (6) 539131 (76468) 8752097 (94760) 2687611 (25548) 7445329 (3190) 8498178 (10) 6514454 (10) 5241021 (92228) 90176 (6) 6928139 (93410) 544442 (6) 1252238 (6) 8523189 (25785) 4003247 (71961) 2123002 (6) 9275045 (65335) 3957189 (50071) 3909063 (23878) 8909017 (43448) 3237195 (98420) 4767661 (82416) 6637643 (8204) 347839 (893) 6752785 (43241) 3400340 (10) 7756249 (35229) 9323463 (76225) 9677670 (20) 4641079 (43040) 8851651 (39548) 930598 (6) 2422728 (6) 105643 (20775) 6971821 (22326) 7004651 (82199) 2338828 (10) 4338390 (6) 5340508 (6) 9427137 (53690) 5684972 (6) 5752718 (10) 4094764 (6) 8108413 (39212) 7747720 (6) 
     dis: 	4919.051 9213.961 9416.685 9468.189 9663.204 10132.153 10182.354 10461.397 10493.938 10579.027 10790.184 10817.467 10995.527 11135.498 11294.844 11389.465 11394.220 11481.100 11531.359 11625.063 11637.771 11672.362 11773.513 11846.004 11883.267 11950.029 12055.729 12076.046 12094.209 12111.486 12136.415 12139.734 12157.160 12158.029 12227.484 12248.588 12253.777 12296.252 12420.200 12496.656 12510.725 12519.433 12529.905 12586.165 12598.317 12668.635 12707.445 12723.738 12815.128 12869.757 12897.088 12941.682 13075.272 13101.557 13110.483 13158.271 13163.304 13178.711 13199.312 13225.676 13254.113 13257.084 13284.016 13294.702 13312.993 13337.543 13352.691 13372.688 13407.435 13422.107 13436.314 13454.413 13471.041 13486.473 13489.327 13501.428 13521.298 13537.578 13551.142 13569.811 13575.195 13576.402 13577.740 13579.523 13580.445 13609.520 13609.720 13622.903 13655.592 13659.250 13702.378 13707.799 13737.175 13744.434 13792.545 13804.418 13804.842 13867.064 13897.118 13938.201 
query 4 nn's (10, 39745, 73096): 6279473 (10230) 3097455 (50325) 7159963 (62873) 4242116 (6) 5466057 (55105) 3531751 (91022) 8728294 (6) 5054423 (97501) 7177846 (6) 8212769 (38457) 9170839 (59443) 9600067 (19686) 4175678 (10) 1875114 (10) 5723523 (29955) 4927776 (19) 7466093 (73143) 6275087 (73822) 4159743 (53470) 717371 (22576) 7816576 (6) 8544239 (78274) 1591058 (10) 9244311 (36263) 1549949 (20503) 9357339 (52719) 9444072 (6) 7744232 (6) 7986656 (6) 1622397 (38371) 2908632 (10) 6902422 (6) 2558882 (19) 5464207 (29402) 553412 (6) 6136471 (82223) 1692375 (93502) 8588474 (6) 3914491 (20375) 5230386 (10) 20028 (10) 9021130 (10) 3084490 (10) 1874504 (6) 2323593 (36769) 4076040 (6) 1228595 (5316) 6473453 (60774) 4340455 (67721) 4623003 (58918) 2695855 (91508) 5374432 (6) 7271477 (44376) 2575576 (6) 8952522 (6) 8045505 (9884) 5220285 (80328) 3323197 (25649) 6181972 (10) 307550 (20) 7231264 (6) 5187516 (10) 9151038 (6) 2286717 (18489) 3351548 (6) 4919872 (6) 3329498 (10) 7831448 (10) 9115835 (34115) 8761193 (54354) 2653454 (6) 9493852 (6) 4270413 (92136) 3358095 (15551) 1485599 (27802) 5704287 (64331) 883849 (20368) 2503898 (6) 2241099 (16659) 4974771 (94642) 5938686 (10) 7759992 (6) 3570069 (88087) 93980 (6) 8306343 (56166) 5129396 (10) 4948099 (78623) 952427 (92966) 3958600 (10) 3841914 (6) 2080666 (10) 1128048 (6) 7161492 (10) 504144 (6) 3584339 (11161) 4249166 (6) 8904857 (74538) 2677618 (6) 543477 (73426) 4745382 (6) 
     dis: 	6069.213 6382.278 6531.316 6557.118 6859.221 6875.700 6878.477 6917.908 7002.879 7019.051 7080.782 7122.453 7134.933 7139.737 7155.973 7165.164 7220.578 7233.383 7234.198 7239.672 7283.308 7291.521 7304.115 7380.811 7385.746 7391.013 7416.395 7417.954 7426.277 7439.536 7445.942 7453.244 7457.770 7459.692 7460.139 7482.884 7491.257 7523.069 7528.042 7528.663 7548.111 7553.635 7577.490 7582.828 7585.034 7606.914 7607.780 7610.180 7628.569 7632.174 7642.087 7642.104 7645.693 7646.924 7648.132 7662.509 7663.185 7683.677 7684.637 7686.629 7687.052 7702.104 7703.647 7707.172 7719.940 7723.284 7725.755 7740.245 7745.397 7748.877 7749.764 7752.497 7755.468 7756.306 7771.007 7773.072 7776.127 7776.728 7777.173 7777.289 7795.663 7806.980 7826.650 7830.622 7841.637 7846.044 7850.478 7855.403 7856.371 7859.153 7859.231 7859.636 7868.362 7870.894 7881.909 7892.112 7903.654 7904.561 7909.054 7916.087 
[ 521.156s ] *** Query time: 38.937
qps: 256.826
 *** ivfpq recall 
ivfpq get 812238 postive res from 1000000 results, recall@100:0.812
recall dist(10% per bucket): 0.000 0.001 0.003 0.013 0.030 0.059 0.107 0.154 0.240 0.382 0.010 
finished ivfpq index examples
[ 521.202s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query_arbi spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_2_100000_random_100 100 100"
	User time (seconds): 518.12
	System time (seconds): 3.23
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 8:41.37
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2450340
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1254336
	Voluntary context switches: 1
	Involuntary context switches: 544
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 08:52
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_2_100000_random_100
nprobe: 100
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.411s ] Loaded metadata, 20000000 attr's found
[ 1.411s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.413s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 1.416s ] Loaded 10000 spacev10m queries
[ 1.485s ] Loaded ground truth, gt_size: 100
[ 1.485s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.964s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 194.262s ] Query results (vector ids, then distances):
query 0 nn's (19, 24678, 44673): 606211 (23188) 8563527 (92278) 8341867 (22135) 1247229 (31426) 7386818 (6) 5099788 (10) 1295714 (6) 3478005 (74388) 6401363 (71983) 8068050 (10) 2939481 (89029) 381871 (14875) 4211205 (86350) 4858944 (6) 5761926 (10) 7721671 (16844) 780905 (20991) 9743801 (42331) 6722204 (10) 4291411 (11004) 9794049 (61952) 5393242 (6) 5483783 (32922) 4362735 (95141) 3880505 (96603) 2990864 (6) 6156711 (33548) 8934721 (96729) 8810194 (6) 4873477 (71979) 8483442 (6) 1911893 (35461) 6572584 (10) 2081825 (10572) 5292751 (83395) 3681903 (84499) 9121390 (10) 8766603 (78648) 3491630 (10) 2717509 (53132) 1790824 (10) 8456604 (10) 4528535 (41901) 2862947 (32210) 6920872 (10) 3778434 (10) 9333102 (6) 3377017 (74220) 6504447 (7240) 3870109 (9596) 4994673 (73073) 3119248 (10) 902759 (65674) 1167123 (5864) 715355 (63439) 5385348 (6) 223169 (4693) 6850452 (6) 1688319 (5495) 8498546 (6) 1028476 (6) 4937296 (6) 9154153 (71337) 2077502 (10) 7375887 (20744) 997045 (68513) 4868882 (6) 8416440 (10) 4329788 (10) 1737400 (6) 2607965 (33466) 792446 (6) 2546924 (408) 3239292 (10) 1259737 (62775) 7658960 (6) 6673505 (68609) 8440021 (26302) 7318242 (6) 1542401 (75728) 1871890 (6) 2287511 (16989) 5823161 (29702) 5795137 (42808) 4344760 (6) 847075 (51907) 7917404 (6) 1990631 (33235) 6368903 (55869) 3924604 (10) 8892496 (10) 6947402 (6) 8071718 (6) 5363437 (60772) 9609965 (636) 8199804 (6) 6520029 (25092) 8297317 (7039) 2225012 (10) 4472795 (36749) 
     dis: 	5289.615 9552.178 9558.711 10041.604 10672.711 11549.822 11899.227 12080.354 12171.408 12177.433 12633.062 12739.271 12950.457 13416.838 13674.104 14209.195 14292.407 14386.275 14613.279 15009.527 15080.457 15204.600 15295.438 15547.392 15780.568 15822.655 15952.001 16077.520 16241.886 16365.047 16366.093 16401.297 16403.156 16468.729 16625.248 16655.184 16780.531 16862.990 16895.023 16966.615 17061.537 17169.961 17190.408 17206.924 17394.496 17415.658 17421.189 17443.598 17453.727 17489.367 17608.469 17624.771 17654.508 17657.311 17661.516 17665.451 17684.082 17735.363 17744.162 17752.680 17761.396 17810.133 17880.881 17949.984 18030.168 18060.445 18118.691 18119.520 18152.041 18246.279 18261.154 18264.244 18299.363 18328.168 18329.400 18421.533 18454.824 18473.734 18477.273 18492.430 18540.059 18573.965 18592.648 18635.465 18635.617 18637.230 18657.135 18670.316 18670.484 18725.643 18733.359 18750.355 18779.082 18816.291 18823.611 18854.453 18861.260 18873.314 18874.768 18884.605 
query 1 nn's (19, 22162, 42151): 7629371 (73090) 7000075 (41024) 9910036 (6) 9504433 (45209) 4745747 (58200) 8597183 (51106) 299136 (10) 6704562 (10) 8126210 (6) 466678 (6) 917900 (10) 5927260 (20) 6889844 (6) 5387681 (80208) 3446311 (70094) 6924138 (6) 1390768 (6) 7369157 (71510) 2551743 (80091) 7116695 (37869) 9314709 (25990) 9016462 (6) 9447917 (84595) 4688276 (6) 456429 (95060) 2548862 (10) 8971326 (6) 8074005 (53024) 7517563 (5718) 1761605 (29360) 6730909 (50694) 8831718 (6) 6658936 (6) 8755443 (95603) 1251563 (28537) 4147432 (6) 2051864 (6) 5050030 (6) 769719 (96582) 9811940 (6) 6535434 (10) 3170216 (6) 3424621 (8436) 7234211 (25778) 260938 (6) 3861097 (26500) 5375921 (87434) 4735051 (95089) 7895036 (19) 9131618 (10) 6139585 (68848) 2933751 (90555) 4025972 (6) 3421252 (10) 2403813 (17534) 3127767 (42890) 7020375 (49124) 1416324 (10) 2455051 (85835) 169053 (47679) 4182888 (6) 7931274 (10) 9936417 (8401) 9194394 (6) 3251921 (76425) 8934575 (69335) 6219387 (5451) 4998285 (64193) 1147994 (6) 3366570 (6) 6138568 (20) 8298406 (6) 892064 (10) 2632415 (82954) 664929 (88245) 6084218 (6) 4178593 (85476) 4946176 (10) 2129464 (10) 1932007 (50732) 707721 (53714) 4792438 (6) 8757068 (10) 1361065 (24927) 8124738 (6) 5489571 (78860) 1842280 (6) 4864160 (10) 5351530 (6) 706379 (14563) 3691727 (34904) 4102970 (19) 4286392 (10) 5997570 (6) 9303262 (19) 6216150 (6) 7996953 (53110) 1825243 (271) 737858 (6) 6961628 (10) 
     dis: 	11462.951 11665.045 12335.292 12472.165 12577.787 12818.771 12928.420 13235.133 13373.596 13700.214 13926.976 14195.346 14244.695 14355.312 14420.670 14475.097 14663.777 14665.203 14672.203 14755.619 14816.072 14837.809 14929.469 14948.428 14964.011 15008.910 15075.014 15156.439 15228.595 15251.213 15326.942 15386.261 15390.130 15454.328 15462.741 15489.946 15507.006 15521.756 15524.001 15557.358 15602.764 15649.307 15694.982 15695.168 15740.856 15769.656 15791.121 15819.070 15848.044 15870.678 15871.670 15877.651 15889.066 15898.038 15975.633 16054.910 16095.526 16132.048 16154.586 16176.803 16184.177 16234.387 16250.726 16270.762 16278.438 16285.049 16292.548 16297.412 16298.512 16301.590 16313.053 16315.577 16429.686 16435.408 16443.994 16446.223 16447.365 16467.922 16484.820 16486.264 16498.051 16526.598 16532.121 16534.182 16538.037 16586.701 16593.492 16614.121 16615.230 16617.725 16645.369 16660.998 16697.684 16708.186 16756.943 16759.918 16778.248 16793.402 16819.160 16849.414 
query 2 nn's (19, 17210, 37204): 9743895 (97756) 613441 (9068) 8553474 (6) 8625378 (6) 3159516 (6) 2927516 (6) 9947550 (10) 9752287 (16218) 3927975 (6843) 1698840 (10) 7408620 (10) 3688345 (14406) 2659846 (6) 4165900 (6) 9101297 (817) 3730180 (6) 1562549 (50932) 1612308 (10) 2691180 (6) 9310854 (6) 7567333 (15085) 1274794 (6) 9265843 (94069) 8985927 (41447) 7266068 (10) 9022813 (53109) 9227291 (563) 4879528 (6) 8604151 (47662) 9647608 (6) 186885 (19079) 6146935 (62612) 9857208 (6) 2944774 (6) 3883745 (60814) 7600699 (45737) 7085927 (33261) 8727780 (19) 8848372 (20) 2730876 (6) 2998418 (6) 2132158 (404) 5480815 (68213) 3982760 (19) 6013414 (6) 4208389 (32217) 1263593 (3917) 7206765 (12311) 5169734 (10) 4320438 (6) 7948669 (43582) 9320860 (6) 3431293 (6481) 3076009 (49101) 5601675 (18052) 1381008 (10) 5670908 (6) 8460021 (45029) 8633743 (68541) 785884 (10) 2574933 (67093) 4982082 (20) 3309134 (10) 1914532 (6) 4351754 (6) 7350061 (30576) 449527 (71436) 8544760 (10) 6356166 (6) 7805479 (74460) 9872293 (69953) 7998225 (27041) 155691 (61163) 9238312 (6) 3803242 (6) 4975703 (1386) 6742962 (10) 8551475 (9229) 7853673 (13188) 9809312 (10) 4320998 (6) 6153610 (19) 7886566 (6) 1836093 (28192) 7508519 (88049) 1556324 (6) 3624850 (6) 2758951 (23028) 3161743 (74273) 6729246 (19) 4652554 (6) 6889457 (54500) 7704375 (56425) 7098762 (6) 1393809 (8879) 2843327 (42764) 11525 (52715) 6820924 (6) 786481 (70118) 2179209 (10862) 
     dis: 	10141.879 11952.854 11953.891 12103.476 12206.623 13183.086 13348.054 13664.190 13675.917 13849.594 14000.630 14023.646 14093.936 14256.266 14388.593 14392.973 14405.043 14464.764 14483.544 14562.803 14564.975 14656.311 14712.674 14744.109 14840.658 14858.343 14890.354 14907.352 15039.744 15042.623 15053.449 15072.198 15078.539 15079.482 15167.137 15222.646 15233.253 15299.389 15332.775 15372.713 15376.822 15388.783 15410.996 15449.778 15486.816 15487.131 15487.858 15514.219 15531.670 15537.990 15563.771 15569.844 15579.369 15653.841 15675.509 15688.628 15782.344 15800.901 15826.895 15832.945 15878.107 15927.724 15987.860 16046.080 16067.250 16081.210 16114.754 16116.039 16190.906 16192.061 16192.967 16251.787 16290.154 16302.516 16309.668 16324.713 16328.848 16334.273 16355.894 16361.996 16385.996 16423.570 16428.953 16431.551 16471.967 16562.809 16572.512 16576.863 16589.438 16616.500 16624.254 16682.799 16698.377 16703.271 16707.287 16711.330 16737.289 16739.988 16747.549 16748.744 
query 3 nn's (19, 37494, 57500): 3279722 (10) 233485 (63137) 3624059 (10908) 5731015 (75901) 8298687 (74835) 3228780 (10) 7061054 (6) 4112389 (84823) 3435124 (19) 5944039 (39919) 475364 (6) 144151 (40994) 3631532 (6) 5835892 (6) 9798183 (6266) 1777899 (13960) 3796435 (47778) 4193973 (27748) 2275550 (10) 2359816 (6) 9442587 (55060) 3172770 (10) 9424710 (6) 6236461 (36735) 7848569 (44800) 1945708 (10) 4931198 (6) 6907084 (6) 5101707 (81689) 3198515 (53605) 4631507 (53071) 3098845 (64247) 7216314 (10) 7912429 (415) 2578000 (10) 8168952 (6) 3707169 (37013) 4936163 (42555) 2638013 (70243) 4273656 (6) 9565401 (31035) 4056913 (96591) 5187658 (10) 2021787 (1983) 2757856 (10) 3283983 (13690) 6233184 (19) 5874609 (40365) 6418756 (6) 1832154 (6) 9506342 (6) 6995697 (71697) 9169331 (31006) 8062480 (10) 613149 (59212) 6898870 (6) 1559549 (12960) 5392051 (91592) 9823400 (6) 879756 (91) 9022096 (6) 4813063 (10079) 4241294 (10) 1357332 (10) 8477356 (6) 9310272 (6) 6319521 (28467) 8516575 (58074) 9098100 (10) 1196539 (6498) 4401834 (6) 8659438 (6) 6046099 (75045) 788269 (71455) 428097 (32040) 3665757 (18225) 2356959 (21299) 3957375 (34191) 1601382 (6) 1387965 (25866) 1214448 (6) 5984828 (6) 9015983 (70700) 8954344 (6) 3839244 (10) 6117920 (6) 6192291 (2864) 7441695 (51934) 5440380 (6) 8427776 (6) 556479 (64233) 6098556 (10) 8916552 (10) 2727475 (65909) 3193677 (87559) 34921 (55233) 5697178 (10) 5603981 (76436) 4626412 (10) 186752 (6) 
     dis: 	11934.662 12255.984 12583.368 12732.674 12916.988 13487.640 13670.456 13695.109 13769.501 14318.245 14322.418 14367.473 14414.933 14461.484 14490.291 14627.363 14738.779 14888.605 14951.794 15114.703 15268.342 15287.396 15329.260 15440.470 15478.932 15584.528 15592.766 15649.555 15691.146 15736.282 15748.381 15789.180 15789.793 15852.560 15882.307 15899.047 15901.592 16004.772 16014.271 16187.648 16192.584 16246.965 16280.786 16289.141 16318.997 16400.346 16409.826 16555.000 16567.297 16624.932 16650.580 16693.719 16695.354 16697.992 16737.445 16757.752 16791.488 16848.125 16859.117 16871.182 16880.141 16897.564 16972.557 16977.035 17083.229 17093.801 17102.277 17159.531 17200.896 17204.014 17241.490 17274.578 17301.020 17320.006 17322.102 17368.967 17371.305 17372.070 17405.002 17417.512 17471.053 17478.373 17479.328 17483.930 17543.727 17548.131 17583.926 17587.529 17615.256 17615.938 17633.215 17636.270 17667.637 17686.057 17693.285 17726.180 17764.600 17764.824 17765.691 17781.633 
query 4 nn's (19, 12989, 32993): 6527555 (13143) 449527 (71436) 1444782 (20) 2066916 (10) 3533412 (6) 5123136 (6) 5752140 (10) 1060205 (89351) 4293822 (6) 4057764 (10) 6871337 (3258) 1011831 (53093) 4564064 (10) 403008 (6) 227606 (6) 821831 (11843) 9691493 (33505) 3452999 (76205) 7069841 (72835) 6405716 (6) 4447825 (11041) 3677211 (30957) 3498846 (10) 8138170 (10) 7931269 (1709) 2300922 (10) 2662308 (6) 3474004 (6) 9473133 (19074) 1210319 (64652) 3908403 (12127) 8435905 (87555) 982635 (13403) 1417660 (6) 7439329 (41634) 7443353 (11776) 9127320 (6) 8075785 (72915) 9470574 (10) 990595 (23233) 7585854 (10) 3003315 (58307) 5671337 (18234) 1684072 (6) 2100187 (75481) 1052216 (6) 6218895 (65863) 4137679 (21567) 5228110 (6) 7283113 (66269) 9947601 (92507) 6940324 (10) 2759392 (10) 6213960 (10) 5437977 (10922) 4952314 (6) 9308064 (6) 3124086 (10) 1205858 (10) 384852 (19) 3512665 (17377) 3052749 (2412) 8318558 (6) 8181039 (51906) 1477574 (6) 770350 (6) 4213273 (2365) 724775 (79230) 6344195 (51725) 3859647 (42374) 8213527 (74145) 338490 (6) 6556436 (6) 2540925 (26388) 4839208 (6) 1241340 (6) 1404701 (12443) 7042771 (13572) 1841967 (75539) 6852922 (6) 3840151 (3362) 4111692 (6) 8726714 (6) 6189329 (19578) 8952435 (53865) 7622152 (6) 3868080 (6) 148795 (47551) 3135950 (10) 877945 (9891) 1625016 (19) 1567889 (93924) 9758264 (6) 1109112 (10) 2145363 (46163) 2840570 (19) 5528108 (6) 7144404 (10) 1334618 (6) 6267319 (441) 
     dis: 	6296.200 6766.941 6826.149 6887.528 7197.897 7199.531 7266.562 7393.160 7608.403 7648.819 7687.899 7799.183 7852.260 7906.099 7918.564 7969.838 8058.603 8059.026 8063.626 8071.614 8157.116 8161.672 8165.363 8180.013 8269.951 8272.828 8293.965 8299.906 8312.936 8328.854 8341.210 8348.406 8361.723 8367.696 8371.994 8385.691 8398.816 8448.024 8467.283 8472.323 8473.492 8476.643 8485.613 8493.075 8514.444 8531.258 8532.266 8554.410 8568.705 8576.779 8596.742 8611.676 8620.880 8621.984 8652.971 8658.109 8673.469 8701.783 8704.868 8708.557 8722.691 8725.829 8729.013 8752.396 8780.270 8793.131 8799.064 8805.631 8852.344 8856.718 8858.623 8869.538 8885.596 8886.676 8893.713 8903.368 8904.796 8911.293 8917.562 8926.863 8946.014 8955.399 8987.893 8988.283 8993.844 8994.938 8998.470 9006.691 9033.209 9043.551 9054.878 9063.570 9075.070 9075.901 9080.668 9085.133 9085.681 9094.271 9098.585 9115.531 
[ 194.262s ] *** Query time: 36.218
qps: 276.107
 *** ivfpq recall 
ivfpq get 625080 postive res from 1000000 results, recall@100:0.625
recall dist(10% per bucket): 0.003 0.010 0.038 0.079 0.124 0.150 0.195 0.200 0.152 0.050 0.000 
finished ivfpq index examples
[ 194.297s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query_arbi spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_2_100000_random_100 100 100"
	User time (seconds): 191.72
	System time (seconds): 2.65
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:14.40
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2450340
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1648862
	Voluntary context switches: 1
	Involuntary context switches: 342
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
