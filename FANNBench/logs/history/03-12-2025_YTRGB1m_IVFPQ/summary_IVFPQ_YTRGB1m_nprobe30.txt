Start time: 07:02
====================
START: running TEST_IVFPQ, sift data --

dataset: YTRGB1m
N: 1000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_10.json
index file: /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_100000_real_512
nprobe: 30
dim: 1024
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
[ 0.073s ] Loaded metadata, 1000000 attr's found
[ 0.073s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.095s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
[ 0.096s ] Loaded 10000 YTRGB1m queries
[ 0.103s ] Loaded ground truth, gt_size: 10
[ 0.103s ] Index Params -- d: 1024, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.767s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 114.188s ] Query results (vector ids, then distances):
query 0 nn's (38855, 139269): 239994 (69257) 737273 (113404) 469118 (94608) 99619 (56529) 952701 (51288) 315673 (136096) 945815 (121035) 863882 (51634) 95475 (62765) 886648 (67332) 
     dis: 	90.137 91.105 92.977 93.172 94.077 95.783 95.924 96.295 96.783 97.352 
query 1 nn's (18169, 37472): 411735 (20503) 380703 (20612) 833378 (33326) 431933 (31516) 360005 (30819) 365136 (35560) 731008 (26372) 146981 (27559) 667959 (22694) 466827 (32372) 
     dis: 	55.039 56.146 56.410 56.413 56.910 57.500 57.544 57.854 59.137 59.274 
query 2 nn's (4082, 5859): 435470 (4103) 44203 (5374) 76351 (5317) 604626 (4097) 473207 (5280) 142229 (4776) 907166 (5172) 290643 (5230) 867372 (5230) 949063 (4593) 
     dis: 	135.861 141.173 141.597 141.773 142.135 142.705 142.743 142.837 142.837 143.362 
query 3 nn's (2262, 3092): 608874 (2611) 976442 (2579) 717608 (2612) 117658 (2990) 871467 (2996) 523139 (2339) 312252 (2292) 258253 (2335) 849185 (2837) 509845 (3059) 
     dis: 	178.360 179.473 185.475 185.975 186.270 186.709 186.987 187.493 187.802 188.707 
query 4 nn's (16428, 32488): 565522 (19123) 272496 (18617) 343865 (20909) 864885 (19198) 302474 (17449) 4088 (17006) 275060 (16756) 386301 (20767) 552830 (32019) 751020 (27082) 
     dis: 	80.127 92.690 92.989 96.042 101.753 106.514 107.556 111.313 111.314 115.838 
[ 114.188s ] *** Query time: 104.426
qps: 95.761
 *** ivfpq recall 
ivfpq get 92032 postive res from 100000 results, recall@10:0.920
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.001 0.003 0.008 0.033 0.116 0.413 0.426 
finished ivfpq index examples
[ 114.189s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query YTRGB1m 1000000 10 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_10.json /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_100000_real_512 30 1024"
	User time (seconds): 112.08
	System time (seconds): 1.44
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:54.33
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2633640
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 657058
	Voluntary context switches: 1787
	Involuntary context switches: 165
	Swaps: 0
	File system inputs: 76208
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
