

===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
attr: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
query: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
qrange: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_dist/qrangesel_1000_1_100000_out_dist.json
output: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_dist/sif_gt_sel_1000_1_100000_out_dist_10.json
topk: 10
dim: 100
start
[2.734 s] Loaded dataset, size=10000000, dim=100
[3.429 s] Loaded attr, size=0
[3.429 s] Loading query vectors and attributes
query vecs data loaded, with dim: 100, size=10000
[3.431 s] Loaded query vectors
[3.432 s] Loaded 10000 queries
====================Vectors====================

[3.432 s] Loading database
data loaded, with dim: 100, nb=10000000
[3.432 s] Indexing database, size 10000000*100 from max 10000000
[5.500 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[5.795 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[7.085 s] Query results (vector ids, then distances):
query 0, qrange [53, 53]
      nns 0 id:4811295 attr:53 dis:20390
      nns 1 id:1654560 attr:53 dis:21760
      nns 2 id:5199172 attr:53 dis:21873
      nns 3 id:7658818 attr:53 dis:21921
      nns 4 id:1411935 attr:53 dis:21964
      nns 5 id:2220487 attr:53 dis:22118
      nns 6 id:6449498 attr:53 dis:22673
      nns 7 id:8564450 attr:53 dis:22691
      nns 8 id:1550183 attr:53 dis:22832
      nns 9 id:8717731 attr:53 dis:23079

query 1, qrange [39, 39]
      nns 0 id:5446519 attr:39 dis:15456
      nns 1 id:6066653 attr:39 dis:18431
      nns 2 id:3242733 attr:39 dis:22810
      nns 3 id:5308274 attr:39 dis:22832
      nns 4 id:4731139 attr:39 dis:24142
      nns 5 id:3729437 attr:39 dis:24621
      nns 6 id:1074821 attr:39 dis:25150
      nns 7 id:6595837 attr:39 dis:25413
      nns 8 id:7868529 attr:39 dis:25499
      nns 9 id:4814722 attr:39 dis:25513

query 2, qrange [35, 35]
      nns 0 id:385111 attr:35 dis:19721
      nns 1 id:8823376 attr:35 dis:20052
      nns 2 id:1590890 attr:35 dis:20548
      nns 3 id:54695 attr:35 dis:21509
      nns 4 id:3361416 attr:35 dis:21687
      nns 5 id:788604 attr:35 dis:21790
      nns 6 id:1173388 attr:35 dis:22130
      nns 7 id:9817931 attr:35 dis:22148
      nns 8 id:160241 attr:35 dis:22163
      nns 9 id:5608128 attr:35 dis:22184

query 3, qrange [30, 30]
      nns 0 id:3684135 attr:30 dis:22502
      nns 1 id:1513268 attr:30 dis:23263
      nns 2 id:8974975 attr:30 dis:23357
      nns 3 id:8483694 attr:30 dis:23515
      nns 4 id:5247823 attr:30 dis:24391
      nns 5 id:9303983 attr:30 dis:24470
      nns 6 id:3236813 attr:30 dis:24803
      nns 7 id:9005099 attr:30 dis:25228
      nns 8 id:6750721 attr:30 dis:25263
      nns 9 id:7938999 attr:30 dis:25374

query 4, qrange [29, 29]
      nns 0 id:8425137 attr:29 dis:8099
      nns 1 id:9219088 attr:29 dis:9389
      nns 2 id:8672194 attr:29 dis:13042
      nns 3 id:3490313 attr:29 dis:15635
      nns 4 id:7222782 attr:29 dis:16777
      nns 5 id:4463259 attr:29 dis:17962
      nns 6 id:13504 attr:29 dis:18305
      nns 7 id:5910777 attr:29 dis:18795
      nns 8 id:5526205 attr:29 dis:19596
      nns 9 id:3653102 attr:29 dis:19633

[7.085 s] *** Query time: 1.288834
qps:7758.95
cmp per query:10000000
recall: 1 of course
sel distribution: 1 0 0 0 0 0 0 0 0 0 0 
selectivity: 7.15624e-06
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[62.304 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_dist/qrangesel_1000_1_100000_out_dist.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_dist/sif_gt_sel_1000_1_100000_out_dist_10.json 10 100"
	User time (seconds): 186.86
	System time (seconds): 4.68
	Percent of CPU this job got: 305%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:02.61
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7944192
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 2
	Minor (reclaiming a frame) page faults: 2112143
	Voluntary context switches: 290
	Involuntary context switches: 3281
	Swaps: 0
	File system inputs: 976
	File system outputs: 1792
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
attr: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
query: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
qrange: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_2000_1_100000_random.json
output: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_2000_1_100000_random_10.json
topk: 10
dim: 100
start
[2.765 s] Loaded dataset, size=10000000, dim=100
[3.527 s] Loaded attr, size=0
[3.527 s] Loading query vectors and attributes
query vecs data loaded, with dim: 100, size=10000
[3.529 s] Loaded query vectors
[3.531 s] Loaded 10000 queries
====================Vectors====================

[3.531 s] Loading database
data loaded, with dim: 100, nb=10000000
[3.531 s] Indexing database, size 10000000*100 from max 10000000
[5.603 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[5.906 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[21.065 s] Query results (vector ids, then distances):
query 0, qrange [52680, 54679]
      nns 0 id:8021837 attr:54227 dis:6219
      nns 1 id:6616924 attr:53611 dis:9065
      nns 2 id:9426007 attr:53084 dis:9910
      nns 3 id:1055 attr:52800 dis:10250
      nns 4 id:1895416 attr:53878 dis:10318
      nns 5 id:5595986 attr:53877 dis:10662
      nns 6 id:178853 attr:53460 dis:10814
      nns 7 id:3104167 attr:53964 dis:11023
      nns 8 id:3665805 attr:52909 dis:11224
      nns 9 id:6134085 attr:52739 dis:11304

query 1, qrange [85555, 87554]
      nns 0 id:4731052 attr:87096 dis:9580
      nns 1 id:7393346 attr:86998 dis:10554
      nns 2 id:7796940 attr:86090 dis:10779
      nns 3 id:4612326 attr:86474 dis:10836
      nns 4 id:1847088 attr:86467 dis:10899
      nns 5 id:1417507 attr:87136 dis:10960
      nns 6 id:419655 attr:85804 dis:11659
      nns 7 id:2893974 attr:86401 dis:11924
      nns 8 id:6586071 attr:86258 dis:12031
      nns 9 id:41127 attr:87421 dis:12231

query 2, qrange [53431, 55430]
      nns 0 id:6648184 attr:54160 dis:9989
      nns 1 id:3995931 attr:55015 dis:10255
      nns 2 id:8517921 attr:54220 dis:10307
      nns 3 id:4671238 attr:54210 dis:10951
      nns 4 id:6334408 attr:55203 dis:10971
      nns 5 id:5641036 attr:54953 dis:11305
      nns 6 id:4941321 attr:55126 dis:11390
      nns 7 id:2826478 attr:53769 dis:11457
      nns 8 id:7430287 attr:54464 dis:11513
      nns 9 id:8053598 attr:54560 dis:11881

query 3, qrange [87858, 89857]
      nns 0 id:220595 attr:87966 dis:9995
      nns 1 id:8656601 attr:89336 dis:10934
      nns 2 id:8726555 attr:88040 dis:11579
      nns 3 id:5615929 attr:88331 dis:11616
      nns 4 id:4570984 attr:88284 dis:12194
      nns 5 id:5050971 attr:89624 dis:12223
      nns 6 id:1559878 attr:88657 dis:12432
      nns 7 id:7494921 attr:89451 dis:12441
      nns 8 id:212343 attr:88690 dis:12647
      nns 9 id:6336636 attr:89738 dis:12926

query 4, qrange [75366, 77365]
      nns 0 id:1906000 attr:75700 dis:6508
      nns 1 id:6001275 attr:76022 dis:6630
      nns 2 id:9765986 attr:76606 dis:6698
      nns 3 id:7814617 attr:76949 dis:6818
      nns 4 id:1066421 attr:76598 dis:6888
      nns 5 id:4491189 attr:76562 dis:6996
      nns 6 id:2699285 attr:75510 dis:7130
      nns 7 id:728488 attr:76844 dis:7251
      nns 8 id:7573543 attr:77116 dis:7381
      nns 9 id:1060205 attr:76642 dis:7390

[21.066 s] *** Query time: 15.158164
qps:659.711
cmp per query:10000000
recall: 1 of course
sel distribution: 1 0 0 0 0 0 0 0 0 0 0 
selectivity: 0.0199984
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[306.661 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_2000_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_2000_1_100000_random_10.json 10 100"
	User time (seconds): 1728.53
	System time (seconds): 25.26
	Percent of CPU this job got: 571%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 5:07.00
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7944192
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3471739
	Voluntary context switches: 68271
	Involuntary context switches: 31410
	Swaps: 0
	File system inputs: 108800
	File system outputs: 1800
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
