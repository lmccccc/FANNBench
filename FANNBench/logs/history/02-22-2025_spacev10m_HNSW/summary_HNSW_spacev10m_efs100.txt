Start time: 09:10
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_6/attr_sel_1_500_random_6.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_6/qrangesel_1_1_500_random_6.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_6/sif_gt_sel_1_1_500_random_6_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_6_40_1000
ef_search: 100
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_6/attr_sel_1_500_random_6.json
[ 0.852s ] Loaded metadata, 10000000 attr's found
[ 0.852s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.856s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.859s ] Loaded 10000 spacev10m queries
[ 0.872s ] Loaded ground truth, gt_size: 10
[ 0.872s ] Index Params -- d: 100, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 9.371s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 139.918s ] Query results (vector ids, then distances):
query 0 nn's (6, 6): 4661794 (6) 1352077 (6) 8023016 (6) 2436347 (6) 525784 (6) 1781760 (6) 3647719 (6) 7509422 (6) 9694965 (6) 5096505 (6) 
     dis: 	3012.000 3278.000 4691.000 5094.000 5270.000 5414.000 5508.000 5894.000 5944.000 6150.000 
query 1 nn's (6, 6): 1027770 (6) 3024255 (6) 3545414 (6) 4573755 (6) 3338949 (6) 9408428 (6) 6957767 (6) 1852123 (6) 8784659 (6) 6631934 (6) 
     dis: 	4889.000 6351.000 7469.000 7795.000 7823.000 8315.000 8400.000 8637.000 8816.000 9175.000 
query 2 nn's (6, 6): 8005273 (6) 2734445 (6) 4290437 (6) 3524579 (6) 2755608 (6) 2212807 (6) 9191130 (6) 8672246 (6) 4927764 (6) 7542827 (6) 
     dis: 	3855.000 4135.000 4555.000 5017.000 5154.000 6204.000 6308.000 6310.000 6596.000 6852.000 
query 3 nn's (6, 6): 1208824 (6) 7481558 (6) 9922446 (6) 8906949 (6) 1866926 (6) 4371036 (6) 9455216 (6) 8694166 (6) 1717763 (6) 3489463 (6) 
     dis: 	7689.000 7695.000 8365.000 8898.000 9254.000 9414.000 9443.000 9661.000 9696.000 9701.000 
query 4 nn's (6, 6): 3987492 (6) 9534901 (6) 4352168 (6) 9323555 (6) 9211260 (6) 4549236 (6) 9052024 (6) 6279473 (6) 7240270 (6) 4015525 (6) 
     dis: 	3787.000 5126.000 5321.000 5435.000 5775.000 5827.000 5984.000 6062.000 6198.000 6212.000 
[ 139.918s ] *** Query time: 37.545
qps: 266.345
 *** HNSW recall 
HNSW get 96458 postive res from 100000 results, recall@10:0.965
recall dist(10% per bucket): 0.005 0.001 0.001 0.001 0.002 0.004 0.009 0.015 0.034 0.097 0.830 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 64964748, average: 6496.475
finished ivfpq index examples
[ 139.918s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_6/attr_sel_1_500_random_6.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_6/qrangesel_1_1_500_random_6.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_6/sif_gt_sel_1_1_500_random_6_10.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_6_40_1000 100 100"
	User time (seconds): 131.19
	System time (seconds): 8.62
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:20.64
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7263144
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 15
	Minor (reclaiming a frame) page faults: 1830429
	Voluntary context switches: 3606
	Involuntary context switches: 320
	Swaps: 0
	File system inputs: 280064
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 10:39
====================
START: running HNSW_INDEX_CONSTRUCTION, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 128
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/attr_sel_1_500_random_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_10_40_1000
dim: 100
M: 40
ef_construction: 1000
[ 0.000s ] Index Params -- d: 100, M: 40, N: 10000000
====================Vectors====================

[ 0.000s ] Loading database
[ 2.678s ] Loaded base vectors from file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
data loaded, with dim: 100, N=10000000
[ 2.678s ] Indexing database, size 10000000*100 from max 10000000
[ 2.678s ] Adding the vectors to the index
index construction cost:1854.458
[ 1854.458s ] Vectors added to  index
Index vectors added:10000000
====================Write Index================

Total edge:200
Average degree:0.000
[ 1858.605s ] Wrote hnsw index to file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_10_40_1000
[1858.605 s] -----DONE-----
[ 1858.605s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_build spacev10m 10000000 10 128 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/attr_sel_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_10_40_1000 100 40 1000"
	User time (seconds): 206347.24
	System time (seconds): 228.67
	Percent of CPU this job got: 11109%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 30:59.48
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12414576
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 21810889
	Voluntary context switches: 18127
	Involuntary context switches: 11182781
	Swaps: 0
	File system inputs: 0
	File system outputs: 14377000
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 12:41
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/attr_sel_1_500_random_10.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/sif_gt_sel_1_1_500_random_10_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_10_40_1000
ef_search: 100
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/attr_sel_1_500_random_10.json
[ 0.701s ] Loaded metadata, 10000000 attr's found
[ 0.701s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.703s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.705s ] Loaded 10000 spacev10m queries
[ 0.712s ] Loaded ground truth, gt_size: 10
[ 0.712s ] Index Params -- d: 100, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.727s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 124.788s ] Query results (vector ids, then distances):
query 0 nn's (10, 10): 1781760 (10) 3647719 (10) 2721656 (10) 6309057 (10) 3082748 (10) 1751249 (10) 1858226 (10) 4932580 (10) 6350337 (10) 8662145 (10) 
     dis: 	5414.000 5508.000 6611.000 6750.000 6920.000 8031.000 8454.000 8669.000 8727.000 9136.000 
query 1 nn's (10, 10): 3545414 (10) 4465136 (10) 2769394 (10) 9149269 (10) 1286599 (10) 3255981 (10) 9019277 (10) 3756027 (10) 5321556 (10) 6615436 (10) 
     dis: 	7469.000 7808.000 9211.000 9226.000 9607.000 9684.000 9918.000 9988.000 10229.000 10254.000 
query 2 nn's (10, 10): 8005273 (10) 2639412 (10) 5236859 (10) 6524215 (10) 4376559 (10) 5654119 (10) 255402 (10) 6606573 (10) 1881509 (10) 1816933 (10) 
     dis: 	3855.000 5174.000 7538.000 7648.000 7682.000 8109.000 8306.000 8470.000 8765.000 8794.000 
query 3 nn's (10, 10): 7481558 (10) 4150154 (10) 9732223 (10) 4000886 (10) 1370098 (10) 4153275 (10) 2360519 (10) 9793596 (10) 3750288 (10) 920948 (10) 
     dis: 	7695.000 8754.000 8881.000 9038.000 9842.000 9892.000 10155.000 10571.000 10855.000 10894.000 
query 4 nn's (10, 10): 9534901 (10) 4352168 (10) 4390138 (10) 3849231 (10) 8827038 (10) 9044829 (10) 2279438 (10) 57144 (10) 9801790 (10) 915880 (10) 
     dis: 	5126.000 5321.000 5970.000 6159.000 6309.000 6416.000 6457.000 6473.000 6521.000 6559.000 
[ 124.788s ] *** Query time: 33.380
qps: 299.583
 *** HNSW recall 
HNSW get 91291 postive res from 100000 results, recall@10:0.913
recall dist(10% per bucket): 0.004 0.001 0.002 0.004 0.007 0.014 0.027 0.054 0.096 0.207 0.584 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 64973607, average: 6497.361
finished ivfpq index examples
[ 124.790s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/attr_sel_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/sif_gt_sel_1_1_500_random_10_10.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_10_40_1000 100 100"
	User time (seconds): 111.35
	System time (seconds): 14.46
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:05.95
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7265188
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3239538
	Voluntary context switches: 1
	Involuntary context switches: 244
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 14:04
====================
START: running HNSW_INDEX_CONSTRUCTION, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 128
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/attr_sel_1_500_random_19.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_19_40_1000
dim: 100
M: 40
ef_construction: 1000
[ 0.000s ] Index Params -- d: 100, M: 40, N: 10000000
====================Vectors====================

[ 0.000s ] Loading database
[ 2.777s ] Loaded base vectors from file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
data loaded, with dim: 100, N=10000000
[ 2.777s ] Indexing database, size 10000000*100 from max 10000000
[ 2.777s ] Adding the vectors to the index
index construction cost:1853.090
[ 1853.090s ] Vectors added to  index
Index vectors added:10000000
====================Write Index================

Total edge:200
Average degree:0.000
[ 1857.404s ] Wrote hnsw index to file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_19_40_1000
[1857.404 s] -----DONE-----
[ 1857.404s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_build spacev10m 10000000 10 128 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/attr_sel_1_500_random_19.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_19_40_1000 100 40 1000"
	User time (seconds): 206063.09
	System time (seconds): 225.00
	Percent of CPU this job got: 11101%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 30:58.27
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12413540
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 21731578
	Voluntary context switches: 17844
	Involuntary context switches: 11387851
	Swaps: 0
	File system inputs: 104
	File system outputs: 14376992
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 16:05
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/attr_sel_1_500_random_19.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/sif_gt_sel_1_1_500_random_19_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_19_40_1000
ef_search: 100
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/attr_sel_1_500_random_19.json
[ 1.064s ] Loaded metadata, 10000000 attr's found
[ 1.064s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.067s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 1.069s ] Loaded 10000 spacev10m queries
[ 1.082s ] Loaded ground truth, gt_size: 10
[ 1.082s ] Index Params -- d: 100, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 7.161s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 126.164s ] Query results (vector ids, then distances):
query 0 nn's (19, 19): 9053999 (19) 2807977 (19) 3057373 (19) 3622412 (19) 5270820 (19) 9131976 (19) 3740591 (19) 2271622 (19) 7866226 (19) 804201 (19) 
     dis: 	8650.000 8897.000 8918.000 9668.000 9676.000 10220.000 11285.000 11321.000 11439.000 12508.000 
query 1 nn's (19, 19): 3843020 (19) 3255981 (19) 6716625 (19) 307231 (19) 2587018 (19) 1762221 (19) 8561106 (19) 4389309 (19) 7425422 (19) 3278070 (19) 
     dis: 	8685.000 9684.000 11253.000 11622.000 11992.000 12240.000 13342.000 13803.000 14201.000 14506.000 
query 2 nn's (19, 19): 5236859 (19) 6688464 (19) 1386408 (19) 3436916 (19) 4465300 (19) 349510 (19) 2506689 (19) 8053598 (19) 8492702 (19) 7688369 (19) 
     dis: 	7538.000 8666.000 10729.000 11088.000 11269.000 11429.000 11693.000 11881.000 12045.000 12259.000 
query 3 nn's (19, 19): 9100185 (19) 445803 (19) 8752097 (19) 2338828 (19) 2229532 (19) 5113097 (19) 9231219 (19) 5958483 (19) 7509912 (19) 8465611 (19) 
     dis: 	10473.000 12481.000 13198.000 13723.000 14174.000 14231.000 14889.000 15121.000 15216.000 15356.000 
query 4 nn's (19, 19): 5688541 (19) 7510113 (19) 9827236 (19) 8536029 (19) 7484589 (19) 8901558 (19) 8874840 (19) 2931454 (19) 9633690 (19) 6335565 (19) 
     dis: 	6846.000 7428.000 7939.000 8083.000 8344.000 8364.000 8442.000 8463.000 8569.000 8595.000 
[ 126.164s ] *** Query time: 33.428
qps: 299.150
 *** HNSW recall 
HNSW get 60979 postive res from 100000 results, recall@10:0.610
recall dist(10% per bucket): 0.005 0.014 0.035 0.071 0.103 0.142 0.179 0.172 0.149 0.095 0.035 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 64950877, average: 6495.088
finished ivfpq index examples
[ 126.166s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/attr_sel_1_500_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/sif_gt_sel_1_1_500_random_19_10.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_19_40_1000 100 100"
	User time (seconds): 113.86
	System time (seconds): 12.79
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:07.05
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7266216
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3049761
	Voluntary context switches: 1
	Involuntary context switches: 268
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 17:39
====================
START: running HNSW_INDEX_CONSTRUCTION, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 128
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_20/attr_sel_1_500_random_20.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_20_40_1000
dim: 100
M: 40
ef_construction: 1000
[ 0.000s ] Index Params -- d: 100, M: 40, N: 10000000
====================Vectors====================

[ 0.000s ] Loading database
[ 2.794s ] Loaded base vectors from file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
data loaded, with dim: 100, N=10000000
[ 2.794s ] Indexing database, size 10000000*100 from max 10000000
[ 2.794s ] Adding the vectors to the index
index construction cost:1852.003
[ 1852.004s ] Vectors added to  index
Index vectors added:10000000
====================Write Index================

Total edge:200
Average degree:0.000
[ 1856.295s ] Wrote hnsw index to file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_20_40_1000
[1856.295 s] -----DONE-----
[ 1856.295s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_build spacev10m 10000000 10 128 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_20/attr_sel_1_500_random_20.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_20_40_1000 100 40 1000"
	User time (seconds): 206082.39
	System time (seconds): 226.53
	Percent of CPU this job got: 11108%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 30:57.19
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12415496
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 22086597
	Voluntary context switches: 16736
	Involuntary context switches: 11405964
	Swaps: 0
	File system inputs: 0
	File system outputs: 14376992
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 19:35
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_20/attr_sel_1_500_random_20.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_20/qrangesel_1_1_500_random_20.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_20/sif_gt_sel_1_1_500_random_20_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_20_40_1000
ef_search: 100
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_20/attr_sel_1_500_random_20.json
[ 1.069s ] Loaded metadata, 10000000 attr's found
[ 1.069s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.071s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 1.073s ] Loaded 10000 spacev10m queries
[ 1.080s ] Loaded ground truth, gt_size: 10
[ 1.080s ] Index Params -- d: 100, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 7.031s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 122.725s ] Query results (vector ids, then distances):
query 0 nn's (20, 20): 2941659 (20) 5953758 (20) 1999036 (20) 4059743 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	13483.000 14386.000 17223.000 20526.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (20, 20): 8679029 (20) 2040369 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	14339.000 21163.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (20, 20): 2821238 (20) 8032286 (20) 4164780 (20) 3750793 (20) 119435 (20) 8994514 (20) 2013031 (20) 2278378 (20) 8086444 (20) 1123076 (20) 
     dis: 	13342.000 14640.000 15674.000 17292.000 17556.000 18055.000 18984.000 19691.000 20099.000 21397.000 
query 3 nn's (20, 20): 4095159 (20) 8555596 (20) 7946808 (20) 9265368 (20) 4943682 (20) 8034587 (20) 3609380 (20) -1 (0) -1 (0) -1 (0) 
     dis: 	15756.000 15855.000 17579.000 17767.000 18557.000 20142.000 20389.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (20, 20): 2911329 (20) 7167456 (20) 9204759 (20) 4803660 (20) 7188342 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	8361.000 8841.000 9595.000 9717.000 12244.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 122.725s ] *** Query time: 39.221
qps: 254.963
 *** HNSW recall 
HNSW get 20722 postive res from 100000 results, recall@10:0.207
recall dist(10% per bucket): 0.127 0.254 0.270 0.197 0.097 0.039 0.013 0.003 0.001 0.000 0.000 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 64886705, average: 6488.671
finished ivfpq index examples
[ 122.726s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_20/attr_sel_1_500_random_20.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_20/qrangesel_1_1_500_random_20.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_20/sif_gt_sel_1_1_500_random_20_10.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_20_40_1000 100 100"
	User time (seconds): 107.94
	System time (seconds): 15.84
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:03.96
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7264160
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 6
	Minor (reclaiming a frame) page faults: 3391020
	Voluntary context switches: 26
	Involuntary context switches: 246
	Swaps: 0
	File system inputs: 216
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
