Start time: 09:10
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_6/attr_sel_1_500_random_6.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_6/qrangesel_1_1_500_random_6.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_6/sif_gt_sel_1_1_500_random_6_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_6_40_1000
ef_search: 10
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_6/attr_sel_1_500_random_6.json
[ 0.812s ] Loaded metadata, 10000000 attr's found
[ 0.812s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.815s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.818s ] Loaded 10000 spacev10m queries
[ 0.830s ] Loaded ground truth, gt_size: 10
[ 0.830s ] Index Params -- d: 100, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 9.357s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 131.820s ] Query results (vector ids, then distances):
query 0 nn's (6, 6): 4661794 (6) 1352077 (6) 8023016 (6) 2436347 (6) 525784 (6) 1781760 (6) 3647719 (6) 7509422 (6) 9694965 (6) 5096505 (6) 
     dis: 	3012.000 3278.000 4691.000 5094.000 5270.000 5414.000 5508.000 5894.000 5944.000 6150.000 
query 1 nn's (6, 6): 1027770 (6) 3024255 (6) 3545414 (6) 3338949 (6) 6957767 (6) 1852123 (6) 6631934 (6) 7628827 (6) 9149269 (6) 5649448 (6) 
     dis: 	4889.000 6351.000 7469.000 7823.000 8400.000 8637.000 9175.000 9202.000 9226.000 9244.000 
query 2 nn's (6, 6): 8005273 (6) 2734445 (6) 4290437 (6) 3524579 (6) 2755608 (6) 2212807 (6) 9191130 (6) 8672246 (6) 4927764 (6) 7542827 (6) 
     dis: 	3855.000 4135.000 4555.000 5017.000 5154.000 6204.000 6308.000 6310.000 6596.000 6852.000 
query 3 nn's (6, 6): 1208824 (6) 7481558 (6) 9922446 (6) 8906949 (6) 1866926 (6) 9455216 (6) 8694166 (6) 3489463 (6) 6027466 (6) 2272653 (6) 
     dis: 	7689.000 7695.000 8365.000 8898.000 9254.000 9443.000 9661.000 9701.000 9955.000 9972.000 
query 4 nn's (6, 6): 3987492 (6) 9534901 (6) 4352168 (6) 9323555 (6) 9211260 (6) 4549236 (6) 9052024 (6) 6279473 (6) 4015525 (6) 9833382 (6) 
     dis: 	3787.000 5126.000 5321.000 5435.000 5775.000 5827.000 5984.000 6062.000 6212.000 6265.000 
[ 131.821s ] *** Query time: 26.300
qps: 380.226
 *** HNSW recall 
HNSW get 71581 postive res from 100000 results, recall@10:0.716
recall dist(10% per bucket): 0.044 0.019 0.025 0.038 0.048 0.065 0.083 0.107 0.150 0.196 0.225 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 10732490, average: 1073.249
finished ivfpq index examples
[ 131.821s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_6/attr_sel_1_500_random_6.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_6/qrangesel_1_1_500_random_6.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_6/sif_gt_sel_1_1_500_random_6_10.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_6_40_1000 10 100"
	User time (seconds): 123.06
	System time (seconds): 8.48
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:12.46
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7262116
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 16
	Minor (reclaiming a frame) page faults: 1830466
	Voluntary context switches: 3599
	Involuntary context switches: 185
	Swaps: 0
	File system inputs: 366568
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 12:41
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/attr_sel_1_500_random_10.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/sif_gt_sel_1_1_500_random_10_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_10_40_1000
ef_search: 10
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/attr_sel_1_500_random_10.json
[ 1.064s ] Loaded metadata, 10000000 attr's found
[ 1.064s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.067s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 1.069s ] Loaded 10000 spacev10m queries
[ 1.081s ] Loaded ground truth, gt_size: 10
[ 1.081s ] Index Params -- d: 100, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 7.405s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 113.112s ] Query results (vector ids, then distances):
query 0 nn's (10, 10): 1781760 (10) 3647719 (10) 6309057 (10) 3082748 (10) 1858226 (10) 4932580 (10) 6350337 (10) 4697056 (10) 8656797 (10) 8341867 (10) 
     dis: 	5414.000 5508.000 6750.000 6920.000 8454.000 8669.000 8727.000 9224.000 9485.000 9671.000 
query 1 nn's (10, 10): 3545414 (10) 4465136 (10) 2769394 (10) 9149269 (10) 1286599 (10) 9019277 (10) 5321556 (10) 6615436 (10) 79115 (10) 6371568 (10) 
     dis: 	7469.000 7808.000 9211.000 9226.000 9607.000 9918.000 10229.000 10254.000 10290.000 10463.000 
query 2 nn's (10, 10): 8005273 (10) 2639412 (10) 6524215 (10) 4376559 (10) 5654119 (10) 255402 (10) 1881509 (10) 1816933 (10) 3817374 (10) 2884416 (10) 
     dis: 	3855.000 5174.000 7648.000 7682.000 8109.000 8306.000 8765.000 8794.000 8803.000 8944.000 
query 3 nn's (10, 10): 7481558 (10) 9732223 (10) 4000886 (10) 3750288 (10) 920948 (10) 2019638 (10) 7085204 (10) 8345750 (10) 7365605 (10) 8589062 (10) 
     dis: 	7695.000 8881.000 9038.000 10855.000 10894.000 11336.000 11920.000 12029.000 12620.000 13038.000 
query 4 nn's (10, 10): 9534901 (10) 4352168 (10) 4390138 (10) 3849231 (10) 8827038 (10) 9044829 (10) 57144 (10) 9801790 (10) 9765986 (10) 2795570 (10) 
     dis: 	5126.000 5321.000 5970.000 6159.000 6309.000 6416.000 6473.000 6521.000 6698.000 6828.000 
[ 113.112s ] *** Query time: 23.290
qps: 429.363
 *** HNSW recall 
HNSW get 50354 postive res from 100000 results, recall@10:0.504
recall dist(10% per bucket): 0.041 0.043 0.074 0.102 0.135 0.155 0.158 0.135 0.099 0.046 0.012 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 10717177, average: 1071.718
finished ivfpq index examples
[ 113.113s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/attr_sel_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/sif_gt_sel_1_1_500_random_10_10.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_10_40_1000 10 100"
	User time (seconds): 101.49
	System time (seconds): 12.74
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:54.31
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7262828
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2842753
	Voluntary context switches: 1
	Involuntary context switches: 229
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 16:05
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/attr_sel_1_500_random_19.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/sif_gt_sel_1_1_500_random_19_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_19_40_1000
ef_search: 10
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/attr_sel_1_500_random_19.json
[ 0.956s ] Loaded metadata, 10000000 attr's found
[ 0.956s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.959s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.960s ] Loaded 10000 spacev10m queries
[ 0.968s ] Loaded ground truth, gt_size: 10
[ 0.968s ] Index Params -- d: 100, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.673s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 97.170s ] Query results (vector ids, then distances):
query 0 nn's (19, 19): 9053999 (19) 3622412 (19) 5270820 (19) 9131976 (19) 2271622 (19) 9023958 (19) 8531772 (19) -1 (0) -1 (0) -1 (0) 
     dis: 	8650.000 9668.000 9676.000 10220.000 11321.000 15776.000 16197.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (19, 19): 3843020 (19) 3255981 (19) 6716625 (19) 3140085 (19) 3210229 (19) 5837811 (19) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	8685.000 9684.000 11253.000 14627.000 15130.000 17203.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (19, 19): 6688464 (19) 1386408 (19) 3436916 (19) 4465300 (19) 8053598 (19) 8492702 (19) 9649728 (19) 8215984 (19) 8150061 (19) 2660411 (19) 
     dis: 	8666.000 10729.000 11088.000 11269.000 11881.000 12045.000 12392.000 12587.000 12598.000 13770.000 
query 3 nn's (19, 19): 9100185 (19) 445803 (19) 5113097 (19) 6545101 (19) 9632573 (19) 5188929 (19) 3746111 (19) 1634412 (19) 7266747 (19) -1 (0) 
     dis: 	10473.000 12481.000 14231.000 15402.000 15444.000 15729.000 15898.000 17533.000 18838.000 340282346638528859811704183484516925440.000 
query 4 nn's (19, 19): 9633690 (19) 2918458 (19) 5274607 (19) 8191729 (19) 370184 (19) 7913544 (19) 6327697 (19) 7158663 (19) 7837229 (19) 3162360 (19) 
     dis: 	8569.000 9487.000 9849.000 10547.000 10662.000 10709.000 11968.000 11986.000 12911.000 13061.000 
[ 97.170s ] *** Query time: 16.492
qps: 606.357
 *** HNSW recall 
HNSW get 18756 postive res from 100000 results, recall@10:0.188
recall dist(10% per bucket): 0.177 0.269 0.253 0.168 0.087 0.035 0.009 0.002 0.000 0.000 0.000 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 10723729, average: 1072.373
finished ivfpq index examples
[ 97.172s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/attr_sel_1_500_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/sif_gt_sel_1_1_500_random_19_10.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_19_40_1000 10 100"
	User time (seconds): 88.40
	System time (seconds): 9.63
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:38.04
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7263860
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2404931
	Voluntary context switches: 1
	Involuntary context switches: 174
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 19:35
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_20/attr_sel_1_500_random_20.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_20/qrangesel_1_1_500_random_20.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_20/sif_gt_sel_1_1_500_random_20_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_20_40_1000
ef_search: 10
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_20/attr_sel_1_500_random_20.json
[ 0.789s ] Loaded metadata, 10000000 attr's found
[ 0.789s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.792s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.793s ] Loaded 10000 spacev10m queries
[ 0.800s ] Loaded ground truth, gt_size: 10
[ 0.800s ] Index Params -- d: 100, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 7.688s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 105.226s ] Query results (vector ids, then distances):
query 0 nn's (20, 20): -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (20, 20): -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (20, 20): 3750793 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	17292.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (20, 20): 7946808 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	17579.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (20, 20): 7188342 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	12244.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 105.226s ] *** Query time: 20.421
qps: 489.703
 *** HNSW recall 
HNSW get 4112 postive res from 100000 results, recall@10:0.041
recall dist(10% per bucket): 0.664 0.271 0.057 0.008 0.001 0.000 0.000 0.000 0.000 0.000 0.000 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 10714425, average: 1071.443
finished ivfpq index examples
[ 105.228s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_20/attr_sel_1_500_random_20.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_20/qrangesel_1_1_500_random_20.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_20/sif_gt_sel_1_1_500_random_20_10.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_20_40_1000 10 100"
	User time (seconds): 92.25
	System time (seconds): 14.05
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:46.39
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7261632
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 8
	Minor (reclaiming a frame) page faults: 3023152
	Voluntary context switches: 20
	Involuntary context switches: 238
	Swaps: 0
	File system inputs: 2168
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
