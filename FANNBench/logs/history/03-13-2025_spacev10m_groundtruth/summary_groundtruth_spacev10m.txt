

===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
attr: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
query: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
qrange: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json
output: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_10.json
topk: 10
dim: 100
start
[2.803 s] Loaded dataset, size=10000000, dim=100
[3.482 s] Loaded attr, size=10000000
[3.482 s] Loading query vectors and attributes
query vecs data loaded, with dim: 100, size=10000
[3.484 s] Loaded query vectors
[3.486 s] Loaded 10000 queries
====================Vectors====================

[435.409 s] Loading database
data loaded, with dim: 100, nb=10000000
[435.409 s] Indexing database, size 10000000*100 from max 10000000
[440.064 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[440.202 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[504.370 s] Query results (vector ids, then distances):
query 0, qrange [10, 10]
      nns 0 id:7099403 attr:10 dis:6438
      nns 1 id:1536208 attr:10 dis:6572
      nns 2 id:4853416 attr:10 dis:6676
      nns 3 id:7305168 attr:10 dis:7885
      nns 4 id:1360571 attr:10 dis:7959
      nns 5 id:3454073 attr:10 dis:8293
      nns 6 id:3676917 attr:10 dis:8425
      nns 7 id:1858226 attr:10 dis:8454
      nns 8 id:4932580 attr:10 dis:8669
      nns 9 id:1947126 attr:10 dis:8974

query 1, qrange [10, 10]
      nns 0 id:8784659 attr:10 dis:8816
      nns 1 id:6945939 attr:10 dis:9078
      nns 2 id:2769394 attr:10 dis:9211
      nns 3 id:5321556 attr:10 dis:10229
      nns 4 id:4561316 attr:10 dis:10291
      nns 5 id:3193849 attr:10 dis:10564
      nns 6 id:2077395 attr:10 dis:10987
      nns 7 id:7928199 attr:10 dis:11071
      nns 8 id:5116926 attr:10 dis:11128
      nns 9 id:4111782 attr:10 dis:11130

query 2, qrange [10, 10]
      nns 0 id:4290437 attr:10 dis:4555
      nns 1 id:3524579 attr:10 dis:5017
      nns 2 id:2755608 attr:10 dis:5154
      nns 3 id:379589 attr:10 dis:7277
      nns 4 id:2768752 attr:10 dis:7919
      nns 5 id:4969561 attr:10 dis:8223
      nns 6 id:5423341 attr:10 dis:8500
      nns 7 id:6688464 attr:10 dis:8666
      nns 8 id:3817374 attr:10 dis:8803
      nns 9 id:7670329 attr:10 dis:9186

query 3, qrange [10, 10]
      nns 0 id:7375372 attr:10 dis:9144
      nns 1 id:8694166 attr:10 dis:9661
      nns 2 id:4153275 attr:10 dis:9892
      nns 3 id:1074776 attr:10 dis:10416
      nns 4 id:9157428 attr:10 dis:10421
      nns 5 id:9100185 attr:10 dis:10473
      nns 6 id:5621855 attr:10 dis:10647
      nns 7 id:8656601 attr:10 dis:10934
      nns 8 id:1174052 attr:10 dis:11006
      nns 9 id:6835770 attr:10 dis:11392

query 4, qrange [10, 10]
      nns 0 id:9614324 attr:10 dis:4216
      nns 1 id:3849231 attr:10 dis:6159
      nns 2 id:9788862 attr:10 dis:6170
      nns 3 id:3367834 attr:10 dis:6421
      nns 4 id:3037959 attr:10 dis:6432
      nns 5 id:9193832 attr:10 dis:6455
      nns 6 id:1906000 attr:10 dis:6508
      nns 7 id:6082909 attr:10 dis:6530
      nns 8 id:1994085 attr:10 dis:6547
      nns 9 id:3480152 attr:10 dis:6605

[504.371 s] *** Query time: 64.168120
qps:155.841
cmp per query:10000000
recall: 1 of course
sel distribution: 0 1 0 0 0 0 0 0 0 0 0 
selectivity: 0.100196
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[504.386 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_10.json 10 100"
	User time (seconds): 3165.20
	System time (seconds): 4850.37
	Percent of CPU this job got: 1588%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 8:24.73
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7943168
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 149627578
	Voluntary context switches: 667259
	Involuntary context switches: 276303
	Swaps: 0
	File system inputs: 0
	File system outputs: 1800
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
attr: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
query: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
qrange: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json
output: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_10.json
topk: 10
dim: 100
start
[2.770 s] Loaded dataset, size=10000000, dim=100
[3.453 s] Loaded attr, size=10000000
[3.453 s] Loading query vectors and attributes
query vecs data loaded, with dim: 100, size=10000
[3.456 s] Loaded query vectors
[3.457 s] Loaded 10000 queries
====================Vectors====================

[399.373 s] Loading database
data loaded, with dim: 100, nb=10000000
[399.373 s] Indexing database, size 10000000*100 from max 10000000
[403.934 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[404.076 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[413.747 s] Query results (vector ids, then distances):
query 0, qrange [19, 19]
      nns 0 id:4279856 attr:19 dis:7583
      nns 1 id:8341867 attr:19 dis:9671
      nns 2 id:4470157 attr:19 dis:9941
      nns 3 id:2168891 attr:19 dis:10466
      nns 4 id:3665805 attr:19 dis:11224
      nns 5 id:7422832 attr:19 dis:12321
      nns 6 id:4699709 attr:19 dis:12656
      nns 7 id:7367271 attr:19 dis:12688
      nns 8 id:3373685 attr:19 dis:12697
      nns 9 id:9931603 attr:19 dis:12777

query 1, qrange [19, 19]
      nns 0 id:3010609 attr:19 dis:8479
      nns 1 id:429713 attr:19 dis:9734
      nns 2 id:5389260 attr:19 dis:10760
      nns 3 id:4568459 attr:19 dis:11684
      nns 4 id:8829523 attr:19 dis:11788
      nns 5 id:110728 attr:19 dis:12019
      nns 6 id:630895 attr:19 dis:12431
      nns 7 id:7568825 attr:19 dis:12508
      nns 8 id:783095 attr:19 dis:12606
      nns 9 id:2929751 attr:19 dis:12911

query 2, qrange [19, 19]
      nns 0 id:3411918 attr:19 dis:11573
      nns 1 id:5535345 attr:19 dis:12067
      nns 2 id:5031536 attr:19 dis:12450
      nns 3 id:8226884 attr:19 dis:12834
      nns 4 id:2953048 attr:19 dis:12948
      nns 5 id:6084444 attr:19 dis:12974
      nns 6 id:749169 attr:19 dis:13148
      nns 7 id:6430072 attr:19 dis:13246
      nns 8 id:8617679 attr:19 dis:13355
      nns 9 id:3340664 attr:19 dis:13501

query 3, qrange [19, 19]
      nns 0 id:8688374 attr:19 dis:9955
      nns 1 id:312551 attr:19 dis:12495
      nns 2 id:4281239 attr:19 dis:12905
      nns 3 id:2035960 attr:19 dis:13113
      nns 4 id:1088105 attr:19 dis:13537
      nns 5 id:9323463 attr:19 dis:13609
      nns 6 id:7541027 attr:19 dis:13745
      nns 7 id:6105877 attr:19 dis:13809
      nns 8 id:7449790 attr:19 dis:13860
      nns 9 id:8097175 attr:19 dis:13929

query 4, qrange [19, 19]
      nns 0 id:6836665 attr:19 dis:6874
      nns 1 id:7921516 attr:19 dis:7197
      nns 2 id:2798193 attr:19 dis:7233
      nns 3 id:1079096 attr:19 dis:7408
      nns 4 id:5551706 attr:19 dis:7432
      nns 5 id:6384236 attr:19 dis:7457
      nns 6 id:8437136 attr:19 dis:7521
      nns 7 id:3526996 attr:19 dis:7546
      nns 8 id:7958455 attr:19 dis:7548
      nns 9 id:8954656 attr:19 dis:7568

[413.747 s] *** Query time: 9.670861
qps:1034.03
cmp per query:10000000
recall: 1 of course
sel distribution: 1 0 0 0 0 0 0 0 0 0 0 
selectivity: 0.0100222
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[413.756 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_10.json 10 100"
	User time (seconds): 1038.99
	System time (seconds): 358.90
	Percent of CPU this job got: 337%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 6:53.94
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7943168
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 14137111
	Voluntary context switches: 229947
	Involuntary context switches: 39705
	Swaps: 0
	File system inputs: 0
	File system outputs: 1808
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
