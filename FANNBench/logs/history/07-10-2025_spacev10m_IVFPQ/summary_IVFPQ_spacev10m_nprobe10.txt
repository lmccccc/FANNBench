Start time: 18:44
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50
nprobe: 10
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.753s ] Loaded metadata, 10000000 attr's found
[ 0.753s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.791s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.804s ] Loaded 10000 spacev10m queries
[ 0.883s ] Loaded ground truth, gt_size: 100
[ 0.883s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.197s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 75.130s ] Query results (vector ids, then distances):
query 0 nn's (40616, 90615): 1352077 (75218) 1300400 (68247) 525784 (86118) 606211 (46345) 1781760 (80354) 7509422 (86182) 290760 (73276) 1714233 (65633) 6583311 (47922) 8021837 (54227) 1536208 (61981) 3082748 (43400) 6313468 (56256) 9148464 (61499) 1200517 (72426) 5072935 (77579) 4779084 (83453) 8997960 (41694) 2382485 (52524) 38473 (46733) 8538301 (43948) 3881211 (73037) 7007393 (50612) 8807530 (78073) 4617714 (57477) 4279856 (62524) 3873794 (79667) 2037978 (67204) 613770 (82162) 8242233 (84764) 6547416 (46965) 7305168 (83078) 2433318 (41182) 1751249 (61683) 9107614 (86696) 9600306 (74480) 8135809 (69250) 1858226 (61086) 8846971 (82553) 4066846 (76054) 511283 (44517) 7249395 (83840) 1947555 (46272) 2772718 (56124) 3828638 (68559) 5004916 (68288) 7922669 (47051) 9818783 (60214) 4254134 (79349) 4932580 (43903) 2807977 (72542) 244510 (41564) 4287666 (67511) 6616924 (53611) 4470364 (85079) 6240106 (75699) 4519081 (86868) 5950387 (51620) 7983463 (70761) 1168348 (90414) 8097566 (64961) 5236967 (71585) 9957153 (61862) 3249603 (76576) 1060668 (58280) 8563527 (86841) 8849839 (86592) 3636367 (55940) 8348201 (69358) 8341867 (72465) 5594224 (79134) 8066928 (80642) 7115332 (67947) 3611695 (77838) 9169598 (42707) 8725926 (63035) 6588206 (68541) 5320284 (64167) 5997165 (83594) 8279789 (85969) 1666 (84797) 488103 (55813) 5270820 (90509) 9576118 (47855) 6303532 (42119) 4715886 (84573) 841711 (89798) 1545295 (43724) 2578991 (84620) 4104937 (70750) 74334 (45086) 347710 (45599) 3371587 (42783) 6554307 (84494) 5454 (50127) 6487757 (87359) 7887947 (85619) 3815686 (47763) 3993234 (84762) 694286 (59145) 
     dis: 	3341.555 3558.984 5245.911 5260.997 5329.049 5638.839 6092.811 6122.817 6254.688 6361.337 6455.989 6519.620 6520.098 6571.315 6605.375 6881.313 6923.574 7085.572 7166.396 7284.152 7292.290 7292.523 7475.898 7484.152 7570.556 7668.837 7671.998 7770.476 7804.320 7835.928 7878.941 7930.551 7942.328 7959.359 8050.290 8104.739 8212.972 8219.131 8219.742 8229.662 8238.021 8262.152 8305.371 8399.892 8422.494 8430.933 8457.901 8475.640 8528.645 8562.139 8626.439 8641.404 8660.164 8676.185 8746.664 8759.140 8775.344 8870.273 8887.686 8977.087 9008.827 9013.942 9033.175 9036.808 9121.707 9164.880 9184.734 9228.418 9236.949 9237.871 9252.262 9352.732 9360.211 9364.410 9381.196 9383.501 9384.062 9386.525 9405.275 9416.560 9431.528 9450.677 9477.137 9504.428 9505.646 9541.047 9567.089 9567.345 9643.229 9677.152 9680.544 9690.054 9710.193 9718.043 9740.641 9744.189 9756.121 9765.999 9781.269 9784.512 
query 1 nn's (23827, 73826): 1027770 (59556) 3024255 (36040) 6716785 (66378) 3545414 (44593) 6693881 (28141) 1087257 (62343) 3843020 (54844) 8596579 (66499) 547651 (43364) 9149269 (64835) 913237 (31716) 2769394 (73340) 6631934 (28922) 128447 (33616) 1286599 (26580) 4208062 (72354) 2201796 (69121) 6202555 (55017) 9559160 (42483) 5312590 (40431) 9311189 (41791) 2342379 (62400) 1262717 (61544) 5374088 (35711) 8084904 (26103) 7995495 (54964) 4764135 (25237) 3467889 (58051) 2483370 (43037) 7191660 (26554) 4561316 (70089) 2054287 (52686) 5325898 (41793) 497310 (50087) 2400979 (32818) 6371568 (69524) 8598995 (49827) 7714223 (69827) 9387768 (41292) 6528340 (69516) 2677560 (29840) 2077395 (51965) 8370535 (67881) 8382701 (59388) 5427517 (49038) 7898285 (24857) 5559374 (57425) 683232 (55159) 5116926 (36041) 1580619 (31013) 9198072 (44678) 6783786 (43516) 3302437 (52859) 1259440 (29909) 919217 (70266) 6218290 (52949) 7983026 (33895) 4952577 (25638) 7896078 (66668) 8219055 (62699) 9979859 (68285) 9619526 (31001) 7208440 (52535) 8300390 (42797) 7684675 (55889) 5054847 (35044) 4936167 (43277) 4414583 (48880) 3510541 (68307) 3695413 (45102) 2233630 (36122) 5755448 (37848) 6305818 (73235) 1141657 (71758) 9780570 (56021) 1010768 (32832) 1175501 (62271) 7430809 (48977) 9816629 (29872) 9378086 (41297) 6825634 (34589) 6255602 (46010) 5611981 (54386) 4333009 (47559) 658603 (24877) 5347257 (45047) 5821964 (57069) 8680758 (39515) 8829523 (62588) 2781736 (49412) 6984105 (30431) 4609373 (24799) 9514926 (42395) 7852133 (36815) 9416444 (41974) 6894603 (30698) 603218 (62694) 4105463 (36583) 8682638 (43829) 2552141 (64823) 
     dis: 	4951.676 6388.603 7614.397 7656.533 8396.801 8405.281 8588.030 8631.122 9148.979 9182.754 9190.606 9206.575 9293.700 9352.754 9447.030 9504.778 9537.359 9605.584 9757.467 9757.604 9801.692 9916.422 9923.583 9964.950 10011.231 10060.589 10105.922 10145.601 10164.323 10212.086 10321.362 10339.520 10373.654 10399.735 10437.386 10466.273 10489.525 10572.902 10583.889 10616.024 10662.205 10665.625 10732.516 10765.207 10779.470 10800.264 10805.812 10861.438 10910.203 10964.443 10974.649 10983.195 11002.873 11047.003 11071.188 11087.094 11087.619 11142.678 11143.221 11149.586 11202.398 11241.274 11256.481 11274.488 11319.307 11324.731 11328.901 11373.731 11396.531 11401.885 11405.533 11426.594 11441.205 11445.806 11456.836 11503.037 11506.643 11513.305 11517.520 11553.311 11560.654 11622.009 11624.008 11632.678 11642.646 11643.614 11649.334 11665.165 11688.594 11697.951 11731.916 11739.341 11741.981 11747.900 11754.886 11801.319 11813.087 11835.419 11855.657 11881.833 
query 2 nn's (32197, 82196): 4574760 (37531) 5189301 (43405) 8005273 (37538) 4290437 (79182) 3524579 (49429) 8672246 (67919) 5932138 (71360) 8699363 (38066) 5193386 (58419) 5236859 (46044) 9602743 (57407) 6606573 (43048) 9561351 (80565) 9964310 (34221) 5423341 (53232) 1881509 (33275) 725252 (39756) 6525090 (79383) 190238 (43187) 6212714 (75619) 7670329 (41226) 559883 (76998) 3361974 (50158) 323907 (52531) 6672275 (66753) 4808419 (69389) 6915696 (72395) 2153650 (81348) 9339955 (81335) 7126935 (58871) 8558486 (51639) 6648184 (54160) 2557172 (56410) 3399987 (80703) 3890438 (64578) 6451690 (52651) 2655117 (60703) 5771135 (63649) 894483 (42165) 8719744 (57812) 7037734 (33584) 5597353 (43285) 6334408 (55203) 9436299 (64728) 2953283 (44130) 1358363 (38724) 3508271 (81187) 8672644 (53328) 1386408 (47799) 7111817 (32792) 512960 (66122) 6010182 (39169) 7634670 (39080) 2353418 (78404) 555581 (63340) 6295489 (45287) 3977031 (32341) 5257112 (37353) 3322631 (44067) 7443302 (76451) 1845312 (46681) 6561981 (81132) 3776514 (76962) 5800932 (33089) 8060848 (58300) 3686996 (42102) 2732881 (61677) 3641059 (44284) 125926 (65492) 349510 (48539) 3989900 (43812) 4470455 (51798) 4972945 (63439) 5943431 (69746) 4080834 (71977) 2708723 (80888) 7643282 (52135) 2354559 (50802) 2594487 (39018) 150041 (71853) 8953965 (70649) 951709 (73040) 3485543 (79714) 4732579 (69871) 3542525 (68936) 4011639 (72992) 8118777 (53878) 6647146 (64376) 4956255 (51901) 8773369 (37448) 8901562 (73065) 8553474 (54164) 5844655 (45057) 1445118 (59573) 7839327 (79108) 1001168 (36400) 6226278 (39786) 3291989 (46789) 80239 (42867) 6256134 (53229) 
     dis: 	3040.931 3396.189 4005.862 4578.350 4985.623 6359.330 6557.125 7260.264 7288.263 7407.258 8071.849 8262.561 8343.189 8423.398 8789.828 8801.643 8807.467 8884.635 8922.498 9043.457 9050.707 9108.366 9172.170 9447.551 9573.036 9720.494 9743.938 9786.212 9805.555 9917.584 9980.059 10012.182 10037.378 10121.757 10210.879 10277.791 10298.174 10392.124 10565.965 10602.193 10702.812 10720.469 10784.173 10786.384 10818.419 10859.858 10871.000 10901.356 10925.584 10946.392 10971.548 10999.236 10999.327 11004.789 11021.891 11081.823 11118.609 11121.449 11141.714 11152.927 11153.200 11165.704 11167.684 11182.323 11182.670 11201.961 11220.675 11296.001 11368.227 11377.294 11381.695 11398.680 11405.870 11407.836 11420.622 11492.853 11502.423 11513.658 11522.168 11529.615 11536.425 11536.722 11551.382 11556.123 11560.019 11580.558 11582.521 11585.687 11596.914 11602.756 11640.299 11641.461 11650.820 11661.485 11668.416 11677.971 11701.179 11721.490 11725.199 11736.208 
query 3 nn's (10631, 60630): 4286832 (17230) 1208824 (37041) 1165548 (45426) 1681561 (52434) 9732223 (41833) 7375372 (33987) 7371232 (47114) 7664306 (35020) 2187959 (22411) 1717763 (23291) 8694166 (43201) 2360519 (38478) 3188407 (24304) 8364431 (51130) 4153275 (14312) 2272653 (58471) 4889443 (35759) 9157428 (59550) 391722 (24862) 1212415 (15580) 4251611 (29775) 9100185 (14479) 9232458 (44812) 6542977 (17108) 1252765 (47853) 9892318 (23797) 4559449 (12184) 580826 (39121) 4298667 (37216) 8741259 (38437) 1074776 (60559) 920948 (51396) 5621855 (30749) 9775342 (51527) 6447414 (38986) 8559924 (36620) 3626273 (24674) 7623822 (13051) 8821621 (32963) 9591320 (41043) 9444180 (43915) 5124721 (15599) 5962673 (33507) 9987911 (54998) 786015 (34456) 6654687 (18185) 514827 (17573) 4183705 (37136) 5563393 (26978) 5687185 (12097) 5683960 (39084) 398589 (20960) 6546803 (58575) 2029271 (55651) 2851767 (31496) 5566014 (48193) 9740574 (40063) 7110321 (51796) 3517824 (30137) 8669768 (45048) 1605226 (42484) 205735 (33156) 8427899 (40275) 7010252 (18474) 4316644 (36244) 7256503 (33019) 2182004 (53782) 5676630 (15975) 3378586 (41526) 6703969 (32159) 3350710 (56592) 2348869 (59503) 2824029 (57859) 3071605 (13149) 6835770 (35415) 5677498 (44480) 8860902 (45806) 6492666 (13880) 264481 (34023) 3431426 (19293) 2838160 (25464) 5176976 (57430) 108033 (50132) 9760951 (35714) 662720 (44761) 3787993 (28927) 4342892 (15650) 188678 (31172) 9335946 (29064) 3266491 (40597) 9754021 (56599) 5497231 (59894) 382902 (29996) 5056650 (51741) 3279722 (58517) 756034 (16298) 7639060 (47762) 9469428 (55808) 3758348 (33117) 3882137 (59753) 
     dis: 	4932.493 7559.416 7716.412 8533.997 8686.969 8843.779 9242.648 9402.558 9525.734 9582.531 9602.439 9903.758 9904.006 9940.529 10013.597 10037.766 10077.080 10228.670 10241.127 10266.923 10275.444 10302.910 10324.750 10344.720 10401.495 10434.219 10441.537 10493.101 10549.722 10581.117 10595.141 10603.974 10605.822 10613.974 10658.848 10676.953 10705.795 10823.746 10869.390 10883.352 10908.412 10923.926 10965.323 10970.995 10984.865 11004.527 11043.848 11050.146 11096.463 11116.825 11128.555 11146.557 11153.344 11197.729 11219.842 11234.869 11276.945 11332.737 11363.012 11373.238 11406.383 11414.640 11419.137 11423.238 11446.023 11452.812 11469.518 11478.780 11508.087 11514.631 11530.731 11533.907 11541.860 11548.719 11554.838 11555.451 11566.475 11596.868 11605.434 11618.774 11631.541 11648.897 11684.323 11721.332 11730.315 11782.334 11783.297 11790.985 11803.078 11809.736 11820.295 11838.703 11841.904 11877.770 11881.330 11885.672 11888.877 11901.706 11908.882 11938.295 
query 4 nn's (49705, 99704): 3987492 (98027) 9211260 (81222) 6872756 (95706) 6279473 (68764) 9788862 (69419) 4015525 (99118) 6095172 (66470) 2038833 (53914) 9652129 (94239) 9578545 (82305) 73290 (81611) 1587943 (87738) 2279438 (92240) 2320125 (78596) 1384227 (67752) 57144 (85498) 5562283 (85264) 6001275 (76022) 6581013 (70513) 4738992 (53601) 9044829 (55243) 3073679 (52005) 2986049 (87137) 7511825 (79032) 6906799 (74949) 523134 (52660) 3192757 (54312) 9240243 (51536) 8572491 (87817) 6836665 (78385) 8442744 (81630) 3598596 (93600) 8627902 (60097) 6685392 (77959) 9438625 (65756) 703166 (92189) 4734386 (57789) 1444782 (58902) 980351 (73539) 1066421 (76598) 9977617 (53087) 4491189 (76562) 7146236 (94013) 8641215 (59349) 2473330 (71722) 9600067 (97955) 3934821 (77812) 9765986 (76606) 569140 (91553) 7637276 (80931) 2337939 (52530) 6549886 (63665) 3792530 (68743) 7921516 (63604) 3299088 (88192) 5350870 (81572) 500157 (52742) 6297263 (78517) 6851242 (63477) 2353911 (64105) 2157254 (54534) 1718685 (89463) 1674437 (53911) 7841648 (78034) 7476660 (51667) 7650915 (63278) 3154654 (58192) 1622397 (56749) 5627225 (58815) 9134626 (83623) 1360707 (85906) 5518218 (74862) 2596717 (78816) 5901830 (86753) 6592347 (55694) 7986656 (78914) 2355717 (76322) 7647900 (73895) 7272461 (95639) 6296356 (92496) 4156191 (68002) 1549949 (59274) 5196742 (77282) 6902422 (84339) 4630927 (64554) 5406100 (92372) 20028 (78811) 6857077 (60175) 7245758 (81221) 6473453 (73287) 7125428 (50729) 5764213 (84545) 5464207 (67800) 307550 (89449) 6471787 (67230) 9357339 (75528) 5602950 (61681) 9382308 (89128) 7868398 (58238) 9420647 (72971) 
     dis: 	3856.535 5539.291 6043.119 6100.910 6173.589 6211.677 6247.159 6320.849 6339.760 6368.127 6373.673 6377.479 6451.869 6472.816 6480.089 6537.355 6544.390 6547.302 6554.955 6555.948 6556.619 6563.512 6567.238 6627.546 6630.396 6672.447 6692.482 6726.776 6754.373 6774.033 6792.439 6821.971 6833.338 6844.074 6851.883 6913.929 6914.599 6924.547 6940.111 6940.821 6954.715 6974.124 7009.995 7026.451 7030.507 7040.643 7047.373 7075.711 7081.312 7098.359 7122.761 7137.918 7138.132 7169.192 7177.181 7184.787 7186.653 7224.686 7230.535 7262.839 7264.573 7264.637 7270.813 7291.545 7300.887 7305.452 7317.777 7324.287 7335.834 7339.573 7344.697 7347.542 7355.038 7363.044 7364.437 7364.542 7366.332 7412.569 7413.875 7416.179 7420.195 7422.197 7435.288 7438.573 7444.769 7445.556 7449.115 7449.402 7449.566 7472.110 7478.459 7479.727 7504.526 7526.651 7536.147 7545.219 7547.197 7549.656 7550.273 7568.721 
[ 75.130s ] *** Query time: 11.873
qps: 842.263
 *** ivfpq recall 
ivfpq get 628922 postive res from 1000000 results, recall@100:0.629
recall dist(10% per bucket): 0.009 0.041 0.067 0.080 0.099 0.114 0.126 0.145 0.183 0.136 0.001 
finished ivfpq index examples
[ 75.173s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50 10 100"
	User time (seconds): 72.10
	System time (seconds): 2.04
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:15.30
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1289124
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 605266
	Voluntary context switches: 728
	Involuntary context switches: 70
	Swaps: 0
	File system inputs: 40752
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 18:53
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50
nprobe: 10
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.710s ] Loaded metadata, 10000000 attr's found
[ 0.710s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.712s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.714s ] Loaded 10000 spacev10m queries
[ 0.782s ] Loaded ground truth, gt_size: 100
[ 0.782s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 1.917s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 69.119s ] Query results (vector ids, then distances):
query 0 nn's (40856, 50855): 606211 (46345) 6583311 (47922) 3082748 (43400) 8997960 (41694) 38473 (46733) 8538301 (43948) 7007393 (50612) 6547416 (46965) 2433318 (41182) 511283 (44517) 1947555 (46272) 7922669 (47051) 4932580 (43903) 244510 (41564) 9169598 (42707) 9576118 (47855) 6303532 (42119) 1545295 (43724) 74334 (45086) 347710 (45599) 3371587 (42783) 5454 (50127) 3815686 (47763) 7811790 (50102) 3178566 (41164) 2029623 (45395) 1288571 (45088) 2632800 (41462) 100232 (45360) 5661320 (49047) 4029747 (43158) 7703225 (42332) 6929262 (42738) 6549569 (43365) 516556 (48404) 1952371 (46531) 3586515 (42127) 6662255 (45091) 6015008 (47603) 1263541 (49264) 8814646 (49405) 4359261 (48997) 9284314 (44763) 8843034 (46356) 7043677 (41831) 9974866 (46574) 7930327 (47337) 9162838 (48173) 1334146 (42645) 5215588 (45563) 8169597 (48830) 5949911 (48460) 7866226 (50660) 4227532 (49453) 1335591 (46968) 9374041 (42778) 4005082 (41331) 1072226 (46371) 8692256 (46024) 3351466 (46513) 8887022 (45611) 4470760 (44169) 7223435 (46300) 6592373 (48838) 3847526 (48670) 3956609 (44309) 9563123 (47541) 6928163 (48147) 4644935 (46100) 5232970 (50382) 6254494 (50396) 1770486 (49880) 8300539 (47189) 1494916 (41928) 7315046 (44033) 2294395 (45582) 865830 (47294) 6703971 (50490) 1304598 (46886) 7721266 (42914) 3606930 (50817) 6219674 (46551) 6847596 (50541) 7237202 (47079) 7134019 (43250) 2061362 (48765) 8604707 (44282) 3000574 (48256) 5414760 (44534) 293504 (47359) 2536601 (46572) 4283450 (44096) 1776676 (45295) 5898204 (46586) 853398 (48546) 1886642 (48605) 6985298 (46936) 6461696 (43346) 6319987 (45582) 2697372 (46586) 
     dis: 	5260.997 6254.688 6519.620 7085.572 7284.152 7292.290 7475.898 7878.941 7942.328 8238.021 8305.371 8457.901 8562.139 8641.404 9381.196 9504.428 9505.646 9567.345 9680.544 9690.054 9710.193 9740.641 9765.999 9799.491 9875.965 9979.620 10125.771 10142.881 10162.145 10468.332 10605.559 10639.471 10644.826 10779.123 10829.137 10912.846 10918.918 10930.750 10974.671 10989.469 11002.890 11005.965 11008.246 11030.062 11058.409 11174.137 11192.293 11210.591 11249.475 11476.748 11557.156 11558.159 11593.985 11616.247 11629.052 11649.732 11744.811 11758.348 12018.967 12051.834 12069.969 12125.754 12181.674 12281.809 12332.262 12377.398 12475.875 12641.979 12651.193 12675.994 12810.193 12977.080 13051.572 13065.236 13135.829 13137.043 13163.697 13196.846 13210.570 13308.854 13344.326 13403.679 13426.404 13427.715 13540.807 13547.568 13561.789 13591.234 13591.586 13611.586 13745.201 13764.795 13769.000 13792.221 13819.626 13882.570 13934.840 13954.449 13984.463 14017.549 
query 1 nn's (25003, 35002): 6693881 (28141) 913237 (31716) 6631934 (28922) 128447 (33616) 1286599 (26580) 8084904 (26103) 4764135 (25237) 7191660 (26554) 2400979 (32818) 2677560 (29840) 1580619 (31013) 1259440 (29909) 7983026 (33895) 4952577 (25638) 9619526 (31001) 1010768 (32832) 9816629 (29872) 6825634 (34589) 6984105 (30431) 6894603 (30698) 4403537 (30334) 8605143 (32224) 8313860 (27237) 4444284 (29638) 2114720 (27014) 8431034 (29326) 7853534 (28186) 3892957 (32671) 3761710 (25464) 1762221 (34381) 7584986 (29468) 2791612 (32495) 9030241 (31642) 3502118 (28547) 4233253 (34954) 276903 (27774) 5993510 (28523) 5546102 (25312) 8112258 (29681) 5161531 (30241) 8858217 (27282) 1863099 (25769) 106949 (34898) 6536469 (32386) 2413303 (31844) 585173 (26431) 509025 (33013) 5064267 (33426) 5444529 (27397) 6888185 (29407) 5219432 (30034) 9880058 (32934) 6180007 (31307) 5123925 (30030) 8129769 (28908) 4002686 (31505) 6704562 (34346) 7841909 (33192) 8034043 (26323) 452563 (26942) 6264256 (26218) 1707306 (25534) 5135644 (25853) 7847812 (33643) 1815724 (26232) 6889844 (32899) 5260673 (29121) 6562926 (34378) 575143 (26962) 8161839 (27932) 7947913 (25087) 4332264 (34035) 264101 (28800) 195020 (29820) 4389309 (34959) 921290 (29685) 7422498 (27247) 3935248 (30773) 9771805 (31214) 7023451 (25277) 2543279 (33801) 3146219 (34952) 9713427 (32386) 5278749 (31124) 1793360 (28434) 8932572 (27426) 464487 (26851) 5932403 (29482) 1333430 (29060) 5090800 (29191) 7439865 (29690) 2349245 (31033) 3074010 (34040) 4616241 (26619) 3927903 (33559) 5292837 (33553) 135054 (32299) 2229225 (32973) 6611423 (33410) 1207673 (29291) 
     dis: 	8396.801 9190.606 9293.700 9352.754 9447.030 10011.231 10105.922 10212.086 10437.386 10662.205 10964.443 11047.003 11087.619 11142.678 11241.274 11503.037 11517.520 11560.654 11731.916 11801.319 11939.963 11942.696 11993.186 12079.590 12132.781 12187.478 12299.143 12299.871 12369.609 12374.411 12409.921 12456.062 12534.035 12565.518 12597.652 12619.211 12625.094 12660.156 12662.411 12770.161 12809.998 12816.418 12851.830 12913.975 12947.116 12974.951 13033.977 13046.267 13100.658 13128.266 13215.770 13243.243 13247.341 13247.748 13269.544 13276.765 13298.832 13336.201 13344.268 13422.716 13440.289 13446.234 13479.273 13501.859 13528.805 13718.508 13732.558 13737.074 13868.494 13893.543 13909.951 13915.246 13952.701 13963.932 13981.205 14001.236 14005.385 14048.867 14103.891 14119.661 14148.660 14175.699 14179.534 14209.766 14214.147 14215.850 14252.316 14276.758 14319.479 14351.266 14357.060 14382.205 14390.149 14418.111 14424.006 14451.138 14479.212 14488.686 14490.506 14490.850 
query 2 nn's (52136, 62135): 5193386 (58419) 9602743 (57407) 5423341 (53232) 323907 (52531) 7126935 (58871) 6648184 (54160) 2557172 (56410) 6451690 (52651) 2655117 (60703) 8719744 (57812) 6334408 (55203) 8672644 (53328) 8060848 (58300) 2732881 (61677) 8118777 (53878) 8553474 (54164) 1445118 (59573) 6256134 (53229) 7430287 (54464) 8584412 (52154) 974463 (55906) 8053598 (54560) 9613009 (59128) 2895724 (58490) 8628294 (54056) 1599377 (56281) 5908619 (54797) 6799372 (55481) 8805708 (53769) 9568973 (52222) 5394801 (53600) 7067471 (54769) 3767167 (54407) 2661006 (61124) 8270538 (52862) 2938213 (60317) 1897140 (54275) 7377075 (58903) 3027160 (52497) 1418740 (59524) 3316694 (61981) 8311897 (54795) 1745173 (52657) 5747150 (57010) 7579941 (58916) 9085967 (53557) 3845752 (58732) 1981339 (58011) 6680530 (52729) 4421821 (55836) 8711849 (59964) 4806508 (53261) 3809587 (59587) 8202597 (57013) 6283101 (59691) 3909616 (58089) 7222957 (62063) 1066595 (57964) 4060044 (59282) 6084444 (52823) 7142785 (53016) 5535212 (60366) 6597541 (60314) 7031128 (54775) 2258667 (56862) 9235576 (54568) 2229481 (56763) 4467020 (56571) 6822296 (52825) 9398400 (54388) 8891325 (58368) 4086084 (52367) 9289271 (59134) 6902515 (54472) 5639939 (61737) 4262419 (53170) 5947050 (55139) 3675927 (62128) 8514063 (55910) 6198584 (60893) 4961527 (61665) 499044 (59007) 9064437 (54992) 6798056 (53227) 2176462 (60928) 603876 (55710) 8134689 (52496) 9081266 (56093) 5970530 (54133) 4487056 (60420) 6972718 (53817) 4437183 (61621) 1907671 (55430) 655988 (53161) 3764184 (57232) 9176575 (57820) 1458865 (56039) 5398594 (57600) 5981880 (61278) 808247 (57311) 
     dis: 	7288.263 8071.849 8789.828 9447.551 9917.584 10012.182 10037.378 10277.791 10298.174 10602.193 10784.173 10901.356 11182.670 11220.675 11582.521 11641.461 11661.485 11736.208 11739.817 11745.401 11881.987 11885.845 12010.532 12087.525 12140.730 12285.831 12288.053 12332.492 12334.305 12339.119 12371.369 12418.000 12437.941 12484.926 12493.312 12593.814 12673.933 12750.545 12774.601 12839.791 12841.830 12856.777 12888.395 12927.932 12954.048 12995.179 13006.562 13027.057 13084.670 13088.266 13209.119 13209.596 13230.578 13234.207 13234.525 13248.133 13272.731 13283.759 13299.239 13304.320 13308.207 13372.361 13379.415 13401.369 13403.362 13430.478 13439.743 13471.828 13493.875 13578.695 13588.883 13591.582 13592.426 13593.500 13653.582 13656.274 13662.982 13665.424 13665.567 13665.937 13666.572 13679.664 13706.331 13706.699 13708.139 13718.700 13758.336 13838.395 13846.904 13850.555 13885.818 13897.062 13941.657 13951.442 13955.801 13963.865 13972.611 13982.718 13983.053 13990.274 
query 3 nn's (22672, 32671): 1717763 (23291) 3188407 (24304) 391722 (24862) 4251611 (29775) 9892318 (23797) 5621855 (30749) 3626273 (24674) 5563393 (26978) 2851767 (31496) 3517824 (30137) 6703969 (32159) 2838160 (25464) 3787993 (28927) 188678 (31172) 9335946 (29064) 382902 (29996) 3554434 (25036) 1174438 (25123) 899773 (23901) 5429466 (28066) 2047471 (29467) 928307 (26649) 348294 (30612) 7999457 (23329) 9768015 (27196) 5041302 (28077) 8281351 (26861) 2262413 (27923) 3640666 (29719) 2605021 (27817) 2540060 (25368) 9750958 (29512) 6060979 (26718) 6139929 (31601) 973000 (25306) 2024671 (25266) 6049067 (27212) 6723787 (22764) 6623327 (23063) 1763202 (24922) 4077495 (30934) 173114 (26788) 5492868 (22990) 2406313 (31512) 2123002 (28494) 8768561 (27492) 8448447 (22710) 1156062 (28000) 7713351 (26471) 5788714 (28807) 613079 (31456) 9076327 (26379) 1088105 (26342) 7005089 (26286) 7708121 (28744) 5089352 (23180) 2972885 (25046) 9061349 (29953) 2211024 (27903) 3228780 (23488) 6400458 (23700) 2212301 (28845) 6799401 (27239) 5479426 (24290) 1348580 (28569) 3964129 (27723) 5542604 (30912) 7251101 (30664) 7775601 (25672) 6370197 (23516) 3005444 (32252) 6806656 (24656) 997943 (26818) 7405196 (26565) 4392973 (26149) 3591152 (29962) 5621702 (29834) 3315014 (31678) 9942674 (25583) 7747720 (27827) 4686380 (23122) 1548053 (27225) 3177251 (26136) 4094764 (23801) 6019139 (25044) 6870454 (28954) 1314875 (31819) 6865812 (25074) 881949 (32250) 8081952 (28309) 7470103 (25661) 2155588 (29033) 4266774 (22944) 6618862 (24044) 8654535 (26180) 5844016 (27491) 965689 (31785) 4959371 (25948) 7672824 (31874) 4272951 (32342) 
     dis: 	9582.531 9904.006 10241.127 10275.444 10434.219 10605.822 10705.795 11096.463 11219.842 11363.012 11514.631 11631.541 11782.334 11790.985 11803.078 11841.904 11948.590 12079.988 12111.398 12194.070 12363.865 12459.809 12479.682 12483.482 12518.607 12520.254 12544.316 12614.100 12682.307 12691.202 12693.096 12704.875 12799.215 12825.279 12863.500 12894.533 12936.350 12941.477 12962.908 12974.404 13053.883 13068.133 13071.641 13186.390 13208.830 13243.730 13305.453 13319.609 13328.393 13338.748 13354.790 13356.305 13378.840 13420.084 13422.961 13426.676 13458.213 13482.760 13484.623 13532.418 13583.180 13587.830 13632.099 13639.408 13640.541 13646.838 13692.166 13734.659 13735.945 13814.892 13824.902 13829.521 13839.035 13839.764 13863.140 13872.504 13875.260 13886.285 13898.627 13958.139 13994.834 14008.052 14015.443 14032.293 14059.479 14061.696 14161.323 14168.754 14201.191 14313.551 14314.820 14322.328 14348.461 14352.283 14361.369 14366.973 14417.094 14431.924 14437.656 14477.945 
query 4 nn's (53667, 63666): 2038833 (53914) 9044829 (55243) 3192757 (54312) 8627902 (60097) 4734386 (57789) 1444782 (58902) 8641215 (59349) 6549886 (63665) 7921516 (63604) 6851242 (63477) 2157254 (54534) 1674437 (53911) 7650915 (63278) 3154654 (58192) 1622397 (56749) 5627225 (58815) 6592347 (55694) 1549949 (59274) 6857077 (60175) 5602950 (61681) 7868398 (58238) 3932969 (59429) 9073069 (54706) 1993129 (58248) 7737218 (55024) 1842376 (62159) 9151038 (61386) 8986848 (63373) 9126043 (57149) 7657646 (56973) 7724487 (61219) 3661184 (58912) 777128 (58555) 6485682 (59957) 1882345 (56296) 5784602 (59746) 9612883 (62024) 303769 (57852) 8057249 (54214) 8534601 (57591) 4689913 (62759) 1305842 (59374) 2338568 (54791) 4639297 (56135) 8851335 (61985) 347569 (54618) 3199881 (53772) 1441979 (57647) 3891986 (55882) 1128316 (54610) 6602079 (58992) 6866552 (60660) 8709164 (59694) 7584170 (62825) 3908403 (57408) 5325327 (62959) 3145751 (61404) 4103136 (58443) 8218228 (58092) 7244370 (54429) 1097624 (61289) 134402 (56167) 8792421 (62551) 7608110 (55179) 2873533 (60018) 1122357 (61018) 3716962 (61306) 6583682 (54402) 3932657 (63123) 8631652 (56367) 2991150 (60515) 5951134 (61221) 2202650 (60763) 847839 (53874) 7626772 (59641) 3406774 (61676) 2434252 (59459) 8201504 (59834) 2402580 (56484) 2458045 (60393) 9087198 (59698) 6557953 (63550) 6520041 (61270) 6057755 (62771) 7740664 (58362) 1829750 (53972) 4755673 (57380) 4953626 (61215) 5331525 (54486) 2440299 (61368) 9027091 (55388) 7159830 (54428) 1795479 (56307) 132052 (59868) 4292289 (54549) 9907464 (54565) 6844747 (59571) 2042939 (60457) 5704479 (63171) 8241753 (60962) 
     dis: 	6320.849 6556.619 6692.482 6833.338 6914.599 6924.547 7026.451 7137.918 7169.192 7230.535 7264.573 7270.813 7305.452 7317.777 7324.287 7335.834 7364.437 7422.197 7449.402 7547.197 7550.273 7669.257 7696.136 7704.869 7709.521 7709.956 7737.784 7740.167 7830.208 7848.932 7883.902 7884.906 7915.513 7933.083 7935.306 7938.458 7944.797 7963.991 7967.370 7987.099 7988.014 8015.021 8047.445 8098.340 8158.141 8171.016 8181.971 8191.631 8196.896 8200.631 8213.140 8217.490 8219.758 8264.579 8267.296 8282.979 8286.621 8303.525 8312.440 8322.426 8322.743 8330.504 8348.274 8367.413 8382.304 8401.389 8404.468 8475.537 8478.539 8479.416 8486.722 8495.027 8536.299 8536.870 8542.816 8550.409 8612.268 8621.447 8627.075 8627.275 8656.683 8659.648 8666.950 8672.495 8681.547 8710.689 8712.815 8751.287 8756.051 8761.633 8799.784 8804.428 8805.021 8817.056 8819.957 8826.303 8831.915 8853.464 8864.857 8865.320 
[ 69.120s ] *** Query time: 8.462
qps: 1181.694
 *** ivfpq recall 
ivfpq get 516557 postive res from 1000000 results, recall@100:0.517
recall dist(10% per bucket): 0.022 0.076 0.110 0.121 0.135 0.141 0.132 0.122 0.101 0.039 0.001 
finished ivfpq index examples
[ 69.148s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50 10 100"
	User time (seconds): 68.35
	System time (seconds): 0.89
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:09.26
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1290152
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 336494
	Voluntary context switches: 2
	Involuntary context switches: 89
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 19:00
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50
nprobe: 10
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.710s ] Loaded metadata, 10000000 attr's found
[ 0.710s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.712s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.714s ] Loaded 10000 spacev10m queries
[ 0.783s ] Loaded ground truth, gt_size: 100
[ 0.783s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 1.912s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 71.158s ] Query results (vector ids, then distances):
query 0 nn's (4494, 5493): 6149370 (4957) 2272371 (5258) 9641558 (4559) 7693645 (4921) 6166564 (4617) 841307 (4995) 2939481 (4939) 7587297 (4745) 8339032 (4998) 3403324 (5319) 6139591 (5168) 2566361 (4712) 150742 (5127) 6208747 (5338) 3273060 (5238) 5730962 (5149) 245188 (4931) 1752083 (4932) 6426108 (4564) 7508287 (4527) 400067 (5283) 9883125 (4797) 5157659 (4544) 4934715 (5390) 4068441 (5230) 6646974 (4849) 3524296 (5389) 5804262 (5274) 9695205 (5277) 7325433 (5269) 4443467 (4843) 7961807 (5127) 7053294 (4851) 4733279 (5171) 4465480 (5279) 5485015 (5387) 6460788 (4593) 8158251 (5430) 4177374 (4531) 5494466 (5260) 1251755 (5192) 2699375 (4600) 6023443 (4639) 3079105 (4821) 1832759 (5193) 7651251 (5432) 1422422 (4953) 2508084 (5427) 9558489 (5386) 304796 (5255) 3350072 (4552) 6459718 (4894) 9067633 (5303) 5512181 (5354) 7793084 (5051) 1968220 (5238) 1267137 (5144) 5164885 (4801) 9642588 (4523) 715839 (5332) 9978923 (5162) 6346061 (4926) 1735334 (4876) 9600345 (5184) 2829832 (4969) 3846182 (4782) 3904006 (5387) 8179134 (4657) 6886656 (4910) 8796972 (5194) 8076583 (5122) 5741333 (5409) 4867863 (5141) 4478123 (4745) 9626647 (4837) 5566720 (4934) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	9798.878 12054.924 12493.771 12533.164 12733.529 12846.305 12904.840 13544.479 13701.008 14150.275 14561.832 14607.027 14753.767 15586.957 15640.195 16287.485 16341.658 16676.717 17065.252 17535.420 17565.301 17638.904 17833.756 17887.107 17983.879 17987.477 18196.324 18405.369 18425.969 18504.820 18599.014 18792.312 18856.562 18871.750 18962.875 19013.562 19054.529 19087.605 19181.352 19315.424 19543.998 19760.678 19794.887 19939.885 20004.961 20145.445 20408.469 20563.984 20614.281 20726.637 20797.641 21130.164 21142.719 21299.387 21491.574 21778.000 21890.371 21977.953 22057.510 22080.531 22106.881 22108.379 22172.789 22257.387 22271.588 22352.258 22482.988 22523.980 22641.027 22883.615 22945.820 22961.225 22988.641 23600.027 24785.402 25204.078 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (37505, 38504): 5755448 (37848) 8391132 (38008) 5790200 (38489) 364702 (38495) 4994601 (38150) 7789051 (37871) 4358727 (38259) 9358072 (38328) 4114888 (38331) 4732664 (37565) 2765139 (38363) 6240841 (38110) 3563306 (37529) 639982 (37719) 4415604 (38158) 4615489 (37755) 7880657 (38317) 670596 (38129) 8728963 (38317) 5036152 (38170) 8917241 (38000) 8358627 (37518) 5245088 (37994) 3788709 (37710) 4753113 (38039) 9888370 (37911) 2694250 (38418) 7085672 (37652) 4478910 (37676) 9044463 (38492) 7917318 (37524) 1937248 (37551) 2398531 (38230) 7108426 (38094) 6524660 (37879) 5243911 (37973) 9491356 (37983) 4734524 (38431) 2422906 (37773) 7686719 (37676) 2129769 (37882) 4780335 (37922) 88446 (37507) 1410647 (37563) 9274241 (38403) 138083 (38124) 7414362 (38277) 9313787 (38493) 9316683 (38219) 2917129 (38003) 260408 (38459) 9460190 (38281) 9403397 (38188) 7905804 (38193) 71190 (37844) 4243247 (38012) 7653685 (37890) 4590576 (38423) 6624298 (37794) 1298018 (37680) 2187362 (38162) 2472745 (37745) 5298267 (38074) 324928 (38313) 6207307 (37931) 4782926 (38094) 8617090 (37750) 7542190 (38333) 9817604 (38408) 5460909 (37633) 1653094 (38097) 2302306 (38163) 2856617 (37868) 8824191 (37733) 5119184 (37733) 5646146 (38326) 1885296 (37754) 672170 (37999) 6122391 (37722) 1153717 (38344) 9460478 (38053) 5878110 (37710) 3096170 (38068) 2259002 (38176) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	11426.594 12473.098 12492.893 12603.713 12658.415 12730.018 13636.898 13708.863 13773.801 13819.439 13844.566 13929.611 13942.811 14226.758 14479.299 14487.771 14550.328 14654.891 14735.466 14911.161 15263.908 15276.163 15465.813 15500.477 15520.889 15608.072 15706.791 15709.391 15805.825 15875.885 15969.379 16115.745 16196.388 16261.401 16345.502 16448.625 16512.336 16548.578 16563.906 16572.328 16628.094 16647.359 16720.723 16729.053 16742.258 16768.133 17020.480 17167.195 17279.361 17351.076 17397.824 17527.562 17622.650 17646.602 17789.949 18150.957 18180.379 18253.090 18259.277 18335.869 18413.477 18531.645 18607.738 18942.404 19481.396 19624.803 19632.621 19639.922 19846.500 19937.492 20004.555 20041.986 20217.180 20534.986 20546.150 21076.137 21168.766 21182.352 21399.373 21608.012 22042.320 22700.277 23565.410 24992.828 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (17888, 18887): 2768752 (18434) 7060335 (18263) 192071 (18322) 4001654 (18856) 3343989 (18166) 5811483 (17911) 2280297 (17981) 651373 (18369) 3852413 (18339) 8865121 (18145) 8034017 (18651) 7253171 (18873) 7090551 (18836) 7915555 (18591) 2301421 (18209) 7729974 (18311) 3354445 (18294) 9513895 (18319) 8124614 (18842) 9257406 (18439) 2798853 (18054) 4084749 (18416) 4168146 (17986) 7993234 (18796) 8216340 (18735) 8118220 (18779) 7087180 (18459) 2022735 (18043) 6440774 (18309) 6014912 (18801) 328693 (18319) 6719330 (18884) 3210352 (18754) 4062808 (18328) 2353254 (18646) 3847683 (17973) 5252999 (18257) 1451724 (18117) 9809312 (18289) 1568546 (18732) 8803395 (18138) 17700 (18015) 8538536 (18041) 2282018 (18280) 1397546 (18324) 2275994 (18794) 7695962 (18227) 8858677 (18534) 1188015 (18171) 2763507 (18618) 9566282 (18581) 3136118 (18110) 6886817 (18881) 7088639 (18612) 8748784 (18433) 8227454 (17996) 6277108 (18788) 617393 (17973) 3856358 (18321) 7906939 (18060) 8786425 (18461) 5756627 (18214) 9344770 (18614) 2734822 (18852) 6878962 (18680) 6331033 (18050) 3683298 (18152) 4234650 (17960) 7008142 (18811) 2474435 (18508) 97562 (18705) 5839691 (18772) 6244124 (17914) 7899657 (18742) 7746143 (18729) 5930555 (18348) 7157131 (18686) 9936924 (18474) 5567678 (18173) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	7765.161 10603.062 10740.497 11099.745 12097.129 12251.521 12744.539 12809.358 12865.800 12885.077 13219.167 13441.815 13694.683 13863.379 14310.873 14492.113 14749.432 14930.679 14983.092 15018.246 15025.492 15042.459 15240.839 15308.611 15334.504 15366.541 15566.464 15604.097 15780.250 15956.373 16004.740 16021.561 16069.877 16103.304 16151.041 16155.992 16299.761 16338.971 16408.486 16493.170 16578.670 16868.129 17005.441 17090.592 17252.379 17288.426 17332.215 17409.730 17593.871 17975.758 17994.010 18079.510 18212.229 18265.637 18289.945 18696.227 18831.836 19010.305 19238.873 19470.711 19656.441 19666.672 19687.426 19696.154 19789.914 19868.299 20021.402 20153.859 20180.838 20417.229 20601.279 20697.973 21057.164 21071.232 21391.426 21412.592 22674.184 22774.355 23336.020 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (11109, 12108): 5687185 (12097) 561416 (11821) 8459637 (11541) 7578623 (11167) 6204802 (12016) 3969193 (11781) 1473665 (11327) 3061123 (12077) 5285822 (11716) 6557504 (11784) 8609160 (11466) 859638 (11189) 8046548 (11685) 3528080 (11991) 7937205 (11170) 9473281 (11500) 3845490 (11792) 2418 (11477) 6580755 (12024) 6207318 (11695) 3658156 (11292) 5697552 (11833) 1720982 (11766) 3044944 (11199) 106710 (11544) 2485086 (12063) 3716063 (12017) 500961 (11582) 6542973 (11384) 8442772 (11259) 313153 (11244) 9597095 (11205) 9745702 (11582) 8468245 (11967) 5943575 (12071) 4576135 (11662) 423927 (11946) 1121715 (11145) 5082953 (11536) 693868 (11820) 1735300 (12073) 4958495 (11480) 5676973 (11453) 6886053 (11431) 644446 (11983) 7930829 (12070) 7578461 (11447) 782304 (11526) 5630520 (11340) 4919996 (11349) 1745901 (11176) 896402 (11853) 2102364 (11586) 6703993 (12095) 4251811 (11368) 9284725 (11226) 1394957 (11333) 1297399 (11188) 3559139 (11159) 8973327 (11665) 7259851 (11217) 6022930 (11980) 5069356 (11187) 7158179 (11608) 8608459 (11407) 8155799 (11732) 338967 (11647) 5163868 (11723) 3414822 (11802) 9755274 (11208) 1227805 (11117) 5107061 (11965) 9074871 (11168) 4036565 (11758) 8240869 (11452) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	11116.825 12338.418 12692.926 13211.240 13397.504 13399.977 13630.539 14052.097 14108.133 14374.701 14641.500 14685.266 15203.667 15272.559 15453.418 15633.387 15667.447 15846.430 15928.021 16038.312 16215.281 16451.021 16490.551 16634.312 16668.898 16708.916 16806.119 16862.668 16872.830 17019.395 17051.367 17094.195 17269.553 17352.725 17490.021 17510.301 17537.254 17565.211 17674.961 17810.414 17838.449 17935.602 17946.611 18031.980 18169.221 18244.918 18466.971 18481.301 18615.178 18652.844 18741.023 18910.877 18975.203 19116.434 19213.221 19370.416 19483.947 19502.656 19620.234 19677.031 19686.842 19840.875 20020.930 20358.900 20449.008 20597.033 20812.494 21010.188 21010.734 21803.512 21971.348 22516.895 23085.543 23168.129 24017.016 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (17141, 18140): 4786845 (17889) 1240644 (17247) 2074283 (17512) 5552942 (18053) 7743549 (17817) 5408770 (18066) 7372708 (17985) 2689415 (17797) 8170734 (17334) 8499942 (17237) 6998246 (18012) 1076381 (18061) 7015372 (17258) 2007382 (17240) 2423134 (17664) 2872613 (17421) 9484368 (17369) 2187988 (17418) 2983599 (17778) 2580119 (17508) 8478728 (17986) 7867115 (17297) 8124740 (18081) 3522636 (17522) 6494213 (17937) 5410968 (18014) 4332977 (17875) 4083979 (17257) 5790346 (17329) 8046309 (17859) 8397189 (17707) 2602997 (17192) 1509296 (17924) 2698356 (17174) 7353382 (17168) 81123 (17508) 2765879 (18067) 3321502 (17494) 9583371 (17974) 650719 (17992) 2151074 (17897) 4844893 (17208) 9064950 (17857) 9687103 (18115) 653641 (18010) 6903477 (17429) 6932672 (18115) 7690295 (17873) 6177714 (17740) 3646315 (17914) 539639 (17499) 6913081 (17924) 5638098 (17369) 1740627 (17422) 7394170 (17613) 383774 (17679) 7945647 (17878) 7360709 (18013) 4519051 (18108) 3374721 (18136) 3831807 (17565) 4318963 (17765) 2049454 (17637) 7960539 (18096) 868402 (17546) 5075882 (17879) 6614805 (17912) 6778300 (17638) 1716253 (17998) 1218423 (18018) 6942670 (17293) 9665910 (17822) 8608837 (17513) 8659479 (18134) 165887 (17603) 1209822 (18124) 6084454 (17532) 5277664 (17706) 7603730 (17916) 93959 (17914) 8513353 (18096) 9152173 (17926) 7785495 (17260) 9573036 (17758) 230219 (17908) 3152841 (17647) 7633622 (17562) 924481 (18050) 2441489 (18101) 9246411 (18116) 3538576 (17459) 668238 (17464) 9440925 (17161) 3422511 (17617) 5468304 (17520) 1880235 (18038) 6620772 (17730) 2010020 (17699) 8577568 (17196) 8917814 (17997) 
     dis: 	6837.784 7031.828 7635.956 7929.324 8171.970 8236.769 8440.092 8441.498 8486.976 8547.896 8552.867 8599.787 8729.997 8787.891 9063.853 9115.277 9267.400 9402.677 9542.510 9551.800 9585.881 9636.039 9721.178 9864.245 9865.728 9894.831 9909.934 9982.264 10026.326 10105.869 10113.666 10138.592 10140.113 10202.022 10243.697 10256.963 10291.940 10354.094 10430.782 10623.285 10627.904 10665.729 10698.553 10726.113 10726.709 10753.458 10796.886 10815.387 10827.763 10881.680 10922.439 10939.996 10947.101 11162.071 11308.004 11337.150 11466.010 11470.088 11525.707 11560.766 11595.686 11653.816 11662.728 11704.995 11761.543 11855.729 11906.042 11910.054 12109.969 12174.420 12217.490 12315.261 12442.234 12496.873 12582.855 12601.529 12642.721 12689.955 12729.451 12729.574 12773.156 12943.451 13002.450 13069.473 13115.876 13119.609 13132.424 13168.459 13292.058 13495.178 13534.910 13561.673 13664.104 13669.708 13896.755 13946.422 14082.863 14091.719 14137.506 14631.816 
[ 71.158s ] *** Query time: 8.220
qps: 1216.605
 *** ivfpq recall 
ivfpq get 250360 postive res from 1000000 results, recall@100:0.250
recall dist(10% per bucket): 0.119 0.260 0.278 0.200 0.099 0.033 0.009 0.002 0.000 0.000 0.000 
finished ivfpq index examples
[ 71.187s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50 10 100"
	User time (seconds): 70.42
	System time (seconds): 0.87
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:11.29
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1290148
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 336564
	Voluntary context switches: 7
	Involuntary context switches: 136
	Swaps: 0
	File system inputs: 0
	File system outputs: 48
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 19:07
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50
nprobe: 10
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.708s ] Loaded metadata, 10000000 attr's found
[ 0.708s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.710s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.712s ] Loaded 10000 spacev10m queries
[ 0.780s ] Loaded ground truth, gt_size: 100
[ 0.780s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 1.914s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 68.083s ] Query results (vector ids, then distances):
query 0 nn's (15274, 15373): 5769046 (15300) 4702781 (15290) 6529736 (15348) 3748027 (15328) 9762541 (15350) 6111149 (15335) 9142221 (15299) 9758155 (15355) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	9339.131 15215.113 17311.945 18782.104 20097.297 20971.133 21968.488 22681.395 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (47455, 47554): 7518689 (47475) 3080191 (47543) 6244229 (47536) 1020870 (47459) 2932629 (47539) 8831076 (47472) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	14099.950 16455.492 19343.176 20014.070 20392.414 24026.377 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (2622, 2721): 6508399 (2700) 5579211 (2721) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	14386.454 21076.680 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (73957, 74056): 6689609 (74003) 4050481 (73978) 3150044 (74030) 5661120 (74004) 2140224 (74017) 1231887 (74000) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	11728.946 14037.242 15767.667 16288.726 16518.201 16656.152 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (58381, 58480): 4103136 (58443) 7018664 (58405) 7897965 (58462) 7970406 (58449) 2623305 (58399) 8604267 (58432) 7200685 (58419) 4193284 (58424) 9024654 (58435) 1708512 (58442) 4599974 (58460) 532679 (58442) 3348493 (58467) 6405434 (58428) 4300658 (58425) 7339652 (58385) 703909 (58417) 8017355 (58427) 1462270 (58452) 393162 (58454) 2234032 (58471) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	8303.525 9960.879 10174.402 10639.189 10656.230 10670.904 10747.031 10861.677 11356.832 11493.465 11582.986 11616.529 12179.414 12187.955 12267.271 12326.786 12560.668 12987.188 13533.523 13568.041 16619.770 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 68.083s ] *** Query time: 7.663
qps: 1305.046
 *** ivfpq recall 
ivfpq get 58545 postive res from 1000000 results, recall@100:0.059
recall dist(10% per bucket): 0.867 0.133 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 
finished ivfpq index examples
[ 68.112s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50 10 100"
	User time (seconds): 67.32
	System time (seconds): 0.89
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:08.21
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1290152
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 336513
	Voluntary context switches: 2
	Involuntary context switches: 55
	Swaps: 0
	File system inputs: 0
	File system outputs: 64
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
