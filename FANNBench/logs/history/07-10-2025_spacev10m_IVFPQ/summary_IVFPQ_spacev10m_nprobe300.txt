Start time: 18:44
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50
nprobe: 300
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.760s ] Loaded metadata, 10000000 attr's found
[ 0.760s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.791s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.804s ] Loaded 10000 spacev10m queries
[ 0.878s ] Loaded ground truth, gt_size: 100
[ 0.878s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.186s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 179.645s ] Query results (vector ids, then distances):
query 0 nn's (40616, 90615): 1352077 (75218) 1300400 (68247) 525784 (86118) 606211 (46345) 1781760 (80354) 7509422 (86182) 290760 (73276) 1714233 (65633) 6583311 (47922) 8021837 (54227) 1536208 (61981) 3082748 (43400) 6313468 (56256) 9148464 (61499) 1200517 (72426) 5072935 (77579) 4779084 (83453) 8997960 (41694) 2382485 (52524) 38473 (46733) 8538301 (43948) 3881211 (73037) 7007393 (50612) 8807530 (78073) 4617714 (57477) 4279856 (62524) 3873794 (79667) 2037978 (67204) 613770 (82162) 8242233 (84764) 6547416 (46965) 7305168 (83078) 2433318 (41182) 1751249 (61683) 9107614 (86696) 9600306 (74480) 8135809 (69250) 1858226 (61086) 8846971 (82553) 4066846 (76054) 511283 (44517) 7249395 (83840) 1947555 (46272) 2772718 (56124) 3828638 (68559) 5004916 (68288) 7922669 (47051) 9818783 (60214) 4254134 (79349) 4932580 (43903) 2807977 (72542) 244510 (41564) 4287666 (67511) 6616924 (53611) 4470364 (85079) 6240106 (75699) 4519081 (86868) 5950387 (51620) 7983463 (70761) 1168348 (90414) 8097566 (64961) 5236967 (71585) 9957153 (61862) 3249603 (76576) 1060668 (58280) 8563527 (86841) 8849839 (86592) 3636367 (55940) 8348201 (69358) 8341867 (72465) 5594224 (79134) 8066928 (80642) 7115332 (67947) 3611695 (77838) 9169598 (42707) 8725926 (63035) 6588206 (68541) 5320284 (64167) 5997165 (83594) 8279789 (85969) 1666 (84797) 488103 (55813) 5270820 (90509) 9576118 (47855) 6303532 (42119) 4715886 (84573) 841711 (89798) 1545295 (43724) 2578991 (84620) 4104937 (70750) 74334 (45086) 347710 (45599) 3371587 (42783) 399999 (85354) 6554307 (84494) 5454 (50127) 6487757 (87359) 7887947 (85619) 3815686 (47763) 3993234 (84762) 
     dis: 	3341.555 3558.984 5245.911 5260.997 5329.049 5638.839 6092.811 6122.817 6254.688 6361.337 6455.989 6519.620 6520.098 6571.315 6605.375 6881.313 6923.574 7085.572 7166.396 7284.152 7292.290 7292.523 7475.898 7484.152 7570.556 7668.837 7671.998 7770.476 7804.320 7835.928 7878.941 7930.551 7942.328 7959.359 8050.290 8104.739 8212.972 8219.131 8219.742 8229.662 8238.021 8262.152 8305.371 8399.892 8422.494 8430.933 8457.901 8475.640 8528.645 8562.139 8626.439 8641.404 8660.164 8676.185 8746.664 8759.140 8775.344 8870.273 8887.686 8977.087 9008.827 9013.942 9033.175 9036.808 9121.707 9164.880 9184.734 9228.418 9236.949 9237.871 9252.262 9352.732 9360.211 9364.410 9381.196 9383.501 9384.062 9386.525 9405.275 9416.560 9431.528 9450.677 9477.137 9504.428 9505.646 9541.047 9567.089 9567.345 9643.229 9677.152 9680.544 9690.054 9710.193 9714.494 9718.043 9740.641 9744.189 9756.121 9765.999 9781.269 
query 1 nn's (23827, 73826): 1027770 (59556) 3024255 (36040) 6716785 (66378) 3545414 (44593) 9408428 (33214) 6693881 (28141) 1087257 (62343) 3843020 (54844) 8596579 (66499) 6945939 (60753) 547651 (43364) 9149269 (64835) 913237 (31716) 2769394 (73340) 6631934 (28922) 128447 (33616) 1286599 (26580) 4208062 (72354) 2201796 (69121) 6202555 (55017) 4023729 (64682) 9559160 (42483) 5312590 (40431) 9311189 (41791) 6731249 (66690) 2915146 (70367) 2342379 (62400) 3823789 (35801) 1262717 (61544) 9844113 (25407) 5374088 (35711) 8084904 (26103) 7995495 (54964) 4764135 (25237) 3467889 (58051) 2483370 (43037) 7191660 (26554) 1641593 (25519) 413466 (45386) 4561316 (70089) 2054287 (52686) 5325898 (41793) 497310 (50087) 2400979 (32818) 6371568 (69524) 8598995 (49827) 7714223 (69827) 4375499 (45519) 9387768 (41292) 6528340 (69516) 8966861 (67736) 2677560 (29840) 2077395 (51965) 5833204 (39001) 8370535 (67881) 5888778 (50046) 8382701 (59388) 5427517 (49038) 7898285 (24857) 5559374 (57425) 6154560 (61480) 683232 (55159) 5116926 (36041) 1580619 (31013) 9198072 (44678) 6783786 (43516) 5553093 (62435) 3302437 (52859) 1259440 (29909) 919217 (70266) 6716625 (33472) 6218290 (52949) 7983026 (33895) 1237024 (67297) 4952577 (25638) 7896078 (66668) 8219055 (62699) 1996069 (44318) 9319596 (27166) 7869623 (52314) 9979859 (68285) 5894271 (30832) 9619526 (31001) 7208440 (52535) 8300390 (42797) 540705 (69355) 4978442 (32644) 7684675 (55889) 6481742 (59098) 6314594 (57421) 5054847 (35044) 4936167 (43277) 4090413 (48833) 4414583 (48880) 3510541 (68307) 3695413 (45102) 2233630 (36122) 5755448 (37848) 6305818 (73235) 1141657 (71758) 
     dis: 	4951.676 6388.603 7614.397 7656.533 8374.848 8396.801 8405.281 8588.030 8631.122 9122.433 9148.979 9182.754 9190.606 9206.575 9293.700 9352.754 9447.030 9504.778 9537.359 9605.584 9681.187 9757.467 9757.604 9801.692 9822.021 9825.850 9916.422 9917.418 9923.583 9930.988 9964.950 10011.231 10060.589 10105.922 10145.601 10164.323 10212.086 10240.245 10304.307 10321.362 10339.520 10373.654 10399.735 10437.386 10466.273 10489.525 10572.902 10576.850 10583.889 10616.024 10617.479 10662.205 10665.625 10688.308 10732.516 10743.326 10765.207 10779.470 10800.264 10805.812 10854.013 10861.438 10910.203 10964.443 10974.649 10983.195 10990.891 11002.873 11047.003 11071.188 11077.724 11087.094 11087.619 11131.253 11142.678 11143.221 11149.586 11183.882 11190.239 11198.503 11202.398 11204.971 11241.274 11256.481 11274.488 11287.111 11318.482 11319.307 11319.311 11323.146 11324.731 11328.901 11347.899 11373.731 11396.531 11401.885 11405.533 11426.594 11441.205 11445.806 
query 2 nn's (32197, 82196): 4574760 (37531) 5189301 (43405) 8005273 (37538) 4290437 (79182) 3524579 (49429) 8672246 (67919) 5932138 (71360) 8699363 (38066) 5193386 (58419) 5236859 (46044) 2493779 (47308) 4710102 (57576) 9602743 (57407) 9746650 (51834) 6606573 (43048) 255402 (44796) 9561351 (80565) 9964310 (34221) 4649174 (49341) 5423341 (53232) 1881509 (33275) 725252 (39756) 6525090 (79383) 6555137 (44687) 190238 (43187) 6688464 (74420) 1415377 (64630) 6212714 (75619) 7670329 (41226) 559883 (76998) 9485250 (57717) 3361974 (50158) 8077765 (45491) 323907 (52531) 5745884 (80255) 6672275 (66753) 1563468 (78550) 7501806 (48981) 4808419 (69389) 6915696 (72395) 2153650 (81348) 9339955 (81335) 4360960 (42414) 4195631 (70514) 4452321 (69823) 7126935 (58871) 8558486 (51639) 6648184 (54160) 1063314 (41819) 2557172 (56410) 1585247 (63340) 8778642 (49223) 2940185 (68340) 3399987 (80703) 9416901 (81712) 3995931 (55015) 3890438 (64578) 6697500 (64883) 6451690 (52651) 7287401 (71226) 8517921 (54220) 2655117 (60703) 1319808 (41248) 4916763 (73819) 5263567 (72349) 9743895 (77420) 2310638 (62621) 5771135 (63649) 7660022 (51133) 6665934 (70307) 3200028 (79067) 671577 (71564) 894483 (42165) 8719744 (57812) 7215858 (64367) 1129169 (58977) 2604663 (35177) 7037734 (33584) 1349042 (35055) 5597353 (43285) 6334408 (55203) 9436299 (64728) 2953283 (44130) 1358363 (38724) 3508271 (81187) 8672644 (53328) 9957421 (42896) 4671238 (54210) 267333 (46931) 8900616 (75056) 1386408 (47799) 7111817 (32792) 512960 (66122) 2850979 (39097) 6010182 (39169) 7634670 (39080) 5430287 (63495) 2353418 (78404) 3967833 (67064) 555581 (63340) 
     dis: 	3040.931 3396.189 4005.862 4578.350 4985.623 6359.330 6557.125 7260.264 7288.263 7407.258 8029.018 8040.340 8071.849 8136.970 8262.561 8296.088 8343.189 8423.398 8721.434 8789.828 8801.643 8807.467 8884.635 8921.063 8922.498 8953.350 8989.082 9043.457 9050.707 9108.366 9124.141 9172.170 9257.522 9447.551 9516.260 9573.036 9584.193 9618.322 9720.494 9743.938 9786.212 9805.555 9816.137 9839.009 9861.520 9917.584 9980.059 10012.182 10031.868 10037.378 10063.442 10075.524 10102.149 10121.757 10148.284 10195.256 10210.879 10266.372 10277.791 10288.459 10295.643 10298.174 10323.729 10349.040 10360.314 10370.032 10373.208 10392.124 10403.432 10416.560 10442.294 10454.817 10565.965 10602.193 10638.784 10661.061 10700.504 10702.812 10705.393 10720.469 10784.173 10786.384 10818.419 10859.858 10871.000 10901.356 10908.032 10909.846 10913.428 10925.223 10925.584 10946.392 10971.548 10997.229 10999.236 10999.327 11001.598 11004.789 11020.431 11021.891 
query 3 nn's (10631, 60630): 4286832 (17230) 1208824 (37041) 1165548 (45426) 1681561 (52434) 9732223 (41833) 7375372 (33987) 7020630 (23256) 7371232 (47114) 7664306 (35020) 2187959 (22411) 1717763 (23291) 8694166 (43201) 2360519 (38478) 3188407 (24304) 8364431 (51130) 6027466 (55631) 4153275 (14312) 2272653 (58471) 4889443 (35759) 9157428 (59550) 391722 (24862) 1212415 (15580) 4251611 (29775) 9100185 (14479) 8232477 (31632) 9232458 (44812) 6542977 (17108) 1252765 (47853) 9892318 (23797) 4559449 (12184) 580826 (39121) 4298667 (37216) 8741259 (38437) 1074776 (60559) 920948 (51396) 5621855 (30749) 9775342 (51527) 6447414 (38986) 7010095 (49936) 8559924 (36620) 3626273 (24674) 4216882 (16451) 7623822 (13051) 8821621 (32963) 9591320 (41043) 9444180 (43915) 5124721 (15599) 5962673 (33507) 9987911 (54998) 786015 (34456) 6654687 (18185) 514827 (17573) 4183705 (37136) 2019638 (38147) 5563393 (26978) 5687185 (12097) 5683960 (39084) 398589 (20960) 6546803 (58575) 2029271 (55651) 2851767 (31496) 5566014 (48193) 6424074 (11699) 9740574 (40063) 7110321 (51796) 3517824 (30137) 8669768 (45048) 3425624 (56969) 1605226 (42484) 205735 (33156) 8427899 (40275) 7010252 (18474) 4316644 (36244) 7256503 (33019) 3172637 (27093) 2182004 (53782) 5676630 (15975) 3378586 (41526) 6703969 (32159) 2343424 (17819) 3350710 (56592) 2348869 (59503) 2824029 (57859) 3071605 (13149) 6835770 (35415) 5677498 (44480) 8860902 (45806) 6492666 (13880) 264481 (34023) 3431426 (19293) 2838160 (25464) 5176976 (57430) 108033 (50132) 9760951 (35714) 662720 (44761) 3787993 (28927) 4342892 (15650) 188678 (31172) 9335946 (29064) 3266491 (40597) 
     dis: 	4932.493 7559.416 7716.412 8533.997 8686.969 8843.779 9109.312 9242.648 9402.558 9525.734 9582.531 9602.439 9903.758 9904.006 9940.529 9958.782 10013.597 10037.766 10077.080 10228.670 10241.127 10266.923 10275.444 10302.910 10312.023 10324.750 10344.720 10401.495 10434.219 10441.537 10493.101 10549.722 10581.117 10595.141 10603.974 10605.822 10613.974 10658.848 10669.358 10676.953 10705.795 10780.585 10823.746 10869.390 10883.352 10908.412 10923.926 10965.323 10970.995 10984.865 11004.527 11043.848 11050.146 11060.566 11096.463 11116.825 11128.555 11146.557 11153.344 11197.729 11219.842 11234.869 11250.155 11276.945 11332.737 11363.012 11373.238 11401.030 11406.383 11414.640 11419.137 11423.238 11446.023 11452.812 11464.353 11469.518 11478.780 11508.087 11514.631 11516.638 11530.731 11533.907 11541.860 11548.719 11554.838 11555.451 11566.475 11596.868 11605.434 11618.774 11631.541 11648.897 11684.323 11721.332 11730.315 11782.334 11783.297 11790.985 11803.078 11809.736 
query 4 nn's (49705, 99704): 3987492 (98027) 3107282 (67009) 5744224 (51156) 9211260 (81222) 7373067 (53855) 6872756 (95706) 6279473 (68764) 9788862 (69419) 4015525 (99118) 6095172 (66470) 2038833 (53914) 9652129 (94239) 3526517 (65512) 9578545 (82305) 73290 (81611) 1587943 (87738) 9801790 (96454) 2279438 (92240) 9193832 (94777) 2320125 (78596) 1384227 (67752) 6934935 (62103) 57144 (85498) 6782257 (61394) 5562283 (85264) 6001275 (76022) 915880 (92907) 6581013 (70513) 4738992 (53601) 9044829 (55243) 3073679 (52005) 2986049 (87137) 1994085 (74290) 1906000 (75700) 7511825 (79032) 6906799 (74949) 523134 (52660) 6557844 (93558) 3192757 (54312) 259750 (70161) 9240243 (51536) 8572491 (87817) 7814617 (76949) 6789739 (61948) 6836665 (78385) 349859 (89590) 1546917 (87929) 5685630 (55650) 8442744 (81630) 8359241 (79071) 1846444 (69689) 3598596 (93600) 8627902 (60097) 6685392 (77959) 9438625 (65756) 2795570 (51868) 8774147 (59338) 9832113 (87811) 6614912 (53050) 703166 (92189) 4734386 (57789) 1444782 (58902) 1995354 (73102) 980351 (73539) 1066421 (76598) 4942478 (95232) 9977617 (53087) 5506147 (91849) 4491189 (76562) 4637157 (81613) 1306176 (75097) 3032989 (71909) 9407510 (57340) 9614577 (73130) 8360636 (71934) 7146236 (94013) 4817150 (95863) 8641215 (59349) 2473330 (71722) 9600067 (97955) 3506156 (72099) 5323762 (65230) 9639256 (70554) 3934821 (77812) 9765986 (76606) 569140 (91553) 1875114 (95741) 6112551 (79061) 7637276 (80931) 7003644 (54071) 1930013 (94515) 3916489 (97728) 2699285 (75510) 2266290 (57733) 2337939 (52530) 4114673 (63946) 6549886 (63665) 3792530 (68743) 1071436 (56465) 1973506 (83520) 
     dis: 	3856.535 5274.876 5305.862 5539.291 5785.402 6043.119 6100.910 6173.589 6211.677 6247.159 6320.849 6339.760 6349.282 6368.127 6373.673 6377.479 6436.075 6451.869 6453.242 6472.816 6480.089 6529.688 6537.355 6537.949 6544.390 6547.302 6553.995 6554.955 6555.948 6556.619 6563.512 6567.238 6580.791 6590.475 6627.546 6630.396 6672.447 6674.421 6692.482 6711.521 6726.776 6754.373 6760.582 6767.407 6774.033 6775.717 6776.958 6781.140 6792.439 6803.143 6811.975 6821.971 6833.338 6844.074 6851.883 6865.872 6874.407 6877.679 6878.524 6913.929 6914.599 6924.547 6938.980 6940.111 6940.821 6947.667 6954.715 6958.853 6974.124 6989.806 6995.933 6998.104 6999.322 7004.234 7006.054 7009.995 7022.182 7026.451 7030.507 7040.643 7041.045 7042.726 7045.525 7047.373 7075.711 7081.312 7084.471 7093.646 7098.359 7107.781 7110.679 7114.063 7118.191 7120.638 7122.761 7130.514 7137.918 7138.132 7139.023 7149.876 
[ 179.646s ] *** Query time: 119.611
qps: 83.604
 *** ivfpq recall 
ivfpq get 883382 postive res from 1000000 results, recall@100:0.883
recall dist(10% per bucket): 0.000 0.000 0.000 0.001 0.002 0.008 0.020 0.069 0.345 0.553 0.001 
finished ivfpq index examples
[ 179.688s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50 300 100"
	User time (seconds): 176.38
	System time (seconds): 2.24
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:59.78
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1289124
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 2
	Minor (reclaiming a frame) page faults: 667555
	Voluntary context switches: 725
	Involuntary context switches: 324
	Swaps: 0
	File system inputs: 5320
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 18:53
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50
nprobe: 300
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.708s ] Loaded metadata, 10000000 attr's found
[ 0.708s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.711s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.712s ] Loaded 10000 spacev10m queries
[ 0.780s ] Loaded ground truth, gt_size: 100
[ 0.780s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 1.914s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 124.310s ] Query results (vector ids, then distances):
query 0 nn's (40856, 50855): 606211 (46345) 6583311 (47922) 3082748 (43400) 8997960 (41694) 38473 (46733) 8538301 (43948) 7007393 (50612) 6547416 (46965) 2433318 (41182) 511283 (44517) 1947555 (46272) 7922669 (47051) 4932580 (43903) 244510 (41564) 9169598 (42707) 9576118 (47855) 6303532 (42119) 1545295 (43724) 74334 (45086) 347710 (45599) 3371587 (42783) 5454 (50127) 3815686 (47763) 7811790 (50102) 3178566 (41164) 2029623 (45395) 9512027 (44058) 1288571 (45088) 2632800 (41462) 100232 (45360) 5661320 (49047) 4414009 (50233) 4029747 (43158) 7703225 (42332) 6929262 (42738) 6549569 (43365) 516556 (48404) 1952371 (46531) 3586515 (42127) 6662255 (45091) 6015008 (47603) 1263541 (49264) 8814646 (49405) 4359261 (48997) 9284314 (44763) 8843034 (46356) 7043677 (41831) 3740591 (43104) 9974866 (46574) 7930327 (47337) 9162838 (48173) 1334146 (42645) 4303860 (42992) 5077862 (42243) 5215588 (45563) 8169597 (48830) 5949911 (48460) 7866226 (50660) 4227532 (49453) 1335591 (46968) 9374041 (42778) 4005082 (41331) 1072226 (46371) 7156109 (43981) 7835815 (45025) 153018 (47876) 8692256 (46024) 3351466 (46513) 8887022 (45611) 4470760 (44169) 8944530 (42496) 7223435 (46300) 5856450 (50598) 6592373 (48838) 3847526 (48670) 3956609 (44309) 9697052 (48012) 67427 (47143) 9563123 (47541) 1051256 (41027) 6928163 (48147) 4644935 (46100) 5345274 (44059) 5232970 (50382) 6254494 (50396) 1770486 (49880) 8300539 (47189) 5723965 (48318) 1494916 (41928) 786261 (42383) 7315046 (44033) 2294395 (45582) 865830 (47294) 6703971 (50490) 1304598 (46886) 7721266 (42914) 5106355 (43421) 3606930 (50817) 512060 (48050) 6219674 (46551) 
     dis: 	5260.997 6254.688 6519.620 7085.572 7284.152 7292.290 7475.898 7878.941 7942.328 8238.021 8305.371 8457.901 8562.139 8641.404 9381.196 9504.428 9505.646 9567.345 9680.544 9690.054 9710.193 9740.641 9765.999 9799.491 9875.965 9979.620 10034.938 10125.771 10142.881 10162.145 10468.332 10488.804 10605.559 10639.471 10644.826 10779.123 10829.137 10912.846 10918.918 10930.750 10974.671 10989.469 11002.890 11005.965 11008.246 11030.062 11058.409 11061.070 11174.137 11192.293 11210.591 11249.475 11277.925 11366.191 11476.748 11557.156 11558.159 11593.985 11616.247 11629.052 11649.732 11744.811 11758.348 11828.918 11833.786 11981.565 12018.967 12051.834 12069.969 12125.754 12140.606 12181.674 12188.192 12281.809 12332.262 12377.398 12379.368 12448.152 12475.875 12603.400 12641.979 12651.193 12659.293 12675.994 12810.193 12977.080 13051.572 13055.076 13065.236 13069.556 13135.829 13137.043 13163.697 13196.846 13210.570 13308.854 13318.364 13344.326 13391.475 13403.679 
query 1 nn's (25003, 35002): 9408428 (33214) 6693881 (28141) 913237 (31716) 6631934 (28922) 128447 (33616) 1286599 (26580) 9844113 (25407) 8084904 (26103) 4764135 (25237) 7191660 (26554) 1641593 (25519) 2400979 (32818) 2677560 (29840) 1580619 (31013) 1259440 (29909) 6716625 (33472) 7983026 (33895) 4952577 (25638) 9319596 (27166) 5894271 (30832) 9619526 (31001) 4978442 (32644) 9895581 (27864) 1010768 (32832) 9816629 (29872) 5616705 (26749) 6825634 (34589) 6984105 (30431) 3745827 (26193) 5667980 (26456) 6894603 (30698) 7268407 (33164) 6123033 (30064) 5025002 (28266) 4403537 (30334) 8605143 (32224) 2418190 (30774) 5653499 (30309) 8313860 (27237) 4052065 (26798) 4444284 (29638) 2114720 (27014) 5229733 (33672) 1677470 (28044) 8431034 (29326) 3405856 (27091) 3350122 (34862) 7853534 (28186) 3892957 (32671) 3761710 (25464) 1762221 (34381) 7584986 (29468) 2791612 (32495) 1824031 (26919) 9030241 (31642) 3502118 (28547) 4233253 (34954) 276903 (27774) 5993510 (28523) 6686029 (26967) 5546102 (25312) 8112258 (29681) 7381370 (34199) 2354207 (28126) 5161531 (30241) 539824 (34206) 8858217 (27282) 1863099 (25769) 8367418 (34221) 106949 (34898) 4085778 (28840) 2415222 (30608) 6536469 (32386) 9537016 (26301) 2413303 (31844) 585173 (26431) 3088541 (32946) 7563939 (33346) 2556688 (28081) 509025 (33013) 5064267 (33426) 7497777 (25404) 5444529 (27397) 4570408 (30976) 6888185 (29407) 5520052 (26485) 8738224 (28493) 8126210 (32883) 5400486 (29966) 5219432 (30034) 9880058 (32934) 1433700 (25486) 6180007 (31307) 5123925 (30030) 3397657 (31176) 1473367 (25415) 8129769 (28908) 4896743 (30444) 1660893 (30277) 7677236 (31498) 
     dis: 	8374.848 8396.801 9190.606 9293.700 9352.754 9447.030 9930.988 10011.231 10105.922 10212.086 10240.245 10437.386 10662.205 10964.443 11047.003 11077.724 11087.619 11142.678 11190.239 11204.971 11241.274 11318.482 11466.925 11503.037 11517.520 11526.528 11560.654 11731.916 11752.013 11795.777 11801.319 11907.458 11917.565 11924.907 11939.963 11942.696 11944.668 11962.176 11993.186 12076.197 12079.590 12132.781 12178.365 12184.633 12187.478 12223.269 12237.509 12299.143 12299.871 12369.609 12374.411 12409.921 12456.062 12487.003 12534.035 12565.518 12597.652 12619.211 12625.094 12625.605 12660.156 12662.411 12716.298 12743.914 12770.161 12787.148 12809.998 12816.418 12848.644 12851.830 12859.669 12879.423 12913.975 12918.007 12947.116 12974.951 12993.951 12998.671 13001.811 13033.977 13046.267 13063.252 13100.658 13116.604 13128.266 13149.994 13187.635 13191.472 13200.570 13215.770 13243.243 13244.184 13247.341 13247.748 13258.108 13268.404 13269.544 13273.104 13276.178 13276.349 
query 2 nn's (52136, 62135): 5193386 (58419) 4710102 (57576) 9602743 (57407) 5423341 (53232) 9485250 (57717) 323907 (52531) 7126935 (58871) 6648184 (54160) 2557172 (56410) 3995931 (55015) 6451690 (52651) 8517921 (54220) 2655117 (60703) 8719744 (57812) 1129169 (58977) 6334408 (55203) 8672644 (53328) 4671238 (54210) 8060848 (58300) 2732881 (61677) 9819304 (57396) 2822411 (58823) 2284689 (60389) 9117124 (55844) 2826478 (53769) 3096611 (52704) 4549888 (60192) 8118777 (53878) 9436821 (52252) 8553474 (54164) 1445118 (59573) 6256134 (53229) 7430287 (54464) 8584412 (52154) 9501475 (58076) 7116944 (61848) 7841564 (59049) 974463 (55906) 8053598 (54560) 3199638 (54669) 4355657 (61843) 9613009 (59128) 6483343 (60017) 8492702 (55424) 2895724 (58490) 8628294 (54056) 6561491 (60260) 1599377 (56281) 5908619 (54797) 7101891 (55946) 6799372 (55481) 8805708 (53769) 9568973 (52222) 4661017 (60528) 5394801 (53600) 7067471 (54769) 3767167 (54407) 2661006 (61124) 8270538 (52862) 6272121 (61696) 2938213 (60317) 6486439 (55115) 2413880 (59249) 6367017 (55773) 497985 (60637) 1897140 (54275) 3438561 (62031) 4035325 (52328) 3762208 (58839) 7377075 (58903) 5348187 (52922) 3217406 (54087) 3027160 (52497) 1418740 (59524) 3316694 (61981) 1979538 (61610) 8311897 (54795) 1745173 (52657) 4025610 (52373) 5747150 (57010) 7579941 (58916) 2062861 (54719) 4581941 (57344) 9085967 (53557) 3845752 (58732) 1981339 (58011) 7431148 (54916) 8780307 (56959) 8208625 (57447) 665636 (57779) 6680530 (52729) 4421821 (55836) 9408207 (60206) 2705469 (57463) 6612758 (61424) 8328180 (60670) 6987984 (52253) 2927516 (53751) 5754999 (57415) 8711849 (59964) 
     dis: 	7288.263 8040.340 8071.849 8789.828 9124.141 9447.551 9917.584 10012.182 10037.378 10195.256 10277.791 10295.643 10298.174 10602.193 10661.061 10784.173 10901.356 10909.846 11182.670 11220.675 11331.410 11340.979 11397.279 11439.910 11466.683 11494.194 11502.635 11582.521 11608.063 11641.461 11661.485 11736.208 11739.817 11745.401 11794.955 11837.061 11876.736 11881.987 11885.845 11925.976 11941.111 12010.532 12047.183 12053.118 12087.525 12140.730 12253.938 12285.831 12288.053 12295.460 12332.492 12334.305 12339.119 12350.397 12371.369 12418.000 12437.941 12484.926 12493.312 12515.913 12593.814 12602.494 12640.504 12644.924 12660.612 12673.933 12674.829 12681.619 12725.672 12750.545 12752.806 12771.650 12774.601 12839.791 12841.830 12851.653 12856.777 12888.395 12900.182 12927.932 12954.048 12956.126 12967.326 12995.179 13006.562 13027.057 13043.167 13063.084 13068.576 13079.712 13084.670 13088.266 13096.565 13099.588 13116.720 13139.332 13147.767 13168.972 13171.575 13209.119 
query 3 nn's (22672, 32671): 7020630 (23256) 1717763 (23291) 3188407 (24304) 391722 (24862) 4251611 (29775) 8232477 (31632) 9892318 (23797) 5621855 (30749) 3626273 (24674) 5563393 (26978) 2851767 (31496) 3517824 (30137) 3172637 (27093) 6703969 (32159) 2838160 (25464) 3787993 (28927) 188678 (31172) 9335946 (29064) 382902 (29996) 3554434 (25036) 9030244 (27086) 1174438 (25123) 899773 (23901) 5429466 (28066) 5416898 (25474) 2047471 (29467) 1874108 (26952) 928307 (26649) 348294 (30612) 7999457 (23329) 9768015 (27196) 5041302 (28077) 2816747 (24284) 8281351 (26861) 6021023 (28888) 2262413 (27923) 4008866 (31551) 3640666 (29719) 2605021 (27817) 2540060 (25368) 9750958 (29512) 6462625 (26730) 6370666 (26200) 6060979 (26718) 1064017 (27551) 6139929 (31601) 973000 (25306) 2024671 (25266) 6049067 (27212) 6723787 (22764) 6623327 (23063) 1763202 (24922) 7701998 (25859) 4077495 (30934) 173114 (26788) 5492868 (22990) 8765050 (29452) 4891478 (24137) 1682348 (28974) 2406313 (31512) 2123002 (28494) 2687611 (26115) 8768561 (27492) 8448447 (22710) 4777419 (25182) 1156062 (28000) 7713351 (26471) 5788714 (28807) 9097715 (30141) 613079 (31456) 9076327 (26379) 1088105 (26342) 7005089 (26286) 7708121 (28744) 5089352 (23180) 636366 (27746) 8458676 (25257) 2972885 (25046) 9061349 (29953) 2211024 (27903) 3228780 (23488) 4736812 (26986) 6400458 (23700) 2212301 (28845) 7004651 (23583) 6799401 (27239) 5479426 (24290) 1348580 (28569) 3964129 (27723) 9322731 (30650) 5542604 (30912) 7251101 (30664) 7775601 (25672) 8144622 (27706) 6370197 (23516) 3005444 (32252) 6806656 (24656) 9671312 (29336) 997943 (26818) 7405196 (26565) 
     dis: 	9109.312 9582.531 9904.006 10241.127 10275.444 10312.023 10434.219 10605.822 10705.795 11096.463 11219.842 11363.012 11464.353 11514.631 11631.541 11782.334 11790.985 11803.078 11841.904 11948.590 12072.166 12079.988 12111.398 12194.070 12211.308 12363.865 12442.912 12459.809 12479.682 12483.482 12518.607 12520.254 12535.059 12544.316 12548.488 12614.100 12650.149 12682.307 12691.202 12693.096 12704.875 12761.164 12767.747 12799.215 12802.277 12825.279 12863.500 12894.533 12936.350 12941.477 12962.908 12974.404 13045.842 13053.883 13068.133 13071.641 13118.481 13152.135 13165.745 13186.390 13208.830 13230.256 13243.730 13305.453 13313.778 13319.609 13328.393 13338.748 13343.616 13354.790 13356.305 13378.840 13420.084 13422.961 13426.676 13433.094 13450.323 13458.213 13482.760 13484.623 13532.418 13550.953 13583.180 13587.830 13628.415 13632.099 13639.408 13640.541 13646.838 13685.029 13692.166 13734.659 13735.945 13779.760 13814.892 13824.902 13829.521 13831.503 13839.035 13839.764 
query 4 nn's (53667, 63666): 7373067 (53855) 2038833 (53914) 6934935 (62103) 6782257 (61394) 9044829 (55243) 3192757 (54312) 6789739 (61948) 5685630 (55650) 8627902 (60097) 8774147 (59338) 4734386 (57789) 1444782 (58902) 9407510 (57340) 8641215 (59349) 7003644 (54071) 2266290 (57733) 6549886 (63665) 1071436 (56465) 1111927 (56218) 7921516 (63604) 6851242 (63477) 6680137 (61587) 2157254 (54534) 1674437 (53911) 7285106 (60945) 7650915 (63278) 3510502 (59384) 3154654 (58192) 1622397 (56749) 5627225 (58815) 7816576 (63230) 6592347 (55694) 6766851 (54351) 3010435 (61979) 1549949 (59274) 1595830 (57396) 5521208 (62683) 6857077 (60175) 7958455 (62583) 9547187 (59174) 8426193 (60985) 316811 (62016) 8242802 (54527) 6321582 (55264) 5602950 (61681) 7700203 (62270) 7868398 (58238) 8738517 (63250) 9269367 (60752) 6297061 (58792) 70067 (60752) 7611705 (55031) 7333867 (56073) 6384236 (62728) 4796569 (56069) 3023515 (59919) 8321482 (58612) 6865199 (53751) 8146928 (54038) 5634200 (62406) 294212 (55336) 3852825 (58478) 3932969 (59429) 4574270 (55991) 6066370 (60300) 7759992 (61879) 9073069 (54706) 4293822 (53844) 2286717 (55703) 1993129 (58248) 7737218 (55024) 1842376 (62159) 3647636 (53672) 2091267 (61600) 8842571 (59976) 7830497 (57981) 2610442 (59083) 9151038 (61386) 1030972 (60461) 8986848 (63373) 5208937 (53689) 6797251 (62260) 3038853 (59560) 403008 (58606) 6148804 (59457) 2027548 (61260) 6311304 (61722) 3998687 (54863) 2950198 (55352) 9126043 (57149) 2658409 (57189) 5378901 (57726) 2085742 (55021) 6788033 (55802) 7657646 (56973) 461309 (63195) 6369825 (63383) 1044047 (62379) 898651 (54084) 93980 (54430) 
     dis: 	5785.402 6320.849 6529.688 6537.949 6556.619 6692.482 6767.407 6781.140 6833.338 6874.407 6914.599 6924.547 6999.322 7026.451 7107.781 7120.638 7137.918 7139.023 7149.925 7169.192 7230.535 7236.926 7264.573 7270.813 7273.168 7305.452 7311.530 7317.777 7324.287 7335.834 7357.184 7364.437 7387.994 7410.155 7422.197 7428.093 7429.016 7449.402 7484.254 7523.778 7523.908 7530.842 7534.931 7536.641 7547.197 7549.306 7550.273 7550.724 7569.806 7592.541 7592.712 7600.119 7602.966 7607.700 7610.224 7613.378 7635.884 7648.682 7649.395 7661.394 7664.136 7666.274 7669.257 7672.992 7678.920 7690.172 7696.136 7696.317 7698.755 7704.869 7709.521 7709.956 7711.152 7714.527 7721.006 7731.412 7734.844 7737.784 7738.020 7740.167 7743.210 7763.464 7764.035 7787.263 7810.893 7817.819 7824.582 7828.648 7828.745 7830.208 7834.780 7845.170 7846.898 7848.806 7848.932 7851.930 7860.948 7863.419 7866.189 7869.830 
[ 124.310s ] *** Query time: 64.562
qps: 154.889
 *** ivfpq recall 
ivfpq get 868667 postive res from 1000000 results, recall@100:0.869
recall dist(10% per bucket): 0.000 0.000 0.000 0.001 0.002 0.009 0.032 0.109 0.370 0.475 0.001 
finished ivfpq index examples
[ 124.339s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50 300 100"
	User time (seconds): 123.46
	System time (seconds): 0.96
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:04.43
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1290148
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 336492
	Voluntary context switches: 2
	Involuntary context switches: 182
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 19:00
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50
nprobe: 300
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.710s ] Loaded metadata, 10000000 attr's found
[ 0.710s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.712s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.714s ] Loaded 10000 spacev10m queries
[ 0.783s ] Loaded ground truth, gt_size: 100
[ 0.783s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 1.894s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 108.326s ] Query results (vector ids, then distances):
query 0 nn's (4494, 5493): 6149370 (4957) 2272371 (5258) 9641558 (4559) 7693645 (4921) 6166564 (4617) 841307 (4995) 2939481 (4939) 7587297 (4745) 8339032 (4998) 4129127 (4710) 3403324 (5319) 6139591 (5168) 2525390 (4928) 2566361 (4712) 4088538 (4964) 150742 (5127) 3928664 (4689) 3019939 (5319) 6196667 (5272) 6208747 (5338) 6324014 (4526) 3273060 (5238) 1054198 (5200) 3104386 (4508) 4861088 (4808) 4213239 (4947) 3955561 (5480) 5711785 (5492) 9634969 (5170) 4130110 (5350) 752745 (5127) 5730962 (5149) 245188 (4931) 4159261 (5289) 8322342 (4861) 6357713 (4900) 1529315 (5187) 6364026 (5108) 3598399 (4626) 1752083 (4932) 8034974 (4666) 9450001 (4799) 8615742 (5047) 5019351 (4519) 576643 (4642) 627984 (4674) 3904491 (5060) 313314 (4764) 3968285 (5155) 1641239 (4688) 15168 (4872) 6426108 (4564) 9716578 (4597) 8456604 (4800) 5526049 (4717) 5028424 (4868) 1767079 (5363) 2549028 (4619) 84424 (5310) 8028382 (4556) 5656380 (5164) 8836676 (5053) 783846 (5148) 8839581 (4544) 4381279 (5080) 6118104 (5081) 1348501 (4530) 8965249 (5039) 2399518 (4790) 2716561 (5270) 7347128 (5385) 216145 (5351) 3332895 (4624) 7508287 (4527) 7478413 (4673) 1746537 (5031) 400067 (5283) 9115894 (5021) 2926007 (5120) 1546846 (5341) 1316769 (5428) 2860532 (5106) 9883125 (4797) 2535420 (5436) 9486671 (5148) 3870767 (5036) 4670369 (5407) 4229294 (5004) 1376383 (5185) 2649815 (5232) 5157659 (4544) 3173329 (4809) 4934715 (5390) 1776610 (5429) 8737224 (4885) 3689691 (5436) 4581038 (4526) 5431587 (4978) 8515624 (5139) 4068441 (5230) 
     dis: 	9798.878 12054.924 12493.771 12533.164 12733.529 12846.305 12904.840 13544.479 13701.008 13936.547 14150.275 14561.832 14581.235 14607.027 14702.527 14753.767 14783.977 15162.395 15415.238 15586.957 15605.987 15640.195 15679.550 15722.735 15787.797 15868.079 15934.896 15967.740 16031.081 16192.212 16216.188 16287.485 16341.658 16435.326 16451.879 16501.572 16543.723 16606.281 16623.561 16676.717 16693.609 16712.619 16726.121 16730.803 16752.920 16794.680 16881.156 16983.387 17036.498 17061.582 17062.412 17065.252 17105.098 17107.514 17111.262 17225.764 17240.891 17256.953 17306.379 17355.512 17362.510 17388.146 17390.812 17397.121 17407.359 17422.766 17433.531 17434.941 17445.318 17464.436 17468.561 17513.777 17523.168 17535.420 17551.562 17561.219 17565.301 17586.604 17591.293 17607.271 17608.775 17620.918 17638.904 17673.141 17678.430 17684.582 17691.748 17712.402 17749.361 17809.145 17833.756 17851.889 17887.107 17913.174 17923.883 17923.902 17932.127 17944.285 17946.037 17983.879 
query 1 nn's (37505, 38504): 5755448 (37848) 8391132 (38008) 5790200 (38489) 364702 (38495) 4994601 (38150) 7789051 (37871) 4358727 (38259) 9358072 (38328) 4114888 (38331) 4732664 (37565) 2765139 (38363) 6449676 (37850) 4861613 (37909) 6240841 (38110) 3563306 (37529) 6208044 (38131) 639982 (37719) 2976175 (38112) 4883089 (38051) 4415604 (38158) 4615489 (37755) 7032571 (38199) 1229887 (38343) 7880657 (38317) 6801383 (38265) 670596 (38129) 6907210 (37982) 8728963 (38317) 5647514 (38037) 9171145 (37851) 5036152 (38170) 7887925 (37698) 8529170 (38040) 4027498 (37597) 8210644 (38465) 8320602 (37519) 2623261 (38377) 1933133 (38461) 1843759 (37817) 3881564 (37904) 2957373 (37927) 8917241 (38000) 8358627 (37518) 3545073 (38351) 674611 (38292) 2740319 (37797) 6335665 (38019) 2682400 (37524) 5245088 (37994) 6367299 (37591) 4528258 (38060) 9888520 (38043) 3788709 (37710) 4753113 (38039) 5040577 (37689) 1272449 (38241) 109891 (37647) 823409 (38155) 9888370 (37911) 9381412 (38351) 5807435 (37804) 6378565 (37611) 524045 (37671) 1794630 (38119) 8919907 (37609) 6230820 (38002) 4100706 (38207) 2694250 (38418) 7085672 (37652) 6499623 (38286) 5980935 (37601) 4289767 (38061) 7304059 (38117) 108808 (38064) 4478910 (37676) 5670794 (37739) 9044463 (38492) 4812916 (38139) 1349249 (37982) 8304370 (38043) 5201196 (37756) 9286926 (37740) 8570886 (38453) 53252 (38405) 7917318 (37524) 5886948 (38261) 7131853 (37706) 6086754 (38286) 6930687 (37673) 5861640 (37849) 4250 (37804) 3114991 (37792) 4475135 (38429) 6757616 (38048) 1678069 (38181) 4578075 (38113) 8168422 (38134) 1937248 (37551) 656676 (38359) 5113336 (38098) 
     dis: 	11426.594 12473.098 12492.893 12603.713 12658.415 12730.018 13636.898 13708.863 13773.801 13819.439 13844.566 13866.259 13910.509 13929.611 13942.811 14143.109 14226.758 14373.215 14458.092 14479.299 14487.771 14493.567 14541.311 14550.328 14560.338 14654.891 14715.773 14735.466 14815.206 14870.311 14911.161 14911.325 14944.783 15047.216 15095.600 15126.214 15165.084 15166.029 15193.696 15213.039 15220.001 15263.908 15276.163 15282.728 15289.938 15391.277 15429.055 15449.637 15465.813 15469.155 15471.151 15479.196 15500.477 15520.889 15527.941 15562.183 15573.527 15584.400 15608.072 15637.436 15646.914 15649.060 15658.129 15680.029 15690.623 15693.840 15704.193 15706.791 15709.391 15713.867 15732.821 15777.058 15785.598 15803.924 15805.825 15807.887 15875.885 15878.333 15893.827 15899.299 15927.577 15950.955 15959.321 15959.738 15969.379 15988.991 16011.150 16012.902 16018.727 16032.232 16032.749 16047.660 16048.395 16064.494 16071.236 16081.494 16091.572 16115.745 16142.883 16180.334 
query 2 nn's (17888, 18887): 2882757 (18506) 2768752 (18434) 5798651 (18171) 7060335 (18263) 192071 (18322) 6489161 (18260) 4001654 (18856) 3343989 (18166) 5811483 (17911) 2280297 (17981) 651373 (18369) 3852413 (18339) 8865121 (18145) 5957745 (18686) 8034017 (18651) 3373676 (18058) 7253171 (18873) 5588794 (18589) 7090551 (18836) 7376385 (18103) 2366170 (18194) 7021660 (18633) 4850757 (18188) 7915555 (18591) 5860935 (17962) 8309473 (18465) 2301421 (18209) 7729974 (18311) 535923 (17960) 2871547 (18852) 6844852 (18247) 6217391 (17991) 4015889 (18445) 7959685 (18166) 3354445 (18294) 6155614 (18411) 1242605 (18866) 9513895 (18319) 8124614 (18842) 6099914 (18549) 9257406 (18439) 9121467 (18362) 2798853 (18054) 4084749 (18416) 8066186 (17981) 4168146 (17986) 7993234 (18796) 8216340 (18735) 6831898 (18423) 8118220 (18779) 3466936 (18632) 2610786 (18456) 2091321 (18272) 8134867 (18422) 3478200 (18692) 4645409 (18131) 7087180 (18459) 2022735 (18043) 1159882 (18164) 4351754 (17967) 2755618 (18188) 5907069 (18382) 9764458 (18731) 6440774 (18309) 5970677 (18144) 1257528 (18649) 6014912 (18801) 3726661 (18801) 328693 (18319) 5129085 (18091) 6719330 (18884) 3210352 (18754) 2144918 (18365) 6348515 (18868) 4062808 (18328) 8049943 (18075) 2353254 (18646) 3847683 (17973) 8706930 (18410) 5498829 (18185) 7430051 (18040) 1575118 (17900) 5675374 (18834) 3018041 (18653) 1807516 (18655) 1872743 (17892) 3769738 (18645) 7546509 (18640) 1223831 (18240) 4303427 (18356) 7630142 (18513) 5252999 (18257) 1451724 (18117) 8592941 (18611) 5169898 (18796) 521025 (17968) 4398490 (18141) 423854 (18148) 9851155 (18441) 561999 (18339) 
     dis: 	7310.578 7765.161 8973.196 10603.062 10740.497 10855.636 11099.745 12097.129 12251.521 12744.539 12809.358 12865.800 12885.077 12979.390 13219.167 13413.440 13441.815 13676.170 13694.683 13712.449 13805.781 13850.803 13853.723 13863.379 14092.618 14114.844 14310.873 14492.113 14498.542 14504.794 14534.771 14679.674 14728.500 14745.304 14749.432 14869.102 14912.559 14930.679 14983.092 15015.619 15018.246 15023.899 15025.492 15042.459 15178.293 15240.839 15308.611 15334.504 15356.469 15366.541 15373.895 15388.982 15426.182 15454.413 15522.923 15532.011 15566.464 15604.097 15686.846 15714.650 15720.794 15753.387 15774.735 15780.250 15876.582 15906.570 15956.373 15972.809 16004.740 16007.529 16021.561 16069.877 16094.474 16094.556 16103.304 16114.686 16151.041 16155.992 16161.583 16173.097 16181.562 16193.068 16227.803 16230.305 16239.611 16258.182 16265.914 16271.496 16273.562 16280.426 16292.816 16299.761 16338.971 16342.403 16344.830 16348.809 16379.851 16381.387 16387.736 16393.973 
query 3 nn's (11109, 12108): 5687185 (12097) 6424074 (11699) 561416 (11821) 8459637 (11541) 7578623 (11167) 6204802 (12016) 3969193 (11781) 1473665 (11327) 3061123 (12077) 5285822 (11716) 6557504 (11784) 2424648 (11129) 9894410 (11400) 8609160 (11466) 859638 (11189) 3438424 (12046) 8046548 (11685) 3528080 (11991) 6201834 (11814) 3349733 (11782) 7937205 (11170) 7541575 (11631) 1207121 (11869) 5897187 (11180) 756831 (11219) 9473281 (11500) 4786221 (11948) 3845490 (11792) 8220183 (11751) 2418 (11477) 6580755 (12024) 4362036 (11812) 6207318 (11695) 9980326 (11676) 7085205 (11552) 7457955 (11218) 3296769 (11156) 9840080 (11119) 3658156 (11292) 1391692 (11422) 8777265 (11489) 4527794 (11179) 3827663 (11401) 1355807 (11753) 7354197 (11111) 6270653 (11527) 8045253 (11132) 1558429 (11370) 4399301 (11404) 1548452 (11773) 8875950 (11183) 8802950 (11231) 7053085 (11209) 5697552 (11833) 1720982 (11766) 8500145 (11303) 3524748 (11652) 7068813 (11667) 8093109 (12090) 2103040 (11258) 4423202 (11952) 3044944 (11199) 7394495 (12102) 106710 (11544) 2485086 (12063) 300101 (11362) 6285460 (11957) 9322635 (12003) 3716063 (12017) 5760564 (11263) 4296225 (11450) 500961 (11582) 2747568 (11181) 6542973 (11384) 8572087 (11961) 9247213 (11230) 736830 (11130) 3446242 (11722) 863791 (11996) 502582 (12035) 8229538 (11134) 8442772 (11259) 9480163 (11293) 8770715 (11908) 313153 (11244) 6916482 (11157) 7841862 (11935) 357124 (11836) 5772739 (11560) 1578969 (12088) 2032647 (11848) 9597095 (11205) 115147 (11912) 8365091 (11200) 1460962 (11865) 1519363 (12036) 376219 (11192) 3781202 (12070) 6310340 (11188) 346896 (11732) 
     dis: 	11116.825 11250.155 12338.418 12692.926 13211.240 13397.504 13399.977 13630.539 14052.097 14108.133 14374.701 14440.910 14461.210 14641.500 14685.266 14910.617 15203.667 15272.559 15396.151 15416.559 15453.418 15469.375 15489.773 15544.862 15556.018 15633.387 15635.623 15667.447 15720.888 15846.430 15928.021 15968.189 16038.312 16043.142 16064.565 16087.432 16140.246 16180.709 16215.281 16219.829 16236.095 16248.896 16254.475 16277.252 16283.432 16304.126 16309.753 16329.072 16392.908 16402.373 16406.732 16424.262 16447.322 16451.021 16490.551 16519.158 16521.498 16521.615 16532.395 16546.684 16619.932 16634.312 16662.227 16668.898 16708.916 16749.824 16783.168 16787.941 16806.119 16820.250 16851.887 16862.668 16872.262 16872.830 16873.564 16882.832 16887.814 16895.422 16898.842 16998.232 17007.322 17019.395 17027.596 17033.781 17051.367 17058.818 17068.230 17075.074 17077.145 17090.926 17093.043 17094.195 17096.057 17104.441 17107.871 17130.021 17138.717 17156.607 17159.480 17190.418 
query 4 nn's (17141, 18140): 4786845 (17889) 1240644 (17247) 9087049 (17548) 2074283 (17512) 3841914 (17951) 7484886 (18002) 5340795 (18047) 5552942 (18053) 6029035 (17286) 4968254 (17907) 5448676 (17561) 1182722 (17534) 7059516 (17975) 7743549 (17817) 7311759 (17984) 5952960 (17439) 5408770 (18066) 6343329 (17916) 2904301 (17764) 4669420 (17261) 9281209 (17556) 572088 (17996) 4503313 (18105) 3892859 (17532) 7372708 (17985) 2689415 (17797) 1957699 (17304) 9865317 (17993) 8303469 (17684) 4739773 (17265) 8170734 (17334) 9956611 (17998) 3332968 (17475) 1800522 (17230) 9113620 (17739) 8499942 (17237) 6998246 (18012) 8328253 (18073) 4869007 (17495) 8060745 (17618) 9430662 (18108) 4132826 (17535) 1076381 (18061) 5809169 (17709) 9480493 (17158) 6930712 (17560) 4626005 (18028) 4953007 (17793) 7098793 (17232) 3549241 (17577) 8738709 (18115) 8517594 (17647) 6394839 (17766) 6989928 (17554) 7015372 (17258) 7046889 (17920) 3571799 (17721) 4218934 (17996) 4980150 (17179) 5043830 (18056) 3942502 (17302) 2007382 (17240) 6008225 (17631) 9114278 (17701) 3311394 (17587) 8166060 (17686) 8587230 (17611) 3985403 (17886) 7784434 (18099) 9205137 (18071) 5131103 (17173) 3956337 (17619) 4359847 (18108) 2916527 (17422) 2805916 (17285) 1088819 (17750) 5945988 (17306) 9926884 (17206) 1586369 (17650) 3667927 (17950) 7143686 (17658) 3157036 (17841) 4748406 (17554) 8128592 (18013) 8788237 (17176) 5319826 (17943) 9073627 (17569) 1544528 (17207) 5340663 (17696) 6422945 (17477) 6181259 (18009) 7312594 (17714) 9987571 (17515) 5034204 (17945) 4212885 (17614) 3620394 (17853) 2423134 (17664) 8624967 (17145) 6351082 (17159) 3070590 (17892) 
     dis: 	6837.784 7031.828 7609.336 7635.956 7778.329 7790.116 7876.323 7929.324 8000.646 8023.536 8050.260 8093.765 8109.356 8171.970 8195.148 8216.152 8236.769 8320.229 8370.677 8379.596 8392.018 8401.981 8418.167 8423.534 8440.092 8441.498 8446.510 8453.969 8467.251 8481.046 8486.976 8489.768 8499.567 8520.534 8546.977 8547.896 8552.867 8557.512 8561.169 8565.130 8567.120 8577.743 8599.787 8604.575 8607.911 8613.732 8615.519 8650.067 8652.560 8670.935 8673.229 8689.517 8695.349 8695.421 8729.997 8735.621 8745.615 8748.105 8748.609 8783.832 8786.463 8787.891 8799.692 8799.963 8812.770 8828.809 8836.928 8841.417 8843.493 8844.771 8855.006 8864.446 8868.255 8881.466 8883.699 8889.675 8890.777 8912.845 8912.990 8915.387 8922.069 8922.517 8926.401 8958.492 8994.290 8996.463 9001.017 9002.477 9003.900 9010.322 9021.633 9036.958 9041.795 9054.353 9055.401 9057.012 9063.853 9072.073 9094.867 9098.106 
[ 108.326s ] *** Query time: 48.891
qps: 204.535
 *** ivfpq recall 
ivfpq get 786990 postive res from 1000000 results, recall@100:0.787
recall dist(10% per bucket): 0.000 0.002 0.004 0.009 0.028 0.059 0.119 0.195 0.345 0.239 0.000 
finished ivfpq index examples
[ 108.355s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50 300 100"
	User time (seconds): 107.56
	System time (seconds): 0.85
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:48.42
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1290152
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 336507
	Voluntary context switches: 1
	Involuntary context switches: 162
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 19:07
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50
nprobe: 300
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.729s ] Loaded metadata, 10000000 attr's found
[ 0.729s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.731s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.732s ] Loaded 10000 spacev10m queries
[ 0.800s ] Loaded ground truth, gt_size: 100
[ 0.800s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 1.926s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 113.319s ] Query results (vector ids, then distances):
query 0 nn's (15274, 15373): 5769046 (15300) 6224069 (15338) 4702781 (15290) 2493110 (15304) 6782267 (15338) 7780681 (15282) 7095541 (15328) 3577769 (15337) 6529736 (15348) 2632440 (15328) 2811379 (15348) 8941033 (15342) 1632389 (15347) 7155357 (15321) 4439744 (15320) 3647277 (15300) 4584638 (15312) 3136033 (15361) 4498038 (15339) 2613614 (15336) 5957273 (15343) 9173553 (15304) 7383813 (15298) 727675 (15340) 3748027 (15328) 9613984 (15340) 631927 (15319) 2587473 (15360) 6321992 (15342) 9164949 (15357) 3551799 (15283) 3504261 (15361) 8361606 (15292) 5703066 (15371) 2373415 (15300) 6995985 (15307) 1021506 (15295) 8390415 (15322) 4844108 (15303) 7437156 (15302) 6270527 (15358) 6326141 (15354) 8327332 (15319) 4720760 (15338) 96301 (15366) 6158267 (15274) 1861440 (15290) 4616853 (15355) 8818779 (15371) 6474363 (15367) 5716813 (15329) 2177088 (15301) 8338567 (15349) 8553005 (15361) 4885577 (15363) 1165574 (15344) 4600213 (15286) 957167 (15341) 4198165 (15305) 6904694 (15320) 2783724 (15312) 2711891 (15320) 9762541 (15350) 6077085 (15368) 1327589 (15283) 881804 (15284) 2541013 (15331) 2101179 (15362) 8250178 (15285) 8054782 (15284) 2028371 (15282) 1267139 (15361) 5163717 (15334) 4295416 (15323) 4305674 (15318) 7195245 (15312) 1616228 (15352) 8457900 (15299) 6334572 (15312) 4329636 (15291) 113259 (15319) 363779 (15326) 1927983 (15282) 2490251 (15277) 1205929 (15351) 3841703 (15352) 4900719 (15341) 210047 (15307) 5800953 (15343) 6505790 (15332) 9814324 (15300) 9634470 (15335) 8296961 (15331) 1737888 (15321) 6111149 (15335) 1159387 (15301) 5944975 (15290) 5563014 (15334) 3622783 (15310) 3982696 (15334) 
     dis: 	9339.131 11950.436 15215.113 15890.318 16816.945 16938.816 17158.535 17221.633 17311.945 17318.867 17420.047 17584.496 17841.447 17877.143 17902.422 17911.562 17935.342 18252.387 18261.797 18273.387 18409.469 18635.273 18692.711 18705.578 18782.104 18791.568 18872.105 18910.916 18919.377 18989.793 19103.678 19116.574 19161.424 19167.598 19185.516 19217.316 19262.229 19263.395 19265.426 19267.539 19330.514 19388.576 19430.207 19496.465 19517.539 19628.861 19655.326 19678.732 19688.004 19689.064 19716.059 19753.660 19763.754 19792.445 19835.984 19840.508 19851.156 19928.773 19978.969 20000.236 20006.744 20068.195 20097.297 20120.453 20137.666 20154.504 20162.637 20185.180 20213.555 20224.105 20242.188 20275.039 20338.328 20362.520 20382.328 20386.561 20441.664 20453.787 20467.738 20553.428 20583.062 20608.379 20665.758 20674.521 20695.188 20733.902 20738.824 20761.348 20773.234 20835.379 20885.316 20897.010 20944.537 20955.672 20971.133 20972.266 20987.441 21063.484 21073.639 21080.109 
query 1 nn's (47455, 47554): 7518689 (47475) 3240786 (47517) 8895531 (47457) 3718329 (47526) 8854808 (47533) 2593429 (47531) 3080191 (47543) 2850999 (47531) 3740147 (47481) 574370 (47461) 3666769 (47493) 6556975 (47552) 1175809 (47549) 9083689 (47518) 1317365 (47500) 8423100 (47537) 7359451 (47478) 4339755 (47512) 3269594 (47508) 8904377 (47525) 1228897 (47509) 2486289 (47482) 3907001 (47544) 9343191 (47468) 961440 (47471) 390909 (47494) 9859005 (47529) 6230475 (47521) 4167612 (47468) 8461907 (47492) 555392 (47484) 9481705 (47506) 6108168 (47502) 6742081 (47473) 9160332 (47537) 2838670 (47544) 3142662 (47495) 6244229 (47536) 8911677 (47545) 4541354 (47488) 52893 (47548) 9073332 (47462) 8765017 (47518) 5870345 (47519) 5556519 (47522) 1866547 (47521) 7560123 (47512) 4697200 (47496) 4328025 (47524) 2475654 (47455) 4748059 (47491) 2318363 (47499) 9856906 (47517) 8382740 (47547) 5854083 (47541) 1301235 (47504) 6289233 (47483) 6667416 (47485) 5913383 (47551) 9600751 (47501) 9675650 (47508) 1020870 (47459) 1869545 (47535) 6757325 (47462) 4744820 (47474) 8400378 (47534) 3143263 (47480) 9685648 (47552) 120023 (47531) 3042479 (47508) 914477 (47522) 2436258 (47544) 8209597 (47524) 4397655 (47544) 9693373 (47550) 4899547 (47529) 9032666 (47526) 8851361 (47477) 7093434 (47534) 6801578 (47513) 8732303 (47475) 5381233 (47489) 8335833 (47463) 2932629 (47539) 7958193 (47495) 7188542 (47537) 5087873 (47516) 461133 (47474) 567374 (47495) 5478467 (47536) 1763533 (47509) 8676319 (47518) 2882604 (47499) 654321 (47550) 6653342 (47499) 2469688 (47489) 1913714 (47489) 9451459 (47512) 2873330 (47550) 5972499 (47456) 
     dis: 	14099.950 14212.223 16183.473 16298.674 16342.668 16405.682 16455.492 16681.650 17301.135 17408.818 17409.320 17449.270 17525.051 17534.174 17704.596 17735.289 17800.189 17862.539 18026.918 18041.770 18168.609 18208.408 18329.492 18391.730 18523.672 18662.188 18678.832 18855.707 19040.469 19050.227 19122.176 19126.598 19193.346 19212.506 19306.457 19313.385 19313.738 19343.176 19344.180 19375.834 19381.971 19393.732 19449.574 19479.648 19496.766 19515.635 19534.215 19563.805 19615.180 19625.812 19629.871 19666.910 19674.586 19682.693 19686.746 19705.000 19814.465 19846.662 19855.908 19992.078 20010.705 20014.070 20057.418 20064.512 20071.359 20098.047 20103.029 20114.871 20133.484 20136.920 20154.148 20181.906 20224.539 20236.414 20245.742 20261.922 20290.736 20291.289 20330.863 20336.277 20341.797 20380.861 20391.447 20392.414 20424.238 20431.266 20452.150 20478.523 20510.619 20534.510 20611.469 20648.779 20671.896 20690.363 20703.074 20704.877 20706.582 20709.312 20712.094 20756.434 
query 2 nn's (2622, 2721): 9318566 (2630) 2863448 (2661) 3213761 (2637) 6508399 (2700) 1562829 (2650) 3947897 (2715) 9670994 (2700) 3913522 (2654) 2705292 (2700) 6188348 (2714) 7156576 (2627) 603741 (2706) 1450249 (2664) 2012904 (2667) 8551579 (2675) 7132975 (2645) 763517 (2668) 9842230 (2651) 9032851 (2627) 4379399 (2654) 7161959 (2680) 8843983 (2652) 3228101 (2698) 8517710 (2647) 9211374 (2665) 9643043 (2622) 8686826 (2646) 9311034 (2716) 9021029 (2636) 8174050 (2654) 4895774 (2720) 7516806 (2687) 4129370 (2713) 5291649 (2634) 2089575 (2686) 9753018 (2694) 9247478 (2654) 357863 (2628) 7820376 (2665) 4306842 (2649) 6769266 (2705) 6974144 (2647) 1422541 (2640) 3302864 (2638) 6655578 (2660) 4575981 (2714) 3834377 (2642) 9959253 (2634) 7466090 (2694) 4771178 (2648) 6188490 (2632) 5287370 (2667) 2837599 (2637) 5355539 (2642) 459508 (2702) 9993116 (2661) 5773002 (2697) 6216162 (2678) 2749480 (2647) 6312250 (2721) 3373114 (2678) 4530787 (2704) 3762066 (2660) 458932 (2662) 1081599 (2654) 596585 (2721) 4527394 (2660) 2929062 (2659) 2247582 (2655) 6412664 (2685) 3471396 (2660) 3720848 (2638) 7678287 (2652) 7325498 (2687) 2814237 (2701) 3238561 (2651) 3872179 (2717) 6609439 (2670) 432611 (2622) 1904085 (2681) 7374643 (2650) 1356208 (2634) 7823437 (2678) 9993745 (2661) 9733175 (2670) 1440560 (2712) 5277547 (2642) 1768321 (2712) 3649158 (2627) 9147612 (2670) 7634424 (2697) 3084856 (2648) 7539411 (2658) 3953662 (2661) 8006688 (2690) 5842005 (2696) 2850375 (2683) 7149473 (2636) 1469926 (2717) 8227717 (2712) 
     dis: 	13562.081 13782.050 14350.572 14386.454 14651.077 15156.483 15555.991 15733.375 15786.271 15834.489 16035.408 16076.041 16442.000 16816.576 16872.578 16989.332 17044.352 17080.482 17173.275 17225.369 17601.938 17671.789 17675.033 17725.119 17783.393 17822.518 17833.148 17886.629 17933.402 17950.121 18000.113 18035.432 18055.904 18145.430 18237.756 18346.652 18369.141 18380.277 18412.184 18416.340 18429.227 18461.449 18489.809 18512.590 18520.842 18562.625 18585.781 18612.781 18629.336 18758.924 18834.906 18867.373 18906.574 18926.314 18959.322 18959.434 18969.152 18979.484 19032.480 19098.234 19120.145 19127.133 19138.635 19209.004 19230.871 19291.629 19313.500 19327.109 19386.266 19386.961 19410.889 19459.275 19461.727 19481.971 19515.553 19520.525 19547.898 19591.074 19617.326 19669.664 19740.850 19791.670 19810.520 19825.703 19842.645 19843.539 19869.256 19871.477 19936.672 20003.059 20042.539 20062.314 20073.199 20081.059 20117.707 20122.439 20159.738 20225.078 20248.969 20253.090 
query 3 nn's (73957, 74056): 6689609 (74003) 4050481 (73978) 3760026 (74053) 3150044 (74030) 5661120 (74004) 1038480 (73987) 2140224 (74017) 1231887 (74000) 7040076 (74003) 2279439 (74049) 1522104 (74017) 5320234 (74009) 1979532 (74014) 608080 (74011) 5926856 (74007) 2007999 (74056) 7925109 (73994) 4430661 (74039) 5158953 (74037) 1295766 (73963) 7579548 (73992) 270230 (74014) 3419845 (74032) 1906373 (74043) 1483297 (74005) 9682289 (74005) 8266942 (73957) 2031053 (74038) 7084132 (74034) 2363052 (74006) 112118 (73999) 2493938 (73994) 2738197 (74010) 3337087 (73976) 9481645 (73971) 2418408 (73959) 9846144 (74039) 4557796 (74050) 1481165 (73977) 1437084 (74007) 4602173 (73999) 6893529 (74042) 7820482 (74048) 1613508 (73989) 1208483 (73960) 8652203 (74033) 6340884 (73979) 9152639 (73997) 8834181 (73998) 9930747 (73996) 5609082 (74021) 7318480 (74023) 4028221 (73995) 1272602 (74025) 123757 (73988) 9513790 (74013) 9966618 (73985) 9631918 (73985) 6685763 (73985) 7070378 (74053) 6408508 (74015) 5284080 (74026) 8283836 (73959) 8425162 (73973) 5212206 (74012) 7262766 (74048) 2184794 (73972) 1551703 (74043) 1036800 (73997) 5318107 (74011) 3425977 (73983) 8712900 (74016) 8757265 (73980) 775896 (74037) 7378928 (74044) 5895424 (74052) 9786556 (74011) 1096807 (74027) 5877240 (73981) 5757874 (74032) 8056100 (73971) 5620884 (74012) 2993058 (74054) 5711814 (73978) 8404755 (74006) 3552370 (73985) 7927345 (73974) 6588328 (74048) 281345 (74022) 768839 (74040) 9186274 (73967) 4684578 (73967) 3254688 (74017) 5461854 (74009) 2085779 (74011) 8931828 (73991) 8475114 (74004) 5400030 (73972) 7885013 (74003) 9773173 (74027) 
     dis: 	11728.946 14037.242 15498.991 15767.667 16288.726 16447.516 16518.201 16656.152 16932.016 17208.389 17354.135 17486.223 17569.980 17599.316 17670.463 17723.477 17943.623 17984.840 18095.520 18108.602 18145.984 18302.703 18353.840 18358.328 18570.613 18691.639 18746.152 18780.748 18803.174 18833.930 18913.010 18960.578 19000.947 19035.652 19038.789 19078.441 19079.865 19195.137 19204.658 19213.025 19425.191 19449.564 19487.664 19549.545 19571.160 19572.080 19590.002 19630.547 19655.506 19788.268 19836.684 19866.248 19953.301 19956.094 20015.176 20091.521 20107.168 20147.131 20191.105 20228.252 20237.781 20368.035 20384.359 20416.449 20487.773 20607.797 20632.963 20644.654 20723.229 20737.658 20756.344 20798.197 20810.365 20832.609 20840.023 20869.107 21031.348 21063.947 21080.324 21089.504 21121.768 21136.254 21240.311 21272.441 21407.553 21474.865 21501.613 21504.758 21535.852 21557.611 21573.992 21611.662 21635.285 21636.156 21637.619 21656.447 21697.896 21731.357 21809.842 21843.582 
query 4 nn's (58381, 58480): 3852825 (58478) 4103136 (58443) 6808813 (58381) 1006805 (58478) 1999660 (58444) 9684351 (58456) 8984060 (58471) 3871589 (58382) 1919573 (58401) 4043065 (58399) 6680178 (58447) 3410881 (58453) 9486504 (58430) 2844441 (58409) 2618850 (58431) 8910233 (58421) 9438822 (58381) 7018664 (58405) 6053223 (58475) 4380420 (58429) 4577042 (58462) 583444 (58386) 8568266 (58455) 4871077 (58416) 7358113 (58382) 506296 (58452) 7471879 (58429) 7897965 (58462) 8339173 (58407) 2581296 (58449) 8691528 (58443) 8651373 (58423) 2836723 (58441) 1733649 (58445) 5454219 (58456) 7472237 (58468) 8091215 (58420) 6270787 (58457) 5351891 (58468) 7175636 (58386) 7873700 (58381) 7047800 (58478) 581709 (58480) 7970406 (58449) 280818 (58457) 2623305 (58399) 8604267 (58432) 2547661 (58480) 7200685 (58419) 8124587 (58455) 5307585 (58429) 6747872 (58419) 4903173 (58424) 260569 (58422) 4193284 (58424) 3085051 (58436) 2276653 (58401) 2776676 (58423) 6493159 (58400) 2855246 (58433) 8025306 (58442) 7306397 (58464) 3739120 (58440) 5934608 (58423) 1500033 (58465) 7655145 (58457) 232975 (58477) 7097649 (58419) 4273277 (58465) 7750032 (58388) 6230684 (58470) 3477063 (58448) 451234 (58463) 3766603 (58453) 5032668 (58441) 7694305 (58415) 9024654 (58435) 17053 (58403) 9513637 (58414) 9168127 (58422) 3549148 (58436) 1708512 (58442) 1862933 (58456) 829335 (58430) 8271337 (58428) 2720148 (58433) 4804278 (58410) 4599974 (58460) 5162805 (58391) 9590190 (58456) 532679 (58442) 8865132 (58446) 6624022 (58392) 2538450 (58437) 9039922 (58459) 738546 (58389) 893083 (58388) 7601166 (58399) 8582506 (58456) 9865001 (58450) 
     dis: 	7666.274 8303.525 8356.072 8514.808 8689.705 9137.789 9156.240 9166.632 9324.730 9487.299 9642.651 9702.754 9725.132 9756.242 9758.931 9803.422 9941.781 9960.879 9968.822 9990.266 10004.821 10045.700 10056.439 10092.391 10117.812 10122.804 10159.336 10174.402 10226.417 10262.664 10295.703 10318.094 10324.385 10326.450 10412.666 10454.146 10505.335 10515.795 10533.966 10616.693 10626.384 10634.175 10638.219 10639.189 10644.453 10656.230 10670.904 10709.527 10747.031 10772.906 10794.848 10818.102 10828.466 10842.912 10861.677 10871.048 10880.583 10895.729 10902.792 10920.764 10956.779 10996.303 11000.032 11025.108 11055.332 11080.420 11096.655 11099.879 11160.361 11185.795 11295.604 11295.768 11328.815 11339.267 11343.238 11356.607 11356.832 11424.750 11438.466 11444.056 11489.301 11493.465 11500.953 11516.227 11526.336 11553.493 11577.639 11582.986 11588.971 11601.320 11616.529 11641.876 11679.104 11686.174 11701.201 11715.372 11726.618 11758.791 11763.142 11769.679 
[ 113.319s ] *** Query time: 51.830
qps: 192.939
 *** ivfpq recall 
ivfpq get 533754 postive res from 1000000 results, recall@100:0.534
recall dist(10% per bucket): 0.004 0.027 0.060 0.124 0.192 0.216 0.191 0.127 0.049 0.011 0.000 
finished ivfpq index examples
[ 113.360s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50 300 100"
	User time (seconds): 111.23
	System time (seconds): 2.23
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:53.47
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1289120
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 660075
	Voluntary context switches: 1
	Involuntary context switches: 117
	Swaps: 0
	File system inputs: 0
	File system outputs: 48
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
