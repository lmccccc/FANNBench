Start time: 08:25
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_40000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_40000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 194.294s
using this batch search3 
total point comp 61961597
avg comp:6196.16
qps: 980.5790912158849
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_18', 0.9172099999999651, 10.246514558792114, 194.29383158683777, 2, 51920836)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_40000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_40000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 18 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 52.04
	System time (seconds): 59.81
	Percent of CPU this job got: 50%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:41.54
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61994156
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 20100095
	Voluntary context switches: 61293
	Involuntary context switches: 867
	Swaps: 0
	File system inputs: 909400
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 10:12
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_50000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_50000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 189.442s
using this batch search3 
total point comp 61030609
avg comp:6103.06
qps: 861.7915742740944
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_18', 0.913769999999963, 11.652062177658081, 189.44161939620972, 2, 51921568)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_50000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_50000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 18 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 51.17
	System time (seconds): 62.24
	Percent of CPU this job got: 52%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:37.66
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61994680
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 21759754
	Voluntary context switches: 51420
	Involuntary context switches: 745
	Swaps: 0
	File system inputs: 606248
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 11:58
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_60000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_60000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 189.493s
using this batch search3 
total point comp 59889034
avg comp:5988.9
qps: 762.9123700403218
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_18', 0.9080799999999637, 13.154144048690796, 189.49301624298096, 2, 51919456)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_60000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_60000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 18 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 52.40
	System time (seconds): 61.60
	Percent of CPU this job got: 52%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:38.91
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61992720
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 22733024
	Voluntary context switches: 59827
	Involuntary context switches: 1276
	Swaps: 0
	File system inputs: 957256
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 13:46
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_70000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_70000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 199.377s
using this batch search3 
total point comp 57491511
avg comp:5749.15
qps: 937.3784711750081
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_18', 0.902209999999966, 10.713979244232178, 199.377099275589, 2, 51921476)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_70000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_70000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 18 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 51.34
	System time (seconds): 61.61
	Percent of CPU this job got: 49%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:46.52
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61995116
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 21529446
	Voluntary context switches: 59927
	Involuntary context switches: 1110
	Swaps: 0
	File system inputs: 813416
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 15:33
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_80000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_80000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 204.762s
using this batch search3 
total point comp 54676492
avg comp:5467.65
qps: 931.5670142480554
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_18', 0.8963799999999678, 10.781015396118164, 204.7618613243103, 2, 51918256)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_80000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_80000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 18 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 51.76
	System time (seconds): 62.23
	Percent of CPU this job got: 49%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:51.57
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61989640
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 6
	Minor (reclaiming a frame) page faults: 21254889
	Voluntary context switches: 61098
	Involuntary context switches: 772
	Swaps: 0
	File system inputs: 798240
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 17:18
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_90000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_90000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 193.804s
using this batch search3 
total point comp 52278750
avg comp:5227.88
qps: 1023.8352515101878
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_18', 0.8934399999999678, 9.813716411590576, 193.80377221107483, 2, 51914996)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_90000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_90000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 18 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 50.76
	System time (seconds): 60.40
	Percent of CPU this job got: 50%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:39.83
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61986860
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 21488232
	Voluntary context switches: 62491
	Involuntary context switches: 842
	Swaps: 0
	File system inputs: 1236064
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 19:02
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_100000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_100000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 206.145s
using this batch search3 
Traceback (most recent call last):
  File "utils/RangeFilteredANN.py", line 806, in <module>
    run_tree_experiments(
  File "utils/RangeFilteredANN.py", line 543, in run_tree_experiments
    vamana_tree_results = vamana_tree.batch_search(
IndexError: vector::_M_range_check: __n (which is 2) >= this->size() (which is 2)
Command exited with non-zero status 1
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_100000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_100000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 18 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 46.43
	System time (seconds): 60.87
	Percent of CPU this job got: 46%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:48.73
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61993960
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 21332854
	Voluntary context switches: 65163
	Involuntary context switches: 796
	Swaps: 0
	File system inputs: 940880
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 1
