Start time: 08:25
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_40000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_40000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 194.321s
using this batch search3 
total point comp 185778744
avg comp:18577.9
qps: 322.68378858364264
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_80', 0.9949199999999937, 31.037904739379883, 194.32073521614075, 2, 51919876)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_40000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_40000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 80 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 69.35
	System time (seconds): 62.38
	Percent of CPU this job got: 54%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 4:00.12
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61992440
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 24949996
	Voluntary context switches: 54204
	Involuntary context switches: 912
	Swaps: 0
	File system inputs: 938960
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 10:12
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_50000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_50000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 188.942s
using this batch search3 
total point comp 183355681
avg comp:18335.6
qps: 311.924897617367
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_80', 0.9945699999999923, 32.10672116279602, 188.94211149215698, 2, 51924116)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_50000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_50000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 80 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 68.32
	System time (seconds): 62.03
	Percent of CPU this job got: 55%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:55.95
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61997464
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 25476341
	Voluntary context switches: 59550
	Involuntary context switches: 897
	Swaps: 0
	File system inputs: 889328
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 11:58
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_60000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_60000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 189.979s
using this batch search3 
total point comp 180035637
avg comp:18003.6
qps: 313.6443585949072
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_80', 0.9936399999999916, 31.92998170852661, 189.9790744781494, 2, 51920580)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_60000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_60000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 80 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 68.28
	System time (seconds): 63.88
	Percent of CPU this job got: 55%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:57.13
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61994136
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 24947105
	Voluntary context switches: 56623
	Involuntary context switches: 1009
	Swaps: 0
	File system inputs: 946584
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 13:46
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_70000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_70000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 199.037s
using this batch search3 
total point comp 173067514
avg comp:17306.8
qps: 340.3358181348648
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_80', 0.9930199999999916, 29.430777311325073, 199.03745126724243, 2, 51920800)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_70000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_70000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 80 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 67.23
	System time (seconds): 61.19
	Percent of CPU this job got: 52%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 4:03.47
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61991864
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 24131305
	Voluntary context switches: 59833
	Involuntary context switches: 863
	Swaps: 0
	File system inputs: 1216856
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 15:33
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_80000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_80000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 204.704s
using this batch search3 
total point comp 164842309
avg comp:16484.2
qps: 341.6971763129679
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_80', 0.9919599999999886, 29.313389778137207, 204.70356440544128, 2, 51916032)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_80000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_80000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 80 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 67.73
	System time (seconds): 63.58
	Percent of CPU this job got: 52%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 4:09.13
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61988120
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 24792897
	Voluntary context switches: 63200
	Involuntary context switches: 908
	Swaps: 0
	File system inputs: 1125616
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 17:18
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_90000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_90000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 194.036s
using this batch search3 
total point comp 157802810
avg comp:15780.3
qps: 393.1788728562466
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_80', 0.9916799999999888, 25.480747938156128, 194.03629684448242, 2, 51921736)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_90000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_90000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 80 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 64.95
	System time (seconds): 60.66
	Percent of CPU this job got: 53%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:54.63
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61993880
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 4
	Minor (reclaiming a frame) page faults: 22371237
	Voluntary context switches: 64127
	Involuntary context switches: 1131
	Swaps: 0
	File system inputs: 1260168
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 19:02
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_100000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_100000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 206.156s
using this batch search3 
Traceback (most recent call last):
  File "utils/RangeFilteredANN.py", line 806, in <module>
    run_tree_experiments(
  File "utils/RangeFilteredANN.py", line 543, in run_tree_experiments
    vamana_tree_results = vamana_tree.batch_search(
IndexError: vector::_M_range_check: __n (which is 2) >= this->size() (which is 2)
Command exited with non-zero status 1
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_100000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_100000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 80 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 62.41
	System time (seconds): 60.40
	Percent of CPU this job got: 52%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:55.06
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61992684
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 21515486
	Voluntary context switches: 64064
	Involuntary context switches: 1053
	Swaps: 0
	File system inputs: 958528
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 1
