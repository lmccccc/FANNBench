Start time: 08:25
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_40000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_40000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 194.368s
using this batch search3 
total point comp 66359997
avg comp:6636
qps: 845.0572839413742
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_20', 0.9281199999999655, 11.883497953414917, 194.36769890785217, 2, 51916524)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_40000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_40000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 20 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 52.76
	System time (seconds): 59.91
	Percent of CPU this job got: 50%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:41.93
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61990076
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 5
	Minor (reclaiming a frame) page faults: 21412775
	Voluntary context switches: 59804
	Involuntary context switches: 846
	Swaps: 0
	File system inputs: 1005856
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 10:12
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_50000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_50000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 189.005s
using this batch search3 
total point comp 65355116
avg comp:6535.51
qps: 869.768781657346
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_20', 0.9244199999999615, 11.543991088867188, 189.00523471832275, 2, 51919244)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_50000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_50000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 20 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 52.01
	System time (seconds): 57.06
	Percent of CPU this job got: 50%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:35.42
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61992048
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 20965305
	Voluntary context switches: 65484
	Involuntary context switches: 863
	Swaps: 0
	File system inputs: 1076824
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 11:58
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_60000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_60000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 189.429s
using this batch search3 
total point comp 64121356
avg comp:6412.14
qps: 834.6186005769873
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_20', 0.9195499999999641, 12.03050446510315, 189.42861318588257, 2, 51922632)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_60000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_60000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 20 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 51.88
	System time (seconds): 60.63
	Percent of CPU this job got: 51%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:38.37
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61995964
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 21516997
	Voluntary context switches: 57405
	Involuntary context switches: 705
	Swaps: 0
	File system inputs: 911800
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 13:46
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_70000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_70000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 199.477s
using this batch search3 
total point comp 61562394
avg comp:6156.24
qps: 873.6342747084462
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_20', 0.9146799999999646, 11.4926278591156, 199.4768841266632, 2, 51924724)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_70000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_70000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 20 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 52.03
	System time (seconds): 61.81
	Percent of CPU this job got: 50%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:46.69
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61997504
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 21574942
	Voluntary context switches: 55268
	Involuntary context switches: 741
	Swaps: 0
	File system inputs: 653208
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 15:33
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_80000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_80000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 204.820s
using this batch search3 
total point comp 58545317
avg comp:5854.53
qps: 1080.315730168126
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_20', 0.9090899999999655, 9.305866956710815, 204.82048535346985, 2, 51920104)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_80000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_80000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 20 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 51.85
	System time (seconds): 59.46
	Percent of CPU this job got: 48%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:49.72
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61992180
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 19902668
	Voluntary context switches: 64590
	Involuntary context switches: 951
	Swaps: 0
	File system inputs: 1286160
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 17:18
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_90000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_90000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 193.884s
using this batch search3 
total point comp 55968244
avg comp:5596.82
qps: 1169.2324263917833
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_20', 0.906469999999966, 8.598833799362183, 193.88384675979614, 2, 51925316)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_90000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_90000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 20 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 49.59
	System time (seconds): 57.42
	Percent of CPU this job got: 49%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:38.04
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61998900
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 19659037
	Voluntary context switches: 65402
	Involuntary context switches: 730
	Swaps: 0
	File system inputs: 1250152
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 19:02
set threads:  1
data file:  /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file:  /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_100000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_100000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['sift10M']
using alpha:  1
Vamana tree build time: 206.219s
using this batch search3 
Traceback (most recent call last):
  File "utils/RangeFilteredANN.py", line 806, in <module>
    run_tree_experiments(
  File "utils/RangeFilteredANN.py", line 543, in run_tree_experiments
    vamana_tree_results = vamana_tree.batch_search(
IndexError: vector::_M_range_check: __n (which is 2) >= this->size() (which is 2)
Command exited with non-zero status 1
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset sift10M --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs --query_file /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs --attr_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_100000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_100000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/sift10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/sift10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 20 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 45.92
	System time (seconds): 60.75
	Percent of CPU this job got: 46%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:49.14
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 61990320
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 21099952
	Voluntary context switches: 67121
	Involuntary context switches: 712
	Swaps: 0
	File system inputs: 1090128
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 1
