Start time: 04:05
set threads:  128
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/attr_sel_1_128_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/qrangesel_1_128_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result__sel_1_128_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2044
 tree construction suc
Super optimized postfilter tree build time: 1.234s
Super optimized postfilter tree build time: 1.234s
beam sizes: [100]
final multiplies: [16]
using this batch search4 
total point comp 72419087
avg comp:7241.91
beam size: 100 , final_beam_multiply: 16
qps: 6017.36185782696
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_100_16', 0.6053500000000002, 1.6618578433990479, 1.2341508865356445, 2.0, 6.693065643310547)
Start time: 04:39
set threads:  128
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/attr_sel_1_128_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/qrangesel_1_128_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result__sel_1_128_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2044
 tree construction suc
Super optimized postfilter tree build time: 1.158s
Super optimized postfilter tree build time: 1.158s
beam sizes: [400]
final multiplies: [16]
using this batch search4 
total point comp 122552035
avg comp:12255.2
beam size: 400 , final_beam_multiply: 16
qps: 195.5967562130206
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_400_16', 0.6053500000000002, 51.12559223175049, 1.1583619117736816, 2.0, 6.690406799316406)
Start time: 04:42
set threads:  128
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/attr_sel_1_128_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/qrangesel_1_128_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_128_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2044
 tree construction suc
Super optimized postfilter tree build time: 1.186s
Super optimized postfilter tree build time: 1.187s
beam sizes: [40]
final multiplies: [16]
using this batch search4 
total point comp 48504995
avg comp:4850.5
beam size: 40 , final_beam_multiply: 16
qps: 27402.110214614706
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_40_16', 0.6053500000000002, 0.36493539810180664, 1.1866686344146729, 2.0, 6.692207336425781)
Start time: 04:42
set threads:  128
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/attr_sel_1_128_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/qrangesel_1_128_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_128_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2044
 tree construction suc
Super optimized postfilter tree build time: 1.193s
Super optimized postfilter tree build time: 1.193s
beam sizes: [10]
final multiplies: [16]
using this batch search4 
total point comp 28839123
avg comp:2883.91
beam size: 10 , final_beam_multiply: 16
qps: 82677.1743565584
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_10_16', 0.6053700000000002, 0.12095236778259277, 1.1933534145355225, 2.0, 6.703655242919922)
Start time: 04:47
set threads:  128
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/attr_sel_1_128_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/qrangesel_1_128_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_128_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2044
 tree construction suc
Super optimized postfilter tree build time: 1.224s
Super optimized postfilter tree build time: 1.225s
beam sizes: [5]
final multiplies: [16]
using this batch search4 
total point comp 31457105
avg comp:3145.71
beam size: 5 , final_beam_multiply: 16
qps: 75414.7420279953
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_5_16', 0.6053700000000002, 0.1326000690460205, 1.2246298789978027, 2.0, 6.691314697265625)
Start time: 04:47
set threads:  128
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/attr_sel_1_128_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/qrangesel_1_128_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_128_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2044
 tree construction suc
Super optimized postfilter tree build time: 1.179s
Super optimized postfilter tree build time: 1.179s
beam sizes: [1]
final multiplies: [16]
using this batch search4 
total point comp 42276065
avg comp:4227.61
beam size: 1 , final_beam_multiply: 16
qps: 71024.05058361146
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_1_16', 0.6053500000000002, 0.14079737663269043, 1.179137945175171, 2.0, 6.697151184082031)
Start time: 04:48
set threads:  128
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/attr_sel_1_128_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/qrangesel_1_128_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_128_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2044
 tree construction suc
Super optimized postfilter tree build time: 389.844s
Super optimized postfilter tree build time: 389.844s
beam sizes: [100]
final multiplies: [16]
using this batch search4 
total point comp 72419087
avg comp:7241.91
beam size: 100 , final_beam_multiply: 16
qps: 5859.4763594809
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_100_16', 0.6053500000000002, 1.7066371440887451, 389.84433150291443, 2.0, 7.236873626708984)
Start time: 05:00
set threads:  128
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/attr_sel_1_128_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/qrangesel_1_128_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_128_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [8.0]
shift factor list: [0.5]
split factor:  8.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  8.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
 building tree
new num buckets 15
new num buckets 127
new num buckets 1023
new num buckets 8130
 tree construction suc
Super optimized postfilter tree build time: 0.957s
Super optimized postfilter tree build time: 0.958s
beam sizes: [10]
final multiplies: [16]
using this batch search4 
total point comp 37287873
avg comp:3728.79
beam size: 10 , final_beam_multiply: 16
qps: 27885.119507066178
method, recall, total time, build time, split factor, memory
('super-postfiltering_8.0_0.5_1_10_16', 0.5556400000000005, 0.3586142063140869, 0.9576442241668701, 8.0, 3.3655166625976562)
Start time: 05:03
set threads:  128
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/attr_sel_1_128_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/qrangesel_1_128_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_128_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random_sp8_sh0.5/
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [8.0]
shift factor list: [0.5]
split factor:  8.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  8.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random_sp8_sh0.5/
 building tree
new num buckets 15
new num buckets 127
new num buckets 1023
new num buckets 8130
 tree construction suc
Super optimized postfilter tree build time: 140.394s
Super optimized postfilter tree build time: 140.394s
beam sizes: [10]
final multiplies: [16]
using this batch search4 
total point comp 37287873
avg comp:3728.79
beam size: 10 , final_beam_multiply: 16
qps: 29547.65217452563
method, recall, total time, build time, split factor, memory
('super-postfiltering_8.0_0.5_1_10_16', 0.5556400000000005, 0.3384363651275635, 140.3940031528473, 8.0, 3.7829017639160156)
Start time: 05:06
set threads:  128
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/attr_sel_1_128_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/qrangesel_1_128_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_128_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [12.0]
shift factor list: [0.5]
split factor:  12.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  12.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
 building tree
new num buckets 23
new num buckets 287
new num buckets 3448
 tree construction suc
Super optimized postfilter tree build time: 81.371s
Super optimized postfilter tree build time: 81.372s
beam sizes: [10]
final multiplies: [16]
using this batch search4 
total point comp 146222193
avg comp:14622.2
beam size: 10 , final_beam_multiply: 16
qps: 7061.739611080235
method, recall, total time, build time, split factor, memory
('super-postfiltering_12.0_0.5_1_10_16', 0.504200000000001, 1.4160816669464111, 81.37181949615479, 12.0, 3.1687393188476562)
Start time: 05:12
set threads:  128
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/attr_sel_1_128_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/qrangesel_1_128_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_128_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [12.0]
shift factor list: [0.5]
split factor:  12.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  12.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
 building tree
new num buckets 23
new num buckets 287
new num buckets 3448
 tree construction suc
Super optimized postfilter tree build time: 0.522s
Super optimized postfilter tree build time: 0.522s
beam sizes: [10]
final multiplies: [32]
using this batch search4 
total point comp 194171976
avg comp:19417.2
beam size: 10 , final_beam_multiply: 32
qps: 2061.492002123468
method, recall, total time, build time, split factor, memory
('super-postfiltering_12.0_0.5_1_10_32', 0.504200000000001, 4.850855588912964, 0.5221343040466309, 12.0, 2.922046661376953)
Start time: 05:12
set threads:  128
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/attr_sel_1_128_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/qrangesel_1_128_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_128_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2044
 tree construction suc
Super optimized postfilter tree build time: 1.183s
Super optimized postfilter tree build time: 1.183s
beam sizes: [10]
final multiplies: [32]
using this batch search4 
total point comp 38218931
avg comp:3821.89
beam size: 10 , final_beam_multiply: 32
qps: 40301.5188362795
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_10_32', 0.6053500000000002, 0.24812960624694824, 1.1828670501708984, 2.0, 6.697467803955078)
Start time: 05:13
set threads:  128
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/attr_sel_1_128_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/qrangesel_1_128_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_128_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2044
 tree construction suc
Super optimized postfilter tree build time: 1.218s
Super optimized postfilter tree build time: 1.218s
beam sizes: [100]
final multiplies: [32]
using this batch search4 
total point comp 86716120
avg comp:8671.61
beam size: 100 , final_beam_multiply: 32
qps: 1541.5800984305104
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_100_32', 0.6053500000000002, 6.486850738525391, 1.2183711528778076, 2.0, 6.6995391845703125)
Start time: 05:13
set threads:  128
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/attr_sel_1_128_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/qrangesel_1_128_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_128_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2044
 tree construction suc
Super optimized postfilter tree build time: 1.190s
Super optimized postfilter tree build time: 1.191s
beam sizes: [1280]
final multiplies: [32]
using this batch search4 
total point comp 195257673
avg comp:19525.8
beam size: 1280 , final_beam_multiply: 32
qps: 98.3933500018292
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_1280_32', 0.6053500000000002, 101.63288474082947, 1.1906375885009766, 2.0, 6.691921234130859)
Start time: 05:17
set threads:  128
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/attr_sel_1_128_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/qrangesel_1_128_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_128_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [2.0]
shift factor list: [1.0]
split factor:  2.0
shift factor:  1.0
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  1.0
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
 building tree
Traceback (most recent call last):
  File "utils/RangeFilteredANN.py", line 796, in <module>
    run_super_optimized_postfiltering_experiment(
  File "utils/RangeFilteredANN.py", line 672, in run_super_optimized_postfiltering_experiment
    super_optimized_postfilter_tree = constructor(
RuntimeError: shift_factor must be between 0 and 1
Start time: 05:18
set threads:  128
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/attr_sel_1_128_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/qrangesel_1_128_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_128_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.9]
split factor:  2.0
shift factor:  0.9
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.9
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
 building tree
new num buckets 3
new num buckets 5
new num buckets 9
new num buckets 18
new num buckets 36
new num buckets 71
new num buckets 143
new num buckets 285
new num buckets 569
new num buckets 1137
 tree construction suc
Super optimized postfilter tree build time: 90.066s
Super optimized postfilter tree build time: 90.067s
beam sizes: [40]
final multiplies: [16]
using this batch search4 
total point comp 112234690
avg comp:11223.5
beam size: 40 , final_beam_multiply: 16
qps: 13301.514340904456
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.9_1_40_16', 0.5768400000000001, 0.7517940998077393, 90.06682443618774, 2.0, 4.557346343994141)
Start time: 05:20
set threads:  128
data file:  /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file:  /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/attr_sel_1_128_random.json
qrange file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/qrangesel_1_128_random.json
gt file:  /mnt/data/mocheng/dataset/sift/sel_1_128_random/sif_gt_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/sift/rfann/result/result_sel_1_128_random.csv
index prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
DATASETS:  ['sift1M']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.2]
split factor:  2.0
shift factor:  0.2
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 128)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.2
index_prefix:  /mnt/data/mocheng/dataset/sift/rfann/index/index_sel_1_128_random/
 building tree
new num buckets 6
new num buckets 16
new num buckets 36
new num buckets 76
new num buckets 156
new num buckets 316
new num buckets 636
new num buckets 1275
new num buckets 2554
new num buckets 5099
 tree construction suc
Super optimized postfilter tree build time: 332.325s
Super optimized postfilter tree build time: 332.325s
beam sizes: [40]
final multiplies: [16]
using this batch search4 
total point comp 106066692
avg comp:10606.7
beam size: 40 , final_beam_multiply: 16
qps: 19379.315443187697
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.2_1_40_16', 0.5616199999999983, 0.5160140991210938, 332.3252501487732, 2.0, 14.96963882446289)
