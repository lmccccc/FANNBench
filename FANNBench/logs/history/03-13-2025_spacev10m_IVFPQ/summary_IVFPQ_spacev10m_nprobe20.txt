Start time: 22:09
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50
nprobe: 20
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.713s ] Loaded metadata, 10000000 attr's found
[ 0.713s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.715s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.717s ] Loaded 10000 spacev10m queries
[ 0.724s ] Loaded ground truth, gt_size: 10
[ 0.724s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.285s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 70.154s ] Query results (vector ids, then distances):
query 0 nn's (15274, 15373): 5769046 (15300) 4702781 (15290) 6529736 (15348) 2613614 (15336) 3748027 (15328) 6326141 (15354) 6158267 (15274) 9762541 (15350) 6077085 (15368) 6111149 (15335) 
     dis: 	9339.131 15215.113 17311.945 18273.387 18782.104 19388.576 19628.861 20097.297 20120.453 20971.133 
query 1 nn's (47455, 47554): 7518689 (47475) 3080191 (47543) 6244229 (47536) 1020870 (47459) 2932629 (47539) 8831076 (47472) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	14099.950 16455.492 19343.176 20014.070 20392.414 24026.377 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (2622, 2721): 3213761 (2637) 6508399 (2700) 603741 (2706) 2012904 (2667) 9842230 (2651) 4895774 (2720) 357863 (2628) 4575981 (2714) 6743980 (2714) 1431711 (2672) 
     dis: 	14350.572 14386.454 16076.041 16816.576 17080.482 18000.113 18380.277 18562.625 20452.842 20784.680 
query 3 nn's (73957, 74056): 6689609 (74003) 4050481 (73978) 3150044 (74030) 5661120 (74004) 2140224 (74017) 1231887 (74000) 1295766 (73963) 9513790 (74013) 6698872 (74004) 219792 (74047) 
     dis: 	11728.946 14037.242 15767.667 16288.726 16518.201 16656.152 18108.602 20091.521 22086.285 24690.445 
query 4 nn's (58381, 58480): 4103136 (58443) 1999660 (58444) 9684351 (58456) 3871589 (58382) 4043065 (58399) 7018664 (58405) 4871077 (58416) 7897965 (58462) 7970406 (58449) 2623305 (58399) 
     dis: 	8303.525 8689.705 9137.789 9166.632 9487.299 9960.879 10092.391 10174.402 10639.189 10656.230 
[ 70.154s ] *** Query time: 9.631
qps: 1038.289
 *** ivfpq recall 
ivfpq get 34381 postive res from 100000 results, recall@10:0.344
recall dist(10% per bucket): 0.062 0.135 0.174 0.171 0.158 0.129 0.083 0.053 0.025 0.009 0.002 
finished ivfpq index examples
[ 70.155s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50 20 100"
	User time (seconds): 67.50
	System time (seconds): 1.44
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:10.24
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1270144
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 503099
	Voluntary context switches: 2087
	Involuntary context switches: 187
	Swaps: 0
	File system inputs: 56224
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
