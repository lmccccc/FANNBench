

===============================================================================================================
START: generating groundtruth

N: 1000000
dataset: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
attr: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
qrange: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
output: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_10.json
topk: 10
dim: 1024
thread_num: 128
start
[8.281 s] Loaded dataset, size=1000000, dim=1024
[8.411 s] Loaded attr, size=1000000
[8.411 s] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, size=10000
[8.527 s] Loaded query vectors
[8.530 s] Loaded 10000 queries
====================Vectors====================

[55.505 s] Loading database
data loaded, with dim: 1024, nb=1000000
[55.505 s] Indexing database, size 1000000*1024 from max 1000000
[57.380 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[57.575 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[59.272 s] Query 6100 done, time: 78.382
[59.425 s] Query 0 done, time: 101.287
[59.449 s] Query 2200 done, time: 107.605
[61.200 s] Query 1500 done, time: 321.007
[61.472 s] Query 5400 done, time: 352.948
[62.082 s] Query 9300 done, time: 430.204
[62.746 s] Query 8600 done, time: 499.816
[63.415 s] Query 4700 done, time: 589.618
[63.769 s] Query 400 done, time: 628.115
[64.588 s] Query 4000 done, time: 740.195
[68.115 s] Query 6500 done, time: 1165.840
[69.463 s] Query 7900 done, time: 1334.336
[69.738 s] Query 2600 done, time: 1370.643
[70.037 s] Query 7200 done, time: 1416.006
[70.294 s] Query 3300 done, time: 1448.066
[71.515 s] Query 800 done, time: 1582.609
[71.518 s] Query 5800 done, time: 1588.446
[72.331 s] Query 1900 done, time: 1688.652
[75.614 s] Query 3700 done, time: 2075.070
[79.418 s] Query 5100 done, time: 2355.759
[79.979 s] Query 9000 done, time: 2542.053
[80.796 s] Query 4400 done, time: 2580.327
[81.146 s] Query 8300 done, time: 2611.651
[81.536 s] Query 9700 done, time: 2651.942
[83.818 s] Query 1200 done, time: 2913.400
[84.069 s] Query 100 done, time: 2933.328
[87.162 s] Query 6200 done, time: 3338.110
[87.355 s] Query 5500 done, time: 3366.131
[87.623 s] Query 2300 done, time: 3401.494
[88.060 s] Query 6900 done, time: 3449.579
[89.279 s] Query 3000 done, time: 3602.052
[89.638 s] Query 7600 done, time: 3632.626
[91.688 s] Query 1600 done, time: 3904.705
[95.716 s] Query 7300 done, time: 4413.206
[100.447 s] Query 9400 done, time: 5002.744
[101.125 s] Query 2700 done, time: 5076.343
[101.556 s] Query 8700 done, time: 5151.381
[102.162 s] Query 6600 done, time: 5223.729
[103.561 s] Query 1700 done, time: 5397.919
[104.756 s] Query 5200 done, time: 5543.189
[105.510 s] Query 3400 done, time: 5636.189
[105.698 s] Query 500 done, time: 5659.993
[106.126 s] Query 4800 done, time: 5700.361
[106.140 s] Query 8000 done, time: 5703.587
[106.769 s] Query 4100 done, time: 5791.619
[108.243 s] Query 5900 done, time: 5974.304
[108.270 s] Query 6000 done, time: 5975.056
[109.601 s] Query 3500 done, time: 6150.373
[112.606 s] Query 5600 done, time: 6520.085
[112.800 s] Query 8100 done, time: 6539.323
[113.164 s] Query 6300 done, time: 6595.637
[115.207 s] Query 2000 done, time: 6857.642
[115.747 s] Query 3800 done, time: 6927.875
[115.986 s] Query 9800 done, time: 6958.409
[116.312 s] Query 8400 done, time: 6997.493
[119.290 s] Query 5700 done, time: 7373.760
[120.002 s] Query 4200 done, time: 7448.451
[120.703 s] Query 8900 done, time: 7549.342
[122.157 s] Query 1400 done, time: 7725.290
[122.557 s] Query 3100 done, time: 7770.268
[124.518 s] Query 9100 done, time: 8040.854
[126.128 s] Query 7700 done, time: 8229.014
[127.349 s] Query 4500 done, time: 8384.712
[127.477 s] Query 2400 done, time: 8398.076
[128.659 s] Query 4900 done, time: 8553.156
[129.985 s] Query 900 done, time: 8713.410
[130.330 s] Query 5300 done, time: 8750.039
[131.143 s] Query 4600 done, time: 8847.910
[132.094 s] Query 7000 done, time: 8968.091
[132.488 s] Query 200 done, time: 9001.637
[133.769 s] Query 600 done, time: 9166.466
[136.409 s] Query 1300 done, time: 9475.768
[136.664 s] Query 6700 done, time: 9510.826
[138.216 s] Query 2100 done, time: 9679.137
[138.416 s] Query 8800 done, time: 9702.857
[143.199 s] Query 1000 done, time: 10246.672
[144.070 s] Query 7400 done, time: 10325.969
[144.095 s] Query 9900 done, time: 10327.492
[145.376 s] Query 2800 done, time: 10481.852
[147.898 s] Query 9500 done, time: 10743.516
[149.619 s] Query 2500 done, time: 10924.824
[152.072 s] Query 6400 done, time: 11201.253
[152.156 s] Query 9200 done, time: 11207.722
[152.624 s] Query 7100 done, time: 11261.911
[153.976 s] Query 3200 done, time: 11408.849
[154.440 s] Query 3900 done, time: 11447.321
[154.745 s] Query 1800 done, time: 11472.041
[154.909 s] Query 8500 done, time: 11487.604
[155.100 s] Query 700 done, time: 11499.579
[156.862 s] Query 1100 done, time: 11648.417
[157.295 s] Query 9600 done, time: 11684.175
[159.183 s] Query 8200 done, time: 11827.207
[159.777 s] Query 300 done, time: 11858.419
[160.842 s] Query 7800 done, time: 11936.624
[161.673 s] Query 7500 done, time: 11989.092
[161.930 s] Query 5000 done, time: 11999.729
[162.036 s] Query 3600 done, time: 12007.028
[163.470 s] Query 4300 done, time: 12067.232
[165.939 s] Query 2900 done, time: 12146.787
[166.925 s] Query 6800 done, time: 12161.255
[168.046 s] Query results (vector ids, then distances):
query 0, qrange {6, 10418, 93742}
      nns 0 id:889953 attr:68213 dis:83.5003
      nns 1 id:807214 attr:6 dis:85.6847
      nns 2 id:333483 attr:49490 dis:86.9214
      nns 3 id:521249 attr:14113 dis:88.0688
      nns 4 id:418474 attr:6 dis:88.657
      nns 5 id:662806 attr:6 dis:88.7559
      nns 6 id:467816 attr:6 dis:89.4726
      nns 7 id:239994 attr:6 dis:89.9799
      nns 8 id:694505 attr:89822 dis:90.7114
      nns 9 id:809944 attr:6 dis:91.4546

query 1, qrange {6, 871, 84222}
      nns 0 id:963956 attr:19 dis:53.1918
      nns 1 id:506689 attr:83207 dis:53.4093
      nns 2 id:630027 attr:60046 dis:53.6591
      nns 3 id:326679 attr:4165 dis:54.3874
      nns 4 id:172456 attr:6 dis:54.5904
      nns 5 id:627139 attr:56170 dis:54.5904
      nns 6 id:689633 attr:43777 dis:54.6711
      nns 7 id:867145 attr:68811 dis:55.5917
      nns 8 id:380703 attr:15922 dis:55.6837
      nns 9 id:546210 attr:6 dis:56.3726

query 2, qrange {6, 2953, 86302}
      nns 0 id:423205 attr:46713 dis:132.517
      nns 1 id:531527 attr:49795 dis:135.263
      nns 2 id:871743 attr:85658 dis:136.001
      nns 3 id:947479 attr:343 dis:137.157
      nns 4 id:633590 attr:10 dis:137.396
      nns 5 id:308085 attr:55976 dis:137.761
      nns 6 id:528201 attr:60263 dis:137.993
      nns 7 id:529153 attr:96313 dis:138.98
      nns 8 id:509845 attr:63335 dis:139.068
      nns 9 id:666817 attr:61632 dis:139.336

query 3, qrange {6, 1285, 84611}
      nns 0 id:462979 attr:51579 dis:141.83
      nns 1 id:421752 attr:10 dis:145.172
      nns 2 id:505074 attr:20 dis:147.46
      nns 3 id:870912 attr:19 dis:153.062
      nns 4 id:26879 attr:16840 dis:159.987
      nns 5 id:205071 attr:65142 dis:164.129
      nns 6 id:99295 attr:13036 dis:167.02
      nns 7 id:873503 attr:85666 dis:167.047
      nns 8 id:62225 attr:27952 dis:168.615
      nns 9 id:376313 attr:57309 dis:170.307

query 4, qrange {6, 13289, 96651}
      nns 0 id:314093 attr:51859 dis:52.6705
      nns 1 id:719380 attr:6 dis:56.2253
      nns 2 id:690285 attr:95271 dis:63.1432
      nns 3 id:223865 attr:30084 dis:65.6015
      nns 4 id:461345 attr:34528 dis:71.5564
      nns 5 id:89809 attr:62375 dis:72.466
      nns 6 id:829463 attr:43989 dis:74.037
      nns 7 id:135316 attr:6 dis:75.2755
      nns 8 id:62933 attr:58365 dis:75.294
      nns 9 id:33136 attr:6 dis:75.6442

[168.047 s] *** Query time: 12166.088376
qps:0.821957
cmp per query:1000000
recall: 1 of course
sel distribution: 0 0 0 0 0.9146 0.0854 0 0 0 0 0 
selectivity: 0.499774
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[168.059 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth_arbi 1000000 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_10.json 10 1024 128"
	User time (seconds): 8589.63
	System time (seconds): 188.84
	Percent of CPU this job got: 5215%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:48.31
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8066048
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 15351582
	Voluntary context switches: 49680
	Involuntary context switches: 1206047
	Swaps: 0
	File system inputs: 8087904
	File system outputs: 1624
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 1000000
dataset: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
attr: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
qrange: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json
output: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_10.json
topk: 10
dim: 1024
thread_num: 128
start
[2.564 s] Loaded dataset, size=1000000, dim=1024
[2.694 s] Loaded attr, size=1000000
[2.694 s] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, size=10000
[2.718 s] Loaded query vectors
[2.720 s] Loaded 10000 queries
====================Vectors====================

[44.471 s] Loading database
data loaded, with dim: 1024, nb=1000000
[44.471 s] Indexing database, size 1000000*1024 from max 1000000
[46.435 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[46.663 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[46.857 s] Query 0 done, time: 0.138
[47.086 s] Query 2200 done, time: 10.698
[47.113 s] Query 6100 done, time: 11.641
[47.392 s] Query 1500 done, time: 23.174
[47.424 s] Query 5400 done, time: 27.637
[47.495 s] Query 9300 done, time: 34.943
[48.186 s] Query 4700 done, time: 69.436
[48.612 s] Query 4000 done, time: 92.141
[48.764 s] Query 8600 done, time: 103.595
[48.784 s] Query 400 done, time: 105.867
[49.082 s] Query 7900 done, time: 121.481
[49.434 s] Query 2600 done, time: 141.810
[49.985 s] Query 7200 done, time: 175.688
[50.374 s] Query 3300 done, time: 200.178
[50.807 s] Query 6500 done, time: 225.223
[50.888 s] Query 5100 done, time: 227.923
[50.889 s] Query 9700 done, time: 229.356
[50.994 s] Query 800 done, time: 233.097
[51.560 s] Query 1200 done, time: 266.520
[51.663 s] Query 1900 done, time: 271.667
[51.684 s] Query 9000 done, time: 272.330
[51.912 s] Query 8300 done, time: 284.827
[52.006 s] Query 4400 done, time: 289.587
[52.048 s] Query 5800 done, time: 290.224
[53.239 s] Query 7600 done, time: 358.142
[53.511 s] Query 9400 done, time: 367.921
[53.610 s] Query 3000 done, time: 376.823
[53.650 s] Query 3700 done, time: 379.996
[53.902 s] Query 6900 done, time: 390.442
[53.922 s] Query 100 done, time: 392.927
[54.935 s] Query 2300 done, time: 446.575
[55.410 s] Query 1600 done, time: 468.644
[55.519 s] Query 6200 done, time: 477.416
[55.742 s] Query 5500 done, time: 487.044
[55.876 s] Query 500 done, time: 496.178
[56.460 s] Query 8000 done, time: 529.332
[56.727 s] Query 4800 done, time: 545.011
[56.863 s] Query 4100 done, time: 552.565
[57.503 s] Query 8700 done, time: 588.259
[57.879 s] Query 6600 done, time: 609.346
[58.101 s] Query 900 done, time: 620.805
[58.481 s] Query 7300 done, time: 640.603
[58.679 s] Query 5900 done, time: 652.598
[58.705 s] Query 2700 done, time: 654.344
[58.813 s] Query 9800 done, time: 659.543
[58.881 s] Query 3400 done, time: 664.559
[59.339 s] Query 8400 done, time: 688.998
[59.553 s] Query 1300 done, time: 698.369
[59.768 s] Query 2000 done, time: 710.575
[59.928 s] Query 9100 done, time: 718.914
[60.059 s] Query 5200 done, time: 725.148
[60.167 s] Query 4500 done, time: 728.475
[60.696 s] Query 7700 done, time: 762.774
[60.944 s] Query 7000 done, time: 773.513
[61.319 s] Query 3800 done, time: 797.009
[61.674 s] Query 200 done, time: 818.339
[62.005 s] Query 3100 done, time: 833.756
[62.700 s] Query 6300 done, time: 871.773
[62.805 s] Query 1700 done, time: 878.929
[63.019 s] Query 2400 done, time: 887.762
[63.164 s] Query 4900 done, time: 897.360
[63.179 s] Query 600 done, time: 898.798
[63.236 s] Query 8800 done, time: 900.690
[63.647 s] Query 9500 done, time: 921.378
[63.714 s] Query 3500 done, time: 924.295
[64.069 s] Query 5600 done, time: 945.118
[64.069 s] Query 8100 done, time: 945.494
[64.366 s] Query 1000 done, time: 960.300
[64.902 s] Query 7400 done, time: 987.819
[64.962 s] Query 6000 done, time: 991.070
[64.988 s] Query 2800 done, time: 992.547
[65.041 s] Query 6700 done, time: 994.429
[65.198 s] Query 1400 done, time: 1005.987
[65.221 s] Query 4200 done, time: 1008.461
[65.985 s] Query 2100 done, time: 1049.956
[66.158 s] Query 8500 done, time: 1058.323
[66.403 s] Query 9900 done, time: 1072.251
[66.407 s] Query 9200 done, time: 1073.033
[66.728 s] Query 3900 done, time: 1089.490
[66.776 s] Query 4600 done, time: 1091.503
[66.800 s] Query 5300 done, time: 1092.409
[67.925 s] Query 2500 done, time: 1151.715
[68.006 s] Query 3200 done, time: 1156.313
[68.379 s] Query 7100 done, time: 1175.797
[68.966 s] Query 700 done, time: 1204.829
[69.174 s] Query 7800 done, time: 1215.629
[69.528 s] Query 9600 done, time: 1234.207
[69.589 s] Query 6400 done, time: 1237.822
[70.045 s] Query 1800 done, time: 1261.336
[70.106 s] Query 8900 done, time: 1263.526
[70.227 s] Query 8200 done, time: 1271.266
[70.257 s] Query 300 done, time: 1273.507
[70.498 s] Query 5700 done, time: 1286.133
[70.588 s] Query 4300 done, time: 1290.816
[70.653 s] Query 1100 done, time: 1295.213
[71.516 s] Query 5000 done, time: 1337.199
[71.885 s] Query 7500 done, time: 1355.637
[71.901 s] Query 6800 done, time: 1357.085
[72.197 s] Query 3600 done, time: 1371.788
[72.922 s] Query 2900 done, time: 1388.696
[72.987 s] Query results (vector ids, then distances):
query 0, qrange {10, 29652, 63053}
      nns 0 id:980214 attr:6 dis:88.5672
      nns 1 id:737273 attr:55252 dis:91.1993
      nns 2 id:952701 attr:65239 dis:93.3746
      nns 3 id:336603 attr:41586 dis:94.061
      nns 4 id:16765 attr:90599 dis:94.0854
      nns 5 id:991479 attr:76766 dis:96.063
      nns 6 id:863882 attr:6 dis:96.1892
      nns 7 id:202136 attr:20 dis:96.3385
      nns 8 id:76521 attr:96391 dis:96.6565
      nns 9 id:283397 attr:4891 dis:96.7027

query 1, qrange {10, 21798, 55183}
      nns 0 id:358433 attr:13457 dis:54.5818
      nns 1 id:411735 attr:53826 dis:55.1049
      nns 2 id:762596 attr:6 dis:57.3115
      nns 3 id:653907 attr:70875 dis:59.0882
      nns 4 id:485054 attr:6 dis:59.3328
      nns 5 id:753176 attr:10 dis:59.3685
      nns 6 id:295338 attr:20 dis:59.5196
      nns 7 id:908662 attr:10 dis:60.1134
      nns 8 id:821906 attr:6 dis:60.1809
      nns 9 id:578863 attr:50735 dis:60.9367

query 2, qrange {10, 52376, 85679}
      nns 0 id:225875 attr:13229 dis:136.506
      nns 1 id:464997 attr:41748 dis:139.443
      nns 2 id:698610 attr:6 dis:140.74
      nns 3 id:677717 attr:22673 dis:140.872
      nns 4 id:67581 attr:54414 dis:142.2
      nns 5 id:907166 attr:10 dis:142.668
      nns 6 id:812421 attr:30697 dis:142.744
      nns 7 id:39208 attr:10 dis:143.307
      nns 8 id:189077 attr:61917 dis:143.481
      nns 9 id:308623 attr:70098 dis:143.918

query 3, qrange {10, 54432, 87740}
      nns 0 id:263195 attr:52685 dis:178.33
      nns 1 id:178166 attr:6 dis:180.553
      nns 2 id:136177 attr:10503 dis:181.36
      nns 3 id:117658 attr:10 dis:184.267
      nns 4 id:159269 attr:1572 dis:184.646
      nns 5 id:960065 attr:21061 dis:186.3
      nns 6 id:373736 attr:6 dis:186.855
      nns 7 id:496154 attr:6 dis:187.193
      nns 8 id:195003 attr:84381 dis:187.261
      nns 9 id:242590 attr:6 dis:187.428

query 4, qrange {10, 16884, 50269}
      nns 0 id:729225 attr:73615 dis:74.3525
      nns 1 id:725265 attr:93655 dis:78.0492
      nns 2 id:565522 attr:10 dis:79.7605
      nns 3 id:693282 attr:10 dis:79.9107
      nns 4 id:203716 attr:10 dis:93.1654
      nns 5 id:561793 attr:81060 dis:94.4326
      nns 6 id:258251 attr:47005 dis:96.4518
      nns 7 id:86342 attr:6 dis:99.1769
      nns 8 id:88323 attr:53150 dis:101.451
      nns 9 id:652567 attr:22431 dis:101.817

[72.987 s] *** Query time: 1388.812384
qps:7.2004
cmp per query:1000000
recall: 1 of course
sel distribution: 0.5277 0.4723 0 0 0 0 0 0 0 0 0 
selectivity: 0.100045
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[73.012 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth_arbi 1000000 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_10.json 10 1024 128"
	User time (seconds): 3128.57
	System time (seconds): 11.83
	Percent of CPU this job got: 4285%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:13.28
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8066048
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3446752
	Voluntary context switches: 12343
	Involuntary context switches: 156106
	Swaps: 0
	File system inputs: 0
	File system outputs: 1608
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
