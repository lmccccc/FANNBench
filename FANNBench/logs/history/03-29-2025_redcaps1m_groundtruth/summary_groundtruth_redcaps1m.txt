

===============================================================================================================
START: generating groundtruth

N: 1000000
dataset: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
attr: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
query: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
qrange: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_1_1_100000_real.json
output: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_1_1_100000_real_10.json
topk: 10
dim: 512
start
[1.071 s] Loaded dataset, size=1000000, dim=512
[1.146 s] Loaded attr, size=1000000
[1.146 s] Loading query vectors and attributes
query vecs data loaded, with dim: 512, size=10000
[1.284 s] Loaded query vectors
[1.288 s] Loaded 10000 queries
====================Vectors====================

[5.916 s] Loading database
data loaded, with dim: 512, nb=1000000
[5.916 s] Indexing database, size 1000000*512 from max 1000000
[6.833 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[6.910 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[47.401 s] Query results (vector ids, then distances):
query 0, qrange [1250443791, 1609459076]
      nns 0 id:727106 attr:1557359735 dis:0.62867
      nns 1 id:562528 attr:1586530455 dis:0.640719
      nns 2 id:268161 attr:1597188224 dis:0.659009
      nns 3 id:247269 attr:1563268918 dis:0.675931
      nns 4 id:646437 attr:1533316338 dis:0.695654
      nns 5 id:864174 attr:1586141206 dis:0.743074
      nns 6 id:451328 attr:1592339349 dis:0.74962
      nns 7 id:7102 attr:1609385900 dis:0.758227
      nns 8 id:64073 attr:1552081912 dis:0.759647
      nns 9 id:302070 attr:1529172082 dis:0.76279

query 1, qrange [1250443791, 1609459076]
      nns 0 id:363220 attr:1580588215 dis:0.0916659
      nns 1 id:253654 attr:1604521057 dis:0.0987221
      nns 2 id:741325 attr:1559616195 dis:0.0996124
      nns 3 id:666880 attr:1555641433 dis:0.100505
      nns 4 id:979250 attr:1523372340 dis:0.1007
      nns 5 id:728340 attr:1587919683 dis:0.10094
      nns 6 id:660394 attr:1588821207 dis:0.102913
      nns 7 id:622447 attr:1532959985 dis:0.102932
      nns 8 id:964028 attr:1579883899 dis:0.105621
      nns 9 id:199154 attr:1601707637 dis:0.106245

query 2, qrange [1250443791, 1609459076]
      nns 0 id:355537 attr:1550334893 dis:0.223724
      nns 1 id:880455 attr:1548258623 dis:0.225104
      nns 2 id:964377 attr:1605131892 dis:0.226265
      nns 3 id:306439 attr:1575579764 dis:0.237904
      nns 4 id:757728 attr:1605423787 dis:0.240495
      nns 5 id:940490 attr:1538475549 dis:0.245712
      nns 6 id:193180 attr:1562795054 dis:0.248944
      nns 7 id:216922 attr:1609232106 dis:0.255857
      nns 8 id:75885 attr:1601934153 dis:0.256426
      nns 9 id:410774 attr:1549698655 dis:0.258191

query 3, qrange [1250443791, 1609459076]
      nns 0 id:689368 attr:1563091635 dis:0.403229
      nns 1 id:889987 attr:1593644784 dis:0.403229
      nns 2 id:583699 attr:1511048352 dis:0.405109
      nns 3 id:783586 attr:1584449301 dis:0.409305
      nns 4 id:428067 attr:1496315424 dis:0.432816
      nns 5 id:907599 attr:1562830155 dis:0.446228
      nns 6 id:124464 attr:1588791594 dis:0.448711
      nns 7 id:640717 attr:1593715105 dis:0.455442
      nns 8 id:905275 attr:1491272214 dis:0.459364
      nns 9 id:687871 attr:1584368476 dis:0.459873

query 4, qrange [1250443791, 1609459076]
      nns 0 id:582698 attr:1557087889 dis:0.259985
      nns 1 id:522469 attr:1606475445 dis:0.260335
      nns 2 id:176027 attr:1580588338 dis:0.268897
      nns 3 id:695669 attr:1587844268 dis:0.269097
      nns 4 id:797013 attr:1605732191 dis:0.272967
      nns 5 id:234795 attr:1600891554 dis:0.273681
      nns 6 id:189529 attr:1600981496 dis:0.281352
      nns 7 id:931553 attr:1570901224 dis:0.283668
      nns 8 id:598411 attr:1595872318 dis:0.286029
      nns 9 id:892178 attr:1586648068 dis:0.288327

[47.402 s] *** Query time: 40.491068
qps:246.968
cmp per query:1000000
recall: 1 of course
sel distribution: 0 0 0 0 0 0 0 0 0 0 1 
selectivity: 1
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[47.410 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 1000000 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/attr_sel_1_100000_real.json /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/qrangesel_1_1_100000_real.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_100000_real/sif_gt_sel_1_1_100000_real_10.json 10 512"
	User time (seconds): 4167.32
	System time (seconds): 562.32
	Percent of CPU this job got: 9937%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:47.59
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 4041728
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 26
	Minor (reclaiming a frame) page faults: 18195171
	Voluntary context switches: 77668
	Involuntary context switches: 156585
	Swaps: 0
	File system inputs: 74608
	File system outputs: 1600
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
