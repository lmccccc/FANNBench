Start time: 23:48
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_100.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_500_random_64
nprobe: 200
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.694s ] Loaded metadata, 10000000 attr's found
[ 0.694s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.697s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.698s ] Loaded 10000 sift10M queries
[ 0.766s ] Loaded ground truth, gt_size: 100
[ 0.766s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.114s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 158.383s ] Query results (vector ids, then distances):
query 0 nn's (6, 6): 2898305 (6) 1167995 (6) 2515600 (6) 4738758 (6) 7077742 (6) 1160663 (6) 5514922 (6) 2923944 (6) 8191903 (6) 9397776 (6) 7860530 (6) 1928425 (6) 6984373 (6) 9313115 (6) 238649 (6) 9925949 (6) 2115887 (6) 5579551 (6) 7866119 (6) 7468388 (6) 6951413 (6) 2807602 (6) 7164607 (6) 1174332 (6) 9251169 (6) 8851580 (6) 888010 (6) 2213388 (6) 5343331 (6) 8435256 (6) 2078396 (6) 5710919 (6) 578867 (6) 2250118 (6) 2549151 (6) 3670000 (6) 5341499 (6) 1297904 (6) 5305337 (6) 5228659 (6) 463666 (6) 5916323 (6) 9409479 (6) 5520369 (6) 6019325 (6) 447965 (6) 3879851 (6) 7011791 (6) 2481703 (6) 419470 (6) 5308027 (6) 331007 (6) 6450744 (6) 7912999 (6) 1665852 (6) 4689336 (6) 1892471 (6) 9103413 (6) 2365415 (6) 4072432 (6) 6009021 (6) 1929740 (6) 242725 (6) 4218358 (6) 6329451 (6) 3435228 (6) 476293 (6) 8644324 (6) 6304441 (6) 628292 (6) 7920998 (6) 1249067 (6) 3938476 (6) 7873837 (6) 5835685 (6) 6321391 (6) 6328993 (6) 7237592 (6) 7033151 (6) 4698776 (6) 4671898 (6) 3022114 (6) 4396835 (6) 9237550 (6) 8610630 (6) 3094752 (6) 3149007 (6) 2986000 (6) 1810730 (6) 9501438 (6) 6560693 (6) 3409110 (6) 3031693 (6) 7455148 (6) 1000673 (6) 3955364 (6) 9839146 (6) 705774 (6) 5324763 (6) 9119171 (6) 
     dis: 	66765.047 71651.016 73713.344 74449.000 75033.797 75556.305 76009.422 76887.211 76944.016 77291.453 77340.297 77713.047 79123.875 79160.625 79288.008 79460.570 79568.688 79848.227 79879.164 80065.812 80255.836 80429.219 80437.930 80524.172 80605.602 80692.102 80957.234 81010.703 81300.031 81425.648 81510.000 81601.328 81624.977 81983.359 82009.852 82147.250 82525.102 82618.562 82618.688 82670.953 82689.266 82748.586 82767.234 83093.297 83249.094 83733.109 83737.773 83768.516 83899.914 83956.883 84137.711 84183.234 84198.891 84291.852 84313.766 84342.820 84360.828 84686.773 84720.797 84782.445 84927.891 84965.250 85041.883 85072.000 85074.328 85112.391 85113.727 85159.109 85218.484 85314.078 85380.312 85407.672 85543.109 85579.766 85599.055 85601.234 85651.727 85781.586 85789.172 85799.977 85885.023 85926.227 86023.672 86161.984 86188.344 86347.859 86371.281 86557.508 86666.164 86671.859 86732.500 86870.117 86877.672 86883.742 86892.023 86920.211 86940.688 86965.312 86979.680 86997.477 
query 1 nn's (6, 6): 8449497 (6) 1273419 (6) 5552416 (6) 1263214 (6) 4234271 (6) 2253711 (6) 411491 (6) 1233453 (6) 9791343 (6) 9219153 (6) 469965 (6) 6265610 (6) 1909131 (6) 3309105 (6) 8596968 (6) 522429 (6) 7343838 (6) 1120308 (6) 7331745 (6) 7917424 (6) 2993914 (6) 9537422 (6) 1745130 (6) 5531491 (6) 5589386 (6) 9015118 (6) 7120642 (6) 1503119 (6) 375999 (6) 1843885 (6) 3631651 (6) 7692715 (6) 6986308 (6) 9167559 (6) 6073626 (6) 7693023 (6) 8918460 (6) 1526669 (6) 7031326 (6) 8590082 (6) 1346170 (6) 3786289 (6) 4702839 (6) 3050119 (6) 9577495 (6) 8675363 (6) 5313986 (6) 1341845 (6) 8175356 (6) 8440112 (6) 1000577 (6) 9553578 (6) 1410399 (6) 7342014 (6) 4364584 (6) 8518091 (6) 3744772 (6) 2652241 (6) 895436 (6) 1461697 (6) 6383821 (6) 4009753 (6) 2353489 (6) 5869072 (6) 7968009 (6) 3083636 (6) 963644 (6) 7512095 (6) 9868698 (6) 5790422 (6) 695127 (6) 4960102 (6) 2093850 (6) 8743749 (6) 3200275 (6) 3376639 (6) 7062500 (6) 3740235 (6) 1012664 (6) 6692864 (6) 2235415 (6) 8155958 (6) 3594866 (6) 7859261 (6) 7610510 (6) 3648617 (6) 5423598 (6) 7513620 (6) 8441546 (6) 735668 (6) 3891904 (6) 109736 (6) 3435206 (6) 6491365 (6) 1932354 (6) 3041986 (6) 3813783 (6) 2027961 (6) 7807906 (6) 5349437 (6) 
     dis: 	34675.906 43367.484 44178.637 45585.180 46459.625 46911.375 46944.781 48208.215 50356.211 50457.156 50862.172 50865.762 50930.734 51774.984 52154.500 52287.395 52916.973 53769.281 54280.656 54321.969 54854.723 54862.301 55052.254 55684.723 55928.781 56188.117 56234.414 56283.613 56306.523 56602.234 56993.523 57096.102 57175.973 57215.098 57264.012 57562.402 57776.910 57839.293 57857.180 57993.969 58092.207 58428.172 58443.680 58487.938 59074.578 59134.277 59333.684 59334.367 59577.227 60103.859 60112.844 60146.551 61030.488 61074.191 61096.371 61106.062 61224.898 61280.977 61381.047 61403.609 61717.945 61839.684 62165.055 62304.578 62572.281 63260.641 63355.734 63363.586 63442.453 63463.910 63469.816 63530.359 63610.539 63694.961 64252.609 64337.113 64365.359 64469.559 64538.750 64710.379 64733.453 65044.641 65057.215 65062.082 65109.535 65161.883 65213.836 65287.883 65302.855 65308.414 65389.383 65643.906 65715.086 65804.023 65892.430 65904.672 65911.609 65930.492 66006.016 66018.664 
query 2 nn's (6, 6): 8667807 (6) 237844 (6) 2304211 (6) 4791170 (6) 9466222 (6) 1571863 (6) 2448858 (6) 199400 (6) 7500565 (6) 6296252 (6) 5988705 (6) 9554416 (6) 9416415 (6) 2795236 (6) 6347813 (6) 9068473 (6) 893390 (6) 8863268 (6) 8068558 (6) 9410320 (6) 2994193 (6) 4154052 (6) 8923155 (6) 4757879 (6) 4279056 (6) 3942637 (6) 9362419 (6) 6114289 (6) 1329974 (6) 5770225 (6) 7701746 (6) 3832486 (6) 9457112 (6) 4555038 (6) 4048068 (6) 1229611 (6) 8915550 (6) 436139 (6) 4433607 (6) 9559093 (6) 409456 (6) 8198272 (6) 7508409 (6) 2393824 (6) 419195 (6) 40266 (6) 9330360 (6) 1160482 (6) 8563094 (6) 8070798 (6) 8476333 (6) 9790465 (6) 8530462 (6) 1463083 (6) 8590994 (6) 5631784 (6) 4450077 (6) 2346097 (6) 888761 (6) 7685482 (6) 3967402 (6) 3567890 (6) 1956474 (6) 3795529 (6) 7298098 (6) 5596868 (6) 4861540 (6) 7011882 (6) 4135242 (6) 5563048 (6) 3061201 (6) 8690196 (6) 8635193 (6) 4713533 (6) 2180225 (6) 2319775 (6) 5619678 (6) 2027436 (6) 1860330 (6) 4822642 (6) 2723946 (6) 2038327 (6) 8333106 (6) 8759413 (6) 9384590 (6) 764856 (6) 4735422 (6) 6511526 (6) 3140269 (6) 1625792 (6) 4111853 (6) 1795636 (6) 8801441 (6) 2036301 (6) 5715023 (6) 445822 (6) 8064334 (6) 1758192 (6) 1297680 (6) 1561941 (6) 
     dis: 	47426.219 48618.285 48717.477 49081.809 50569.738 50657.430 50719.492 50734.125 50812.055 51111.473 51314.062 51949.832 52016.340 52135.250 52399.180 52601.242 52645.602 52915.633 53144.305 53175.371 53371.535 53435.875 53462.258 53532.156 53604.242 53702.543 53851.586 54263.848 54381.930 54427.277 54475.680 54556.828 54621.852 54675.426 54762.965 54814.926 55013.816 55137.418 55301.043 55350.547 55511.426 55552.156 55581.117 55774.430 55788.906 55882.117 56147.039 56225.535 56239.559 56349.523 56410.578 56458.984 56664.164 56718.816 56800.223 57083.383 57172.215 57442.148 57520.980 57530.480 57569.703 57582.555 57704.797 57720.645 57744.156 57830.797 57841.598 58027.391 58036.250 58055.496 58144.371 58145.320 58162.898 58267.445 58300.445 58374.852 58394.266 58402.773 58465.961 58534.133 58541.184 58659.836 58708.711 58709.562 58745.953 58829.391 58888.234 58927.723 59034.449 59043.293 59149.098 59343.828 59366.785 59442.957 59457.438 59492.582 59493.871 59533.488 59581.746 59674.273 
query 3 nn's (6, 6): 4083199 (6) 2205832 (6) 4147780 (6) 8410503 (6) 8174765 (6) 3643741 (6) 1985932 (6) 2965607 (6) 7301932 (6) 3143192 (6) 9132978 (6) 9010353 (6) 8419826 (6) 3459738 (6) 1911911 (6) 727241 (6) 7914184 (6) 8649378 (6) 2218358 (6) 4998281 (6) 6411621 (6) 6760157 (6) 1739894 (6) 4246457 (6) 4486659 (6) 1514080 (6) 1344917 (6) 9019201 (6) 692217 (6) 5755561 (6) 6486623 (6) 3633444 (6) 7709017 (6) 9925791 (6) 2630576 (6) 992744 (6) 5792548 (6) 9625994 (6) 6804450 (6) 7691560 (6) 7119531 (6) 1028926 (6) 9335193 (6) 9354839 (6) 5430458 (6) 5777538 (6) 7749958 (6) 2168780 (6) 7614050 (6) 9517308 (6) 2236726 (6) 6317467 (6) 422848 (6) 840086 (6) 7865854 (6) 6697954 (6) 1502235 (6) 8702151 (6) 686764 (6) 9166 (6) 3252978 (6) 1133113 (6) 5293699 (6) 3828353 (6) 578322 (6) 936598 (6) 6346885 (6) 6281603 (6) 2659564 (6) 7556732 (6) 8344580 (6) 7463079 (6) 82034 (6) 9332155 (6) 8388591 (6) 9421859 (6) 1604878 (6) 7745448 (6) 1085693 (6) 3522530 (6) 5651613 (6) 1229577 (6) 9947826 (6) 9102009 (6) 6306155 (6) 9469929 (6) 5627714 (6) 7278201 (6) 2305251 (6) 5663020 (6) 8381527 (6) 3723247 (6) 1874032 (6) 2842840 (6) 4673685 (6) 5561400 (6) 7691164 (6) 8326154 (6) 5442116 (6) 9484002 (6) 
     dis: 	3992.139 4390.735 4460.316 4869.371 5049.834 5288.036 5306.944 5359.460 5486.950 5496.971 5537.525 5967.745 6124.554 6145.322 6174.690 6198.656 6241.693 6296.265 6305.340 6415.198 6483.879 6591.960 6747.278 6787.027 6964.243 7087.833 7147.005 7228.387 7241.440 7292.860 7326.905 7345.663 7460.148 7477.250 7478.721 7734.474 7766.236 7823.001 7929.480 7961.448 7965.099 7991.773 8005.697 8039.517 8119.035 8121.604 8180.301 8232.581 8248.738 8269.359 8279.927 8289.377 8330.717 8386.378 8450.070 8507.957 8566.945 8598.271 8652.689 8687.346 8701.215 8712.269 8737.256 8952.893 8970.202 8999.791 9076.889 9081.689 9123.775 9139.252 9211.904 9226.656 9265.918 9521.298 9572.715 9593.152 9597.407 9654.684 9656.084 9730.078 9745.374 9788.786 9809.697 9827.951 9869.879 9884.258 9998.140 10004.102 10022.454 10030.300 10109.354 10127.214 10128.482 10139.350 10169.544 10189.079 10216.834 10240.757 10259.992 10283.998 
query 4 nn's (6, 6): 7241286 (6) 3918536 (6) 811272 (6) 7963557 (6) 3477074 (6) 1751938 (6) 3220361 (6) 1141817 (6) 769923 (6) 6408001 (6) 7603300 (6) 1850409 (6) 3637016 (6) 2989150 (6) 3842053 (6) 3650068 (6) 1543122 (6) 4380344 (6) 8630333 (6) 5175563 (6) 3495449 (6) 4830381 (6) 2732612 (6) 5826594 (6) 2251576 (6) 7423926 (6) 64045 (6) 3004652 (6) 8229155 (6) 9067729 (6) 1020874 (6) 5568433 (6) 4158427 (6) 3839204 (6) 797235 (6) 303093 (6) 8756074 (6) 5277554 (6) 149112 (6) 5314473 (6) 1903346 (6) 9383376 (6) 5707536 (6) 1272627 (6) 4719865 (6) 9170163 (6) 4331349 (6) 417315 (6) 8972367 (6) 2283262 (6) 4399052 (6) 330880 (6) 8838225 (6) 5001194 (6) 163735 (6) 9908089 (6) 718421 (6) 1375658 (6) 7559534 (6) 2454280 (6) 9831067 (6) 6258948 (6) 7907570 (6) 6658100 (6) 6699578 (6) 1686408 (6) 379765 (6) 6784852 (6) 3823000 (6) 6330957 (6) 9036622 (6) 2779329 (6) 3803911 (6) 5913705 (6) 3903546 (6) 1953827 (6) 2945464 (6) 2617346 (6) 9796242 (6) 6652896 (6) 1243221 (6) 4128605 (6) 5130355 (6) 9821817 (6) 3814747 (6) 571010 (6) 9418375 (6) 4732552 (6) 6565772 (6) 6532078 (6) 1784595 (6) 7952787 (6) 2910219 (6) 5295225 (6) 6736089 (6) 7015457 (6) 7302816 (6) 6268630 (6) 8387951 (6) 3733398 (6) 
     dis: 	76361.453 78550.016 80326.258 80867.031 81320.172 82020.328 83737.969 84921.539 85400.797 87721.891 88149.812 88166.188 88189.055 88918.922 89893.477 89936.711 90405.859 90454.750 90553.391 90696.086 90953.297 91450.578 91454.977 91578.945 91794.297 92174.906 92287.250 92337.797 92516.812 92605.625 93192.031 93385.875 93389.141 93462.016 93564.945 93621.461 93696.922 93755.000 93809.383 94164.961 94277.891 94352.438 94376.031 94447.328 94478.422 94594.641 94622.734 94690.039 94829.570 95037.492 95095.461 95185.766 95211.523 95343.516 95422.609 95511.352 95610.977 95619.711 95637.016 95705.812 95803.266 95929.125 96033.133 96054.906 96058.508 96123.875 96318.602 96374.961 96377.086 96403.219 96448.031 96487.570 96666.266 96894.516 96964.695 97154.828 97155.922 97266.703 97317.281 97498.211 97559.125 97578.977 97668.047 97762.789 97766.461 97882.281 97909.828 98012.180 98064.352 98201.570 98315.453 98572.344 98577.297 98666.297 98737.984 98854.766 99041.242 99074.750 99077.109 99088.422 
[ 158.384s ] *** Query time: 98.664
qps: 101.354
 *** ivfpq recall 
ivfpq get 891598 postive res from 1000000 results, recall@100:0.892
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.001 0.025 0.458 0.517 0.000 
finished ivfpq index examples
[ 158.412s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_100.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_500_random_64 200 128"
	User time (seconds): 156.43
	System time (seconds): 1.26
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:38.53
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1605540
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 415558
	Voluntary context switches: 2759
	Involuntary context switches: 85
	Swaps: 0
	File system inputs: 99752
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:51
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_100.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_500_random_64
nprobe: 200
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.692s ] Loaded metadata, 10000000 attr's found
[ 0.692s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.695s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.696s ] Loaded 10000 sift10M queries
[ 0.765s ] Loaded ground truth, gt_size: 100
[ 0.765s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.224s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 116.267s ] Query results (vector ids, then distances):
query 0 nn's (10, 10): 4160485 (10) 7632021 (10) 5423931 (10) 9485971 (10) 5643020 (10) 7873580 (10) 1203246 (10) 6002319 (10) 1698351 (10) 8771139 (10) 2051236 (10) 392808 (10) 3474811 (10) 5128198 (10) 8364178 (10) 7842689 (10) 4586713 (10) 9299823 (10) 7585271 (10) 7263957 (10) 3068799 (10) 9584266 (10) 3072377 (10) 1708550 (10) 3539433 (10) 2702664 (10) 5066003 (10) 9082011 (10) 4699500 (10) 902148 (10) 3627409 (10) 5315711 (10) 3390335 (10) 9541713 (10) 9823129 (10) 8423092 (10) 8360507 (10) 7868374 (10) 2312218 (10) 5008601 (10) 1508937 (10) 6591990 (10) 5327123 (10) 4124875 (10) 7583921 (10) 5500930 (10) 2260181 (10) 8031075 (10) 993318 (10) 6258663 (10) 429808 (10) 151474 (10) 7589020 (10) 3865688 (10) 8483563 (10) 7868501 (10) 3252917 (10) 704919 (10) 4441695 (10) 3287109 (10) 6800399 (10) 9433071 (10) 3720397 (10) 8843894 (10) 6052873 (10) 4910351 (10) 678609 (10) 4481800 (10) 9309037 (10) 5306693 (10) 1712794 (10) 4483915 (10) 9158543 (10) 1340784 (10) 2048439 (10) 3509825 (10) 7655881 (10) 593325 (10) 8989130 (10) 9597643 (10) 7292419 (10) 4302155 (10) 2777973 (10) 7826129 (10) 7258709 (10) 7486828 (10) 1295849 (10) 6090915 (10) 4890746 (10) 4107644 (10) 5789280 (10) 2554600 (10) 8422122 (10) 5455770 (10) 7100864 (10) 9428046 (10) 406534 (10) 9731665 (10) 740641 (10) 5041594 (10) 
     dis: 	65808.273 74173.891 76505.367 78848.219 81671.602 82992.828 83089.008 84146.875 84190.711 84290.312 85129.227 85875.797 85938.086 86182.430 86353.000 86398.547 86672.266 87003.547 87748.727 88163.227 88167.461 88249.898 88287.336 88479.805 88488.492 88691.742 88749.859 89052.102 89059.531 89203.367 89529.078 89592.000 89685.875 89736.297 89762.109 89791.359 90025.000 90031.609 90107.117 90282.688 90452.422 90509.414 90627.117 90645.555 90702.383 90740.781 90954.016 90957.234 91185.109 91219.531 91417.383 91670.844 91769.820 91819.734 91971.930 91999.805 92029.258 92192.648 92315.133 92378.836 92590.859 92720.805 92920.797 93077.773 93194.984 93283.555 93346.297 93418.953 93470.672 93573.109 93594.852 93670.516 93822.578 93933.766 93979.055 94055.445 94131.711 94182.789 94209.398 94287.430 94290.750 94494.789 94631.688 94700.812 94721.828 94767.102 94904.203 94958.109 95079.898 95336.508 95521.156 95707.633 95986.531 96265.750 96285.070 96365.711 96514.422 96526.562 96557.484 96754.742 
query 1 nn's (10, 10): 4907604 (10) 4922660 (10) 9933148 (10) 1887729 (10) 1259657 (10) 4689763 (10) 4512099 (10) 8588450 (10) 9349060 (10) 9211699 (10) 3665630 (10) 5226515 (10) 9913606 (10) 2234566 (10) 7502105 (10) 6674672 (10) 482087 (10) 6335574 (10) 2532663 (10) 9643854 (10) 4821002 (10) 8063568 (10) 1737968 (10) 1018756 (10) 6618543 (10) 3858730 (10) 5838578 (10) 3241120 (10) 8346283 (10) 2021990 (10) 4399493 (10) 9285737 (10) 7851813 (10) 9980694 (10) 5561330 (10) 6312393 (10) 2070607 (10) 2524359 (10) 9164450 (10) 5632105 (10) 4365144 (10) 5074486 (10) 9931915 (10) 4178652 (10) 5707690 (10) 5934521 (10) 801963 (10) 148395 (10) 8903515 (10) 9964913 (10) 4389334 (10) 4130277 (10) 9258708 (10) 2949812 (10) 7094836 (10) 1111247 (10) 9810387 (10) 7077341 (10) 797788 (10) 9967397 (10) 3881464 (10) 9719889 (10) 8757781 (10) 643587 (10) 6579804 (10) 8549337 (10) 4892821 (10) 3335948 (10) 8226202 (10) 8881883 (10) 954343 (10) 2604205 (10) 3553376 (10) 1589644 (10) 9220661 (10) 9275179 (10) 5013067 (10) 1395848 (10) 7379199 (10) 5234937 (10) 6742700 (10) 7546943 (10) 4357153 (10) 9820536 (10) 4771033 (10) 3566500 (10) 8448472 (10) 5682634 (10) 2749783 (10) 4546662 (10) 717773 (10) 2541318 (10) 6132369 (10) 1208441 (10) 6193228 (10) 9778277 (10) 7843147 (10) 4852337 (10) 6464600 (10) 3423010 (10) 
     dis: 	46325.406 53613.809 58435.215 58771.695 59024.137 59604.867 60561.609 60805.348 60923.992 61137.523 61351.906 62036.039 62185.766 62373.750 62821.535 62901.809 63094.770 63417.375 64794.828 65575.734 66044.539 66487.398 67115.039 67390.219 67606.312 68060.609 68088.328 68229.148 68439.836 68506.430 68819.875 68935.320 69079.711 69328.047 69526.156 69646.016 70182.828 70275.859 70724.750 70846.703 71213.453 71475.867 71659.414 71668.938 72083.453 72123.562 72336.875 72455.211 72643.562 72786.688 72794.523 72878.055 73020.516 73158.539 73206.594 73407.797 73621.844 73782.297 74064.797 74094.656 74096.547 74305.758 74374.281 74606.008 74889.297 75413.578 75469.555 75499.539 75587.859 75707.039 75733.344 75808.586 76293.484 76307.523 76587.547 76661.586 76905.422 77109.672 77170.797 77215.805 77663.359 77799.922 77804.688 77808.703 78107.844 78117.781 78245.734 78362.680 78447.445 78679.734 79187.141 79276.625 79323.094 79424.836 79787.219 79921.820 80005.766 80137.711 80151.125 80212.578 
query 2 nn's (10, 10): 3493381 (10) 5637368 (10) 4457160 (10) 2511585 (10) 1198061 (10) 4677344 (10) 9541874 (10) 5039283 (10) 944526 (10) 1878319 (10) 4907071 (10) 49352 (10) 6120728 (10) 2556455 (10) 3667879 (10) 4283746 (10) 8051890 (10) 871001 (10) 3224964 (10) 7366864 (10) 2855545 (10) 4848879 (10) 4112561 (10) 9165964 (10) 3095363 (10) 4167330 (10) 9375728 (10) 7221663 (10) 8064263 (10) 5407857 (10) 5088938 (10) 5274336 (10) 1897720 (10) 909313 (10) 8131606 (10) 3211459 (10) 9534509 (10) 4042128 (10) 2660391 (10) 9830393 (10) 9355645 (10) 5813545 (10) 8366019 (10) 4230661 (10) 8084363 (10) 9557793 (10) 1213154 (10) 2432664 (10) 1545324 (10) 3327268 (10) 9982250 (10) 4188703 (10) 4329845 (10) 1883447 (10) 9970439 (10) 1545425 (10) 1025392 (10) 8860131 (10) 2244705 (10) 419533 (10) 8394381 (10) 3579460 (10) 1418565 (10) 1597876 (10) 3134622 (10) 1066001 (10) 3689971 (10) 9745256 (10) 206324 (10) 2652720 (10) 4105778 (10) 2721821 (10) 7223977 (10) 5638422 (10) 9844531 (10) 2945338 (10) 932507 (10) 1519384 (10) 4090854 (10) 1070039 (10) 6664994 (10) 7734472 (10) 3570008 (10) 1248436 (10) 6226545 (10) 6535335 (10) 2797637 (10) 113541 (10) 2721941 (10) 4817838 (10) 5388482 (10) 7912354 (10) 7161229 (10) 6070654 (10) 3574174 (10) 9987972 (10) 9257315 (10) 6501663 (10) 7122531 (10) 116058 (10) 
     dis: 	50450.598 51124.438 51192.207 52887.113 53682.016 54733.289 55067.973 56066.062 57075.965 57470.113 57653.559 58241.039 58566.074 58709.367 58817.020 59385.438 59533.582 59759.668 59812.055 60668.312 61147.777 61165.996 61197.766 61257.535 61696.172 61974.961 62081.977 62221.141 62231.758 62290.656 62311.820 62373.047 62428.094 62779.367 62798.352 63062.422 63583.738 63850.414 63947.293 64011.281 64040.531 64055.797 64160.453 64590.602 64610.164 64760.320 65095.047 65104.926 65298.398 65396.926 65574.688 65640.664 65696.805 65871.578 66282.258 66287.453 66371.688 66405.414 66406.336 66434.398 66521.219 66847.633 67019.086 67039.383 67177.719 67240.656 67562.688 67606.805 67668.930 67733.344 67839.109 67843.781 67914.062 67942.789 68017.273 68030.938 68173.156 68289.320 68340.055 68583.352 68720.391 68787.914 68807.609 68948.562 69118.109 69126.797 69206.039 69230.086 69243.812 69307.414 69314.477 69391.562 69396.891 69403.398 69622.648 69762.297 69807.367 69831.328 69890.336 69971.922 
query 3 nn's (10, 10): 7269483 (10) 3278687 (10) 8381210 (10) 5381241 (10) 179529 (10) 8051314 (10) 3421950 (10) 1061321 (10) 222255 (10) 3112499 (10) 7216322 (10) 543054 (10) 7829631 (10) 4995291 (10) 3379947 (10) 240857 (10) 5619818 (10) 5026118 (10) 6711509 (10) 9906166 (10) 8372623 (10) 6447621 (10) 6934608 (10) 4189992 (10) 1896951 (10) 2464354 (10) 7505915 (10) 7127184 (10) 6485893 (10) 1656853 (10) 3877232 (10) 6776211 (10) 8420002 (10) 116302 (10) 3855680 (10) 3485217 (10) 7281219 (10) 406243 (10) 9927644 (10) 4759076 (10) 5661022 (10) 2648578 (10) 3649992 (10) 9231939 (10) 5122599 (10) 2393763 (10) 6993953 (10) 9664797 (10) 8013467 (10) 4593096 (10) 4117204 (10) 3547401 (10) 6468324 (10) 323107 (10) 6365231 (10) 2587214 (10) 3719519 (10) 9600421 (10) 808011 (10) 887194 (10) 5329509 (10) 2599501 (10) 8799515 (10) 5618980 (10) 4161085 (10) 9675475 (10) 2139674 (10) 5015756 (10) 3416860 (10) 352619 (10) 9561196 (10) 1448035 (10) 4319199 (10) 8523280 (10) 2596728 (10) 1705936 (10) 2065036 (10) 8995335 (10) 1570115 (10) 4845451 (10) 9692573 (10) 3309893 (10) 2762309 (10) 6144203 (10) 657903 (10) 5087658 (10) 4702241 (10) 3420222 (10) 1425829 (10) 1916764 (10) 3013029 (10) 5224258 (10) 9407537 (10) 1097904 (10) 7976875 (10) 3159877 (10) 7745296 (10) 6046982 (10) 7234124 (10) 5820689 (10) 
     dis: 	4677.812 7108.673 7162.343 7628.874 7642.829 7697.720 8002.963 8458.090 8810.335 9120.275 9182.552 9234.701 9452.702 9553.576 9804.844 10126.396 10309.062 10368.710 10494.709 10504.659 10665.839 10669.762 10795.918 10856.082 11101.407 11277.900 11334.286 11348.063 11686.734 11805.184 11872.945 12015.112 12228.438 12249.027 12619.093 12703.938 12859.092 12940.490 13036.415 13061.726 13180.498 13499.711 13520.236 13524.174 13664.893 13700.176 13738.918 13796.189 13893.861 13905.682 13908.320 13961.931 13985.818 13995.117 14010.317 14017.967 14075.624 14166.615 14313.403 14326.561 14381.589 14524.865 14736.498 14753.957 14913.156 15006.664 15088.265 15176.826 15303.273 15344.922 15459.459 15526.449 15550.555 15567.603 15571.929 15579.309 15585.497 15638.057 15652.537 15700.053 15837.261 15839.667 15923.646 15934.093 15968.200 16038.640 16123.329 16129.944 16131.645 16144.712 16194.832 16199.049 16535.135 16545.189 16640.387 16782.383 16885.516 16906.008 16918.422 16922.566 
query 4 nn's (10, 10): 5135489 (10) 2015975 (10) 484991 (10) 5466491 (10) 3823745 (10) 4962535 (10) 745843 (10) 8718571 (10) 5126636 (10) 5807041 (10) 9104864 (10) 7508102 (10) 9398213 (10) 1430207 (10) 1029172 (10) 3287249 (10) 3806285 (10) 6917344 (10) 2625230 (10) 3355354 (10) 330819 (10) 8171628 (10) 9294912 (10) 8976035 (10) 67796 (10) 5345863 (10) 3147235 (10) 6516336 (10) 4529199 (10) 9394278 (10) 6481855 (10) 4243361 (10) 125408 (10) 523577 (10) 2510436 (10) 4900336 (10) 6415311 (10) 5425134 (10) 699709 (10) 3958825 (10) 5739776 (10) 6432061 (10) 8178422 (10) 8757921 (10) 2341966 (10) 5574338 (10) 6985534 (10) 541647 (10) 2827238 (10) 1086928 (10) 6330825 (10) 4201945 (10) 2239735 (10) 3546857 (10) 1231024 (10) 9114314 (10) 5799065 (10) 1295801 (10) 9684252 (10) 9147704 (10) 1911938 (10) 5171141 (10) 7458244 (10) 1289546 (10) 4540668 (10) 175284 (10) 9610200 (10) 1714004 (10) 3191283 (10) 8287324 (10) 3955594 (10) 9919078 (10) 7020660 (10) 3628157 (10) 7328865 (10) 8945068 (10) 6221821 (10) 2175967 (10) 3357213 (10) 1335451 (10) 616243 (10) 8742544 (10) 9687221 (10) 3685109 (10) 4792911 (10) 2467722 (10) 9071979 (10) 8401602 (10) 4511861 (10) 600595 (10) 1667598 (10) 9462542 (10) 1871772 (10) 6662196 (10) 8431726 (10) 4812318 (10) 2831125 (10) 8326523 (10) 3577899 (10) 3107181 (10) 
     dis: 	91085.961 92867.805 93067.812 93482.586 93553.188 93953.742 96408.789 97311.000 97340.938 97450.609 97511.852 97847.484 98141.797 98487.188 98572.992 98845.383 99648.812 99871.016 99923.312 100047.930 100189.570 100604.883 101014.234 101238.695 102038.492 102101.984 102158.938 102311.945 102370.266 102852.766 103463.883 103648.672 103733.359 103954.922 104348.758 104566.422 104605.008 104768.344 104952.266 104965.500 104982.562 105079.617 105089.602 105267.297 105268.156 105436.648 105572.203 105703.266 105713.391 105718.570 105986.516 105999.359 106263.234 106598.914 106647.328 106792.891 106850.203 106960.867 106990.555 107106.984 107780.047 107803.609 107809.781 107828.828 107832.539 107870.055 107949.953 107966.688 108290.391 108299.453 108490.922 108534.391 108580.703 108622.508 108690.109 108703.352 108749.773 108807.773 108837.656 108858.648 109113.359 109149.859 109226.500 109373.562 109662.281 109672.742 110005.398 110074.617 110170.031 110185.188 110190.586 110192.203 110310.461 110334.586 110423.562 110584.227 110695.914 110772.953 110785.938 110832.617 
[ 116.267s ] *** Query time: 55.890
qps: 178.924
 *** ivfpq recall 
ivfpq get 891325 postive res from 1000000 results, recall@100:0.891
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.001 0.005 0.053 0.387 0.554 0.000 
finished ivfpq index examples
[ 116.312s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_100.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_500_random_64 200 128"
	User time (seconds): 113.86
	System time (seconds): 2.57
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:56.44
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1606564
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 820544
	Voluntary context switches: 1
	Involuntary context switches: 94
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:54
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_100.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_500_random_64
nprobe: 200
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.693s ] Loaded metadata, 10000000 attr's found
[ 0.693s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.695s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.697s ] Loaded 10000 sift10M queries
[ 0.764s ] Loaded ground truth, gt_size: 100
[ 0.764s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.204s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 107.629s ] Query results (vector ids, then distances):
query 0 nn's (19, 19): 7364551 (19) 4897568 (19) 1124068 (19) 8343482 (19) 8070748 (19) 3111983 (19) 5988192 (19) 117870 (19) 5818286 (19) 3703593 (19) 9252115 (19) 1168165 (19) 1426063 (19) 1335151 (19) 5324756 (19) 9993000 (19) 8000565 (19) 3397387 (19) 4709246 (19) 4168442 (19) 1799488 (19) 8114500 (19) 3171219 (19) 7947931 (19) 8325692 (19) 8179893 (19) 1988196 (19) 5269662 (19) 6429462 (19) 6635565 (19) 6218987 (19) 2686853 (19) 307088 (19) 3316513 (19) 5110515 (19) 5223791 (19) 9661437 (19) 2633237 (19) 6673716 (19) 5084022 (19) 5210731 (19) 6415975 (19) 1181363 (19) 2657128 (19) 3582382 (19) 8853367 (19) 8279864 (19) 9749474 (19) 8008785 (19) 1078256 (19) 1610743 (19) 5831698 (19) 8434236 (19) 8053730 (19) 6927138 (19) 8695705 (19) 1390855 (19) 4533747 (19) 6782542 (19) 1415516 (19) 4627246 (19) 7926564 (19) 3914666 (19) 2142035 (19) 9488077 (19) 5674793 (19) 8690120 (19) 3589722 (19) 8774824 (19) 4309076 (19) 7681764 (19) 6839253 (19) 8297477 (19) 2266703 (19) 8399325 (19) 3888733 (19) 166036 (19) 2656181 (19) 8214188 (19) 2722398 (19) 8739222 (19) 854445 (19) 4641834 (19) 9584819 (19) 2450425 (19) 8403632 (19) 5131905 (19) 1701793 (19) 9580915 (19) 1829215 (19) 7972871 (19) 9189705 (19) 5001993 (19) 9179706 (19) 8103917 (19) 5288605 (19) 759339 (19) 8027191 (19) 6692521 (19) 4661302 (19) 
     dis: 	73579.352 85006.203 91477.812 92271.867 94009.586 94526.383 94565.016 95413.250 97335.695 98200.000 99436.320 100073.656 100563.688 101067.406 101738.539 102453.102 102545.406 103236.867 104366.523 104702.500 105739.977 105783.508 106374.438 106600.984 106777.625 106922.188 107280.609 108085.945 108193.961 108372.477 108610.711 109290.984 109291.312 109532.609 109539.406 109580.961 109808.914 109895.742 110284.461 110532.984 110666.109 111085.227 111549.953 112125.086 112155.438 112257.008 112838.859 112955.234 113464.508 113476.672 113855.562 114129.789 114441.914 114604.359 114624.508 114783.352 114979.734 115005.109 115317.641 115352.281 115973.844 116176.289 116184.656 116234.695 116464.047 116614.398 116951.359 116964.938 116989.141 117435.547 117510.000 117519.141 117693.375 117834.891 117878.688 118227.359 118371.688 118405.273 118543.703 118618.875 118653.383 118678.859 118789.469 118924.469 118942.961 118988.578 119555.953 119648.906 119721.008 120001.938 120012.188 120250.047 120470.578 120591.898 120661.883 120663.328 120711.562 120718.891 120796.047 120919.250 
query 1 nn's (19, 19): 1345854 (19) 9490922 (19) 6861763 (19) 8889219 (19) 3779157 (19) 2457409 (19) 7903037 (19) 1594746 (19) 5935793 (19) 1204854 (19) 9558281 (19) 4136820 (19) 6068122 (19) 6157672 (19) 3478621 (19) 9734664 (19) 1917409 (19) 4924634 (19) 2111946 (19) 8548415 (19) 2460722 (19) 90305 (19) 6506391 (19) 4924494 (19) 4317184 (19) 4814997 (19) 7003404 (19) 1742812 (19) 132725 (19) 4566723 (19) 1932645 (19) 749008 (19) 9928244 (19) 670099 (19) 1193556 (19) 8225678 (19) 8905837 (19) 3971206 (19) 479775 (19) 7533930 (19) 9709202 (19) 6637812 (19) 8974279 (19) 340915 (19) 1655080 (19) 8871287 (19) 6216367 (19) 2016216 (19) 7300255 (19) 2830112 (19) 32221 (19) 6253010 (19) 5908680 (19) 8331956 (19) 593175 (19) 8367919 (19) 8836092 (19) 3850227 (19) 2146104 (19) 1840522 (19) 1250366 (19) 5357638 (19) 4298384 (19) 5225684 (19) 7221154 (19) 4432127 (19) 71132 (19) 5793025 (19) 9701553 (19) 9824953 (19) 940086 (19) 6105606 (19) 8685870 (19) 8914130 (19) 4267754 (19) 403793 (19) 846887 (19) 926213 (19) 3263307 (19) 1743139 (19) 2720534 (19) 2024475 (19) 6562910 (19) 1094427 (19) 6762478 (19) 3487690 (19) 7667835 (19) 8685467 (19) 3099834 (19) 5556007 (19) 3381913 (19) 6087898 (19) 7133610 (19) 5557013 (19) 1949849 (19) 3626102 (19) 9045877 (19) 6764605 (19) 9142967 (19) 739349 (19) 
     dis: 	62152.125 71258.836 72143.648 72554.672 75227.359 75262.156 78014.953 79193.078 79580.672 81020.188 82008.164 83046.461 83466.516 83859.859 83983.984 85191.625 85789.750 86712.703 86940.445 87007.312 88005.164 88009.070 89202.781 89960.172 90236.484 90583.648 91986.055 92502.250 93925.734 93963.516 94676.539 94694.125 94861.281 94914.414 95433.789 95558.445 95655.547 97213.727 97476.680 97916.820 98339.242 98512.859 98718.781 99095.711 99354.258 99562.883 99681.562 99938.820 100217.234 100697.953 101127.711 102511.625 102581.047 103723.484 103808.023 103828.383 103996.070 103998.625 104076.852 104144.070 104358.297 104509.422 104731.867 104829.414 104888.242 104933.180 105020.742 105169.961 105307.664 105682.500 105768.297 105918.133 106367.836 106614.266 106732.820 106845.016 107031.422 107041.336 107367.273 107588.125 107645.023 107737.438 108095.562 108169.922 108472.078 108860.898 109608.688 109632.383 109721.781 109763.078 109967.594 110113.766 110345.297 110616.859 110936.820 110970.547 111143.109 111154.953 111235.094 111291.938 
query 2 nn's (19, 19): 5397690 (19) 7779045 (19) 283793 (19) 5857947 (19) 6233731 (19) 243867 (19) 2526681 (19) 4212130 (19) 8816190 (19) 9069258 (19) 5945623 (19) 8220257 (19) 3805324 (19) 4815712 (19) 342160 (19) 7999911 (19) 1978906 (19) 8340024 (19) 8000700 (19) 8536742 (19) 5148835 (19) 1587666 (19) 5600415 (19) 4464945 (19) 9386743 (19) 6631052 (19) 8655461 (19) 7241044 (19) 3496848 (19) 6537424 (19) 5324267 (19) 892172 (19) 7357334 (19) 25703 (19) 8626336 (19) 6172797 (19) 1334859 (19) 4790579 (19) 1329864 (19) 4371398 (19) 6059799 (19) 5629248 (19) 8701465 (19) 8381740 (19) 8522211 (19) 2762828 (19) 6003066 (19) 2272259 (19) 1909369 (19) 18069 (19) 1579714 (19) 8032222 (19) 8638555 (19) 1030206 (19) 6548343 (19) 4772966 (19) 9294477 (19) 8587833 (19) 995425 (19) 6909536 (19) 9680144 (19) 4851733 (19) 4140915 (19) 9796070 (19) 189565 (19) 628449 (19) 5450319 (19) 1175959 (19) 4735060 (19) 6863788 (19) 419742 (19) 401358 (19) 869631 (19) 9837736 (19) 8949426 (19) 3650017 (19) 9622388 (19) 3409292 (19) 8774602 (19) 3847576 (19) 4571250 (19) 1988654 (19) 4938466 (19) 8580209 (19) 2594493 (19) 7559524 (19) 3344759 (19) 7766278 (19) 9391567 (19) 8802556 (19) 2140260 (19) 4152007 (19) 4505350 (19) 6869219 (19) 5207716 (19) 4060465 (19) 3640043 (19) 8310274 (19) 6027115 (19) 5060541 (19) 
     dis: 	60931.715 64357.711 64936.852 65610.477 65918.375 66212.156 69749.836 69821.164 70709.367 70976.836 72688.109 72777.039 72982.586 73268.445 73270.797 73406.055 74519.117 74613.531 74846.617 75147.734 76518.945 76694.281 78052.305 78373.914 78741.961 78868.797 79059.016 79564.328 79726.672 79829.633 79981.516 80147.266 80386.641 80413.500 80467.391 80554.930 80754.406 80801.930 81151.594 81179.812 81371.203 81599.359 81885.094 82040.703 82354.656 82515.008 82537.742 82906.297 82914.039 83377.836 83537.188 83732.898 83981.383 83984.094 84055.148 84219.445 84415.078 84485.047 84488.422 84555.781 84741.000 84771.180 84775.727 84854.133 84923.711 84968.812 85031.523 85082.188 85090.773 85263.562 85403.375 85407.133 85427.531 85520.219 85535.688 85554.398 85581.719 85686.414 85845.094 85935.164 86034.523 86249.477 86468.461 86557.258 87262.836 87305.609 87524.414 87543.422 87555.211 87720.086 87938.180 87956.391 88033.938 88093.648 88402.555 88458.047 88480.477 88545.078 88568.594 88623.484 
query 3 nn's (19, 19): 6942939 (19) 1326424 (19) 9212218 (19) 9558279 (19) 4557732 (19) 8711902 (19) 7251408 (19) 7372833 (19) 5727279 (19) 3669244 (19) 5591597 (19) 7723733 (19) 9811017 (19) 6458284 (19) 1032968 (19) 43953 (19) 3942225 (19) 3244240 (19) 8538968 (19) 3616969 (19) 9596692 (19) 3772287 (19) 8365826 (19) 4900964 (19) 6434863 (19) 8953729 (19) 3689791 (19) 2359174 (19) 2820981 (19) 480342 (19) 181834 (19) 9405564 (19) 2399478 (19) 5781831 (19) 2324107 (19) 4714162 (19) 2949879 (19) 6368460 (19) 7785596 (19) 7338668 (19) 5168072 (19) 3356716 (19) 4261202 (19) 8869494 (19) 4873018 (19) 5649712 (19) 6974244 (19) 8226480 (19) 8479689 (19) 5319718 (19) 1379869 (19) 7660373 (19) 5252290 (19) 664330 (19) 4884153 (19) 3973342 (19) 3536686 (19) 1995157 (19) 8076031 (19) 5987231 (19) 9283768 (19) 8960512 (19) 4923540 (19) 1219037 (19) 4777562 (19) 8747330 (19) 453798 (19) 9182059 (19) 1692092 (19) 2877794 (19) 5946655 (19) 8993852 (19) 3055002 (19) 1403737 (19) 6286280 (19) 561918 (19) 8719258 (19) 884295 (19) 5877751 (19) 4276035 (19) 4142551 (19) 139416 (19) 3415143 (19) 9799221 (19) 3694946 (19) 5312065 (19) 1048034 (19) 8113554 (19) 7739866 (19) 2628369 (19) 9490022 (19) 7408576 (19) 8531033 (19) 9670226 (19) 9047292 (19) 7509727 (19) 6438552 (19) 3425101 (19) 5447448 (19) 9169614 (19) 
     dis: 	6419.419 8112.285 10562.180 11913.137 12836.576 14121.793 14731.592 15050.908 15369.242 15574.154 16046.812 16200.450 16355.391 17501.605 17846.229 18989.713 19409.348 19990.953 20063.246 20146.754 20864.547 21237.188 21287.857 21830.953 21977.617 22008.719 22675.543 22955.824 22978.020 23198.965 23265.906 23282.094 23342.988 23910.160 23938.752 24023.799 24071.248 24723.648 24857.244 25012.186 25197.508 25325.498 25345.936 25442.404 25512.254 25562.314 26089.910 26451.467 26605.521 26671.689 27030.852 27085.799 27351.516 27354.465 27414.590 27623.133 28044.051 28132.787 28421.047 28673.361 29166.164 29184.184 29386.877 29427.262 29704.049 29936.838 29977.965 30205.613 30370.625 30485.402 30544.238 30655.432 30730.895 30747.916 30779.312 30890.871 31166.062 31345.398 31351.463 31403.301 31460.988 31715.684 31752.766 31758.643 31837.648 31870.617 32021.826 32130.271 32168.621 32336.449 32504.480 32585.873 32680.307 32721.297 32861.387 32915.941 32967.188 33004.547 33178.910 33213.992 
query 4 nn's (19, 19): 1162961 (19) 1818247 (19) 5815181 (19) 8156875 (19) 3889669 (19) 7864556 (19) 6373153 (19) 6428554 (19) 4588551 (19) 1399428 (19) 8178942 (19) 5292751 (19) 5063645 (19) 773761 (19) 1602649 (19) 8659667 (19) 4177092 (19) 5419134 (19) 7529137 (19) 3203672 (19) 9115319 (19) 5379967 (19) 3265243 (19) 1461067 (19) 3066182 (19) 7917769 (19) 7442089 (19) 8622489 (19) 7083580 (19) 8727801 (19) 7401772 (19) 5095697 (19) 602877 (19) 2186957 (19) 3146927 (19) 3470829 (19) 7091775 (19) 6561885 (19) 6979123 (19) 643263 (19) 5481751 (19) 207385 (19) 7558488 (19) 8632953 (19) 3462030 (19) 7570147 (19) 619828 (19) 6598133 (19) 1382975 (19) 1766497 (19) 2086426 (19) 207398 (19) 8884599 (19) 6082866 (19) 4816259 (19) 8833068 (19) 2388487 (19) 3710619 (19) 8278850 (19) 8258837 (19) 3838485 (19) 3817455 (19) 2878306 (19) 5234245 (19) 3017617 (19) 2039505 (19) 8652368 (19) 9231882 (19) 7566386 (19) 9707919 (19) 6188029 (19) 4396997 (19) 5108202 (19) 6286269 (19) 6104469 (19) 2126947 (19) 2027527 (19) 4768444 (19) 4704906 (19) 1450415 (19) 3022344 (19) 6095974 (19) 1741763 (19) 9466302 (19) 6560556 (19) 9169388 (19) 8379595 (19) 479617 (19) 2304542 (19) 5793068 (19) 1589313 (19) 6923862 (19) 8034247 (19) 1638152 (19) 5934873 (19) 3679285 (19) 216867 (19) 833200 (19) 8254566 (19) 2056214 (19) 
     dis: 	101262.758 103351.469 108160.312 108914.414 109847.773 109934.820 110015.305 110288.203 110628.703 111176.945 111678.477 112720.906 113328.227 113560.406 114483.203 114600.078 114626.195 114769.523 116023.781 116086.453 116790.914 117713.367 117885.969 117951.055 118306.242 118815.531 119153.297 119308.875 119423.391 119427.055 120148.398 120620.844 120621.312 120814.992 120871.703 120934.562 121141.367 121171.453 121223.086 121903.297 122896.156 123040.391 123301.805 123491.141 123587.938 123740.281 123849.469 123866.000 124117.922 124128.867 124505.594 124706.133 124776.992 125030.195 125497.953 125529.398 125607.766 125735.492 125826.555 125921.078 126207.516 126529.047 127338.781 127491.586 127657.539 127861.117 127889.812 128503.445 128581.109 129070.875 129315.875 129520.812 129543.688 129550.633 129610.891 129618.781 129668.328 129710.562 130009.305 130097.234 130141.922 130520.500 130542.469 130842.609 130930.461 130961.781 130962.906 130986.000 131117.656 131155.594 131218.125 131295.734 131324.422 131554.062 131573.844 131721.812 131933.906 132059.594 132107.953 132264.578 
[ 107.629s ] *** Query time: 45.886
qps: 217.933
 *** ivfpq recall 
ivfpq get 841958 postive res from 1000000 results, recall@100:0.842
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.003 0.018 0.084 0.196 0.311 0.387 0.001 
finished ivfpq index examples
[ 107.658s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_100.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_500_random_64 200 128"
	User time (seconds): 106.62
	System time (seconds): 1.16
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:47.79
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1606564
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 415557
	Voluntary context switches: 1
	Involuntary context switches: 45
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:56
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_100.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_500_random_64
nprobe: 200
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.693s ] Loaded metadata, 10000000 attr's found
[ 0.693s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.696s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.697s ] Loaded 10000 sift10M queries
[ 0.766s ] Loaded ground truth, gt_size: 100
[ 0.766s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.207s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 110.677s ] Query results (vector ids, then distances):
query 0 nn's (20, 20): 9964582 (20) 8046738 (20) 7382313 (20) 2630817 (20) 6513249 (20) 1479506 (20) 1148989 (20) 2269362 (20) 4349443 (20) 8385270 (20) 2228963 (20) 4950158 (20) 3369650 (20) 732282 (20) 1421021 (20) 2129805 (20) 7621745 (20) 2983744 (20) 4619544 (20) 178172 (20) 6669064 (20) 9680199 (20) 101746 (20) 2883574 (20) 5622893 (20) 4619027 (20) 7000765 (20) 7517944 (20) 8253666 (20) 3459406 (20) 594126 (20) 6673667 (20) 8361194 (20) 465136 (20) 4085227 (20) 7928471 (20) 9967056 (20) 6353429 (20) 2262064 (20) 2100109 (20) 7157907 (20) 4414850 (20) 9216204 (20) 1416220 (20) 335058 (20) 9840062 (20) 7764226 (20) 6527386 (20) 3402555 (20) 496895 (20) 6001330 (20) 1282603 (20) 2891920 (20) 568449 (20) 5683772 (20) 559947 (20) 8614796 (20) 5324987 (20) 9957530 (20) 2413213 (20) 2035163 (20) 8502159 (20) 8821473 (20) 8052519 (20) 6060555 (20) 3632926 (20) 426620 (20) 8526188 (20) 7877696 (20) 9356122 (20) 1765284 (20) 4589531 (20) 8844408 (20) 6093028 (20) 2241524 (20) 8738293 (20) 6485983 (20) 8893778 (20) 1935997 (20) 4901764 (20) 8685486 (20) 2341864 (20) 691442 (20) 2292289 (20) 2779836 (20) 1635173 (20) 5261686 (20) 3271853 (20) 8925844 (20) 2806862 (20) 5543100 (20) 7288941 (20) 502074 (20) 4386006 (20) 5962927 (20) 1705146 (20) 9273858 (20) 9605705 (20) 1777954 (20) 8876860 (20) 
     dis: 	100756.328 104279.219 106395.312 108482.344 108488.336 109085.461 110001.312 111854.266 116269.453 119106.805 119612.977 123877.625 123952.000 124882.227 125952.344 127851.578 127927.500 128272.453 131488.406 132799.297 133451.875 133624.953 134840.219 135889.281 138419.078 139148.984 139550.594 139890.984 140011.969 140148.094 140328.125 140361.062 140432.766 140795.828 143066.719 143272.672 144648.266 145330.031 145373.953 146649.859 146901.125 146951.203 147628.812 148026.719 148032.297 148831.031 149518.078 149556.281 150367.969 150872.156 151635.469 151794.422 152057.719 152387.672 152439.047 153092.906 153334.438 153740.406 154911.031 155376.438 155402.719 155735.484 155743.188 156059.719 156394.875 157331.344 157577.906 157866.188 158231.531 159017.406 160244.906 161035.172 161076.906 161089.969 161203.109 161467.844 161644.734 161919.719 162472.594 162597.516 163453.766 163697.266 163738.344 163873.375 164101.766 164639.156 166533.125 166640.312 166768.109 167420.641 167464.812 167512.953 167848.375 167984.141 168606.062 169103.406 169502.750 170089.812 170539.156 170647.984 
query 1 nn's (20, 20): 4299663 (20) 586030 (20) 2788374 (20) 3337341 (20) 9730291 (20) 3434211 (20) 1539076 (20) 8283937 (20) 4062732 (20) 4737784 (20) 8172947 (20) 9000132 (20) 4608350 (20) 1171384 (20) 2057976 (20) 5020392 (20) 6083744 (20) 3142235 (20) 7838542 (20) 2232728 (20) 1871235 (20) 8692341 (20) 4855691 (20) 5658429 (20) 9762051 (20) 2773435 (20) 2139216 (20) 9743647 (20) 127129 (20) 5962463 (20) 836075 (20) 3075878 (20) 8961166 (20) 8286630 (20) 9171383 (20) 507150 (20) 6553176 (20) 106337 (20) 6312398 (20) 6865448 (20) 6087997 (20) 4816538 (20) 7764275 (20) 1757357 (20) 7228659 (20) 7363791 (20) 7351667 (20) 6474604 (20) 2909276 (20) 4093929 (20) 8431153 (20) 9872706 (20) 4359035 (20) 27484 (20) 4139364 (20) 1358063 (20) 7825259 (20) 2270986 (20) 9799034 (20) 8565521 (20) 1218775 (20) 5067119 (20) 8105986 (20) 2256254 (20) 9634829 (20) 1347003 (20) 1181526 (20) 6035977 (20) 3956263 (20) 7475807 (20) 1583004 (20) 1472977 (20) 4720457 (20) 2396618 (20) 1027667 (20) 5938855 (20) 4985950 (20) 7395433 (20) 4326128 (20) 2971222 (20) 9670094 (20) 9395831 (20) 5004252 (20) 2132986 (20) 1849365 (20) 4439135 (20) 5059526 (20) 7792420 (20) 8759385 (20) 5193122 (20) 8269618 (20) 4844799 (20) 214746 (20) 1544837 (20) 5233771 (20) 6800480 (20) 468845 (20) 8005660 (20) 5727334 (20) 7898877 (20) 
     dis: 	78815.172 82878.711 90853.562 107578.141 107815.844 108299.391 108832.117 110938.078 112561.922 112815.891 112829.883 116644.109 116946.867 117454.070 119125.141 120020.867 121480.469 121485.312 123281.250 124288.031 124551.773 130025.266 131462.672 131564.797 132149.000 132245.219 134768.469 136472.328 136991.047 137944.688 139595.531 140094.641 140288.156 140542.656 142018.344 142727.766 143517.906 144285.359 144345.750 144599.812 146242.281 146318.141 147077.016 147278.984 147314.719 147330.203 147876.938 148737.469 149161.344 151660.812 153548.094 154146.719 154769.719 155382.609 155700.547 155808.078 155991.703 156109.141 156583.875 156903.562 157178.016 157178.344 157215.828 158894.750 160167.625 161428.375 163998.172 164296.062 164576.281 164777.250 167300.609 167478.297 168090.359 168849.500 169255.688 169477.047 170543.078 171210.375 171286.062 171744.188 174084.062 174223.219 174384.594 174522.750 175409.000 176010.703 177055.906 177912.719 178352.359 179723.219 180039.453 181123.656 181738.219 181829.750 181926.844 183163.484 183645.359 184112.656 184941.859 185059.750 
query 2 nn's (20, 20): 8646849 (20) 6674452 (20) 9787209 (20) 8192767 (20) 6361380 (20) 2812305 (20) 4581384 (20) 9895995 (20) 4675517 (20) 7322999 (20) 7335682 (20) 1689488 (20) 9768154 (20) 1482358 (20) 3041032 (20) 8491397 (20) 1831458 (20) 4136549 (20) 447741 (20) 425080 (20) 3768702 (20) 6727207 (20) 841517 (20) 7439093 (20) 358693 (20) 6578842 (20) 1938542 (20) 6370677 (20) 4560528 (20) 403745 (20) 5836019 (20) 7915163 (20) 5720312 (20) 7585223 (20) 496691 (20) 7458964 (20) 705185 (20) 4094588 (20) 9647952 (20) 7951259 (20) 4544889 (20) 118979 (20) 7083402 (20) 2544212 (20) 2919294 (20) 8393626 (20) 9221983 (20) 8859645 (20) 1887424 (20) 2407210 (20) 5884283 (20) 324966 (20) 656977 (20) 3987029 (20) 9458656 (20) 8637556 (20) 2295856 (20) 292612 (20) 3679527 (20) 7254026 (20) 511261 (20) 4313976 (20) 3620395 (20) 4545593 (20) 8414032 (20) 7821763 (20) 4595089 (20) 7014757 (20) 4020548 (20) 3946025 (20) 5985639 (20) 3660829 (20) 297437 (20) 6210016 (20) 7651411 (20) 292418 (20) 7427239 (20) 7276554 (20) 6299396 (20) 8601098 (20) 5665010 (20) 1017990 (20) 5729019 (20) 7367558 (20) 3581258 (20) 9652167 (20) 956017 (20) 2542925 (20) 68585 (20) 7344430 (20) 2249407 (20) 7045481 (20) 2789338 (20) 3005252 (20) 8484424 (20) 4620914 (20) 784959 (20) 8432512 (20) 3637148 (20) 7782731 (20) 
     dis: 	68024.938 75578.688 76363.094 79009.781 81142.906 82703.867 84113.953 85227.234 86463.375 89126.820 89441.023 90849.938 91432.188 92605.039 92782.328 94328.383 94375.914 94468.625 94780.617 98815.211 98838.750 99830.172 100085.422 101414.047 101761.781 101911.273 102430.508 102449.695 102644.477 102859.773 103514.336 103626.914 103654.219 103675.000 103848.766 105877.414 106767.078 106948.984 107506.055 108217.750 108403.148 108429.828 108453.477 109082.328 109329.656 109744.039 109928.523 110081.891 110278.719 110381.484 110769.977 112062.766 112205.039 112399.906 113016.750 113639.898 113796.781 113813.414 114635.328 115119.734 115389.555 115805.344 115920.648 116103.391 116483.008 116512.938 116694.219 116959.383 117212.406 117270.188 117375.250 118979.188 119029.773 119316.656 119800.422 120230.445 120605.266 121031.711 122106.078 122471.000 122609.031 123014.523 123029.492 123354.594 124918.469 126457.336 127527.125 127859.594 128544.656 128580.297 129000.641 129325.297 130143.688 130974.477 131549.891 132062.078 132536.828 133214.219 133832.281 133836.891 
query 3 nn's (20, 20): 312537 (20) 9187340 (20) 7626212 (20) 4958933 (20) 1216581 (20) 284991 (20) 1592615 (20) 5187251 (20) 4138383 (20) 4596264 (20) 4560477 (20) 9510656 (20) 9368794 (20) 9246224 (20) 1314880 (20) 8120766 (20) 1614558 (20) 6443420 (20) 8991594 (20) 2331467 (20) 7352655 (20) 2675036 (20) 5854024 (20) 1048676 (20) 3012082 (20) 182312 (20) 314967 (20) 5961435 (20) 6859614 (20) 3620138 (20) 9795666 (20) 4915159 (20) 367690 (20) 2194278 (20) 2393584 (20) 47061 (20) 5105416 (20) 5219472 (20) 9364854 (20) 2178818 (20) 1027632 (20) 1739366 (20) 7541142 (20) 8962307 (20) 4201794 (20) 5560265 (20) 1737917 (20) 3249575 (20) 339734 (20) 3172833 (20) 5212684 (20) 3077719 (20) 6118721 (20) 2713231 (20) 5353217 (20) 205984 (20) 2289526 (20) 8150003 (20) 3712665 (20) 4152286 (20) 3948550 (20) 2270886 (20) 6000025 (20) 8597194 (20) 9562565 (20) 6218019 (20) 6339381 (20) 6494781 (20) 5156139 (20) 791095 (20) 401510 (20) 2168124 (20) 7327798 (20) 8972655 (20) 4397109 (20) 1271780 (20) 5858326 (20) 100238 (20) 957584 (20) 3997288 (20) 3132753 (20) 9872536 (20) 9043671 (20) 6959355 (20) 3947112 (20) 8123624 (20) 4967171 (20) 1913059 (20) 9106468 (20) 8513372 (20) 2657064 (20) 8657594 (20) 5663205 (20) 2841315 (20) 5133433 (20) 3677466 (20) 7572359 (20) 7082364 (20) 846985 (20) 5608129 (20) 
     dis: 	13073.052 26837.367 27164.697 27184.062 28900.443 29002.840 29549.645 29824.398 30085.520 32229.176 33049.520 33649.250 34538.996 34859.910 35633.684 35772.805 36146.191 37935.336 38392.703 38421.500 39025.988 39138.688 39546.113 41333.867 41503.781 41707.930 41903.434 42001.848 42508.469 43024.930 43039.379 44367.160 44644.578 44950.512 45248.547 45248.969 45940.977 46557.773 47019.656 48118.316 48523.305 48814.453 49020.145 49802.199 50924.195 50980.684 51153.535 51402.121 51523.473 51657.375 51952.645 52009.105 52190.598 53007.172 53541.309 53681.676 54045.680 54257.770 54317.633 54445.480 54700.887 54722.156 55049.023 55065.852 55163.922 55454.988 55969.969 55976.555 56486.176 56694.719 57412.465 57770.117 58102.074 58263.535 58612.523 58855.160 58931.727 59118.102 59197.168 59426.602 59519.797 59543.215 61269.043 62196.570 62229.121 62264.520 62705.066 62717.254 62845.211 63224.801 63252.367 63511.160 64057.637 64536.406 64637.324 64752.570 65608.742 65661.570 65899.438 66097.555 
query 4 nn's (20, 20): 14334 (20) 9363446 (20) 3046582 (20) 2791066 (20) 2583204 (20) 4425405 (20) 6099022 (20) 2296616 (20) 6158648 (20) 2782295 (20) 6193655 (20) 6933745 (20) 3143423 (20) 4547074 (20) 6727525 (20) 7749715 (20) 850502 (20) 3809158 (20) 9356983 (20) 6153151 (20) 7777772 (20) 1371545 (20) 4034687 (20) 7901733 (20) 6178245 (20) 4670085 (20) 560202 (20) 8985470 (20) 8024900 (20) 4844799 (20) 4966146 (20) 4047794 (20) 3379051 (20) 9363213 (20) 3384122 (20) 2448267 (20) 7099248 (20) 213758 (20) 465231 (20) 3972493 (20) 4148691 (20) 1372452 (20) 7825259 (20) 3142235 (20) 9042584 (20) 7838542 (20) 6571254 (20) 8410458 (20) 8589314 (20) 5494677 (20) 1481706 (20) 8146937 (20) 2576755 (20) 4371152 (20) 2417038 (20) 5681510 (20) 9171383 (20) 7842243 (20) 5533264 (20) 5426613 (20) 4986756 (20) 9971260 (20) 2259201 (20) 5019473 (20) 748484 (20) 5647971 (20) 9909154 (20) 9706481 (20) 4832866 (20) 1178438 (20) 4615196 (20) 2117663 (20) 5727334 (20) 4166097 (20) 6571795 (20) 1358063 (20) 8966798 (20) 5584049 (20) 2267595 (20) 2991691 (20) 9906538 (20) 3956263 (20) 3425081 (20) 7197938 (20) 2413425 (20) 4585207 (20) 8352433 (20) 9832691 (20) 4081251 (20) 8974624 (20) 7667394 (20) 4340574 (20) 9554204 (20) 3605395 (20) 795461 (20) 75767 (20) 5970329 (20) 9812997 (20) 2815098 (20) 5481676 (20) 
     dis: 	110134.359 112393.312 118234.461 122658.812 123704.125 126061.758 127811.969 128241.031 128546.359 128636.836 129206.125 129552.570 133853.797 135119.484 136429.500 137530.516 140166.078 140436.578 141240.844 141251.562 142063.891 142382.031 142632.688 142759.375 142914.344 142943.875 142950.500 144406.672 145113.406 147900.094 148078.797 149503.844 149640.609 150159.625 150355.203 152068.734 152862.391 154649.109 154946.312 154956.656 155102.406 155346.797 156010.344 156618.094 156745.594 156886.859 157063.500 160039.531 160375.938 161041.312 161900.719 163183.250 163185.969 163210.344 164244.812 164249.328 165517.125 165522.672 165778.703 166020.156 166089.938 168008.625 168377.719 168689.000 169335.812 169829.375 171246.156 172363.594 172749.000 173208.922 174116.219 174687.031 174997.266 175887.094 177489.125 177576.250 178362.125 178442.953 178555.031 179932.703 180049.328 180050.562 180375.734 180636.422 184262.875 185057.219 185213.266 185222.000 185967.125 186911.969 187206.531 187694.484 188027.938 188124.875 188131.562 188188.766 188220.531 188746.188 190167.750 190586.891 
[ 110.678s ] *** Query time: 46.754
qps: 213.884
 *** ivfpq recall 
ivfpq get 591459 postive res from 1000000 results, recall@100:0.591
recall dist(10% per bucket): 0.000 0.000 0.009 0.102 0.237 0.232 0.160 0.102 0.072 0.086 0.000 
finished ivfpq index examples
[ 110.723s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_100.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_500_random_64 200 128"
	User time (seconds): 108.84
	System time (seconds): 2.00
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:50.85
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1606564
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 677502
	Voluntary context switches: 2
	Involuntary context switches: 138
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
