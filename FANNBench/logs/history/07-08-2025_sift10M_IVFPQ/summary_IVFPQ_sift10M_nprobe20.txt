Start time: 23:48
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_100.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_500_random_64
nprobe: 20
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.699s ] Loaded metadata, 10000000 attr's found
[ 0.699s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.702s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.703s ] Loaded 10000 sift10M queries
[ 0.771s ] Loaded ground truth, gt_size: 100
[ 0.771s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.115s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 79.701s ] Query results (vector ids, then distances):
query 0 nn's (6, 6): 2898305 (6) 2515600 (6) 4738758 (6) 7077742 (6) 2923944 (6) 8191903 (6) 1928425 (6) 6984373 (6) 9313115 (6) 238649 (6) 9925949 (6) 5579551 (6) 7866119 (6) 7468388 (6) 6951413 (6) 1174332 (6) 9251169 (6) 888010 (6) 5343331 (6) 8435256 (6) 2549151 (6) 5341499 (6) 1297904 (6) 5228659 (6) 463666 (6) 5916323 (6) 9409479 (6) 6019325 (6) 3879851 (6) 7011791 (6) 331007 (6) 2365415 (6) 4072432 (6) 242725 (6) 6329451 (6) 3435228 (6) 476293 (6) 8644324 (6) 628292 (6) 1249067 (6) 4698776 (6) 3022114 (6) 4396835 (6) 9237550 (6) 3094752 (6) 9501438 (6) 7455148 (6) 7051519 (6) 6527573 (6) 3049131 (6) 5376243 (6) 7699797 (6) 6253443 (6) 1432946 (6) 6616517 (6) 895148 (6) 8052577 (6) 4321174 (6) 796982 (6) 1588256 (6) 4143439 (6) 2913895 (6) 9562895 (6) 3366295 (6) 4670831 (6) 6967386 (6) 2707365 (6) 8615059 (6) 2814763 (6) 3884061 (6) 2478200 (6) 5116632 (6) 5072991 (6) 7280820 (6) 6494656 (6) 2793536 (6) 1963518 (6) 8301501 (6) 8446671 (6) 3128137 (6) 3947830 (6) 2726100 (6) 4970241 (6) 8600618 (6) 4945840 (6) 4859982 (6) 1339547 (6) 96647 (6) 6012029 (6) 3940464 (6) 308200 (6) 229081 (6) 767932 (6) 2226989 (6) 2785966 (6) 993401 (6) 1217356 (6) 8710437 (6) 3557735 (6) 6307312 (6) 
     dis: 	66765.047 73713.344 74449.000 75033.797 76887.211 76944.016 77713.047 79123.875 79160.625 79288.008 79460.570 79848.227 79879.164 80065.812 80255.836 80524.172 80605.602 80957.234 81300.031 81425.648 82009.852 82525.102 82618.562 82670.953 82689.266 82748.586 82767.234 83249.094 83737.773 83768.516 84183.234 84720.797 84782.445 85041.883 85074.328 85112.391 85113.727 85159.109 85314.078 85407.672 85799.977 85926.227 86023.672 86161.984 86347.859 86671.859 86883.742 87058.258 87075.266 87166.156 87301.820 87640.773 87649.508 87711.938 87728.766 87795.281 87841.156 88048.438 88233.508 88286.758 88309.070 88337.414 88385.914 88503.148 88559.844 88598.047 88643.023 88661.977 88676.141 88695.617 88841.227 88869.875 88896.695 89044.367 89049.562 89210.688 89215.664 89226.172 89422.125 89433.211 89446.430 89662.555 89663.117 90094.312 90322.875 90337.305 90588.438 90684.344 90724.094 90734.258 90779.430 90805.000 90875.680 91002.305 91002.984 91088.125 91208.125 91246.234 91346.344 91394.547 
query 1 nn's (6, 6): 8449497 (6) 1273419 (6) 5552416 (6) 1263214 (6) 4234271 (6) 2253711 (6) 411491 (6) 1233453 (6) 9791343 (6) 9219153 (6) 469965 (6) 6265610 (6) 1909131 (6) 3309105 (6) 8596968 (6) 522429 (6) 7343838 (6) 1120308 (6) 7331745 (6) 7917424 (6) 2993914 (6) 9537422 (6) 1745130 (6) 5531491 (6) 5589386 (6) 9015118 (6) 7120642 (6) 1503119 (6) 375999 (6) 1843885 (6) 3631651 (6) 7692715 (6) 6986308 (6) 9167559 (6) 6073626 (6) 7693023 (6) 8918460 (6) 1526669 (6) 7031326 (6) 8590082 (6) 1346170 (6) 3786289 (6) 4702839 (6) 3050119 (6) 9577495 (6) 5313986 (6) 1341845 (6) 8440112 (6) 9553578 (6) 1410399 (6) 7342014 (6) 4364584 (6) 8518091 (6) 3744772 (6) 2652241 (6) 895436 (6) 1461697 (6) 6383821 (6) 4009753 (6) 2353489 (6) 5869072 (6) 7968009 (6) 3083636 (6) 963644 (6) 9868698 (6) 5790422 (6) 695127 (6) 4960102 (6) 2093850 (6) 3200275 (6) 3376639 (6) 3740235 (6) 1012664 (6) 2235415 (6) 8155958 (6) 3594866 (6) 7859261 (6) 7610510 (6) 3648617 (6) 7513620 (6) 8441546 (6) 735668 (6) 3891904 (6) 109736 (6) 3435206 (6) 6491365 (6) 1932354 (6) 3041986 (6) 3813783 (6) 2027961 (6) 7807906 (6) 5349437 (6) 8488585 (6) 2800769 (6) 7664952 (6) 6672132 (6) 8899541 (6) 2048408 (6) 491814 (6) 8041031 (6) 
     dis: 	34675.906 43367.484 44178.637 45585.180 46459.625 46911.375 46944.781 48208.215 50356.211 50457.156 50862.172 50865.762 50930.734 51774.984 52154.500 52287.395 52916.973 53769.281 54280.656 54321.969 54854.723 54862.301 55052.254 55684.723 55928.781 56188.117 56234.414 56283.613 56306.523 56602.234 56993.523 57096.102 57175.973 57215.098 57264.012 57562.402 57776.910 57839.293 57857.180 57993.969 58092.207 58428.172 58443.680 58487.938 59074.578 59333.684 59334.367 60103.859 60146.551 61030.488 61074.191 61096.371 61106.062 61224.898 61280.977 61381.047 61403.609 61717.945 61839.684 62165.055 62304.578 62572.281 63260.641 63355.734 63442.453 63463.910 63469.816 63530.359 63610.539 64252.609 64337.113 64469.559 64538.750 64733.453 65044.641 65057.215 65062.082 65109.535 65161.883 65287.883 65302.855 65308.414 65389.383 65643.906 65715.086 65804.023 65892.430 65904.672 65911.609 65930.492 66006.016 66018.664 66174.453 66190.039 66298.781 66360.617 66583.852 66618.633 66656.820 66671.922 
query 2 nn's (6, 6): 8667807 (6) 237844 (6) 2304211 (6) 4791170 (6) 9466222 (6) 2448858 (6) 199400 (6) 7500565 (6) 6296252 (6) 5988705 (6) 9554416 (6) 9416415 (6) 2795236 (6) 6347813 (6) 9068473 (6) 893390 (6) 8863268 (6) 8068558 (6) 9410320 (6) 2994193 (6) 4154052 (6) 4757879 (6) 4279056 (6) 3942637 (6) 9362419 (6) 6114289 (6) 1329974 (6) 7701746 (6) 3832486 (6) 9457112 (6) 4555038 (6) 4048068 (6) 1229611 (6) 8915550 (6) 436139 (6) 9559093 (6) 409456 (6) 7508409 (6) 2393824 (6) 419195 (6) 40266 (6) 9330360 (6) 1160482 (6) 8563094 (6) 8476333 (6) 9790465 (6) 8530462 (6) 1463083 (6) 8590994 (6) 5631784 (6) 888761 (6) 7685482 (6) 3967402 (6) 3567890 (6) 1956474 (6) 3795529 (6) 7298098 (6) 5596868 (6) 4861540 (6) 7011882 (6) 4135242 (6) 5563048 (6) 3061201 (6) 8690196 (6) 8635193 (6) 4713533 (6) 2180225 (6) 2319775 (6) 5619678 (6) 1860330 (6) 4822642 (6) 2723946 (6) 2038327 (6) 8333106 (6) 8759413 (6) 9384590 (6) 764856 (6) 6511526 (6) 3140269 (6) 1625792 (6) 4111853 (6) 1795636 (6) 8801441 (6) 2036301 (6) 8064334 (6) 1758192 (6) 1297680 (6) 1561941 (6) 752202 (6) 2247452 (6) 1992904 (6) 8075681 (6) 4926809 (6) 4764797 (6) 1601079 (6) 9919092 (6) 3108541 (6) 8511243 (6) 9117020 (6) 4418406 (6) 
     dis: 	47426.219 48618.285 48717.477 49081.809 50569.738 50719.492 50734.125 50812.055 51111.473 51314.062 51949.832 52016.340 52135.250 52399.180 52601.242 52645.602 52915.633 53144.305 53175.371 53371.535 53435.875 53532.156 53604.242 53702.543 53851.586 54263.848 54381.930 54475.680 54556.828 54621.852 54675.426 54762.965 54814.926 55013.816 55137.418 55350.547 55511.426 55581.117 55774.430 55788.906 55882.117 56147.039 56225.535 56239.559 56410.578 56458.984 56664.164 56718.816 56800.223 57083.383 57520.980 57530.480 57569.703 57582.555 57704.797 57720.645 57744.156 57830.797 57841.598 58027.391 58036.250 58055.496 58144.371 58145.320 58162.898 58267.445 58300.445 58374.852 58394.266 58465.961 58534.133 58541.184 58659.836 58708.711 58709.562 58745.953 58829.391 58927.723 59034.449 59043.293 59149.098 59343.828 59366.785 59442.957 59493.871 59533.488 59581.746 59674.273 59678.395 59689.031 59734.508 59838.828 59922.805 60050.113 60112.805 60122.664 60134.289 60137.340 60232.332 60298.055 
query 3 nn's (6, 6): 4083199 (6) 2205832 (6) 4147780 (6) 8410503 (6) 8174765 (6) 3643741 (6) 1985932 (6) 2965607 (6) 7301932 (6) 3143192 (6) 9132978 (6) 9010353 (6) 8419826 (6) 3459738 (6) 1911911 (6) 727241 (6) 7914184 (6) 8649378 (6) 2218358 (6) 4998281 (6) 6411621 (6) 6760157 (6) 1739894 (6) 4246457 (6) 4486659 (6) 1514080 (6) 1344917 (6) 9019201 (6) 692217 (6) 5755561 (6) 6486623 (6) 3633444 (6) 7709017 (6) 9925791 (6) 2630576 (6) 992744 (6) 5792548 (6) 9625994 (6) 6804450 (6) 7691560 (6) 7119531 (6) 1028926 (6) 9335193 (6) 9354839 (6) 5430458 (6) 5777538 (6) 7749958 (6) 2168780 (6) 7614050 (6) 9517308 (6) 2236726 (6) 6317467 (6) 422848 (6) 840086 (6) 7865854 (6) 6697954 (6) 1502235 (6) 8702151 (6) 686764 (6) 9166 (6) 3252978 (6) 1133113 (6) 5293699 (6) 3828353 (6) 578322 (6) 936598 (6) 6346885 (6) 6281603 (6) 2659564 (6) 7556732 (6) 8344580 (6) 7463079 (6) 82034 (6) 9332155 (6) 8388591 (6) 9421859 (6) 1604878 (6) 7745448 (6) 1085693 (6) 3522530 (6) 5651613 (6) 1229577 (6) 9947826 (6) 9102009 (6) 6306155 (6) 9469929 (6) 5627714 (6) 7278201 (6) 2305251 (6) 5663020 (6) 8381527 (6) 3723247 (6) 1874032 (6) 2842840 (6) 4673685 (6) 5561400 (6) 7691164 (6) 8326154 (6) 5442116 (6) 9484002 (6) 
     dis: 	3992.139 4390.735 4460.316 4869.371 5049.834 5288.036 5306.944 5359.460 5486.950 5496.971 5537.525 5967.745 6124.554 6145.322 6174.690 6198.656 6241.693 6296.265 6305.340 6415.198 6483.879 6591.960 6747.278 6787.027 6964.243 7087.833 7147.005 7228.387 7241.440 7292.860 7326.905 7345.663 7460.148 7477.250 7478.721 7734.474 7766.236 7823.001 7929.480 7961.448 7965.099 7991.773 8005.697 8039.517 8119.035 8121.604 8180.301 8232.581 8248.738 8269.359 8279.927 8289.377 8330.717 8386.378 8450.070 8507.957 8566.945 8598.271 8652.689 8687.346 8701.215 8712.269 8737.256 8952.893 8970.202 8999.791 9076.889 9081.689 9123.775 9139.252 9211.904 9226.656 9265.918 9521.298 9572.715 9593.152 9597.407 9654.684 9656.084 9730.078 9745.374 9788.786 9809.697 9827.951 9869.879 9884.258 9998.140 10004.102 10022.454 10030.300 10109.354 10127.214 10128.482 10139.350 10169.544 10189.079 10216.834 10240.757 10259.992 10283.998 
query 4 nn's (6, 6): 811272 (6) 7963557 (6) 3477074 (6) 1751938 (6) 1141817 (6) 769923 (6) 1850409 (6) 3842053 (6) 3495449 (6) 2251576 (6) 1020874 (6) 4158427 (6) 8756074 (6) 5314473 (6) 1903346 (6) 5707536 (6) 1272627 (6) 4719865 (6) 4331349 (6) 417315 (6) 8972367 (6) 2283262 (6) 330880 (6) 8838225 (6) 163735 (6) 1375658 (6) 2454280 (6) 9831067 (6) 6258948 (6) 6658100 (6) 6699578 (6) 6784852 (6) 2779329 (6) 5913705 (6) 3903546 (6) 1953827 (6) 2945464 (6) 2617346 (6) 571010 (6) 1784595 (6) 2910219 (6) 3733398 (6) 3882262 (6) 9488326 (6) 6116720 (6) 5216743 (6) 2288117 (6) 5641404 (6) 7082352 (6) 2704497 (6) 2160380 (6) 3069927 (6) 6748459 (6) 6379872 (6) 5862862 (6) 2247722 (6) 2002058 (6) 2115629 (6) 2534624 (6) 9982122 (6) 2610222 (6) 9167103 (6) 5963276 (6) 1919553 (6) 3554205 (6) 2334258 (6) 5694512 (6) 4704136 (6) 9661629 (6) 6755529 (6) 1387396 (6) 4337818 (6) 5269483 (6) 1715676 (6) 7860608 (6) 4651630 (6) 9770946 (6) 3625321 (6) 1218866 (6) 8498970 (6) 1406876 (6) 4925842 (6) 5938785 (6) 3118155 (6) 1626005 (6) 8514339 (6) 2351206 (6) 9646602 (6) 2157689 (6) 1731694 (6) 3916947 (6) 5906273 (6) 7983698 (6) 7923766 (6) 7033857 (6) 6083758 (6) 1981145 (6) 6156042 (6) 3658255 (6) 963922 (6) 
     dis: 	80326.258 80867.031 81320.172 82020.328 84921.539 85400.797 88166.188 89893.477 90953.297 91794.297 93192.031 93389.141 93696.922 94164.961 94277.891 94376.031 94447.328 94478.422 94622.734 94690.039 94829.570 95037.492 95185.766 95211.523 95422.609 95619.711 95705.812 95803.266 95929.125 96054.906 96058.508 96374.961 96487.570 96894.516 96964.695 97154.828 97155.922 97266.703 97882.281 98315.453 98577.297 99088.422 99207.516 99578.062 99807.047 99877.398 99963.688 99979.609 100145.727 100402.180 100617.773 100726.312 100744.617 100850.812 101086.219 101102.578 101224.180 101225.766 101301.031 101344.438 101424.586 101557.859 101758.914 101880.117 101938.609 101971.945 102276.336 102363.797 102445.570 102630.531 102794.125 103003.500 103063.516 103283.141 103325.734 103368.742 103439.594 103442.492 103581.023 103661.547 103858.289 103871.625 103918.336 103923.141 103934.547 104035.141 104119.789 104220.828 104248.461 104452.617 104455.141 104513.695 104679.602 104789.234 104817.500 104914.266 104922.531 105105.945 105177.484 105238.594 
[ 79.701s ] *** Query time: 18.363
qps: 544.576
 *** ivfpq recall 
ivfpq get 715924 postive res from 1000000 results, recall@100:0.716
recall dist(10% per bucket): 0.000 0.000 0.006 0.033 0.091 0.135 0.162 0.174 0.216 0.184 0.000 
finished ivfpq index examples
[ 79.730s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_100.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_500_random_64 20 128"
	User time (seconds): 77.88
	System time (seconds): 1.15
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:19.86
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1604516
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 415557
	Voluntary context switches: 2767
	Involuntary context switches: 32
	Swaps: 0
	File system inputs: 126680
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:51
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_100.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_500_random_64
nprobe: 20
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.696s ] Loaded metadata, 10000000 attr's found
[ 0.696s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.698s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.700s ] Loaded 10000 sift10M queries
[ 0.768s ] Loaded ground truth, gt_size: 100
[ 0.768s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.234s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 76.700s ] Query results (vector ids, then distances):
query 0 nn's (10, 10): 4160485 (10) 5423931 (10) 9485971 (10) 5643020 (10) 7873580 (10) 6002319 (10) 2051236 (10) 3474811 (10) 5128198 (10) 7842689 (10) 4586713 (10) 9299823 (10) 3068799 (10) 9584266 (10) 2702664 (10) 5066003 (10) 9082011 (10) 9541713 (10) 9823129 (10) 8423092 (10) 7868374 (10) 2312218 (10) 5008601 (10) 5327123 (10) 4124875 (10) 2260181 (10) 8031075 (10) 6258663 (10) 7868501 (10) 3252917 (10) 704919 (10) 4441695 (10) 6800399 (10) 8843894 (10) 4910351 (10) 4481800 (10) 9309037 (10) 1712794 (10) 4483915 (10) 9158543 (10) 1340784 (10) 9597643 (10) 7292419 (10) 2777973 (10) 7826129 (10) 7258709 (10) 4107644 (10) 2554600 (10) 8422122 (10) 9428046 (10) 9731665 (10) 3595632 (10) 6992352 (10) 3445007 (10) 6661910 (10) 814714 (10) 4256938 (10) 1515026 (10) 1549186 (10) 7155655 (10) 6232931 (10) 6505500 (10) 4358804 (10) 4881129 (10) 4441288 (10) 6892646 (10) 2586362 (10) 2130984 (10) 4336645 (10) 3824192 (10) 5964239 (10) 3704799 (10) 1356650 (10) 592287 (10) 362958 (10) 5152630 (10) 6984063 (10) 2501708 (10) 9821579 (10) 8633622 (10) 1698801 (10) 5027026 (10) 2711480 (10) 7417719 (10) 5274495 (10) 7834898 (10) 5104149 (10) 65587 (10) 7290207 (10) 129807 (10) 4476682 (10) 2963409 (10) 3850584 (10) 8124131 (10) 4556010 (10) 4276790 (10) 2918179 (10) 7892645 (10) 5312540 (10) 6459180 (10) 
     dis: 	65808.273 76505.367 78848.219 81671.602 82992.828 84146.875 85129.227 85938.086 86182.430 86398.547 86672.266 87003.547 88167.461 88249.898 88691.742 88749.859 89052.102 89736.297 89762.109 89791.359 90031.609 90107.117 90282.688 90627.117 90645.555 90954.016 90957.234 91219.531 91999.805 92029.258 92192.648 92315.133 92590.859 93077.773 93283.555 93418.953 93470.672 93594.852 93670.516 93822.578 93933.766 94287.430 94290.750 94631.688 94700.812 94721.828 95336.508 95707.633 95986.531 96365.711 96526.562 96849.859 96862.156 96867.312 97107.578 97861.617 98047.062 98052.516 98176.711 98452.867 98842.828 99116.172 99169.812 99469.305 99508.031 99579.750 99668.844 99673.859 99767.992 100024.547 100079.773 100349.906 100575.891 100783.164 100956.078 101079.648 101577.609 101753.898 101960.727 102091.266 102094.094 102200.031 102337.406 102518.648 102521.477 102775.391 102827.562 103051.938 103093.641 103114.109 103167.148 103240.062 103278.648 103304.656 103326.570 103586.531 103847.703 103894.320 104060.172 104092.414 
query 1 nn's (10, 10): 4907604 (10) 4922660 (10) 9933148 (10) 1887729 (10) 1259657 (10) 4689763 (10) 4512099 (10) 8588450 (10) 9349060 (10) 9211699 (10) 3665630 (10) 5226515 (10) 9913606 (10) 2234566 (10) 7502105 (10) 6674672 (10) 482087 (10) 2532663 (10) 9643854 (10) 4821002 (10) 8063568 (10) 1737968 (10) 1018756 (10) 6618543 (10) 3858730 (10) 5838578 (10) 3241120 (10) 8346283 (10) 2021990 (10) 7851813 (10) 9980694 (10) 5561330 (10) 6312393 (10) 2070607 (10) 2524359 (10) 9164450 (10) 5632105 (10) 5074486 (10) 9931915 (10) 4178652 (10) 5707690 (10) 5934521 (10) 801963 (10) 148395 (10) 9964913 (10) 4389334 (10) 4130277 (10) 9258708 (10) 2949812 (10) 7094836 (10) 1111247 (10) 9810387 (10) 7077341 (10) 3881464 (10) 8757781 (10) 643587 (10) 6579804 (10) 8549337 (10) 3335948 (10) 8226202 (10) 8881883 (10) 3553376 (10) 1589644 (10) 9220661 (10) 9275179 (10) 5013067 (10) 1395848 (10) 7379199 (10) 5234937 (10) 6742700 (10) 7546943 (10) 4357153 (10) 9820536 (10) 3566500 (10) 8448472 (10) 5682634 (10) 2749783 (10) 4546662 (10) 717773 (10) 1208441 (10) 6193228 (10) 9778277 (10) 4852337 (10) 3423010 (10) 6679899 (10) 2491875 (10) 8603784 (10) 296036 (10) 4221512 (10) 6216048 (10) 8032969 (10) 9329466 (10) 4226811 (10) 2507742 (10) 3709667 (10) 4116413 (10) 4813816 (10) 6755025 (10) 7256909 (10) 9849685 (10) 
     dis: 	46325.406 53613.809 58435.215 58771.695 59024.137 59604.867 60561.609 60805.348 60923.992 61137.523 61351.906 62036.039 62185.766 62373.750 62821.535 62901.809 63094.770 64794.828 65575.734 66044.539 66487.398 67115.039 67390.219 67606.312 68060.609 68088.328 68229.148 68439.836 68506.430 69079.711 69328.047 69526.156 69646.016 70182.828 70275.859 70724.750 70846.703 71475.867 71659.414 71668.938 72083.453 72123.562 72336.875 72455.211 72786.688 72794.523 72878.055 73020.516 73158.539 73206.594 73407.797 73621.844 73782.297 74096.547 74374.281 74606.008 74889.297 75413.578 75499.539 75587.859 75707.039 76293.484 76307.523 76587.547 76661.586 76905.422 77109.672 77170.797 77215.805 77663.359 77799.922 77804.688 77808.703 78117.781 78245.734 78362.680 78447.445 78679.734 79187.141 79424.836 79787.219 79921.820 80137.711 80212.578 80427.789 80675.203 80734.742 80847.086 81152.766 81435.750 81500.852 81559.500 81567.039 81675.867 81762.766 81834.820 81861.219 81944.125 82131.234 82240.617 
query 2 nn's (10, 10): 3493381 (10) 5637368 (10) 4457160 (10) 2511585 (10) 1198061 (10) 4677344 (10) 9541874 (10) 5039283 (10) 944526 (10) 4907071 (10) 49352 (10) 6120728 (10) 2556455 (10) 3667879 (10) 4283746 (10) 871001 (10) 3224964 (10) 4848879 (10) 4112561 (10) 9165964 (10) 3095363 (10) 4167330 (10) 9375728 (10) 7221663 (10) 8064263 (10) 5407857 (10) 5088938 (10) 5274336 (10) 1897720 (10) 8131606 (10) 2660391 (10) 9830393 (10) 9355645 (10) 8366019 (10) 4230661 (10) 8084363 (10) 1213154 (10) 1545324 (10) 9982250 (10) 4188703 (10) 4329845 (10) 9970439 (10) 1025392 (10) 2244705 (10) 419533 (10) 8394381 (10) 3579460 (10) 1418565 (10) 3134622 (10) 1066001 (10) 2652720 (10) 4105778 (10) 2721821 (10) 5638422 (10) 9844531 (10) 2945338 (10) 932507 (10) 1519384 (10) 1070039 (10) 6664994 (10) 7734472 (10) 3570008 (10) 1248436 (10) 6226545 (10) 6535335 (10) 113541 (10) 4817838 (10) 7912354 (10) 7161229 (10) 6070654 (10) 3574174 (10) 9987972 (10) 9257315 (10) 6501663 (10) 5661088 (10) 3906262 (10) 2499456 (10) 6816240 (10) 8927364 (10) 7384392 (10) 598268 (10) 5905660 (10) 5156445 (10) 414710 (10) 4571383 (10) 4792533 (10) 1645367 (10) 9767362 (10) 1427452 (10) 3197452 (10) 9255760 (10) 2401892 (10) 3815165 (10) 1767532 (10) 3955289 (10) 4184590 (10) 328944 (10) 319559 (10) 6194646 (10) 1528109 (10) 
     dis: 	50450.598 51124.438 51192.207 52887.113 53682.016 54733.289 55067.973 56066.062 57075.965 57653.559 58241.039 58566.074 58709.367 58817.020 59385.438 59759.668 59812.055 61165.996 61197.766 61257.535 61696.172 61974.961 62081.977 62221.141 62231.758 62290.656 62311.820 62373.047 62428.094 62798.352 63947.293 64011.281 64040.531 64160.453 64590.602 64610.164 65095.047 65298.398 65574.688 65640.664 65696.805 66282.258 66371.688 66406.336 66434.398 66521.219 66847.633 67019.086 67177.719 67240.656 67733.344 67839.109 67843.781 67942.789 68017.273 68030.938 68173.156 68289.320 68583.352 68720.391 68787.914 68807.609 68948.562 69118.109 69126.797 69230.086 69307.414 69391.562 69396.891 69403.398 69622.648 69762.297 69807.367 69831.328 69998.086 70166.547 70172.617 70224.156 70309.000 70398.273 70460.758 70464.344 70541.117 70725.328 70786.484 70814.203 70883.367 70913.297 70948.336 70998.812 71019.984 71306.234 71528.406 71568.305 71638.930 71689.539 71697.070 71730.328 71777.031 71839.391 
query 3 nn's (10, 10): 7269483 (10) 3278687 (10) 8381210 (10) 5381241 (10) 179529 (10) 8051314 (10) 3421950 (10) 1061321 (10) 222255 (10) 3112499 (10) 7216322 (10) 543054 (10) 7829631 (10) 4995291 (10) 3379947 (10) 240857 (10) 5619818 (10) 5026118 (10) 6711509 (10) 9906166 (10) 8372623 (10) 6447621 (10) 6934608 (10) 4189992 (10) 1896951 (10) 2464354 (10) 7505915 (10) 7127184 (10) 6485893 (10) 1656853 (10) 3877232 (10) 6776211 (10) 8420002 (10) 116302 (10) 3855680 (10) 3485217 (10) 7281219 (10) 406243 (10) 9927644 (10) 4759076 (10) 5661022 (10) 2648578 (10) 3649992 (10) 9231939 (10) 5122599 (10) 2393763 (10) 6993953 (10) 9664797 (10) 8013467 (10) 4593096 (10) 4117204 (10) 3547401 (10) 6468324 (10) 323107 (10) 6365231 (10) 2587214 (10) 3719519 (10) 9600421 (10) 808011 (10) 887194 (10) 5329509 (10) 2599501 (10) 8799515 (10) 5618980 (10) 4161085 (10) 9675475 (10) 2139674 (10) 5015756 (10) 3416860 (10) 352619 (10) 9561196 (10) 1448035 (10) 4319199 (10) 8523280 (10) 2596728 (10) 1705936 (10) 2065036 (10) 8995335 (10) 1570115 (10) 4845451 (10) 9692573 (10) 3309893 (10) 2762309 (10) 6144203 (10) 657903 (10) 5087658 (10) 4702241 (10) 3420222 (10) 1425829 (10) 1916764 (10) 3013029 (10) 5224258 (10) 9407537 (10) 1097904 (10) 7976875 (10) 3159877 (10) 7745296 (10) 6046982 (10) 7234124 (10) 5820689 (10) 
     dis: 	4677.812 7108.673 7162.343 7628.874 7642.829 7697.720 8002.963 8458.090 8810.335 9120.275 9182.552 9234.701 9452.702 9553.576 9804.844 10126.396 10309.062 10368.710 10494.709 10504.659 10665.839 10669.762 10795.918 10856.082 11101.407 11277.900 11334.286 11348.063 11686.734 11805.184 11872.945 12015.112 12228.438 12249.027 12619.093 12703.938 12859.092 12940.490 13036.415 13061.726 13180.498 13499.711 13520.236 13524.174 13664.893 13700.176 13738.918 13796.189 13893.861 13905.682 13908.320 13961.931 13985.818 13995.117 14010.317 14017.967 14075.624 14166.615 14313.403 14326.561 14381.589 14524.865 14736.498 14753.957 14913.156 15006.664 15088.265 15176.826 15303.273 15344.922 15459.459 15526.449 15550.555 15567.603 15571.929 15579.309 15585.497 15638.057 15652.537 15700.053 15837.261 15839.667 15923.646 15934.093 15968.200 16038.640 16123.329 16129.944 16131.645 16144.712 16194.832 16199.049 16535.135 16545.189 16640.387 16782.383 16885.516 16906.008 16918.422 16922.566 
query 4 nn's (10, 10): 745843 (10) 9104864 (10) 1430207 (10) 3355354 (10) 330819 (10) 8171628 (10) 9294912 (10) 8976035 (10) 3147235 (10) 4529199 (10) 4243361 (10) 125408 (10) 6415311 (10) 3958825 (10) 2341966 (10) 2827238 (10) 1231024 (10) 5799065 (10) 1295801 (10) 9147704 (10) 175284 (10) 3191283 (10) 8287324 (10) 3955594 (10) 7020660 (10) 7328865 (10) 8945068 (10) 6221821 (10) 9071979 (10) 8401602 (10) 1667598 (10) 8326523 (10) 4040337 (10) 7407009 (10) 87460 (10) 2618156 (10) 7184366 (10) 787918 (10) 1363370 (10) 4393700 (10) 2103327 (10) 9582021 (10) 1765412 (10) 3751751 (10) 6981001 (10) 4361546 (10) 4906511 (10) 7903043 (10) 5418798 (10) 149806 (10) 5030547 (10) 7538271 (10) 687310 (10) 8793699 (10) 6511511 (10) 7439152 (10) 4774816 (10) 3173319 (10) 6504287 (10) 1992696 (10) 7637766 (10) 6506698 (10) 7725887 (10) 6010697 (10) 1154691 (10) 267592 (10) 6786875 (10) 3370622 (10) 541839 (10) 9484345 (10) 8015167 (10) 9498236 (10) 9232912 (10) 1825489 (10) 2463115 (10) 5370410 (10) 6898079 (10) 9831534 (10) 6059525 (10) 4372264 (10) 7833818 (10) 2144541 (10) 5602181 (10) 7479203 (10) 949941 (10) 6319220 (10) 6830147 (10) 7805732 (10) 2988827 (10) 5312325 (10) 2781989 (10) 3890856 (10) 41585 (10) 4879386 (10) 286975 (10) 1302451 (10) 5960489 (10) 9275636 (10) 5315374 (10) 5112799 (10) 
     dis: 	96408.789 97511.852 98487.188 100047.930 100189.570 100604.883 101014.234 101238.695 102158.938 102370.266 103648.672 103733.359 104605.008 104965.500 105268.156 105713.391 106647.328 106850.203 106960.867 107106.984 107870.055 108290.391 108299.453 108490.922 108580.703 108690.109 108703.352 108749.773 110005.398 110074.617 110190.586 110772.953 111022.547 111167.125 111309.266 111537.094 111568.602 111848.461 112034.672 112265.125 112284.117 113286.766 113310.766 113402.312 113510.531 113530.375 113609.266 113695.797 113949.344 113961.703 114071.594 114301.367 114340.000 114461.930 114560.828 114688.641 114957.836 115165.664 115292.172 115496.391 115585.172 115605.852 115625.672 115643.016 115880.531 115981.320 116597.461 116664.453 116846.141 117070.898 117201.023 117442.727 117524.008 117808.555 117863.648 117899.359 117905.625 117910.391 118043.086 118159.016 118183.875 118398.688 118444.547 118543.250 118748.828 118758.898 118937.969 118998.633 119526.453 119605.672 119611.906 119678.727 119725.797 120069.531 120102.906 120847.828 120852.461 120940.750 120978.891 120990.188 
[ 76.700s ] *** Query time: 13.695
qps: 730.199
 *** ivfpq recall 
ivfpq get 629601 postive res from 1000000 results, recall@100:0.630
recall dist(10% per bucket): 0.000 0.003 0.035 0.101 0.160 0.162 0.149 0.130 0.125 0.135 0.000 
finished ivfpq index examples
[ 76.729s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_100.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_500_random_64 20 128"
	User time (seconds): 75.72
	System time (seconds): 1.13
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:16.86
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1606564
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 415564
	Voluntary context switches: 1
	Involuntary context switches: 88
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:54
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_100.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_500_random_64
nprobe: 20
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.696s ] Loaded metadata, 10000000 attr's found
[ 0.696s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.699s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.700s ] Loaded 10000 sift10M queries
[ 0.769s ] Loaded ground truth, gt_size: 100
[ 0.769s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.209s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 72.059s ] Query results (vector ids, then distances):
query 0 nn's (19, 19): 7364551 (19) 4897568 (19) 1124068 (19) 8343482 (19) 117870 (19) 5818286 (19) 9252115 (19) 1426063 (19) 8000565 (19) 3171219 (19) 8325692 (19) 8179893 (19) 1988196 (19) 6429462 (19) 3316513 (19) 6673716 (19) 6415975 (19) 3582382 (19) 8853367 (19) 4627246 (19) 8690120 (19) 3589722 (19) 2266703 (19) 3888733 (19) 8214188 (19) 2722398 (19) 8739222 (19) 854445 (19) 1829215 (19) 7973124 (19) 208580 (19) 9432560 (19) 917978 (19) 3339940 (19) 9170106 (19) 295883 (19) 1783394 (19) 2118537 (19) 8979343 (19) 9083201 (19) 2446067 (19) 8073632 (19) 8090492 (19) 9009457 (19) 1091628 (19) 1123637 (19) 9616884 (19) 1165710 (19) 3599660 (19) 4424895 (19) 5198083 (19) 1900950 (19) 8133307 (19) 2173332 (19) 594098 (19) 9514503 (19) 3122637 (19) 6264884 (19) 1012763 (19) 9011027 (19) 7961065 (19) 1669950 (19) 5682433 (19) 9055934 (19) 5470829 (19) 2925761 (19) 3693950 (19) 1632570 (19) 3810577 (19) 1927104 (19) 1961267 (19) 5320060 (19) 5381891 (19) 5034969 (19) 3955536 (19) 3372928 (19) 4759362 (19) 213697 (19) 2727051 (19) 4619119 (19) 7125701 (19) 8635447 (19) 9557352 (19) 1771796 (19) 6560763 (19) 7214383 (19) 3025915 (19) 6211338 (19) 9942163 (19) 2263885 (19) 7128102 (19) 1332921 (19) 1077040 (19) 4602141 (19) 4328806 (19) 7079385 (19) 4614933 (19) 6607948 (19) 866751 (19) 9400327 (19) 
     dis: 	73579.352 85006.203 91477.812 92271.867 95413.250 97335.695 99436.320 100563.688 102545.406 106374.438 106777.625 106922.188 107280.609 108193.961 109532.609 110284.461 111085.227 112155.438 112257.008 115973.844 116951.359 116964.938 117834.891 118227.359 118543.703 118618.875 118653.383 118678.859 120001.938 121896.023 122187.234 122533.234 122984.602 123240.078 124097.828 127600.031 127613.594 127967.422 128703.234 128742.219 128889.859 129057.094 131071.648 131221.469 131711.156 131736.500 131986.625 132586.750 132842.922 133986.562 134537.672 135731.875 135757.625 136637.719 137366.094 137787.328 138006.422 138507.188 138548.000 139435.844 139712.859 139733.047 139950.641 140033.094 140211.203 140427.328 141154.078 141976.938 142143.469 143463.250 144365.344 144444.406 144860.953 145788.609 145835.234 151662.875 152205.594 152376.609 153096.703 153642.031 153676.844 153772.578 154725.531 155389.719 155397.344 156957.781 157529.953 157660.031 157784.484 157980.750 158012.359 159389.359 160378.719 160550.656 161237.000 161393.156 162443.719 164715.703 164894.750 164941.031 
query 1 nn's (19, 19): 1345854 (19) 9490922 (19) 6861763 (19) 3779157 (19) 2457409 (19) 7903037 (19) 5935793 (19) 1204854 (19) 9558281 (19) 4136820 (19) 6068122 (19) 3478621 (19) 9734664 (19) 1917409 (19) 2111946 (19) 8548415 (19) 2460722 (19) 4924494 (19) 4317184 (19) 749008 (19) 9928244 (19) 8225678 (19) 3971206 (19) 479775 (19) 9709202 (19) 8974279 (19) 340915 (19) 1655080 (19) 6216367 (19) 7300255 (19) 32221 (19) 5908680 (19) 8331956 (19) 3850227 (19) 2146104 (19) 1840522 (19) 1250366 (19) 4298384 (19) 7221154 (19) 4432127 (19) 71132 (19) 9824953 (19) 940086 (19) 6105606 (19) 8914130 (19) 846887 (19) 926213 (19) 1743139 (19) 2720534 (19) 2024475 (19) 1094427 (19) 6762478 (19) 3487690 (19) 7667835 (19) 3381913 (19) 6087898 (19) 1949849 (19) 3626102 (19) 739349 (19) 9494067 (19) 4956027 (19) 546252 (19) 6785293 (19) 4706721 (19) 1879256 (19) 4196641 (19) 6484553 (19) 9347133 (19) 4379352 (19) 7598429 (19) 3460154 (19) 2558494 (19) 4125951 (19) 3306379 (19) 6793446 (19) 8618702 (19) 9306581 (19) 691377 (19) 743554 (19) 9137275 (19) 2772811 (19) 8844096 (19) 3921163 (19) 3878087 (19) 9423077 (19) 758171 (19) 449081 (19) 3320450 (19) 763196 (19) 3765745 (19) 2530736 (19) 6920668 (19) 4852423 (19) 1037955 (19) 4096106 (19) 2121463 (19) 2958813 (19) 180763 (19) 9949363 (19) 4465235 (19) 
     dis: 	62152.125 71258.836 72143.648 75227.359 75262.156 78014.953 79580.672 81020.188 82008.164 83046.461 83466.516 83983.984 85191.625 85789.750 86940.445 87007.312 88005.164 89960.172 90236.484 94694.125 94861.281 95558.445 97213.727 97476.680 98339.242 98718.781 99095.711 99354.258 99681.562 100217.234 101127.711 102581.047 103723.484 103998.625 104076.852 104144.070 104358.297 104731.867 104888.242 104933.180 105020.742 105682.500 105768.297 105918.133 106614.266 107031.422 107041.336 107588.125 107645.023 107737.438 108169.922 108472.078 108860.898 109608.688 109967.594 110113.766 110936.820 110970.547 111291.938 111856.570 111951.531 113338.672 114541.828 114988.812 116620.516 117085.945 117184.422 117656.578 118529.969 120786.781 120901.016 120918.469 120979.211 121423.859 121691.359 122361.984 123025.156 123480.016 123505.156 123855.742 124169.406 124274.062 124831.773 124972.953 125209.883 125257.047 125620.703 125829.961 126616.945 127228.414 127743.750 128095.750 129852.586 130401.898 130454.031 130936.297 131010.297 131104.484 131188.094 132134.344 
query 2 nn's (19, 19): 283793 (19) 5857947 (19) 6233731 (19) 243867 (19) 8220257 (19) 342160 (19) 7999911 (19) 1978906 (19) 8000700 (19) 1587666 (19) 6631052 (19) 7241044 (19) 3496848 (19) 6537424 (19) 5324267 (19) 7357334 (19) 8626336 (19) 1334859 (19) 4790579 (19) 1329864 (19) 4371398 (19) 6059799 (19) 8701465 (19) 2272259 (19) 1909369 (19) 18069 (19) 1030206 (19) 4772966 (19) 8587833 (19) 6909536 (19) 9680144 (19) 4851733 (19) 189565 (19) 5450319 (19) 9837736 (19) 8949426 (19) 9622388 (19) 3409292 (19) 8774602 (19) 2594493 (19) 7766278 (19) 9391567 (19) 4152007 (19) 4505350 (19) 4060465 (19) 5060541 (19) 8311569 (19) 4994152 (19) 651616 (19) 2399385 (19) 4814161 (19) 379262 (19) 6025892 (19) 7477849 (19) 7474553 (19) 5145826 (19) 6507732 (19) 9686259 (19) 1047147 (19) 3714895 (19) 1092304 (19) 367068 (19) 5770255 (19) 527311 (19) 7700094 (19) 1144515 (19) 999413 (19) 1908582 (19) 33724 (19) 1384963 (19) 747543 (19) 6342748 (19) 3556085 (19) 4522193 (19) 8246660 (19) 799528 (19) 1094276 (19) 3766784 (19) 7807604 (19) 5371644 (19) 4099168 (19) 9589204 (19) 414842 (19) 3188880 (19) 3166227 (19) 7494174 (19) 2883972 (19) 2533320 (19) 4571666 (19) 5183859 (19) 323837 (19) 2639946 (19) 3099169 (19) 7245589 (19) 7937375 (19) 5198616 (19) 4259808 (19) 4232257 (19) 2079581 (19) 2073 (19) 
     dis: 	64936.852 65610.477 65918.375 66212.156 72777.039 73270.797 73406.055 74519.117 74846.617 76694.281 78868.797 79564.328 79726.672 79829.633 79981.516 80386.641 80467.391 80754.406 80801.930 81151.594 81179.812 81371.203 81885.094 82906.297 82914.039 83377.836 83984.094 84219.445 84485.047 84555.781 84741.000 84771.180 84923.711 85031.523 85520.219 85535.688 85581.719 85686.414 85845.094 87262.836 87543.422 87555.211 87956.391 88033.938 88458.047 88623.484 89023.648 89526.859 89838.453 90196.570 90686.422 90702.375 91374.500 93320.266 93482.414 93552.250 94405.508 94761.383 94801.227 94943.281 95194.375 95264.414 95804.852 96126.188 96366.641 96424.859 96430.750 96514.469 96795.734 97074.883 97257.703 97353.422 97583.977 97761.148 97821.406 98122.109 98197.289 99185.719 99198.211 99247.531 99731.969 100266.508 100339.453 100355.000 100688.711 100695.070 100907.305 101008.984 101183.695 101192.406 101503.531 101965.266 101994.492 102021.992 102090.672 102889.781 102935.219 103025.797 103180.625 103381.102 
query 3 nn's (19, 19): 6942939 (19) 1326424 (19) 9212218 (19) 9558279 (19) 4557732 (19) 8711902 (19) 7251408 (19) 7372833 (19) 5727279 (19) 3669244 (19) 5591597 (19) 7723733 (19) 9811017 (19) 6458284 (19) 1032968 (19) 43953 (19) 3942225 (19) 3244240 (19) 8538968 (19) 3616969 (19) 9596692 (19) 3772287 (19) 8365826 (19) 4900964 (19) 6434863 (19) 8953729 (19) 3689791 (19) 2359174 (19) 2820981 (19) 480342 (19) 181834 (19) 9405564 (19) 2399478 (19) 2324107 (19) 4714162 (19) 2949879 (19) 6368460 (19) 7785596 (19) 7338668 (19) 5168072 (19) 3356716 (19) 4261202 (19) 8869494 (19) 4873018 (19) 5649712 (19) 6974244 (19) 8226480 (19) 8479689 (19) 5319718 (19) 1379869 (19) 5252290 (19) 4884153 (19) 3973342 (19) 3536686 (19) 1995157 (19) 8076031 (19) 5987231 (19) 9283768 (19) 8960512 (19) 4923540 (19) 1219037 (19) 4777562 (19) 8747330 (19) 453798 (19) 9182059 (19) 1692092 (19) 2877794 (19) 8993852 (19) 3055002 (19) 1403737 (19) 6286280 (19) 8719258 (19) 4276035 (19) 4142551 (19) 139416 (19) 3415143 (19) 9799221 (19) 3694946 (19) 5312065 (19) 1048034 (19) 7739866 (19) 9490022 (19) 7408576 (19) 8531033 (19) 9670226 (19) 9047292 (19) 7509727 (19) 5447448 (19) 9169614 (19) 2952661 (19) 1548544 (19) 4743693 (19) 7697489 (19) 2729384 (19) 5126656 (19) 66609 (19) 8805987 (19) 7349500 (19) 5794362 (19) 2323261 (19) 
     dis: 	6419.419 8112.285 10562.180 11913.137 12836.576 14121.793 14731.592 15050.908 15369.242 15574.154 16046.812 16200.450 16355.391 17501.605 17846.229 18989.713 19409.348 19990.953 20063.246 20146.754 20864.547 21237.188 21287.857 21830.953 21977.617 22008.719 22675.543 22955.824 22978.020 23198.965 23265.906 23282.094 23342.988 23938.752 24023.799 24071.248 24723.648 24857.244 25012.186 25197.508 25325.498 25345.936 25442.404 25512.254 25562.314 26089.910 26451.467 26605.521 26671.689 27030.852 27351.516 27414.590 27623.133 28044.051 28132.787 28421.047 28673.361 29166.164 29184.184 29386.877 29427.262 29704.049 29936.838 29977.965 30205.613 30370.625 30485.402 30655.432 30730.895 30747.916 30779.312 31166.062 31403.301 31460.988 31715.684 31752.766 31758.643 31837.648 31870.617 32021.826 32168.621 32504.480 32585.873 32680.307 32721.297 32861.387 32915.941 33178.910 33213.992 33214.773 33421.547 33556.758 33655.199 33694.652 33726.195 33932.543 34191.445 34321.961 34679.102 34684.320 
query 4 nn's (19, 19): 5815181 (19) 6373153 (19) 6428554 (19) 5292751 (19) 4177092 (19) 1461067 (19) 8622489 (19) 7091775 (19) 207385 (19) 7570147 (19) 1382975 (19) 207398 (19) 2388487 (19) 3838485 (19) 7566386 (19) 6188029 (19) 8379595 (19) 6923862 (19) 5934873 (19) 3679285 (19) 216867 (19) 7991031 (19) 4214653 (19) 8864564 (19) 154511 (19) 4074234 (19) 1927124 (19) 4746526 (19) 7259903 (19) 6337895 (19) 4484339 (19) 4235802 (19) 3388122 (19) 9220806 (19) 158961 (19) 9346705 (19) 8889766 (19) 9730837 (19) 4866247 (19) 1033138 (19) 4569522 (19) 2279618 (19) 6630720 (19) 4823356 (19) 639 (19) 4889822 (19) 1749049 (19) 4921427 (19) 6581544 (19) 1089109 (19) 8960029 (19) 4949839 (19) 833150 (19) 9452417 (19) 118875 (19) 6756356 (19) 2379175 (19) 428321 (19) 1821504 (19) 2229990 (19) 8388911 (19) 9416499 (19) 145725 (19) 7965434 (19) 7059461 (19) 4159035 (19) 2353471 (19) 5596617 (19) 5505398 (19) 7627185 (19) 4064320 (19) 3015676 (19) 3972844 (19) 6682163 (19) 6230868 (19) 2926412 (19) 3234688 (19) 1695933 (19) 9575228 (19) 5092445 (19) 810407 (19) 2630016 (19) 4491190 (19) 4896968 (19) 9803350 (19) 9928063 (19) 9038926 (19) 8731297 (19) 6252486 (19) 5746610 (19) 7179522 (19) 9784356 (19) 7101115 (19) 2023520 (19) 2983239 (19) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	108160.312 110015.305 110288.203 112720.906 114626.195 117951.055 119308.875 121141.367 123040.391 123740.281 124117.922 124706.133 125607.766 126207.516 128581.109 129315.875 130962.906 131295.734 131573.844 131721.812 131933.906 132627.688 134613.719 134844.438 135157.250 135704.016 135970.656 137856.000 137994.719 138402.469 139495.578 139828.266 140035.453 140439.406 140507.781 141126.828 141276.328 143130.953 144208.875 145142.250 145865.703 146313.875 146445.281 146599.812 148203.609 149569.984 150234.156 150652.281 150835.812 152512.672 153260.719 153563.516 155398.344 156787.516 157993.406 158376.156 158412.344 158639.469 158807.094 158891.312 160081.469 160106.859 160723.078 162268.469 162719.938 163088.031 164156.812 164570.375 165694.531 166909.562 167149.781 168626.516 169379.312 171642.812 174258.188 174601.781 176095.281 177743.688 177996.047 179491.109 179507.438 179622.281 180388.562 181284.359 181718.188 182480.031 185609.375 186967.031 187983.000 192643.125 196984.594 197913.688 208091.172 222011.219 224011.812 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 72.059s ] *** Query time: 11.666
qps: 857.209
 *** ivfpq recall 
ivfpq get 414578 postive res from 1000000 results, recall@100:0.415
recall dist(10% per bucket): 0.004 0.093 0.243 0.225 0.155 0.095 0.064 0.050 0.037 0.035 0.000 
finished ivfpq index examples
[ 72.088s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_100.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_500_random_64 20 128"
	User time (seconds): 71.12
	System time (seconds): 1.09
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:12.21
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1604516
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 415562
	Voluntary context switches: 1
	Involuntary context switches: 150
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:56
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_100.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_500_random_64
nprobe: 20
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.694s ] Loaded metadata, 10000000 attr's found
[ 0.694s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.697s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.698s ] Loaded 10000 sift10M queries
[ 0.766s ] Loaded ground truth, gt_size: 100
[ 0.766s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.205s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 79.644s ] Query results (vector ids, then distances):
query 0 nn's (20, 20): 9964582 (20) 8046738 (20) 2983744 (20) 5622893 (20) 7928471 (20) 2100109 (20) 3402555 (20) 6001330 (20) 8844408 (20) 502074 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	100756.328 104279.219 128272.453 138419.078 143272.672 146649.859 150367.969 151635.469 161076.906 167848.375 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (20, 20): 586030 (20) 2788374 (20) 3337341 (20) 3434211 (20) 4062732 (20) 4737784 (20) 4855691 (20) 2773435 (20) 6312398 (20) 6087997 (20) 1757357 (20) 7228659 (20) 7351667 (20) 3956263 (20) 1849365 (20) 868708 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	82878.711 90853.562 107578.141 108299.391 112561.922 112815.891 131462.672 132245.219 144345.750 146242.281 147278.984 147314.719 147876.938 164576.281 175409.000 196018.219 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (20, 20): 8646849 (20) 6674452 (20) 9787209 (20) 6361380 (20) 7322999 (20) 7915163 (20) 496691 (20) 4094588 (20) 7951259 (20) 9221983 (20) 9458656 (20) 2295856 (20) 3679527 (20) 7821763 (20) 7367558 (20) 2789338 (20) 3005252 (20) 8618892 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	68024.938 75578.688 76363.094 81142.906 89126.820 103626.914 103848.766 106948.984 108217.750 109928.523 113016.750 113796.781 114635.328 116512.938 123354.594 130143.688 130974.477 161298.188 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (20, 20): 312537 (20) 9187340 (20) 7626212 (20) 4958933 (20) 1216581 (20) 284991 (20) 5187251 (20) 4596264 (20) 9510656 (20) 9246224 (20) 1314880 (20) 8120766 (20) 1614558 (20) 6443420 (20) 8991594 (20) 2331467 (20) 7352655 (20) 182312 (20) 5961435 (20) 4915159 (20) 2194278 (20) 5219472 (20) 9364854 (20) 1027632 (20) 7541142 (20) 8962307 (20) 3249575 (20) 5212684 (20) 205984 (20) 2289526 (20) 3712665 (20) 6339381 (20) 2168124 (20) 8972655 (20) 9872536 (20) 6959355 (20) 3184415 (20) 7599233 (20) 2422194 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	13073.052 26837.367 27164.697 27184.062 28900.443 29002.840 29824.398 32229.176 33649.250 34859.910 35633.684 35772.805 36146.191 37935.336 38392.703 38421.500 39025.988 41707.930 42001.848 44367.160 44950.512 46557.773 47019.656 48523.305 49020.145 49802.199 51402.121 51952.645 53681.676 54045.680 54317.633 55969.969 57770.117 58263.535 59543.215 62196.570 66118.344 72934.305 79698.984 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (20, 20): 6193655 (20) 850502 (20) 4844799 (20) 4966146 (20) 3972493 (20) 7825259 (20) 3142235 (20) 4371152 (20) 8974624 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	129206.125 140166.078 147900.094 148078.797 154956.656 156010.344 156618.094 163210.344 186911.969 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 79.644s ] *** Query time: 13.479
qps: 741.915
 *** ivfpq recall 
ivfpq get 132922 postive res from 1000000 results, recall@100:0.133
recall dist(10% per bucket): 0.355 0.484 0.118 0.030 0.011 0.002 0.000 0.000 0.000 0.000 0.000 
finished ivfpq index examples
[ 79.686s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_100.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_500_random_64 20 128"
	User time (seconds): 77.64
	System time (seconds): 2.19
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:19.84
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1605400
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 685025
	Voluntary context switches: 2
	Involuntary context switches: 160
	Swaps: 0
	File system inputs: 0
	File system outputs: 56
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
