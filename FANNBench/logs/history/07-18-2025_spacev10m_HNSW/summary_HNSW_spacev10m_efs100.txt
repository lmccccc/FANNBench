Start time: 00:47
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_40_1000
ef_search: 100
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.707s ] Loaded metadata, 10000000 attr's found
[ 0.707s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.710s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.711s ] Loaded 10000 spacev10m queries
[ 0.780s ] Loaded ground truth, gt_size: 100
[ 0.780s ] Index Params -- d: 100, N: 10000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_40_1000 for reading: No such file or directory
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/hnsw_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_100.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_40_1000 100 100"
	User time (seconds): 0.70
	System time (seconds): 0.08
	Percent of CPU this job got: 73%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:01.07
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 76712
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 29670
	Voluntary context switches: 9
	Involuntary context switches: 2
	Swaps: 0
	File system inputs: 0
	File system outputs: 0
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:22
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_40_1000
ef_search: 100
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.760s ] Loaded metadata, 10000000 attr's found
[ 0.760s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.791s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.817s ] Loaded 10000 spacev10m queries
[ 0.964s ] Loaded ground truth, gt_size: 100
[ 0.964s ] Index Params -- d: 100, N: 10000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_40_1000 for reading: No such file or directory
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/hnsw_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_100.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_40_1000 100 100"
	User time (seconds): 0.76
	System time (seconds): 0.08
	Percent of CPU this job got: 69%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:01.23
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 75640
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 18
	Minor (reclaiming a frame) page faults: 29656
	Voluntary context switches: 98
	Involuntary context switches: 2
	Swaps: 0
	File system inputs: 9176
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:48
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_40_1000
ef_search: 100
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 1.202s ] Loaded metadata, 10000000 attr's found
[ 1.202s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.232s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 1.247s ] Loaded 10000 spacev10m queries
[ 1.383s ] Loaded ground truth, gt_size: 100
[ 1.383s ] Index Params -- d: 100, N: 10000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_40_1000 for reading: No such file or directory
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/hnsw_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_100.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_40_1000 100 100"
	User time (seconds): 0.91
	System time (seconds): 0.08
	Percent of CPU this job got: 59%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:01.68
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 74684
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 20
	Minor (reclaiming a frame) page faults: 29681
	Voluntary context switches: 73
	Involuntary context switches: 4
	Swaps: 0
	File system inputs: 5032
	File system outputs: 0
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 02:09
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_40_1000
ef_search: 100
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.977s ] Loaded metadata, 10000000 attr's found
[ 0.978s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.056s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 1.099s ] Loaded 10000 spacev10m queries
[ 1.259s ] Loaded ground truth, gt_size: 100
[ 1.259s ] Index Params -- d: 100, N: 10000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_40_1000 for reading: No such file or directory
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/hnsw_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_100.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_500_random_40_1000 100 100"
	User time (seconds): 0.80
	System time (seconds): 0.12
	Percent of CPU this job got: 70%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:01.31
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 75684
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 25
	Minor (reclaiming a frame) page faults: 29680
	Voluntary context switches: 129
	Involuntary context switches: 15
	Swaps: 0
	File system inputs: 25760
	File system outputs: 0
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 06:40
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000
ef_search: 100
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.395s ] Loaded metadata, 10000000 attr's found
[ 1.395s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.397s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 1.401s ] Loaded 10000 spacev10m queries
[ 1.476s ] Loaded ground truth, gt_size: 100
[ 1.476s ] Index Params -- d: 100, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 14.776s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 561.013s ] Query results (vector ids, then distances):
query 0 nn's (6, 738, 84079): 1300400 (6, 23182) 8023016 (6, 26545) 2436347 (6, 61624) 425302 (6, 20500) 3647719 (6, 75216) 5060242 (6, 78532) 8021837 (6, 68279) 8207046 (6, 52091) 7099403 (6, 74482) 1714233 (6, 49315) 6313468 (6, 28083) 1536208 (6, 63211) 1200517 (6, 79773) 4592488 (6, 50642) 5585254 (6, 72617) 7634466 (6, 78101) 5072935 (6, 52001) 2382485 (6, 60371) 4779084 (6, 20101) 8997960 (6, 40707) 3881211 (6, 76642) 8807530 (6, 24925) 2710882 (6, 18201) 8538301 (6, 944) 3873794 (6, 6606) 7007393 (6, 70580) 1288832 (6, 34331) 890298 (6, 76981) 1751249 (6, 21705) 4022185 (6, 66236) 9107614 (6, 40831) 5261441 (6, 48856) 8423050 (6, 43596) 4915045 (6, 42915) 521477 (6, 32420) 3454073 (6, 17366) 2646514 (6, 43825) 5216657 (6, 27841) 511283 (6, 1383) 8242233 (6, 5581) 3676917 (6, 53029) 672964 (6, 79190) 8135809 (6, 35101) 8846971 (6, 44041) 6138359 (6, 76978) 4066846 (6, 13228) 4470364 (6, 35790) 4932580 (6, 58464) 6478048 (6, 45571) 105999 (6, 50898) 4685796 (6, 69133) 5950387 (6, 62922) 5382515 (6, 33092) 7983463 (6, 50271) 7183723 (6, 16200) 9957153 (6, 57249) 1947126 (6, 69467) 8519503 (6, 60505) 4112225 (6, 46989) 5236967 (6, 25575) 8097566 (6, 74846) 9347328 (6, 46369) 2204374 (6, 72575) 9169598 (6, 19668) 8348201 (6, 72209) 7108130 (6, 44497) 587457 (6, 1008) 1060668 (6, 55493) 1185721 (6, 40513) 8849839 (6, 24970) 5320284 (6, 3183) 3611695 (6, 4705) 5560302 (6, 75725) 5594224 (6, 67440) 3636367 (6, 71834) 488103 (6, 63895) 8656797 (6, 5231) 3651927 (6, 40591) 5997165 (6, 12144) 6972939 (6, 8232) 3781250 (6, 76243) 7887947 (6, 19405) 399999 (6, 34917) 6781400 (6, 36746) 2578991 (6, 60237) 3371587 (6, 50020) 4104937 (6, 50854) 3622412 (6, 42503) 5270820 (6, 76128) 5454 (6, 80000) 6290762 (6, 27231) 694286 (6, 20789) 2533745 (6, 16155) 8504623 (6, 82169) 5769046 (6, 82425) 9576118 (6, 41157) 3993234 (6, 15972) 2912614 (6, 75108) 9497103 (6, 1268) 3453250 (6, 17070) 
     dis: 	3455.000 4691.000 5094.000 5207.000 5508.000 6055.000 6219.000 6261.000 6438.000 6491.000 6519.000 6572.000 6580.000 6883.000 7001.000 7001.000 7047.000 7066.000 7151.000 7191.000 7203.000 7452.000 7464.000 7544.000 7677.000 7710.000 7918.000 7954.000 8031.000 8044.000 8057.000 8141.000 8244.000 8265.000 8288.000 8293.000 8334.000 8337.000 8387.000 8423.000 8425.000 8480.000 8500.000 8512.000 8608.000 8613.000 8666.000 8669.000 8711.000 8739.000 8800.000 8811.000 8901.000 8925.000 8942.000 8948.000 8974.000 9025.000 9039.000 9055.000 9096.000 9102.000 9133.000 9209.000 9233.000 9251.000 9333.000 9339.000 9347.000 9369.000 9411.000 9419.000 9465.000 9475.000 9476.000 9485.000 9485.000 9533.000 9537.000 9562.000 9572.000 9589.000 9590.000 9606.000 9607.000 9623.000 9661.000 9668.000 9676.000 9705.000 9717.000 9724.000 9754.000 9757.000 9760.000 9771.000 9778.000 9788.000 9820.000 9825.000 
query 1 nn's (6, 14047, 97384): 7672609 (6, 94688) 8108335 (6, 63877) 3545414 (6, 16797) 6716785 (6, 41582) 4465136 (6, 22525) 6957767 (6, 38619) 3010609 (6, 80935) 1852123 (6, 91161) 8784659 (6, 18672) 547651 (6, 59668) 1739613 (6, 60084) 5778168 (6, 50274) 1739093 (6, 31621) 6631934 (6, 47359) 7628827 (6, 37042) 2769394 (6, 14358) 9149269 (6, 31551) 5649448 (6, 86443) 8596579 (6, 29555) 4208062 (6, 68511) 913237 (6, 69330) 128447 (6, 72625) 7980366 (6, 18724) 458294 (6, 85737) 4731052 (6, 19386) 1286599 (6, 42380) 6202555 (6, 62371) 3255981 (6, 32086) 2848947 (6, 30268) 4329686 (6, 82088) 429713 (6, 68462) 2342379 (6, 51330) 8268659 (6, 68611) 4764135 (6, 43340) 5312590 (6, 79771) 9559160 (6, 26526) 3756027 (6, 75842) 8084904 (6, 81988) 5453229 (6, 48189) 1674348 (6, 71645) 1641593 (6, 31020) 765304 (6, 64593) 4023729 (6, 19101) 7191660 (6, 31493) 5321556 (6, 97110) 5374088 (6, 29385) 2333383 (6, 16025) 79115 (6, 84960) 9750308 (6, 92672) 4590802 (6, 15597) 5427517 (6, 74791) 985950 (6, 25472) 8598995 (6, 95433) 5183877 (6, 74629) 2054287 (6, 79327) 2067210 (6, 31950) 7393346 (6, 67595) 6872221 (6, 52681) 2030638 (6, 53436) 8370535 (6, 58475) 4375499 (6, 84244) 5833204 (6, 96848) 1421700 (6, 88278) 2677560 (6, 25465) 5559374 (6, 55855) 4626956 (6, 45924) 2208346 (6, 18209) 8377057 (6, 43093) 1417507 (6, 43662) 2077395 (6, 68220) 7998901 (6, 50755) 972994 (6, 58574) 9198072 (6, 84319) 7898285 (6, 31526) 3106662 (6, 54326) 4576314 (6, 53209) 1656217 (6, 48615) 3579661 (6, 69053) 6481742 (6, 55769) 7107065 (6, 14683) 6005945 (6, 51277) 4111782 (6, 52984) 6270422 (6, 21103) 540705 (6, 54284) 2775410 (6, 29397) 4378014 (6, 17466) 3683874 (6, 93653) 7896078 (6, 36249) 662944 (6, 60194) 3402133 (6, 95016) 7869623 (6, 23112) 3767930 (6, 83805) 3288493 (6, 37428) 9542350 (6, 60192) 8540605 (6, 60111) 5549017 (6, 33425) 3940736 (6, 89203) 9895581 (6, 28279) 4952577 (6, 31482) 8219055 (6, 14699) 
     dis: 	5844.000 6450.000 7469.000 7593.000 7808.000 8400.000 8479.000 8637.000 8816.000 8991.000 9038.000 9116.000 9145.000 9175.000 9202.000 9211.000 9226.000 9244.000 9265.000 9276.000 9300.000 9379.000 9392.000 9575.000 9580.000 9607.000 9662.000 9684.000 9687.000 9711.000 9734.000 9833.000 9842.000 9898.000 9904.000 9916.000 9988.000 10035.000 10037.000 10065.000 10134.000 10180.000 10203.000 10220.000 10229.000 10239.000 10253.000 10290.000 10318.000 10327.000 10399.000 10465.000 10521.000 10523.000 10531.000 10548.000 10554.000 10560.000 10602.000 10647.000 10687.000 10692.000 10702.000 10703.000 10777.000 10797.000 10828.000 10897.000 10960.000 10987.000 11012.000 11019.000 11021.000 11038.000 11043.000 11047.000 11048.000 11087.000 11103.000 11107.000 11122.000 11130.000 11156.000 11207.000 11212.000 11234.000 11278.000 11295.000 11309.000 11311.000 11318.000 11367.000 11377.000 11382.000 11393.000 11400.000 11425.000 11426.000 11430.000 11443.000 
query 2 nn's (6, 2536, 85887): 5189301 (6, 78689) 2755608 (6, 38581) 2639412 (6, 70909) 8672246 (6, 4477) 7542827 (6, 57916) 2966676 (6, 33697) 5193386 (6, 15019) 1163082 (6, 69428) 6524215 (6, 61961) 3097681 (6, 72117) 2096002 (6, 39060) 4376559 (6, 53300) 6146541 (6, 17941) 9746650 (6, 3310) 2493779 (6, 9502) 7958660 (6, 4824) 5654119 (6, 53186) 7197257 (6, 70749) 525365 (6, 22506) 9964310 (6, 28226) 255402 (6, 13803) 9561351 (6, 77639) 7023011 (6, 16865) 190238 (6, 85230) 1816933 (6, 28555) 9485250 (6, 65887) 4649174 (6, 12440) 6555137 (6, 35900) 1425558 (6, 40332) 8971627 (6, 42704) 7670329 (6, 74301) 1233143 (6, 15064) 8559091 (6, 34125) 4578631 (6, 60906) 9789820 (6, 35323) 1381339 (6, 65406) 2432557 (6, 9247) 4808419 (6, 9780) 5745884 (6, 82468) 9339955 (6, 32320) 7804752 (6, 39309) 7017176 (6, 26866) 1639494 (6, 34459) 9023762 (6, 23785) 6697500 (6, 20848) 4360960 (6, 42193) 8558486 (6, 48829) 6822953 (6, 36593) 1792452 (6, 3470) 1063314 (6, 63895) 6648184 (6, 46162) 6672275 (6, 11439) 2589993 (6, 5781) 2433280 (6, 15006) 8590703 (6, 49809) 5174460 (6, 43363) 3995931 (6, 83457) 1585247 (6, 18914) 7660022 (6, 6101) 8393287 (6, 30153) 2153650 (6, 40983) 9416901 (6, 72428) 2447894 (6, 70052) 780031 (6, 43292) 8411645 (6, 50049) 1319808 (6, 4147) 3168009 (6, 63167) 4297707 (6, 10096) 8143423 (6, 19670) 7060335 (6, 68646) 3999300 (6, 71304) 192071 (6, 55211) 2604663 (6, 53582) 894483 (6, 60768) 1044870 (6, 46224) 7822601 (6, 74348) 7215858 (6, 59712) 5771135 (6, 7726) 1129169 (6, 33165) 7634670 (6, 50417) 3508271 (6, 20295) 6645538 (6, 68099) 7118637 (6, 62691) 1832279 (6, 35338) 267333 (6, 48589) 3578812 (6, 9686) 8707110 (6, 46888) 8900616 (6, 13488) 2806076 (6, 19667) 3967833 (6, 19623) 1093013 (6, 25326) 1633241 (6, 56458) 1844845 (6, 47312) 6048071 (6, 5282) 7744255 (6, 75691) 9177119 (6, 3978) 4057883 (6, 58056) 3768590 (6, 74705) 1064624 (6, 16105) 2850979 (6, 52539) 
     dis: 	3368.000 5154.000 5174.000 6310.000 6852.000 7150.000 7399.000 7609.000 7648.000 7655.000 7659.000 7682.000 7696.000 8065.000 8073.000 8106.000 8109.000 8118.000 8271.000 8304.000 8306.000 8326.000 8743.000 8749.000 8794.000 8960.000 9002.000 9087.000 9126.000 9180.000 9186.000 9257.000 9330.000 9399.000 9466.000 9506.000 9544.000 9686.000 9713.000 9724.000 9804.000 9835.000 9845.000 9846.000 9895.000 9926.000 9953.000 9968.000 9970.000 9975.000 9989.000 10007.000 10035.000 10053.000 10197.000 10231.000 10255.000 10259.000 10278.000 10285.000 10295.000 10368.000 10387.000 10392.000 10401.000 10438.000 10439.000 10459.000 10469.000 10539.000 10652.000 10681.000 10682.000 10690.000 10702.000 10715.000 10735.000 10762.000 10780.000 10789.000 10795.000 10818.000 10819.000 10821.000 10825.000 10825.000 10831.000 10831.000 10851.000 10891.000 10912.000 10928.000 10953.000 10999.000 11002.000 11003.000 11005.000 11011.000 11016.000 11023.000 
query 3 nn's (6, 6261, 89602): 1208824 (6, 85940) 1165548 (6, 62453) 1153720 (6, 73335) 9922446 (6, 58625) 1681561 (6, 85595) 2871407 (6, 86956) 4150154 (6, 89496) 9732223 (6, 76774) 8906949 (6, 57606) 7371232 (6, 39662) 1717763 (6, 34430) 7664306 (6, 80428) 2187959 (6, 40352) 1370098 (6, 76295) 6696694 (6, 72425) 8364431 (6, 8578) 6027466 (6, 22249) 1986111 (6, 10730) 3188407 (6, 7806) 7775637 (6, 53095) 4559449 (6, 83563) 4889443 (6, 49238) 5579814 (6, 67320) 909327 (6, 53420) 6840798 (6, 46164) 9157428 (6, 56234) 1212415 (6, 77057) 9619884 (6, 6541) 4251611 (6, 69486) 9100185 (6, 31348) 9232458 (6, 16780) 6920544 (6, 86304) 4474761 (6, 68944) 3353499 (6, 18580) 5081773 (6, 55810) 7415071 (6, 31988) 580826 (6, 16394) 4216882 (6, 21278) 4298667 (6, 56994) 514827 (6, 29768) 920948 (6, 70893) 3085720 (6, 61878) 5683960 (6, 63530) 1174052 (6, 17593) 8821621 (6, 78019) 9987911 (6, 80044) 2958818 (6, 30972) 5962673 (6, 39032) 2029271 (6, 85057) 6703969 (6, 62898) 4774185 (6, 43594) 2423598 (6, 29719) 1353097 (6, 12392) 629955 (6, 12894) 7885127 (6, 74825) 786015 (6, 37244) 1095751 (6, 26469) 5946592 (6, 46683) 237313 (6, 10860) 2919205 (6, 56751) 5676630 (6, 15203) 7082379 (6, 37034) 3483488 (6, 31349) 1605226 (6, 8884) 823633 (6, 38558) 1752435 (6, 20482) 6424074 (6, 38016) 1430920 (6, 70367) 8726555 (6, 67105) 2824029 (6, 42450) 3042886 (6, 35970) 5615929 (6, 19725) 108033 (6, 61447) 2348869 (6, 42737) 5176976 (6, 32717) 7136455 (6, 62866) 3922636 (6, 12348) 2838160 (6, 65974) 3172637 (6, 48715) 264481 (6, 12652) 9913885 (6, 81288) 9578036 (6, 56555) 188678 (6, 47866) 3431426 (6, 19773) 2269546 (6, 21735) 9698504 (6, 27714) 3350710 (6, 74257) 3071605 (6, 14736) 1892004 (6, 17718) 2018818 (6, 64213) 382902 (6, 86848) 8522174 (6, 28406) 9998938 (6, 43688) 7102985 (6, 35094) 3266491 (6, 71572) 1387773 (6, 8147) 730245 (6, 51589) 1082518 (6, 29464) 7512122 (6, 47135) 121059 (6, 86387) 
     dis: 	7689.000 7871.000 8337.000 8365.000 8422.000 8731.000 8754.000 8881.000 8898.000 9274.000 9696.000 9757.000 9826.000 9842.000 9879.000 9931.000 9955.000 9958.000 9960.000 10127.000 10145.000 10268.000 10361.000 10376.000 10388.000 10421.000 10424.000 10430.000 10455.000 10473.000 10481.000 10530.000 10583.000 10584.000 10599.000 10599.000 10694.000 10754.000 10816.000 10821.000 10894.000 10944.000 10999.000 11006.000 11074.000 11115.000 11129.000 11141.000 11152.000 11156.000 11162.000 11168.000 11184.000 11220.000 11235.000 11236.000 11273.000 11276.000 11329.000 11364.000 11381.000 11388.000 11424.000 11449.000 11476.000 11498.000 11499.000 11517.000 11579.000 11604.000 11612.000 11616.000 11641.000 11642.000 11642.000 11642.000 11648.000 11656.000 11717.000 11720.000 11723.000 11734.000 11745.000 11745.000 11774.000 11775.000 11778.000 11782.000 11795.000 11808.000 11864.000 11904.000 11912.000 11932.000 11954.000 11973.000 11974.000 11974.000 11974.000 12006.000 
query 4 nn's (6, 4810, 88155): 8316529 (6, 83067) 5624462 (6, 61390) 3987492 (6, 68094) 1706143 (6, 21809) 9970746 (6, 25123) 3107282 (6, 13030) 5744224 (6, 40220) 9323555 (6, 58866) 9211260 (6, 71163) 7373067 (6, 59927) 4549236 (6, 12597) 4390138 (6, 74485) 9052024 (6, 51822) 108240 (6, 54203) 9788862 (6, 35122) 4015525 (6, 68920) 6480066 (6, 73343) 2172340 (6, 28934) 73290 (6, 6565) 9578545 (6, 12871) 9652129 (6, 13280) 2038833 (6, 20026) 8302917 (6, 86342) 6395393 (6, 22548) 9044829 (6, 30356) 3367834 (6, 25897) 3037959 (6, 47129) 3693862 (6, 82975) 4842135 (6, 7453) 1906000 (6, 63096) 3436988 (6, 75144) 6934935 (6, 36852) 915880 (6, 56375) 8608979 (6, 82877) 3264396 (6, 59844) 3480152 (6, 60507) 6091565 (6, 5963) 6001275 (6, 72316) 8415758 (6, 61823) 9374623 (6, 22680) 3073679 (6, 13301) 2986049 (6, 21655) 1384227 (6, 31323) 2190868 (6, 39883) 3598596 (6, 53060) 6634262 (6, 14378) 6581013 (6, 35750) 3655068 (6, 41754) 9164737 (6, 7849) 1030896 (6, 53449) 9240243 (6, 72831) 1504549 (6, 43449) 3421968 (6, 63568) 8774147 (6, 44711) 3195289 (6, 67722) 4942478 (6, 23705) 3192757 (6, 8676) 2795570 (6, 44372) 8359241 (6, 82606) 6836665 (6, 20713) 8832563 (6, 87388) 9832113 (6, 44391) 4019507 (6, 17873) 9519711 (6, 11808) 1995354 (6, 23655) 5323762 (6, 11366) 4637157 (6, 23860) 9688429 (6, 19371) 9019284 (6, 40332) 8641215 (6, 19311) 3506156 (6, 49871) 3934821 (6, 37283) 1973506 (6, 17846) 3299088 (6, 25883) 3452212 (6, 50912) 3852808 (6, 35346) 1071436 (6, 72570) 569140 (6, 27678) 1306176 (6, 57302) 8452116 (6, 49461) 6738443 (6, 33113) 5812999 (6, 78496) 2699285 (6, 58641) 1240644 (6, 5613) 288977 (6, 68160) 9654936 (6, 83883) 3792530 (6, 32656) 6297263 (6, 19089) 4817150 (6, 26351) 4222183 (6, 63410) 8538495 (6, 83260) 9426967 (6, 79960) 2188431 (6, 79111) 5021774 (6, 50072) 3505357 (6, 29489) 6547867 (6, 31579) 9195081 (6, 47747) 8483760 (6, 43718) 1113458 (6, 46187) 7695090 (6, 27130) 
     dis: 	2198.000 3552.000 3787.000 4591.000 5243.000 5291.000 5418.000 5435.000 5775.000 5809.000 5827.000 5970.000 5984.000 6062.000 6170.000 6212.000 6247.000 6266.000 6268.000 6269.000 6291.000 6330.000 6348.000 6397.000 6416.000 6421.000 6432.000 6480.000 6493.000 6508.000 6519.000 6557.000 6559.000 6594.000 6603.000 6605.000 6606.000 6630.000 6633.000 6648.000 6653.000 6672.000 6682.000 6709.000 6712.000 6715.000 6731.000 6732.000 6747.000 6766.000 6766.000 6774.000 6791.000 6791.000 6793.000 6814.000 6817.000 6828.000 6856.000 6874.000 6879.000 6896.000 6898.000 6899.000 6913.000 6924.000 6948.000 6967.000 6968.000 7009.000 7020.000 7024.000 7034.000 7053.000 7056.000 7064.000 7080.000 7090.000 7092.000 7119.000 7125.000 7127.000 7130.000 7141.000 7144.000 7153.000 7157.000 7157.000 7168.000 7190.000 7190.000 7214.000 7223.000 7233.000 7235.000 7246.000 7248.000 7252.000 7263.000 7267.000 
[ 561.014s ] *** Query time: 22.974
qps: 435.283
 *** HNSW recall 
HNSW get 863947 postive res from 1000000 results, recall@100:0.864
recall dist(10% per bucket): 0.004 0.001 0.001 0.003 0.010 0.028 0.065 0.121 0.223 0.498 0.047 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 65022983, average: 6502.298
finished ivfpq index examples
[ 561.053s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query_arbi spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000 100 100"
	User time (seconds): 544.15
	System time (seconds): 10.32
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 9:21.69
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7319856
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 4
	Minor (reclaiming a frame) page faults: 2732263
	Voluntary context switches: 31085
	Involuntary context switches: 827
	Swaps: 0
	File system inputs: 679344
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 07:49
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000
ef_search: 100
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.397s ] Loaded metadata, 10000000 attr's found
[ 1.397s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.400s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 1.402s ] Loaded 10000 spacev10m queries
[ 1.473s ] Loaded ground truth, gt_size: 100
[ 1.473s ] Index Params -- d: 100, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.600s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 513.740s ] Query results (vector ids, then distances):
query 0 nn's (10, 3924, 37259): 5096505 (10, 4836) 290760 (10, 18624) 3082748 (10, 31903) 2037978 (10, 9706) 7305168 (10, 17763) 1360571 (10, 16867) 1858226 (10, 19035) 4287666 (10, 31095) 6240106 (10, 15888) 9234384 (10, 8354) 7115332 (10, 29695) 7330716 (10, 33798) 4715886 (10, 27462) 1636600 (10, 34920) 8066928 (10, 21702) 8725926 (10, 25211) 6896772 (10, 35259) 3422560 (10, 33953) 2641910 (10, 34575) 8681946 (10, 19482) 5014941 (10, 29775) 100232 (10, 10068) 8396792 (10, 31196) 2018268 (10, 30274) 1369261 (10, 8013) 6612942 (10, 36039) 261368 (10, 23480) 4257711 (10, 34522) 8608263 (10, 36316) 2336751 (10, 35676) 8067752 (10, 32830) 8394786 (10, 35486) 7615253 (10, 35284) 7193350 (10, 7791) 9284314 (10, 10753) 1736948 (10, 34451) 3987166 (10, 8496) 1545663 (10, 20009) 6050258 (10, 31662) 9974866 (10, 33165) 9482370 (10, 19376) 8814646 (10, 7205) 714617 (10, 31075) 2072288 (10, 17229) 8468662 (10, 27669) 6134085 (10, 9457) 2540985 (10, 27848) 4245122 (10, 10688) 4246173 (10, 10470) 7976764 (10, 18864) 546824 (10, 33937) 2533258 (10, 31701) 3503478 (10, 32176) 7765395 (10, 35786) 5239982 (10, 21666) 303346 (10, 12545) 1334146 (10, 14396) 1514436 (10, 11692) 9055415 (10, 23899) 3312815 (10, 22078) 5614058 (10, 34575) 2377115 (10, 5883) 918617 (10, 7240) 7338594 (10, 4433) 6754361 (10, 27371) 8875081 (10, 8251) 6954327 (10, 6131) 4087833 (10, 21981) 9416199 (10, 6151) 360414 (10, 17191) 862436 (10, 7439) 8356040 (10, 32219) 219342 (10, 26228) 4426046 (10, 23959) 2640588 (10, 6564) 7156109 (10, 19361) 67427 (10, 31872) 6423234 (10, 27853) 9697052 (10, 26401) 8944530 (10, 31733) 2038045 (10, 25975) 5897434 (10, 26133) 6065690 (10, 7890) 9590656 (10, 27421) 9686287 (10, 26684) 2786794 (10, 23079) 8894857 (10, 31917) 1436288 (10, 23904) 223562 (10, 17791) 5232970 (10, 32482) 3847526 (10, 4336) 180303 (10, 27360) 7303024 (10, 7554) 9121769 (10, 20165) 3742458 (10, 36079) 5822268 (10, 14550) 554086 (10, 13935) 4916361 (10, 5430) 3906051 (10, 15595) 9931603 (10, 30470) 
     dis: 	6150.000 6292.000 6920.000 7721.000 7885.000 7959.000 8454.000 8574.000 8824.000 9137.000 9353.000 9367.000 9464.000 9498.000 9521.000 9552.000 9666.000 9791.000 9858.000 9915.000 9960.000 10144.000 10165.000 10237.000 10431.000 10494.000 10496.000 10620.000 10677.000 10705.000 10808.000 10868.000 10911.000 10922.000 11006.000 11016.000 11056.000 11065.000 11067.000 11086.000 11112.000 11133.000 11134.000 11147.000 11153.000 11304.000 11309.000 11312.000 11392.000 11404.000 11418.000 11418.000 11421.000 11427.000 11529.000 11566.000 11589.000 11612.000 11638.000 11718.000 11740.000 11784.000 11801.000 11836.000 11860.000 11987.000 12000.000 12019.000 12094.000 12103.000 12125.000 12131.000 12184.000 12187.000 12198.000 12205.000 12267.000 12367.000 12387.000 12402.000 12444.000 12468.000 12475.000 12489.000 12492.000 12496.000 12519.000 12522.000 12585.000 12613.000 12669.000 12674.000 12689.000 12703.000 12718.000 12719.000 12732.000 12755.000 12767.000 12777.000 
query 1 nn's (10, 9720, 43052): 1027770 (10, 9965) 4573755 (10, 43023) 1087257 (10, 37334) 8663938 (10, 42468) 9844113 (10, 29377) 9311189 (10, 35154) 7957281 (10, 36745) 4561316 (10, 14983) 4813594 (10, 22509) 5325898 (10, 17388) 3171582 (10, 35325) 3730938 (10, 12762) 4612326 (10, 30933) 1259440 (10, 27067) 7414037 (10, 35742) 1873620 (10, 15818) 6236935 (10, 42010) 6716625 (10, 17207) 8086137 (10, 35028) 4090413 (10, 31222) 4414583 (10, 27795) 3367543 (10, 36256) 1532818 (10, 32346) 1762608 (10, 13317) 829204 (10, 37652) 1149324 (10, 14473) 8680758 (10, 41868) 6029057 (10, 16542) 7294001 (10, 34266) 4907845 (10, 17128) 502856 (10, 12150) 7452717 (10, 11859) 7675119 (10, 25344) 148357 (10, 30447) 3916292 (10, 13624) 6894603 (10, 23738) 5966468 (10, 24173) 7584986 (10, 14970) 3159596 (10, 26954) 635323 (10, 25379) 7115780 (10, 22470) 210208 (10, 30435) 783848 (10, 28891) 6385836 (10, 31542) 4444284 (10, 12055) 6800131 (10, 33475) 4738364 (10, 34399) 3758565 (10, 36775) 4931402 (10, 19527) 7069505 (10, 36692) 4990177 (10, 18116) 3989720 (10, 16662) 8750865 (10, 20373) 1438709 (10, 41835) 8458602 (10, 39424) 289405 (10, 11175) 3984563 (10, 16580) 7771932 (10, 32184) 2929751 (10, 25290) 4647345 (10, 19329) 5295974 (10, 16033) 8846889 (10, 13470) 5876514 (10, 21593) 5893116 (10, 34679) 1876507 (10, 39335) 1080775 (10, 22978) 3277999 (10, 16032) 7398354 (10, 19272) 6109984 (10, 38254) 4983695 (10, 20328) 8658564 (10, 22356) 7968900 (10, 21292) 5064267 (10, 36074) 5416661 (10, 40713) 585173 (10, 24401) 9927777 (10, 18618) 5670932 (10, 39431) 7423517 (10, 25039) 3397657 (10, 21743) 3091928 (10, 34793) 7452907 (10, 20039) 4793577 (10, 20849) 6572900 (10, 10026) 150395 (10, 14342) 14112 (10, 12127) 4151656 (10, 33301) 6645004 (10, 19853) 881552 (10, 28471) 9993108 (10, 15879) 8478113 (10, 15289) 6371107 (10, 32210) 331005 (10, 14320) 9058215 (10, 35388) 1635707 (10, 36633) 9845585 (10, 29486) 1786326 (10, 20694) 4587091 (10, 30250) 6294853 (10, 30245) 5823959 (10, 16104) 5225831 (10, 27898) 
     dis: 	4889.000 7795.000 8514.000 9766.000 9916.000 10152.000 10252.000 10291.000 10432.000 10446.000 10725.000 10774.000 10836.000 11032.000 11130.000 11153.000 11223.000 11253.000 11326.000 11373.000 11373.000 11404.000 11452.000 11454.000 11516.000 11660.000 11672.000 11716.000 11725.000 11881.000 11891.000 11910.000 11914.000 11974.000 12089.000 12105.000 12148.000 12191.000 12233.000 12260.000 12261.000 12309.000 12354.000 12355.000 12406.000 12410.000 12518.000 12543.000 12612.000 12648.000 12680.000 12715.000 12734.000 12746.000 12746.000 12757.000 12774.000 12850.000 12911.000 12931.000 12944.000 12944.000 12955.000 12982.000 13061.000 13137.000 13153.000 13162.000 13212.000 13254.000 13262.000 13334.000 13346.000 13351.000 13414.000 13423.000 13429.000 13441.000 13450.000 13482.000 13495.000 13539.000 13567.000 13571.000 13584.000 13587.000 13608.000 13639.000 13680.000 13690.000 13693.000 13718.000 13747.000 13770.000 13804.000 13807.000 13807.000 13826.000 13859.000 13864.000 
query 2 nn's (10, 65731, 99055): 4574760 (10, 86639) 2734445 (10, 87139) 3524579 (10, 75574) 2212807 (10, 78994) 2882757 (10, 88969) 2884416 (10, 95410) 323907 (10, 73687) 3361974 (10, 88468) 1054367 (10, 85708) 3521500 (10, 85322) 7433556 (10, 91445) 5263567 (10, 74310) 6936789 (10, 93875) 9425562 (10, 77428) 7287401 (10, 92497) 1481955 (10, 91755) 7037734 (10, 68394) 9436299 (10, 90107) 5217876 (10, 73174) 5943431 (10, 91472) 3436280 (10, 69227) 125926 (10, 79915) 6514144 (10, 66062) 9117124 (10, 66833) 2506689 (10, 77951) 9621014 (10, 69947) 5844655 (10, 83667) 8126778 (10, 73480) 2677908 (10, 85663) 3542525 (10, 72920) 9501475 (10, 95121) 2208896 (10, 87628) 43674 (10, 96002) 7276972 (10, 76738) 386581 (10, 75659) 4303503 (10, 69648) 7268134 (10, 79487) 9627391 (10, 74493) 4348412 (10, 92874) 1769008 (10, 88723) 9088619 (10, 86100) 3001913 (10, 75285) 8148675 (10, 73356) 4097218 (10, 86509) 4559518 (10, 92681) 5191195 (10, 87712) 3034378 (10, 76795) 6897004 (10, 87240) 2243367 (10, 77730) 8641266 (10, 87883) 3762208 (10, 75060) 9989075 (10, 88332) 7744934 (10, 68126) 4746644 (10, 77406) 8311897 (10, 77910) 1091508 (10, 91505) 8623607 (10, 85186) 5781317 (10, 69103) 4415064 (10, 98566) 6450938 (10, 80472) 8426641 (10, 75344) 1057914 (10, 77074) 3930272 (10, 66349) 8347308 (10, 70638) 2695920 (10, 77501) 9283559 (10, 70645) 2969609 (10, 87756) 5724947 (10, 68023) 3163205 (10, 85632) 1682089 (10, 76984) 9537222 (10, 86767) 6013698 (10, 86702) 6199110 (10, 69517) 948312 (10, 95057) 3026188 (10, 89733) 7843602 (10, 66003) 409282 (10, 85247) 6190232 (10, 76118) 6458278 (10, 85973) 5208900 (10, 83886) 8773751 (10, 77950) 9769067 (10, 74750) 1090489 (10, 73317) 8397049 (10, 83925) 2962954 (10, 82277) 1793898 (10, 67402) 5267945 (10, 67559) 2833991 (10, 76964) 9218745 (10, 82204) 1566962 (10, 76257) 8099771 (10, 96941) 8535218 (10, 97472) 2789884 (10, 88278) 5430022 (10, 92359) 9643991 (10, 87070) 133631 (10, 72742) 3271172 (10, 96782) 4188513 (10, 87778) 4437183 (10, 78924) 9351289 (10, 98767) 
     dis: 	3034.000 4135.000 5017.000 6204.000 7205.000 8944.000 9129.000 9257.000 9476.000 9861.000 10002.000 10335.000 10353.000 10406.000 10412.000 10449.000 10673.000 10790.000 11203.000 11362.000 11410.000 11466.000 11502.000 11681.000 11693.000 11696.000 11736.000 11812.000 11827.000 11848.000 11894.000 11955.000 12066.000 12186.000 12318.000 12347.000 12359.000 12376.000 12404.000 12440.000 12475.000 12481.000 12538.000 12561.000 12574.000 12612.000 12626.000 12632.000 12706.000 12754.000 12759.000 12784.000 12853.000 12882.000 12926.000 13001.000 13028.000 13056.000 13150.000 13163.000 13178.000 13190.000 13267.000 13286.000 13318.000 13339.000 13407.000 13412.000 13415.000 13428.000 13442.000 13444.000 13485.000 13502.000 13511.000 13523.000 13528.000 13544.000 13637.000 13648.000 13676.000 13687.000 13693.000 13698.000 13718.000 13741.000 13743.000 13756.000 13769.000 13817.000 13845.000 13880.000 13920.000 13921.000 13922.000 13943.000 13944.000 13952.000 13967.000 13981.000 
query 3 nn's (10, 35398, 68747): 4286832 (10, 39922) 1866926 (10, 59871) 4371036 (10, 63019) 9455216 (10, 66473) 6638511 (10, 49779) 8818246 (10, 67263) 9398930 (10, 63911) 8584054 (10, 49156) 6447414 (10, 58775) 9793596 (10, 44408) 7010095 (10, 55391) 3626273 (10, 58612) 9671911 (10, 35928) 7010252 (10, 45223) 4194256 (10, 47232) 5677498 (10, 57192) 3378586 (10, 48580) 5631232 (10, 49196) 8169180 (10, 52823) 8171167 (10, 40662) 2343424 (10, 37210) 8145731 (10, 64623) 5868840 (10, 66897) 7557678 (10, 64922) 1612122 (10, 41994) 5056650 (10, 54794) 82182 (10, 63105) 5650507 (10, 37069) 3882137 (10, 60382) 3542029 (10, 42357) 5555953 (10, 46606) 1453923 (10, 37094) 4972572 (10, 45874) 6373283 (10, 50911) 50823 (10, 37989) 6193105 (10, 39097) 444968 (10, 64785) 5429466 (10, 44377) 6776942 (10, 56202) 4682173 (10, 37477) 7865786 (10, 41898) 2350194 (10, 50101) 8579187 (10, 48581) 1835654 (10, 43987) 8073919 (10, 64723) 4281239 (10, 36618) 1887300 (10, 64308) 8518674 (10, 65238) 3208235 (10, 36877) 7445329 (10, 50820) 2687611 (10, 36718) 8752097 (10, 46826) 539131 (10, 65855) 90176 (10, 44784) 6514454 (10, 59493) 6928139 (10, 59207) 8558618 (10, 65943) 4003247 (10, 38731) 2123002 (10, 35440) 3237195 (10, 44528) 347839 (10, 48368) 9677670 (10, 63429) 6752785 (10, 57019) 6637643 (10, 56884) 4767661 (10, 53162) 4641079 (10, 46541) 930598 (10, 61301) 8851651 (10, 38114) 6971821 (10, 40959) 9323463 (10, 62513) 7756249 (10, 67767) 2422728 (10, 56328) 8193056 (10, 58876) 7004651 (10, 52457) 105643 (10, 49680) 3400340 (10, 49288) 2338828 (10, 52222) 7401973 (10, 48185) 9427137 (10, 45301) 5684972 (10, 35722) 7747720 (10, 54857) 6760041 (10, 38100) 2092403 (10, 55424) 8402626 (10, 61066) 1485820 (10, 54430) 9058236 (10, 50024) 5002178 (10, 36823) 7822848 (10, 59135) 2454777 (10, 45389) 9054751 (10, 63425) 2915394 (10, 39000) 8171252 (10, 64085) 2479349 (10, 35848) 6370916 (10, 39096) 4826141 (10, 36644) 8860886 (10, 52881) 8667648 (10, 59079) 7853805 (10, 67122) 9662367 (10, 48802) 1332523 (10, 54654) 
     dis: 	4960.000 9254.000 9414.000 9443.000 9691.000 10127.000 10184.000 10463.000 10517.000 10571.000 10809.000 10834.000 10959.000 11153.000 11283.000 11379.000 11389.000 11424.000 11470.000 11570.000 11625.000 11703.000 11782.000 11814.000 11882.000 11884.000 12030.000 12075.000 12124.000 12142.000 12143.000 12212.000 12223.000 12239.000 12240.000 12287.000 12459.000 12480.000 12489.000 12562.000 12588.000 12590.000 12709.000 12757.000 12810.000 12905.000 12915.000 12962.000 13072.000 13132.000 13178.000 13198.000 13226.000 13275.000 13277.000 13364.000 13365.000 13393.000 13423.000 13464.000 13541.000 13566.000 13577.000 13587.000 13591.000 13594.000 13600.000 13600.000 13603.000 13609.000 13637.000 13644.000 13662.000 13694.000 13704.000 13718.000 13723.000 13723.000 13840.000 13849.000 13932.000 13945.000 13992.000 13996.000 14054.000 14061.000 14081.000 14148.000 14161.000 14172.000 14174.000 14183.000 14201.000 14202.000 14217.000 14233.000 14252.000 14277.000 14387.000 14393.000 
query 4 nn's (10, 39745, 73096): 6279473 (10, 51031) 3097455 (10, 63497) 7159963 (10, 73006) 4242116 (10, 64811) 5466057 (10, 59505) 3531751 (10, 72430) 8728294 (10, 70066) 7177846 (10, 41057) 9600067 (10, 41570) 4175678 (10, 70907) 7466093 (10, 42910) 717371 (10, 67514) 8544239 (10, 63150) 1591058 (10, 50605) 9357339 (10, 62869) 7986656 (10, 41538) 1622397 (10, 54882) 2908632 (10, 55685) 7744232 (10, 41706) 6136471 (10, 49113) 20028 (10, 71645) 9021130 (10, 48507) 3084490 (10, 61161) 2323593 (10, 52527) 6473453 (10, 49153) 2575576 (10, 52019) 5220285 (10, 62438) 6181972 (10, 49508) 307550 (10, 53305) 7231264 (10, 46690) 8321482 (10, 60994) 9151038 (10, 59037) 3358095 (10, 67987) 4974771 (10, 62597) 5938686 (10, 64243) 7759992 (10, 56053) 3570069 (10, 59845) 93980 (10, 56725) 8306343 (10, 66123) 952427 (10, 45493) 5129396 (10, 51561) 2080666 (10, 61337) 3958600 (10, 43662) 1128048 (10, 54591) 4249166 (10, 60805) 6309854 (10, 59112) 1162666 (10, 63818) 8534601 (10, 71602) 6182859 (10, 41471) 5039091 (10, 55250) 8683250 (10, 40137) 781728 (10, 43720) 8218710 (10, 65591) 2429135 (10, 67776) 7126663 (10, 46569) 1287051 (10, 59916) 3288628 (10, 59704) 7743549 (10, 52686) 8413903 (10, 64922) 6855387 (10, 42445) 423615 (10, 57089) 3491844 (10, 41083) 9849227 (10, 65186) 2368659 (10, 54292) 2792439 (10, 57229) 4689913 (10, 44382) 7319230 (10, 43637) 8794595 (10, 57599) 1278093 (10, 66395) 8080105 (10, 72496) 8100833 (10, 53559) 8003101 (10, 51321) 6596097 (10, 41408) 5221859 (10, 40736) 8575319 (10, 43164) 2114879 (10, 47242) 8073349 (10, 41225) 9205752 (10, 53237) 2082605 (10, 62166) 1613079 (10, 67507) 8747609 (10, 53742) 6892262 (10, 43776) 430106 (10, 70068) 4852951 (10, 51798) 2439669 (10, 50323) 6482861 (10, 53687) 6420343 (10, 52345) 976585 (10, 56114) 4674423 (10, 48359) 330489 (10, 43455) 755676 (10, 44208) 3764700 (10, 68397) 3595712 (10, 53785) 2000619 (10, 71027) 3747106 (10, 45891) 2699740 (10, 61225) 9633690 (10, 55210) 7259295 (10, 49637) 155559 (10, 58727) 2353649 (10, 52511) 
     dis: 	6062.000 6385.000 6530.000 6564.000 6864.000 6872.000 6872.000 7009.000 7136.000 7150.000 7216.000 7230.000 7287.000 7362.000 7390.000 7429.000 7443.000 7444.000 7446.000 7474.000 7546.000 7562.000 7567.000 7573.000 7609.000 7648.000 7660.000 7677.000 7679.000 7683.000 7710.000 7711.000 7746.000 7786.000 7803.000 7806.000 7807.000 7827.000 7836.000 7841.000 7844.000 7858.000 7862.000 7865.000 7884.000 7915.000 7931.000 7932.000 7943.000 7951.000 7955.000 7959.000 7964.000 7977.000 8000.000 8004.000 8011.000 8017.000 8029.000 8033.000 8049.000 8057.000 8062.000 8078.000 8080.000 8086.000 8090.000 8112.000 8133.000 8158.000 8161.000 8165.000 8185.000 8192.000 8238.000 8243.000 8255.000 8265.000 8295.000 8314.000 8319.000 8330.000 8343.000 8361.000 8367.000 8405.000 8414.000 8427.000 8431.000 8437.000 8450.000 8484.000 8486.000 8519.000 8539.000 8550.000 8569.000 8580.000 8603.000 8622.000 
[ 513.741s ] *** Query time: 26.355
qps: 379.437
 *** HNSW recall 
HNSW get 622341 postive res from 1000000 results, recall@100:0.622
recall dist(10% per bucket): 0.003 0.002 0.015 0.056 0.124 0.190 0.249 0.251 0.105 0.005 0.000 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 65022983, average: 6502.298
finished ivfpq index examples
[ 513.771s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query_arbi spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_100.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000 100 100"
	User time (seconds): 502.38
	System time (seconds): 12.07
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 8:34.47
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7322532
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 4273529
	Voluntary context switches: 2
	Involuntary context switches: 708
	Swaps: 0
	File system inputs: 0
	File system outputs: 56
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 08:46
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000
ef_search: 100
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.387s ] Loaded metadata, 10000000 attr's found
[ 1.387s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.390s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 1.392s ] Loaded 10000 spacev10m queries
[ 1.462s ] Loaded ground truth, gt_size: 100
[ 1.462s ] Index Params -- d: 100, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 7.125s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 208.872s ] Query results (vector ids, then distances):
query 0 nn's (19, 24678, 44673): 606211 (19, 33896) 8563527 (19, 35080) 8341867 (19, 39581) 3228742 (19, 40604) 1247229 (19, 31397) 7386818 (19, 38747) 5099788 (19, 26746) 6401363 (19, 35648) 3478005 (19, 25134) 8068050 (19, 35135) 381871 (19, 34618) 2939481 (19, 39409) 4211205 (19, 31682) 4858944 (19, 40408) 98109 (19, 40371) 5761926 (19, 27517) 7721671 (19, 40173) 884593 (19, 33766) 780905 (19, 29088) 9743801 (19, 37797) 2650359 (19, 29161) 6722204 (19, 25723) 9794049 (19, 29336) 6258833 (19, 28915) 3618978 (19, 29187) 2103036 (19, 42785) 834251 (19, 33841) 9121390 (19, 40859) 8766603 (19, 38953) 6840562 (19, 40060) 715355 (19, 37624) 692582 (19, 41127) 5407529 (19, 44112) 7157963 (19, 44569) 6162846 (19, 41715) 5365870 (19, 28314) 7343568 (19, 43448) 7844255 (19, 28308) 3648670 (19, 28950) 942746 (19, 44410) 7681712 (19, 35889) 4069617 (19, 28188) 351010 (19, 30312) 8400383 (19, 26927) 7574346 (19, 39992) 7228542 (19, 40467) 6249255 (19, 30831) 8724096 (19, 40417) 209679 (19, 25150) 2506546 (19, 40213) 4690238 (19, 28310) 5479956 (19, 29849) 8520187 (19, 36675) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) 
     dis: 	5333.000 9559.000 9671.000 9981.000 9990.000 10670.000 11437.000 12000.000 12090.000 12203.000 12666.000 12877.000 13081.000 13366.000 13564.000 13691.000 14134.000 14188.000 14345.000 14364.000 14535.000 14640.000 15092.000 15504.000 15831.000 16086.000 16528.000 16922.000 17017.000 17268.000 17628.000 17901.000 18163.000 18490.000 18675.000 19019.000 19150.000 19309.000 19311.000 19435.000 19446.000 19901.000 19967.000 20323.000 20612.000 20849.000 21284.000 21780.000 23482.000 24772.000 25285.000 25868.000 26040.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (19, 22162, 42151): 7000075 (19, 30779) 9910036 (19, 39846) 4745747 (19, 41606) 9504433 (19, 24361) 8597183 (19, 26829) 6704562 (19, 23383) 917900 (19, 40978) 6889844 (19, 36016) 4913422 (19, 37070) 5387681 (19, 31248) 7710285 (19, 29939) 1390768 (19, 31957) 4975676 (19, 22643) 9447917 (19, 26776) 8074005 (19, 25380) 1761605 (19, 42083) 4596245 (19, 39500) 769719 (19, 33112) 4147432 (19, 40048) 3421252 (19, 27118) 2933751 (19, 27486) 2455051 (19, 27823) 6138568 (19, 39057) 1147994 (19, 25074) 664929 (19, 31437) 4864160 (19, 33569) 4570399 (19, 28203) 8528342 (19, 33533) 6453216 (19, 24623) 1936303 (19, 30439) 7555989 (19, 37924) 766455 (19, 32804) 3370045 (19, 32280) 3062590 (19, 25330) 7019851 (19, 31829) 6931369 (19, 27908) 3002378 (19, 42112) 809641 (19, 24994) 8311141 (19, 29926) 9400100 (19, 40787) 3368771 (19, 25790) 6064179 (19, 40498) 9939120 (19, 25879) 8613774 (19, 37840) 7358482 (19, 39622) 3861352 (19, 37458) 4833793 (19, 40533) 8739973 (19, 32529) 2718004 (19, 33915) 4114542 (19, 29249) 5616731 (19, 30747) 4198560 (19, 22187) 1817692 (19, 22677) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) 
     dis: 	11704.000 12352.000 12529.000 12566.000 12875.000 13188.000 13946.000 14227.000 14467.000 14480.000 14487.000 14650.000 14740.000 14982.000 15154.000 15256.000 15497.000 15503.000 15507.000 15919.000 16005.000 16240.000 16379.000 16386.000 16464.000 16669.000 16719.000 17044.000 17338.000 17360.000 17482.000 17495.000 17565.000 17580.000 17607.000 17619.000 17750.000 18285.000 18431.000 18599.000 18651.000 18980.000 19022.000 19170.000 19540.000 19683.000 19842.000 20060.000 20192.000 20208.000 20340.000 21058.000 21664.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (19, 17210, 37204): 9743895 (19, 34323) 5920553 (19, 18978) 613441 (19, 25663) 3159516 (19, 28361) 6805269 (19, 29938) 2927516 (19, 26174) 6973245 (19, 23421) 4045527 (19, 32458) 6558769 (19, 26761) 4136014 (19, 36612) 6155804 (19, 18536) 3730180 (19, 26239) 1908641 (19, 19272) 8467979 (19, 29773) 9481862 (19, 27203) 9857208 (19, 34232) 1266341 (19, 32578) 789015 (19, 27137) 5856817 (19, 35136) 361743 (19, 31585) 455240 (19, 17373) 7350061 (19, 32784) 7805479 (19, 21447) 6153610 (19, 18311) 2097244 (19, 23997) 4320998 (19, 18033) 3636030 (19, 21264) 4652554 (19, 29534) 6584618 (19, 34513) 1270137 (19, 34905) 4111625 (19, 31743) 7658041 (19, 28671) 7179057 (19, 31356) 2284630 (19, 30734) 1994748 (19, 26086) 1815487 (19, 24692) 4136434 (19, 22664) 6152475 (19, 22979) 7689834 (19, 19749) 8891442 (19, 21527) 6189598 (19, 19041) 1255493 (19, 29761) 2359797 (19, 35835) 3035958 (19, 21352) 800583 (19, 28779) 447009 (19, 26182) 1778917 (19, 20316) 670865 (19, 32634) 8949354 (19, 28964) 395886 (19, 33271) 255718 (19, 27176) 154671 (19, 31037) 1288402 (19, 18671) 9221633 (19, 23339) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) 
     dis: 	10145.000 11587.000 11972.000 12193.000 13152.000 13197.000 13382.000 13749.000 13935.000 14292.000 14335.000 14371.000 14639.000 14791.000 15139.000 15154.000 15349.000 15399.000 15751.000 15820.000 15897.000 16172.000 16275.000 16414.000 16416.000 16471.000 16574.000 16671.000 16911.000 17140.000 17566.000 18060.000 18227.000 18643.000 18735.000 18841.000 18902.000 18946.000 19032.000 19189.000 19243.000 19346.000 19357.000 19704.000 19987.000 20149.000 20349.000 20705.000 21054.000 21237.000 21291.000 21871.000 22660.000 25816.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (19, 37494, 57500): 7020630 (19, 54958) 3279722 (19, 51437) 233485 (19, 44737) 3624059 (19, 43399) 5731015 (19, 52049) 8298687 (19, 37701) 9005255 (19, 48116) 3228780 (19, 39403) 7061054 (19, 48424) 144151 (19, 54423) 6342690 (19, 49127) 3198515 (19, 56015) 8168952 (19, 48838) 2578000 (19, 55811) 5680616 (19, 49419) 3118308 (19, 50535) 3660271 (19, 45079) 5145634 (19, 54036) 6418756 (19, 43977) 3439669 (19, 39648) 4958663 (19, 44548) 5392051 (19, 44712) 9098100 (19, 48807) 5687782 (19, 56957) 2727475 (19, 44184) 9645264 (19, 45306) 2003261 (19, 54586) 186752 (19, 45674) 7092050 (19, 42775) 351020 (19, 40058) 2318163 (19, 38652) 8399223 (19, 47192) 3218018 (19, 54800) 4770523 (19, 55756) 9312531 (19, 50542) 7985243 (19, 50207) 5190576 (19, 39531) 391391 (19, 44958) 117677 (19, 48305) 55769 (19, 43515) 2945253 (19, 51037) 6600752 (19, 48707) 475161 (19, 56639) 9088274 (19, 55905) 7036637 (19, 49375) 6085058 (19, 40630) 1220764 (19, 50536) 2869225 (19, 42496) 1513918 (19, 42673) 7896239 (19, 42604) 7836227 (19, 44981) 1235387 (19, 54952) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) 
     dis: 	8902.000 11933.000 12222.000 12612.000 12709.000 12840.000 13357.000 13473.000 13699.000 14365.000 14415.000 15752.000 15861.000 15908.000 16067.000 16315.000 16336.000 16471.000 16660.000 16662.000 16814.000 16864.000 17168.000 17310.000 17533.000 17677.000 17781.000 17829.000 17853.000 18116.000 18370.000 18562.000 18616.000 18794.000 18884.000 19117.000 19163.000 19199.000 19223.000 19450.000 19547.000 19645.000 19647.000 20506.000 20507.000 20570.000 20581.000 20664.000 21652.000 21734.000 22114.000 25408.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (19, 12989, 32993): 6527555 (19, 15247) 449527 (19, 17419) 1444782 (19, 19731) 2066916 (19, 15626) 3533412 (19, 21683) 5752140 (19, 29283) 1060205 (19, 22186) 3452999 (19, 14136) 6405716 (19, 16044) 8138170 (19, 26618) 9127320 (19, 27180) 3003315 (19, 27797) 7875692 (19, 27834) 8318558 (19, 16010) 8213527 (19, 20764) 9758264 (19, 29993) 877945 (19, 13095) 776464 (19, 28454) 2866504 (19, 19419) 4745895 (19, 27676) 7740119 (19, 27261) 6384151 (19, 13445) 9732937 (19, 15532) 5693085 (19, 24812) 8340518 (19, 26550) 446395 (19, 18041) 1682491 (19, 31339) 4824800 (19, 22517) 6714502 (19, 21549) 2023235 (19, 27391) 9005445 (19, 19422) 6263886 (19, 27958) 2158796 (19, 28355) 2550605 (19, 20336) 7154487 (19, 26936) 1851855 (19, 13137) 15769 (19, 28219) 1082195 (19, 19024) 748608 (19, 14165) 4280344 (19, 24359) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) 
     dis: 	6296.000 6766.000 6837.000 6893.000 7191.000 7245.000 7390.000 8061.000 8076.000 8161.000 8397.000 8459.000 8486.000 8719.000 8861.000 9022.000 9037.000 9337.000 9605.000 9624.000 9632.000 9685.000 9714.000 9808.000 9893.000 9962.000 9976.000 10049.000 10478.000 10485.000 10543.000 10785.000 10956.000 11011.000 11146.000 12320.000 12557.000 14348.000 14388.000 14632.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 208.872s ] *** Query time: 28.197
qps: 354.643
 *** HNSW recall 
HNSW get 213096 postive res from 1000000 results, recall@100:0.213
recall dist(10% per bucket): 0.035 0.354 0.503 0.106 0.002 0.000 0.000 0.000 0.000 0.000 0.000 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 65022983, average: 6502.298
finished ivfpq index examples
[ 208.905s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query_arbi spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_100.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000 100 100"
	User time (seconds): 202.79
	System time (seconds): 6.42
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:29.22
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7321508
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2279995
	Voluntary context switches: 4
	Involuntary context switches: 122
	Swaps: 0
	File system inputs: 0
	File system outputs: 64
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
