Start time: 20:26
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000
ef_search: 120
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.377s ] Loaded metadata, 10000000 attr's found
[ 1.377s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.380s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 1.382s ] Loaded 10000 sift10M queries
[ 1.452s ] Loaded ground truth, gt_size: 100
[ 1.453s ] Index Params -- d: 128, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 21.250s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 566.228s ] Query results (vector ids, then distances):
query 0 nn's (6, 15386, 98713): 4160485 (6, 75840) 6141318 (6, 37070) 1160663 (6, 33030) 4738758 (6, 62037) 7293718 (6, 46327) 4538400 (6, 82045) 1020562 (6, 35855) 7077742 (6, 75183) 9397776 (6, 80412) 9536881 (6, 67672) 8191903 (6, 40651) 9485971 (6, 68407) 7866119 (6, 74143) 9313115 (6, 38104) 2375126 (6, 33561) 77153 (6, 92241) 2923944 (6, 73475) 8076858 (6, 83183) 7164607 (6, 98353) 9925949 (6, 83292) 888010 (6, 89770) 2078396 (6, 69539) 8435256 (6, 19169) 2549151 (6, 55782) 9251169 (6, 27202) 5343331 (6, 51049) 5643020 (6, 54360) 3968857 (6, 75493) 1892471 (6, 50102) 419470 (6, 90141) 2481703 (6, 62655) 5520369 (6, 15713) 5710919 (6, 63861) 4326493 (6, 83717) 9409479 (6, 35326) 7974670 (6, 61959) 5831094 (6, 92274) 674077 (6, 43009) 9534078 (6, 38666) 8428377 (6, 96100) 6019325 (6, 86380) 5341499 (6, 42517) 951258 (6, 20207) 6871531 (6, 26675) 1203246 (6, 40158) 2707047 (6, 84931) 7459877 (6, 82475) 8364178 (6, 44636) 7011791 (6, 71074) 5001655 (6, 56047) 6328993 (6, 68905) 5368660 (6, 68710) 8039506 (6, 73870) 3517425 (6, 36130) 5835685 (6, 32204) 447965 (6, 76901) 2986000 (6, 89977) 839586 (6, 92605) 46468 (6, 38500) 9906463 (6, 17021) 6799000 (6, 35117) 7842689 (6, 63484) 5228659 (6, 22228) 7455148 (6, 61833) 5376243 (6, 80878) 3435228 (6, 81391) 1249067 (6, 38034) 4396835 (6, 69009) 5128198 (6, 36549) 1891236 (6, 53938) 9839146 (6, 47104) 7895839 (6, 60842) 3658860 (6, 82265) 8644324 (6, 75189) 5187160 (6, 17308) 4627859 (6, 79569) 197299 (6, 88131) 7263957 (6, 62660) 2692614 (6, 59275) 476293 (6, 98031) 5356206 (6, 49471) 3094752 (6, 94405) 1698351 (6, 90365) 4698776 (6, 50473) 8838842 (6, 54025) 5072607 (6, 19349) 4271011 (6, 37884) 8610630 (6, 38917) 1415164 (6, 80839) 1708550 (6, 19813) 6889946 (6, 94728) 6425728 (6, 86237) 8446671 (6, 55027) 4624202 (6, 30437) 8898051 (6, 52188) 3409110 (6, 50516) 5600358 (6, 55389) 1905762 (6, 38252) 4321174 (6, 66991) 628292 (6, 27639) 
     dis: 	65950.000 73183.000 74292.000 74463.000 75573.000 76603.000 76767.000 76934.000 77424.000 78206.000 78749.000 78877.000 79448.000 79682.000 79929.000 79964.000 79984.000 80223.000 80358.000 80660.000 80692.000 81711.000 81799.000 81827.000 81847.000 81853.000 82000.000 82148.000 82386.000 82431.000 82457.000 82492.000 82540.000 82567.000 82688.000 82693.000 83049.000 83152.000 83197.000 83232.000 83269.000 83435.000 83577.000 84002.000 84353.000 84571.000 84945.000 85161.000 85235.000 85310.000 85322.000 85365.000 85538.000 85597.000 85597.000 85625.000 85736.000 85800.000 85831.000 85842.000 85915.000 85925.000 85928.000 85963.000 85985.000 86005.000 86100.000 86119.000 86198.000 86203.000 86308.000 86379.000 86389.000 86523.000 86549.000 86576.000 86697.000 86743.000 86817.000 86891.000 86902.000 86958.000 87049.000 87100.000 87152.000 87272.000 87297.000 87333.000 87361.000 87415.000 87451.000 87485.000 87510.000 87536.000 87602.000 87631.000 87654.000 87799.000 87857.000 87982.000 
query 1 nn's (6, 9087, 92417): 8449497 (6, 34983) 5552416 (6, 36365) 285986 (6, 75309) 4234271 (6, 67974) 2253711 (6, 37325) 4907604 (6, 25976) 1273419 (6, 33104) 7501440 (6, 14746) 1263214 (6, 88792) 9492445 (6, 12447) 8349375 (6, 22458) 9219153 (6, 58629) 3645374 (6, 90675) 1909131 (6, 54169) 6265610 (6, 87893) 5271910 (6, 41655) 7917424 (6, 90499) 9009284 (6, 67244) 371485 (6, 17413) 7343838 (6, 74913) 6378991 (6, 21879) 2993914 (6, 68602) 4702839 (6, 59837) 1346170 (6, 41296) 5589386 (6, 29204) 9015118 (6, 87716) 5008572 (6, 56537) 375999 (6, 89946) 296178 (6, 11477) 3324707 (6, 81184) 4809706 (6, 36811) 8646169 (6, 68725) 4757479 (6, 22324) 3786289 (6, 65499) 5516040 (6, 28998) 9815150 (6, 42238) 1784776 (6, 25331) 1350904 (6, 35417) 7031326 (6, 30204) 8175356 (6, 55361) 3050119 (6, 46972) 7342014 (6, 80693) 8152291 (6, 80877) 895436 (6, 74449) 5313986 (6, 26429) 1000577 (6, 77635) 1503119 (6, 38818) 741761 (6, 59044) 8704684 (6, 12621) 3665630 (6, 61393) 3872079 (6, 21033) 4493346 (6, 28840) 4512099 (6, 15894) 1461697 (6, 49246) 8440112 (6, 14227) 8984166 (6, 75605) 6087695 (6, 67694) 6986308 (6, 59303) 9913606 (6, 80400) 7315015 (6, 84354) 4500982 (6, 37756) 4364584 (6, 36673) 7672903 (6, 92226) 963644 (6, 20039) 8401639 (6, 60800) 8457342 (6, 79112) 6630533 (6, 53185) 2235415 (6, 59225) 5226515 (6, 26779) 4009753 (6, 84717) 3083636 (6, 72718) 7968009 (6, 31114) 8518091 (6, 42790) 4357659 (6, 12067) 6672132 (6, 21580) 5254261 (6, 65510) 5700748 (6, 75823) 3200275 (6, 28242) 3891904 (6, 29200) 7513620 (6, 48002) 491814 (6, 82945) 1410399 (6, 56069) 9388703 (6, 77438) 735668 (6, 16787) 5307850 (6, 49892) 4960102 (6, 30149) 5869072 (6, 9606) 6383821 (6, 21570) 8743749 (6, 12308) 7512095 (6, 73608) 7807906 (6, 27943) 298308 (6, 49221) 1012664 (6, 81675) 4539661 (6, 43236) 4572312 (6, 44945) 7610510 (6, 45769) 8346283 (6, 22589) 6780375 (6, 33013) 9591804 (6, 46494) 8488585 (6, 17527) 
     dis: 	32633.000 42944.000 43778.000 44439.000 45140.000 46066.000 46522.000 46910.000 47608.000 48691.000 49997.000 50730.000 50948.000 51310.000 51836.000 52252.000 52837.000 52935.000 54431.000 54601.000 54869.000 55326.000 55982.000 56324.000 56410.000 56457.000 56506.000 56619.000 57313.000 57508.000 57512.000 57703.000 57734.000 57771.000 57779.000 57793.000 57917.000 57960.000 58257.000 58298.000 58502.000 58531.000 58925.000 59156.000 59169.000 59284.000 59550.000 59621.000 59872.000 59901.000 59947.000 59949.000 60127.000 60324.000 60340.000 60632.000 60873.000 60913.000 60931.000 61093.000 61176.000 61385.000 62051.000 62305.000 62462.000 62505.000 62563.000 62601.000 62693.000 62791.000 62992.000 63272.000 63533.000 63824.000 63864.000 63867.000 63955.000 64056.000 64165.000 64180.000 64377.000 64505.000 64556.000 64597.000 64772.000 64813.000 64890.000 64958.000 65073.000 65166.000 65184.000 65450.000 65547.000 65629.000 65693.000 65923.000 65936.000 66097.000 66141.000 66231.000 
query 2 nn's (6, 3328, 86670): 3900297 (6, 83217) 4588082 (6, 31606) 8667807 (6, 80757) 289025 (6, 80462) 237844 (6, 23653) 5982237 (6, 65005) 4480383 (6, 54571) 3493381 (6, 18042) 6296252 (6, 24163) 2795236 (6, 16996) 5637368 (6, 73018) 7500565 (6, 8859) 4457160 (6, 76374) 8510786 (6, 60842) 436139 (6, 33563) 9410320 (6, 64533) 5988705 (6, 15181) 4154052 (6, 79109) 7654217 (6, 42044) 4757879 (6, 50243) 2994193 (6, 15692) 8923155 (6, 7071) 8565013 (6, 64856) 3832486 (6, 80444) 1198061 (6, 86515) 8086660 (6, 19778) 271911 (6, 44151) 1229611 (6, 85215) 9362419 (6, 16946) 9541874 (6, 78932) 1784913 (6, 45241) 4347605 (6, 48929) 4555038 (6, 33581) 4519717 (6, 40697) 3724739 (6, 52270) 409456 (6, 10241) 4021389 (6, 21907) 419195 (6, 52999) 8563094 (6, 80394) 9790465 (6, 35494) 3795529 (6, 21617) 3293173 (6, 29731) 4973399 (6, 65418) 8198272 (6, 72364) 6347813 (6, 24884) 6114289 (6, 79310) 49352 (6, 52474) 3967402 (6, 59012) 3061201 (6, 66871) 3140269 (6, 16482) 7685482 (6, 10668) 8070798 (6, 76147) 9910009 (6, 10346) 141025 (6, 29704) 5631784 (6, 32640) 4495608 (6, 76378) 6290196 (6, 69104) 5596868 (6, 30597) 4861540 (6, 67691) 1463083 (6, 61154) 1878319 (6, 47080) 3567890 (6, 52657) 2723946 (6, 45580) 1956474 (6, 55102) 4418406 (6, 9501) 4713533 (6, 77619) 445822 (6, 19746) 4135242 (6, 86442) 8913430 (6, 65744) 4283746 (6, 59831) 764856 (6, 14327) 1297680 (6, 45188) 4542872 (6, 70231) 9906560 (6, 47924) 9384590 (6, 26735) 8801441 (6, 53336) 2800256 (6, 17090) 9302830 (6, 26290) 9724885 (6, 32424) 2247452 (6, 23492) 2383566 (6, 67183) 1700496 (6, 44695) 8476333 (6, 6657) 2407252 (6, 46696) 5879779 (6, 29152) 1758192 (6, 15169) 7194949 (6, 19975) 5488746 (6, 51482) 2262090 (6, 60953) 7879817 (6, 9944) 5834114 (6, 68309) 6848307 (6, 75942) 9650562 (6, 29241) 483758 (6, 37924) 6511526 (6, 66264) 8607006 (6, 4482) 3457019 (6, 64153) 2833092 (6, 69172) 5520804 (6, 67744) 5228926 (6, 38075) 
     dis: 	43033.000 47637.000 47988.000 48416.000 49294.000 50144.000 50702.000 51043.000 51071.000 51181.000 51405.000 51634.000 51795.000 52273.000 52554.000 52939.000 53001.000 53029.000 53106.000 53215.000 53360.000 54025.000 54061.000 54273.000 54288.000 54318.000 54365.000 54404.000 54496.000 54558.000 54759.000 54968.000 55225.000 55350.000 55376.000 55753.000 55907.000 55957.000 55995.000 56197.000 56262.000 56269.000 56343.000 56416.000 56449.000 56627.000 56721.000 56939.000 56977.000 57016.000 57176.000 57245.000 57310.000 57318.000 57398.000 57423.000 57466.000 57613.000 57716.000 57848.000 58055.000 58195.000 58328.000 58484.000 58485.000 58526.000 58536.000 58766.000 58788.000 58925.000 58933.000 58977.000 58989.000 58993.000 59021.000 59135.000 59276.000 59365.000 59587.000 59600.000 59644.000 59681.000 59745.000 59815.000 59823.000 59887.000 60055.000 60058.000 60066.000 60098.000 60114.000 60122.000 60272.000 60413.000 60574.000 60587.000 60604.000 60618.000 60620.000 60628.000 
query 3 nn's (6, 14596, 97918): 980813 (6, 71799) 1527942 (6, 63601) 2205832 (6, 88191) 4147780 (6, 81935) 6151275 (6, 35885) 8410503 (6, 21539) 7269483 (6, 65758) 3643741 (6, 16392) 1985932 (6, 29948) 5124856 (6, 21115) 1417424 (6, 44675) 6411621 (6, 75418) 2892348 (6, 17177) 4904828 (6, 90172) 1124016 (6, 73832) 9010353 (6, 72511) 5224964 (6, 83012) 8649378 (6, 68639) 1911911 (6, 37348) 2218358 (6, 72770) 1344917 (6, 87616) 4890579 (6, 38501) 1739894 (6, 46666) 8501071 (6, 67768) 4246457 (6, 40977) 4486659 (6, 58126) 5716081 (6, 23527) 1514080 (6, 74319) 692217 (6, 48752) 9019201 (6, 61521) 9577990 (6, 43595) 7301436 (6, 90494) 290433 (6, 69934) 1590183 (6, 94432) 2630576 (6, 57868) 9257537 (6, 60208) 9925791 (6, 15173) 5755561 (6, 37222) 8051314 (6, 72057) 5381241 (6, 63826) 192312 (6, 54361) 879082 (6, 25842) 179529 (6, 54770) 9654367 (6, 58332) 2112048 (6, 94604) 9625994 (6, 73697) 9517308 (6, 55668) 9444290 (6, 76600) 9754475 (6, 84687) 7691560 (6, 91438) 9335193 (6, 23002) 1028926 (6, 22482) 9981635 (6, 86230) 1326424 (6, 65471) 6317467 (6, 53185) 5777538 (6, 42963) 7119531 (6, 86784) 222255 (6, 43651) 3421950 (6, 21530) 7614050 (6, 96453) 1502235 (6, 81373) 422848 (6, 15295) 6045699 (6, 92637) 8344580 (6, 46316) 1061321 (6, 32170) 8660300 (6, 17947) 3607435 (6, 42471) 8688385 (6, 69473) 8702151 (6, 27446) 4503222 (6, 80612) 5293699 (6, 91667) 6697954 (6, 46859) 7583501 (6, 89112) 8643637 (6, 60122) 840086 (6, 38327) 4372662 (6, 67651) 6346885 (6, 44856) 6281603 (6, 97704) 8323731 (6, 54958) 3828353 (6, 97118) 3704240 (6, 23884) 7747974 (6, 16438) 8556892 (6, 76889) 5181700 (6, 85910) 1217378 (6, 29565) 449169 (6, 96745) 82034 (6, 30145) 1229577 (6, 87073) 5663020 (6, 79607) 3195943 (6, 64854) 3080406 (6, 70341) 9701282 (6, 49995) 1604878 (6, 49371) 618359 (6, 24852) 2842840 (6, 17161) 240857 (6, 86618) 9102009 (6, 33306) 6734945 (6, 43438) 4540202 (6, 89365) 2305251 (6, 54398) 
     dis: 	4296.000 4309.000 4343.000 4550.000 4602.000 4817.000 4894.000 5279.000 5371.000 5492.000 5643.000 5998.000 6047.000 6194.000 6290.000 6311.000 6378.000 6468.000 6655.000 6693.000 6747.000 6771.000 6845.000 6973.000 6981.000 7021.000 7160.000 7171.000 7226.000 7233.000 7282.000 7394.000 7438.000 7460.000 7486.000 7531.000 7580.000 7587.000 7644.000 7666.000 7673.000 7688.000 7708.000 7746.000 7792.000 7825.000 7861.000 8042.000 8058.000 8087.000 8123.000 8228.000 8230.000 8268.000 8312.000 8322.000 8362.000 8395.000 8402.000 8407.000 8414.000 8500.000 8590.000 8594.000 8608.000 8650.000 8714.000 8797.000 8809.000 8850.000 8860.000 8912.000 8939.000 8954.000 9013.000 9063.000 9153.000 9157.000 9177.000 9207.000 9212.000 9230.000 9235.000 9404.000 9510.000 9576.000 9581.000 9736.000 9763.000 9774.000 9786.000 9808.000 9946.000 9990.000 9997.000 10000.000 10018.000 10027.000 10060.000 10084.000 
query 4 nn's (6, 1537, 84881): 7091990 (6, 39499) 5493369 (6, 76459) 3389697 (6, 55907) 6062843 (6, 18553) 4344456 (6, 84486) 1149636 (6, 51923) 6388463 (6, 27537) 4119530 (6, 26763) 3220361 (6, 51022) 4366121 (6, 16172) 7358946 (6, 21627) 7423926 (6, 77977) 3832333 (6, 59123) 39005 (6, 62188) 5708200 (6, 63590) 1850409 (6, 1992) 8630333 (6, 17180) 3637016 (6, 65391) 5175563 (6, 53491) 2290505 (6, 31338) 2908498 (6, 27529) 1337546 (6, 40697) 9033526 (6, 59364) 2173144 (6, 26778) 6203168 (6, 10893) 990482 (6, 20918) 2732612 (6, 52473) 6838860 (6, 42582) 7455536 (6, 18226) 3495449 (6, 11397) 2989150 (6, 34854) 9968572 (6, 16018) 9067729 (6, 5769) 5135489 (6, 40757) 3405146 (6, 82722) 4128605 (6, 18486) 9570381 (6, 30216) 4766049 (6, 7736) 5707536 (6, 4200) 1903346 (6, 13337) 6637386 (6, 65944) 4158427 (6, 58479) 2015975 (6, 21707) 8229155 (6, 12816) 1020874 (6, 62278) 8493266 (6, 26629) 3850790 (6, 67608) 7434343 (6, 60988) 149112 (6, 18763) 4399052 (6, 73619) 5826594 (6, 9307) 8838225 (6, 50400) 4901952 (6, 14130) 5729760 (6, 9406) 4374812 (6, 44149) 6630737 (6, 2732) 2288117 (6, 8684) 992395 (6, 48895) 8296728 (6, 9580) 5221238 (6, 24066) 1194149 (6, 70482) 1804833 (6, 34533) 330819 (6, 48267) 2617346 (6, 35760) 6116720 (6, 31489) 1784595 (6, 38281) 9493047 (6, 76865) 3882262 (6, 27678) 1368878 (6, 55378) 3569920 (6, 80630) 9401433 (6, 36321) 2430179 (6, 50715) 5126636 (6, 2816) 3803911 (6, 66493) 797235 (6, 64523) 7069107 (6, 42234) 487654 (6, 41880) 7223142 (6, 49842) 9398213 (6, 8483) 6562890 (6, 16377) 3903546 (6, 51990) 3789483 (6, 15167) 1257130 (6, 8359) 2435897 (6, 76122) 6887757 (6, 76420) 1127203 (6, 12198) 9167103 (6, 35510) 3301562 (6, 63704) 1953827 (6, 80025) 685903 (6, 33060) 2840566 (6, 15038) 9432297 (6, 75454) 8129218 (6, 29891) 4483878 (6, 80521) 8295863 (6, 76375) 1355777 (6, 42626) 6030505 (6, 77387) 4800113 (6, 28655) 8639073 (6, 70562) 8305984 (6, 31043) 
     dis: 	77167.000 81626.000 84350.000 84746.000 85939.000 85940.000 86061.000 86120.000 86625.000 86842.000 87070.000 87152.000 87409.000 87925.000 88206.000 88322.000 88437.000 88515.000 88607.000 88679.000 88949.000 89297.000 89480.000 89811.000 89955.000 90021.000 90596.000 90822.000 90981.000 91051.000 91566.000 91743.000 92148.000 92149.000 92174.000 92212.000 92925.000 93001.000 93074.000 93119.000 93525.000 93603.000 93705.000 94031.000 94288.000 94291.000 94997.000 95017.000 95203.000 95276.000 95431.000 95449.000 95535.000 95543.000 96273.000 96446.000 96597.000 96611.000 96677.000 96965.000 97089.000 97117.000 97440.000 97472.000 97494.000 97615.000 97659.000 97696.000 97773.000 97777.000 97795.000 97998.000 98026.000 98148.000 98154.000 98237.000 98333.000 98488.000 98607.000 98695.000 98840.000 98880.000 99016.000 99028.000 99053.000 99086.000 99304.000 99392.000 99582.000 99616.000 99749.000 99812.000 99950.000 99958.000 100041.000 100068.000 100072.000 100097.000 100127.000 100152.000 
[ 566.228s ] *** Query time: 23.008
qps: 434.625
 *** HNSW recall 
HNSW get 939946 postive res from 1000000 results, recall@100:0.940
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.003 0.018 0.160 0.715 0.105 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 66183307, average: 6618.331
finished ivfpq index examples
[ 566.261s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query_arbi sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000 120 128"
	User time (seconds): 543.10
	System time (seconds): 11.60
	Percent of CPU this job got: 97%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 9:27.00
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8414120
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 27
	Minor (reclaiming a frame) page faults: 3025391
	Voluntary context switches: 40107
	Involuntary context switches: 1166
	Swaps: 0
	File system inputs: 685192
	File system outputs: 48
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 21:37
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_100.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000
ef_search: 120
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.380s ] Loaded metadata, 10000000 attr's found
[ 1.380s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.383s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 1.386s ] Loaded 10000 sift10M queries
[ 1.457s ] Loaded ground truth, gt_size: 100
[ 1.457s ] Index Params -- d: 128, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 7.350s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 517.964s ] Query results (vector ids, then distances):
query 0 nn's (10, 56934, 90265): 7632021 (10, 87388) 6984373 (10, 64180) 5423931 (10, 85420) 7468388 (10, 59777) 788117 (10, 74289) 796249 (10, 61487) 1174332 (10, 82675) 8851580 (10, 79840) 1835932 (10, 67510) 1071640 (10, 75218) 906203 (10, 88846) 3879851 (10, 59758) 4770231 (10, 82549) 9237550 (10, 83224) 7912999 (10, 88994) 4276373 (10, 64567) 9103413 (10, 63434) 7033151 (10, 58975) 668906 (10, 66294) 4436135 (10, 64829) 867263 (10, 89962) 990845 (10, 90056) 4547101 (10, 85262) 7491640 (10, 66382) 8360507 (10, 61820) 3932713 (10, 76609) 4945840 (10, 89030) 9566365 (10, 85056) 2965077 (10, 60506) 1467573 (10, 89523) 6800399 (10, 84180) 5500930 (10, 58597) 9126982 (10, 87554) 9192415 (10, 68196) 4059033 (10, 80432) 2498088 (10, 68838) 1124068 (10, 63767) 880686 (10, 62301) 5367620 (10, 62002) 8173378 (10, 63876) 6320622 (10, 68448) 6908280 (10, 60085) 3195430 (10, 83145) 1323700 (10, 75861) 9122103 (10, 62920) 5967760 (10, 63833) 7556797 (10, 82470) 4133793 (10, 70486) 6623255 (10, 86937) 7829089 (10, 59711) 3331881 (10, 67011) 3440180 (10, 86344) 924913 (10, 84352) 3773406 (10, 66688) 1726584 (10, 65825) 1038666 (10, 70501) 5444854 (10, 69209) 7967547 (10, 88098) 740641 (10, 83159) 2307882 (10, 64325) 3929621 (10, 64020) 7084460 (10, 72632) 7366278 (10, 65698) 1021256 (10, 57682) 578005 (10, 71714) 7559940 (10, 60394) 624727 (10, 77281) 1258104 (10, 81960) 7783728 (10, 79528) 7109050 (10, 89131) 9549864 (10, 61808) 4826619 (10, 59371) 2601599 (10, 71635) 4971399 (10, 80971) 3085594 (10, 66635) 148327 (10, 78502) 9179265 (10, 86851) 3932990 (10, 72724) 3094630 (10, 65343) 3787238 (10, 75484) 5097090 (10, 79505) 8991853 (10, 70666) 9854043 (10, 76438) 6984438 (10, 69981) 8460353 (10, 72912) 5963789 (10, 64306) 7885499 (10, 61301) 7337065 (10, 86764) 5898582 (10, 66251) 9809027 (10, 67259) 2962080 (10, 84477) 9515226 (10, 69474) 7643766 (10, 66313) 8489682 (10, 84471) 1356650 (10, 57872) 327745 (10, 67002) 402282 (10, 73234) 1426063 (10, 72194) 9780121 (10, 88816) 8267878 (10, 57770) 
     dis: 	75587.000 76880.000 77145.000 77229.000 78653.000 79534.000 79542.000 80060.000 80072.000 82439.000 83214.000 83717.000 84388.000 84526.000 84734.000 85991.000 86265.000 86333.000 87253.000 87276.000 87684.000 88376.000 88634.000 89476.000 89755.000 90305.000 90642.000 90648.000 90727.000 91532.000 91791.000 92187.000 92388.000 92418.000 92517.000 92694.000 92837.000 92847.000 93098.000 93273.000 93588.000 93740.000 94243.000 94352.000 94416.000 94522.000 94539.000 95059.000 95242.000 95404.000 95549.000 95566.000 95596.000 96453.000 96615.000 96717.000 97254.000 97444.000 97463.000 97652.000 97852.000 97892.000 97892.000 97932.000 98284.000 98502.000 98736.000 98910.000 99079.000 99322.000 99358.000 99438.000 99504.000 99621.000 99647.000 99971.000 100002.000 100041.000 100106.000 100125.000 100231.000 100238.000 100358.000 100499.000 100546.000 100555.000 100611.000 100739.000 100803.000 100930.000 100998.000 101037.000 101222.000 101244.000 101324.000 101595.000 101597.000 101610.000 101678.000 101688.000 
query 1 nn's (10, 32300, 65628): 522429 (10, 64072) 7120642 (10, 33625) 4922660 (10, 65214) 5509879 (10, 53866) 1843885 (10, 34165) 7693023 (10, 38018) 3631651 (10, 48250) 8590082 (10, 44591) 1526669 (10, 44625) 4689763 (10, 41562) 2652241 (10, 43322) 8223991 (10, 57228) 9643506 (10, 50533) 2353489 (10, 57058) 8828687 (10, 56129) 5423598 (10, 45582) 9553578 (10, 51343) 3740235 (10, 39140) 5349437 (10, 62014) 6366077 (10, 61356) 3733744 (10, 34559) 9643854 (10, 52914) 5177998 (10, 42078) 8441546 (10, 36240) 7388183 (10, 48518) 356275 (10, 33651) 6835065 (10, 51239) 374332 (10, 58211) 7995682 (10, 60627) 1344265 (10, 53543) 1968903 (10, 43626) 962794 (10, 49906) 9627866 (10, 38178) 2118779 (10, 54587) 9236715 (10, 59751) 9329945 (10, 60077) 7280092 (10, 34417) 1134982 (10, 37242) 8501312 (10, 56339) 5707690 (10, 44102) 5161143 (10, 59173) 5471919 (10, 50002) 9586160 (10, 50255) 4816323 (10, 46493) 8334152 (10, 54368) 8234637 (10, 47814) 6576839 (10, 61343) 3335948 (10, 36046) 1969287 (10, 41432) 739072 (10, 33998) 5632105 (10, 43018) 2636339 (10, 42826) 3731479 (10, 59807) 1116609 (10, 36504) 5868222 (10, 61968) 6072436 (10, 41838) 1411930 (10, 43571) 8345271 (10, 57786) 4130277 (10, 36160) 9266357 (10, 48822) 3804074 (10, 60347) 7622192 (10, 38478) 3914678 (10, 37239) 4017308 (10, 61092) 2374233 (10, 41583) 5638854 (10, 57502) 3311960 (10, 43109) 1292380 (10, 57757) 1469962 (10, 38581) 5868497 (10, 62840) 2208030 (10, 50781) 4550629 (10, 52440) 8967679 (10, 45026) 6976996 (10, 59108) 4177090 (10, 54322) 6161129 (10, 46620) 8949514 (10, 64901) 2018028 (10, 37569) 9529005 (10, 36346) 1943276 (10, 40393) 9429619 (10, 43430) 9875969 (10, 55883) 7452672 (10, 42093) 5276519 (10, 54278) 8032969 (10, 54616) 4626399 (10, 60061) 8279521 (10, 61794) 8688436 (10, 34551) 9572437 (10, 41080) 2480564 (10, 56971) 7405389 (10, 57187) 6782953 (10, 34132) 9123558 (10, 32982) 6749775 (10, 40500) 8236175 (10, 47670) 7735881 (10, 55298) 4841039 (10, 51137) 4963889 (10, 59676) 897493 (10, 61679) 5939848 (10, 42245) 
     dis: 	52132.000 54684.000 56486.000 56959.000 57411.000 57450.000 57719.000 58064.000 58488.000 59030.000 61403.000 61426.000 61991.000 62214.000 62681.000 63282.000 63382.000 63956.000 64817.000 65307.000 65583.000 66298.000 67242.000 67701.000 67980.000 68429.000 68561.000 69115.000 69226.000 69385.000 69654.000 70050.000 70089.000 70396.000 70704.000 70708.000 70809.000 70849.000 71495.000 71509.000 71602.000 71646.000 71718.000 72234.000 72386.000 72801.000 72895.000 73194.000 73406.000 74149.000 74524.000 74832.000 75267.000 75355.000 75612.000 75660.000 75689.000 75828.000 76030.000 76735.000 77024.000 77390.000 77486.000 77658.000 78023.000 78068.000 78391.000 78957.000 79119.000 79570.000 79757.000 80400.000 80636.000 80813.000 80872.000 80900.000 81138.000 81354.000 81760.000 81822.000 82065.000 82245.000 82254.000 82264.000 82276.000 82565.000 82753.000 82936.000 83135.000 83148.000 83261.000 83341.000 83365.000 83602.000 83624.000 83676.000 83777.000 83982.000 84856.000 84944.000 
query 2 nn's (10, 31833, 65159): 4279056 (10, 55445) 2393824 (10, 59147) 5039283 (10, 39400) 8333106 (10, 41607) 2038327 (10, 59437) 247874 (10, 40245) 8075681 (10, 62354) 8329652 (10, 49734) 4725455 (10, 63152) 4898170 (10, 59912) 1026832 (10, 33869) 8266810 (10, 63440) 5397690 (10, 64064) 2319775 (10, 32402) 419818 (10, 49750) 1299970 (10, 33694) 4497755 (10, 54545) 29358 (10, 50220) 1085992 (10, 61701) 1829983 (10, 31921) 7081867 (10, 52504) 2481742 (10, 38468) 9954659 (10, 43924) 8586058 (10, 51153) 1155004 (10, 39192) 6527814 (10, 47491) 3483394 (10, 44804) 6247603 (10, 59026) 6127686 (10, 49261) 2523582 (10, 60886) 856169 (10, 60981) 5274336 (10, 53676) 6304098 (10, 46808) 6136728 (10, 55481) 8253782 (10, 37186) 6005722 (10, 61405) 4743122 (10, 32852) 1035560 (10, 36502) 1482128 (10, 62965) 7446868 (10, 48208) 5945392 (10, 41811) 3222262 (10, 52273) 5046019 (10, 54812) 7221663 (10, 60326) 2470588 (10, 39142) 1249273 (10, 52245) 3266325 (10, 35497) 2804686 (10, 37882) 6062651 (10, 55251) 5985758 (10, 37461) 4435268 (10, 34984) 8096796 (10, 35567) 4636933 (10, 47199) 8044435 (10, 45481) 3612389 (10, 46429) 6473156 (10, 63856) 9970439 (10, 49953) 9266101 (10, 37043) 798277 (10, 37936) 9844531 (10, 47695) 3928982 (10, 35575) 6357699 (10, 52331) 6445878 (10, 39491) 5627672 (10, 53651) 3330878 (10, 31903) 4716201 (10, 34374) 5908001 (10, 52145) 1916939 (10, 53296) 1125740 (10, 53816) 3396117 (10, 60611) 8646849 (10, 64080) 8298066 (10, 44731) 260224 (10, 46306) 7817828 (10, 55597) 9237038 (10, 51377) 1458512 (10, 33826) 7161229 (10, 58106) 6249422 (10, 61996) 2171325 (10, 54148) 9383834 (10, 34777) 5795780 (10, 55532) 7487395 (10, 34525) 6014524 (10, 52284) 725730 (10, 34999) 6923454 (10, 33269) 5055925 (10, 48320) 4961453 (10, 42345) 3365279 (10, 64283) 8035564 (10, 54375) 9737441 (10, 55957) 5729843 (10, 44155) 1774561 (10, 62878) 9104995 (10, 36567) 3202481 (10, 41215) 202230 (10, 32133) 1753336 (10, 40186) 5843586 (10, 64236) 9257315 (10, 63710) 5449770 (10, 41335) 5627288 (10, 48927) 
     dis: 	52719.000 55985.000 56504.000 57924.000 58701.000 58734.000 59158.000 59281.000 59390.000 60397.000 60785.000 61041.000 61297.000 61323.000 61352.000 61773.000 61845.000 61858.000 61929.000 61973.000 62148.000 62230.000 62254.000 62340.000 62364.000 62437.000 62475.000 62491.000 62749.000 62798.000 62862.000 62866.000 63354.000 63468.000 63809.000 63923.000 64174.000 64211.000 64294.000 64351.000 64475.000 64818.000 64846.000 64879.000 64926.000 64980.000 65276.000 65382.000 65663.000 65911.000 65984.000 66020.000 66393.000 66559.000 66775.000 66828.000 66904.000 67018.000 68064.000 68140.000 68225.000 68294.000 68319.000 68541.000 68546.000 68548.000 68689.000 68748.000 68901.000 68905.000 68972.000 69031.000 69083.000 69282.000 69381.000 69585.000 69610.000 69834.000 69912.000 69956.000 70074.000 70125.000 70196.000 70219.000 70412.000 70546.000 70602.000 70616.000 70660.000 70719.000 70805.000 70816.000 70970.000 70992.000 71288.000 71360.000 71575.000 71630.000 71740.000 71741.000 
query 3 nn's (10, 38987, 72318): 3459738 (10, 69550) 3041965 (10, 50501) 6148687 (10, 69659) 6760157 (10, 56432) 3278687 (10, 39352) 7749958 (10, 68262) 5240529 (10, 57000) 7865854 (10, 69158) 936598 (10, 40458) 9966986 (10, 63528) 4995291 (10, 53606) 5651613 (10, 40081) 5627714 (10, 60507) 7745448 (10, 60541) 5561400 (10, 67147) 6711509 (10, 54040) 5026118 (10, 66751) 1831640 (10, 65559) 23966 (10, 56007) 2311118 (10, 56974) 5110678 (10, 69327) 2780122 (10, 40287) 4607031 (10, 54736) 519315 (10, 70982) 9056511 (10, 61189) 4485299 (10, 67739) 9605754 (10, 42578) 5208047 (10, 66122) 6703943 (10, 44330) 6718210 (10, 56564) 9864546 (10, 45962) 1093904 (10, 48728) 6252048 (10, 50079) 4759076 (10, 42825) 5498749 (10, 47160) 312537 (10, 68574) 4524336 (10, 69142) 8403708 (10, 68728) 3861556 (10, 57057) 2322387 (10, 47000) 399525 (10, 41782) 6730792 (10, 48138) 9231939 (10, 67201) 311872 (10, 69510) 8956141 (10, 63793) 6565302 (10, 58663) 7754250 (10, 42964) 885432 (10, 62367) 8462619 (10, 49135) 4442693 (10, 49944) 7867335 (10, 54851) 6788101 (10, 72298) 493857 (10, 50520) 1846287 (10, 51358) 755914 (10, 49087) 3547401 (10, 63485) 6089729 (10, 67996) 3004616 (10, 42509) 6827617 (10, 44561) 1423490 (10, 41330) 787995 (10, 63232) 6901252 (10, 68264) 5970282 (10, 67367) 3284716 (10, 39440) 4620328 (10, 71155) 2256474 (10, 49554) 825840 (10, 41522) 800334 (10, 41570) 8953058 (10, 42202) 3860589 (10, 42951) 1425829 (10, 55489) 8863140 (10, 68628) 9083030 (10, 70904) 1162298 (10, 59049) 5375439 (10, 62020) 257523 (10, 45116) 5519121 (10, 45237) 1570115 (10, 57707) 7467923 (10, 51551) 9730416 (10, 52020) 4029358 (10, 59173) 4592890 (10, 68016) 5648831 (10, 71142) 775718 (10, 61697) 1862041 (10, 50185) 6770195 (10, 66717) 3419654 (10, 43110) 9137909 (10, 42683) 4190446 (10, 67503) 9862846 (10, 51072) 2120619 (10, 45300) 7978060 (10, 50134) 2107456 (10, 57803) 7863244 (10, 66073) 8617583 (10, 64479) 1076822 (10, 60329) 3979117 (10, 58707) 6715467 (10, 42206) 5560593 (10, 67689) 7719076 (10, 59106) 
     dis: 	5862.000 6095.000 6437.000 7029.000 7183.000 8122.000 8297.000 8579.000 8643.000 9021.000 9382.000 9491.000 9965.000 9980.000 10267.000 10611.000 10652.000 10741.000 10742.000 10792.000 10821.000 11109.000 11213.000 11461.000 11550.000 11651.000 11703.000 11784.000 11942.000 11951.000 11999.000 12138.000 12370.000 12393.000 12402.000 12470.000 12666.000 12707.000 12833.000 12963.000 13010.000 13030.000 13039.000 13045.000 13080.000 13090.000 13135.000 13137.000 13214.000 13400.000 13432.000 13436.000 13482.000 13960.000 14012.000 14106.000 14165.000 14232.000 14397.000 14419.000 14505.000 14544.000 14549.000 14582.000 14701.000 14857.000 14927.000 15028.000 15145.000 15263.000 15357.000 15452.000 15623.000 15724.000 15793.000 15819.000 15987.000 16012.000 16183.000 16250.000 16509.000 16713.000 17106.000 17206.000 17476.000 17629.000 17730.000 17994.000 18006.000 18234.000 18322.000 18360.000 18426.000 18497.000 18734.000 19204.000 19332.000 19370.000 19460.000 19601.000 
query 4 nn's (10, 58912, 92246): 7241286 (10, 58976) 546979 (10, 64972) 3692806 (10, 85695) 1743659 (10, 77533) 5117098 (10, 60899) 4501065 (10, 73615) 4775817 (10, 63656) 5257851 (10, 72192) 1829341 (10, 88305) 4962535 (10, 68740) 70084 (10, 89797) 5001194 (10, 59766) 272409 (10, 82527) 484991 (10, 67860) 5012556 (10, 92088) 2454280 (10, 83604) 5205930 (10, 89529) 1641746 (10, 67432) 3475746 (10, 89814) 6784852 (10, 75097) 1243221 (10, 76356) 1393362 (10, 86639) 4436465 (10, 63389) 4831136 (10, 79249) 1029172 (10, 64042) 1162961 (10, 87013) 9353798 (10, 69316) 2534624 (10, 73286) 2002058 (10, 87706) 2955778 (10, 81814) 4200529 (10, 66270) 2962974 (10, 90763) 523577 (10, 79118) 7882248 (10, 64704) 8843847 (10, 62540) 2374643 (10, 83574) 8325663 (10, 82310) 4492838 (10, 71057) 230302 (10, 64438) 9140169 (10, 65528) 3625321 (10, 86709) 1035702 (10, 70520) 2916108 (10, 91882) 8976035 (10, 65626) 1716000 (10, 83514) 2071068 (10, 73623) 2540588 (10, 86785) 3417452 (10, 73028) 9695251 (10, 80186) 6206858 (10, 87563) 1589539 (10, 79155) 2123626 (10, 70533) 7116114 (10, 68468) 7306258 (10, 91612) 7328865 (10, 80328) 6989074 (10, 77923) 4306758 (10, 80226) 7367262 (10, 71995) 2145472 (10, 66565) 9012070 (10, 74804) 2228345 (10, 80051) 202856 (10, 84313) 3514292 (10, 72233) 280740 (10, 71879) 9006551 (10, 76563) 928704 (10, 69289) 4137803 (10, 84625) 1672031 (10, 66002) 8851200 (10, 69282) 4875981 (10, 81993) 8269437 (10, 89565) 8082949 (10, 77729) 7566456 (10, 62794) 3628157 (10, 79465) 3590722 (10, 86289) 509936 (10, 78701) 7893275 (10, 71262) 541647 (10, 76243) 7113111 (10, 85615) 9707055 (10, 67721) 7775035 (10, 88315) 4281934 (10, 71683) 2910710 (10, 90936) 2998918 (10, 72792) 4767395 (10, 74391) 3136966 (10, 88035) 8836848 (10, 61664) 5909965 (10, 66908) 3179613 (10, 64138) 1903611 (10, 86665) 8254535 (10, 83244) 3107181 (10, 82865) 6588572 (10, 73289) 3553760 (10, 72234) 4735796 (10, 82751) 9338266 (10, 81405) 4141283 (10, 69448) 6955728 (10, 79330) 8401602 (10, 89765) 8054510 (10, 67112) 
     dis: 	77624.000 86866.000 86927.000 89054.000 89682.000 90882.000 91583.000 92300.000 92442.000 93259.000 93335.000 95630.000 96104.000 96480.000 97064.000 97065.000 97616.000 97693.000 98179.000 98408.000 99070.000 99156.000 99231.000 99344.000 99609.000 99958.000 100266.000 100471.000 100847.000 101087.000 101520.000 101996.000 102119.000 102133.000 102270.000 102562.000 103263.000 103515.000 103690.000 103788.000 103799.000 103834.000 104000.000 104078.000 104418.000 105047.000 105256.000 105547.000 105654.000 106059.000 106283.000 106418.000 106563.000 106564.000 106576.000 106580.000 106642.000 106761.000 106865.000 106909.000 106926.000 107195.000 107329.000 107449.000 107851.000 107934.000 107964.000 108002.000 108031.000 108074.000 108475.000 108478.000 108736.000 108888.000 108930.000 108987.000 109272.000 109323.000 109716.000 109876.000 109983.000 110128.000 110177.000 110261.000 110303.000 110513.000 110525.000 110660.000 110808.000 110888.000 111262.000 111263.000 111331.000 111350.000 111483.000 111814.000 112009.000 112082.000 112082.000 112341.000 
[ 517.965s ] *** Query time: 29.095
qps: 343.705
 *** HNSW recall 
HNSW get 762772 postive res from 1000000 results, recall@100:0.763
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.004 0.026 0.156 0.431 0.362 0.020 0.000 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 66183307, average: 6618.331
finished ivfpq index examples
[ 518.005s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query_arbi sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_100.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000 120 128"
	User time (seconds): 504.00
	System time (seconds): 14.93
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 8:38.95
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8417180
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 3977549
	Voluntary context switches: 2
	Involuntary context switches: 826
	Swaps: 0
	File system inputs: 0
	File system outputs: 48
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 22:33
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_100.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000
ef_search: 120
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.514s ] Loaded metadata, 10000000 attr's found
[ 1.514s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.517s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 1.520s ] Loaded 10000 sift10M queries
[ 1.591s ] Loaded ground truth, gt_size: 100
[ 1.591s ] Index Params -- d: 128, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 7.208s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 199.535s ] Query results (vector ids, then distances):
query 0 nn's (19, 1778, 21797): 4072432 (19, 8708) 6743334 (19, 13828) 5109782 (19, 16081) 4377663 (19, 10279) 651685 (19, 8488) 4589399 (19, 14609) 9314985 (19, 8355) 1824932 (19, 13729) 4375647 (19, 21778) 2049186 (19, 9047) 8893213 (19, 18662) 9095833 (19, 17646) 2372700 (19, 5211) 1623780 (19, 11076) 4753407 (19, 6073) 9484512 (19, 21493) 1079181 (19, 3068) 1054245 (19, 16374) 4414306 (19, 16862) 4030871 (19, 8278) 5421355 (19, 18112) 5349662 (19, 2401) 7658530 (19, 7110) 8498530 (19, 15018) 4131120 (19, 12724) 7131402 (19, 21036) 6321172 (19, 6697) 6782542 (19, 12351) 2127519 (19, 20997) 6662547 (19, 12398) 8362354 (19, 19837) 9925343 (19, 18011) 7144068 (19, 20255) 6759616 (19, 7403) 6616415 (19, 19632) 1657161 (19, 14291) 2717793 (19, 5374) 5155527 (19, 3357) 7115916 (19, 18121) 559949 (19, 15885) 7827980 (19, 10907) 7240525 (19, 5455) 8958168 (19, 13917) 2590745 (19, 15119) 4480574 (19, 13191) 723601 (19, 7909) 5048602 (19, 9269) 2478340 (19, 20130) 7108112 (19, 16070) 7558234 (19, 9196) 3098166 (19, 5125) 7175047 (19, 7936) 6833760 (19, 15559) 3241372 (19, 8529) 1182989 (19, 6946) 1421248 (19, 9752) 181795 (19, 9257) 9446032 (19, 11501) 8670577 (19, 4948) 1870959 (19, 17501) 8175072 (19, 19642) 8919025 (19, 1954) 5871813 (19, 17970) 4775385 (19, 5137) 374169 (19, 12895) 6677625 (19, 15304) 3866034 (19, 14185) 9538215 (19, 4464) 7969116 (19, 9985) 6999898 (19, 21735) 7409933 (19, 8763) 907077 (19, 15167) 6580287 (19, 11971) 8245560 (19, 12515) 3238751 (19, 9358) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) 
     dis: 	84223.000 91348.000 92570.000 94970.000 95476.000 102643.000 103096.000 104631.000 105317.000 106186.000 106346.000 107062.000 107905.000 108940.000 108987.000 109044.000 109676.000 110843.000 111096.000 111924.000 111983.000 113493.000 113591.000 114205.000 114758.000 114779.000 116077.000 116165.000 118199.000 118204.000 119213.000 119271.000 119414.000 119847.000 120798.000 121941.000 122033.000 123686.000 124365.000 125855.000 126950.000 127524.000 128027.000 128889.000 129698.000 129789.000 130541.000 131039.000 131259.000 132905.000 133681.000 134063.000 134201.000 137205.000 138181.000 138634.000 138759.000 139130.000 140558.000 142072.000 142133.000 143606.000 144171.000 144816.000 145654.000 145928.000 146224.000 146843.000 148868.000 152120.000 153844.000 163015.000 179866.000 180644.000 195126.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (19, 59042, 79040): 3221056 (19, 61495) 2002301 (19, 65795) 2077396 (19, 61422) 6147113 (19, 78829) 8461795 (19, 72235) 2442767 (19, 70795) 7439645 (19, 66610) 3663116 (19, 66426) 9499049 (19, 68249) 7686151 (19, 68480) 8506480 (19, 75677) 8367617 (19, 73224) 7285851 (19, 64481) 8366738 (19, 73772) 5704476 (19, 60528) 6958118 (19, 72336) 2761577 (19, 71327) 1196133 (19, 68470) 1692909 (19, 61433) 8423241 (19, 67183) 5559224 (19, 59616) 2509485 (19, 77182) 4100764 (19, 68011) 1176172 (19, 65122) 8138877 (19, 66002) 672716 (19, 75012) 7547049 (19, 69514) 1790486 (19, 74366) 4146861 (19, 67209) 8150421 (19, 64159) 5845938 (19, 66355) 9454376 (19, 62645) 4298384 (19, 62577) 5885528 (19, 68761) 2752825 (19, 62779) 8157945 (19, 68160) 3998628 (19, 61455) 5831841 (19, 65187) 8694575 (19, 72470) 3373747 (19, 64973) 6483642 (19, 69351) 1613432 (19, 60892) 7338831 (19, 59806) 9103046 (19, 66333) 4673572 (19, 64430) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) 
     dis: 	49695.000 59534.000 65598.000 74657.000 74817.000 75826.000 76029.000 76413.000 79307.000 81397.000 82067.000 83799.000 85893.000 87114.000 87188.000 87911.000 88706.000 89186.000 90797.000 91664.000 92121.000 92293.000 93074.000 94074.000 94622.000 95176.000 95584.000 96475.000 99356.000 100309.000 100753.000 103777.000 104695.000 105348.000 106758.000 108446.000 112996.000 113223.000 114604.000 115418.000 121240.000 126922.000 144287.000 151465.000 157767.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (19, 42784, 62779): 9466222 (19, 47586) 7693885 (19, 47791) 5727909 (19, 48856) 9241653 (19, 60913) 6116869 (19, 58494) 6969401 (19, 43166) 4625636 (19, 47270) 6090181 (19, 59271) 4299983 (19, 48794) 9278595 (19, 45574) 2871589 (19, 44213) 4500920 (19, 52255) 9723341 (19, 58098) 5279910 (19, 48293) 7059713 (19, 59168) 2110731 (19, 50704) 3483974 (19, 51711) 9557534 (19, 45854) 180820 (19, 57543) 1657763 (19, 46362) 9706223 (19, 46239) 9205025 (19, 59694) 219115 (19, 45707) 7613574 (19, 48675) 9436202 (19, 43428) 9213511 (19, 50506) 6897277 (19, 58867) 6475007 (19, 50780) 4492748 (19, 55732) 115205 (19, 58572) 8165214 (19, 59200) 6642981 (19, 56518) 931161 (19, 61630) 9270485 (19, 47225) 890944 (19, 42988) 6221009 (19, 48052) 9902276 (19, 42933) 406689 (19, 45664) 4614044 (19, 56762) 4401516 (19, 51013) 4984104 (19, 45778) 472763 (19, 49357) 5663476 (19, 52339) 2472857 (19, 49623) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) 
     dis: 	51654.000 59189.000 60084.000 63480.000 64535.000 65687.000 66366.000 66383.000 67273.000 68800.000 69845.000 72434.000 73055.000 73265.000 73665.000 75440.000 75499.000 75859.000 77068.000 78854.000 79289.000 79308.000 79548.000 79761.000 80290.000 80446.000 80564.000 83196.000 83544.000 83818.000 84897.000 89560.000 89941.000 90016.000 90330.000 92487.000 99072.000 100325.000 102050.000 102091.000 102640.000 110682.000 120672.000 137464.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (19, 49355, 69343): 5792548 (19, 53423) 7691164 (19, 51774) 3481923 (19, 58064) 9604675 (19, 62353) 5883706 (19, 66300) 584269 (19, 68767) 6214747 (19, 57450) 843890 (19, 60908) 9551131 (19, 57354) 1196327 (19, 58683) 1498240 (19, 50695) 6136953 (19, 54742) 8844759 (19, 66449) 1918891 (19, 64692) 6031980 (19, 66681) 4596673 (19, 62711) 8380897 (19, 56991) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) 
     dis: 	8040.000 10430.000 12140.000 12475.000 13689.000 14181.000 15735.000 15740.000 18576.000 18595.000 19196.000 19648.000 21760.000 21956.000 23617.000 26853.000 27016.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (19, 10048, 30070): 5036980 (19, 10816) 5433383 (19, 20803) 6754072 (19, 10876) 8939608 (19, 19392) 4618448 (19, 27699) 9287702 (19, 19398) 6040397 (19, 18694) 7641018 (19, 27628) 8952250 (19, 12833) 2562256 (19, 22264) 6501198 (19, 21717) 9948006 (19, 27814) 584548 (19, 17117) 2386854 (19, 12330) 5290573 (19, 21402) 9137206 (19, 19011) 3189095 (19, 16671) 5866516 (19, 13881) 8706338 (19, 12822) 7553685 (19, 17370) 7562325 (19, 14423) 353162 (19, 19705) 7917769 (19, 11542) 6326413 (19, 29226) 2282994 (19, 23889) 94721 (19, 14371) 2660078 (19, 13821) 745568 (19, 10768) 5432501 (19, 10333) 8965116 (19, 18163) 9788556 (19, 24030) 7318784 (19, 23616) 5978622 (19, 20919) 7415448 (19, 27517) 843285 (19, 16547) 2227800 (19, 21254) 1348864 (19, 26781) 6639631 (19, 24424) 3858592 (19, 24632) 1094024 (19, 29463) 9434945 (19, 12917) 9769352 (19, 29444) 3890988 (19, 20333) 5844806 (19, 22550) 5228649 (19, 18107) 1104702 (19, 19360) 9278888 (19, 24307) 1745983 (19, 22562) 6172686 (19, 12736) 3443382 (19, 27588) 3322080 (19, 11314) 3253005 (19, 29629) 8621908 (19, 26993) 6812493 (19, 23528) 5461552 (19, 19094) 590194 (19, 17489) 1370929 (19, 27417) 681607 (19, 22235) 1652508 (19, 10375) 4191514 (19, 16880) 4862411 (19, 15392) 8826355 (19, 29577) 5332580 (19, 13613) 7409991 (19, 16273) 9251034 (19, 17260) 3775594 (19, 18425) 8836724 (19, 16497) 8075357 (19, 23698) 4989361 (19, 22185) 8967610 (19, 28455) 7271257 (19, 15257) 1291664 (19, 15975) 596421 (19, 13988) 7124212 (19, 22695) 8185172 (19, 10788) 5182621 (19, 27582) 3798723 (19, 27817) 2194861 (19, 28515) 2065338 (19, 11147) 7590359 (19, 27712) 1580352 (19, 26050) 7239816 (19, 22147) 3892357 (19, 18347) 4707960 (19, 15126) 7814079 (19, 10692) 2432890 (19, 13898) 7064135 (19, 12437) 772591 (19, 23027) 3873299 (19, 20751) 9745347 (19, 24601) 7095951 (19, 16341) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) 
     dis: 	94937.000 97848.000 98226.000 100711.000 100750.000 101421.000 105188.000 105324.000 107789.000 108584.000 108688.000 109427.000 109726.000 109975.000 111842.000 112210.000 113635.000 114118.000 114148.000 114957.000 115086.000 115556.000 116777.000 117105.000 118435.000 119590.000 120224.000 122166.000 122354.000 122396.000 123019.000 123914.000 124225.000 125031.000 125585.000 126488.000 126823.000 127221.000 127729.000 129257.000 129639.000 130156.000 130525.000 130994.000 131069.000 131278.000 131426.000 133153.000 134238.000 134489.000 134803.000 136814.000 136878.000 138146.000 138477.000 138942.000 139494.000 140176.000 140819.000 141197.000 141600.000 141608.000 142749.000 142999.000 143613.000 143669.000 144313.000 146138.000 146265.000 147801.000 148943.000 149258.000 150394.000 150423.000 150914.000 152408.000 155274.000 155792.000 156316.000 158558.000 161081.000 163029.000 166699.000 167404.000 169145.000 173133.000 176205.000 177657.000 185899.000 186591.000 187319.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 199.535s ] *** Query time: 32.315
qps: 309.454
 *** HNSW recall 
HNSW get 281465 postive res from 1000000 results, recall@100:0.281
recall dist(10% per bucket): 0.002 0.083 0.495 0.392 0.028 0.000 0.000 0.000 0.000 0.000 0.000 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 66183307, average: 6618.331
finished ivfpq index examples
[ 199.579s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query_arbi sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_100.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000 120 128"
	User time (seconds): 185.91
	System time (seconds): 14.75
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:20.67
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8414784
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3888160
	Voluntary context switches: 11
	Involuntary context switches: 273
	Swaps: 0
	File system inputs: 0
	File system outputs: 72
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:08
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_20_2_100000_random_20.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_20_2_100000_random_20_100.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000
ef_search: 120
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.470s ] Loaded metadata, 10000000 attr's found
[ 1.470s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.474s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 1.477s ] Loaded 10000 sift10M queries
[ 1.548s ] Loaded ground truth, gt_size: 100
[ 1.548s ] Index Params -- d: 128, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 7.426s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 157.792s ] Query results (vector ids, then distances):
query 0 nn's (20, 69745, 72911): 2986272 (20, 69812) 7253083 (20, 70136) 679939 (20, 72064) 5059276 (20, 72342) 7941442 (20, 70400) 3923879 (20, 70943) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) 
     dis: 	108973.000 108982.000 111666.000 123124.000 140166.000 146677.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (20, 62704, 65873): 988844 (20, 64383) 1742288 (20, 64327) 1257082 (20, 63519) 5154075 (20, 64545) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) 
     dis: 	77905.000 81929.000 102440.000 106057.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (20, 68097, 71254): 6238057 (20, 68545) 2220152 (20, 70447) 3624590 (20, 68548) 8393009 (20, 68539) 1721935 (20, 69915) 1723834 (20, 70057) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) 
     dis: 	64508.000 67389.000 76109.000 84326.000 91521.000 98964.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (20, 24633, 27798): 6934893 (20, 25181) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) 
     dis: 	22711.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (20, 68524, 71683): 8742734 (20, 70811) 3955594 (20, 69212) 4078955 (20, 69644) 5066181 (20, 69873) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) -1 (134221826, 0) 
     dis: 	99004.000 109417.000 126935.000 142220.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 157.793s ] *** Query time: 21.601
qps: 462.931
 *** HNSW recall 
HNSW get 45323 postive res from 1000000 results, recall@100:0.045
recall dist(10% per bucket): 0.972 0.028 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 66183307, average: 6618.331
finished ivfpq index examples
[ 157.823s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query_arbi sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_20_2_100000_random_20.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_20_2_100000_random_20_100.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000 120 128"
	User time (seconds): 151.94
	System time (seconds): 6.48
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:38.44
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8417192
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2135085
	Voluntary context switches: 1
	Involuntary context switches: 105
	Swaps: 0
	File system inputs: 0
	File system outputs: 88
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
