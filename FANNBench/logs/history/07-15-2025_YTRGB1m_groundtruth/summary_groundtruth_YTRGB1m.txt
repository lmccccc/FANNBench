

===============================================================================================================
START: generating groundtruth

N: 1000000
dataset: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
attr: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
qrange: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json
output: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_10.json
topk: 10
dim: 1024
thread_num: 128
start
[2.362 s] Loaded dataset, size=1000000, dim=1024
[2.492 s] Loaded attr, size=1000000
[2.492 s] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, size=10000
[2.513 s] Loaded query vectors
[2.516 s] Loaded 10000 queries
====================Vectors====================

[13.645 s] Loading database
data loaded, with dim: 1024, nb=1000000
[13.645 s] Indexing database, size 1000000*1024 from max 1000000
[15.540 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[15.721 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[15.740 s] Query 0 done, time: 0.008
[15.771 s] Query 2200 done, time: 0.077
[15.772 s] Query 6100 done, time: 0.528
[15.906 s] Query 9300 done, time: 4.908
[15.915 s] Query 1500 done, time: 5.679
[15.920 s] Query 5400 done, time: 5.824
[15.956 s] Query 8600 done, time: 6.871
[16.002 s] Query 400 done, time: 8.432
[16.054 s] Query 4700 done, time: 10.449
[16.125 s] Query 7200 done, time: 12.462
[16.160 s] Query 3300 done, time: 14.008
[16.180 s] Query 7900 done, time: 14.543
[16.181 s] Query 4000 done, time: 14.575
[16.222 s] Query 800 done, time: 15.876
[16.312 s] Query 1900 done, time: 19.007
[16.321 s] Query 5800 done, time: 19.514
[16.365 s] Query 6500 done, time: 20.802
[16.384 s] Query 2600 done, time: 21.495
[16.395 s] Query 5100 done, time: 21.655
[16.490 s] Query 4400 done, time: 25.033
[16.522 s] Query 9700 done, time: 25.994
[16.623 s] Query 9000 done, time: 29.688
[16.672 s] Query 3000 done, time: 31.444
[16.690 s] Query 1200 done, time: 31.934
[16.722 s] Query 6900 done, time: 33.119
[16.780 s] Query 100 done, time: 34.865
[16.852 s] Query 7600 done, time: 37.225
[16.878 s] Query 3700 done, time: 38.176
[16.901 s] Query 9400 done, time: 38.914
[16.904 s] Query 1600 done, time: 39.108
[17.013 s] Query 4800 done, time: 42.925
[17.034 s] Query 8700 done, time: 43.572
[17.072 s] Query 8300 done, time: 44.835
[17.118 s] Query 500 done, time: 46.423
[17.120 s] Query 2300 done, time: 46.461
[17.133 s] Query 6200 done, time: 46.886
[17.255 s] Query 900 done, time: 51.057
[17.259 s] Query 6600 done, time: 51.222
[17.280 s] Query 2700 done, time: 51.820
[17.316 s] Query 5500 done, time: 53.165
[17.327 s] Query 8000 done, time: 53.575
[17.429 s] Query 9100 done, time: 56.559
[17.462 s] Query 4100 done, time: 57.620
[17.541 s] Query 8400 done, time: 60.445
[17.580 s] Query 3400 done, time: 61.771
[17.648 s] Query 7700 done, time: 64.100
[17.706 s] Query 7300 done, time: 66.146
[17.815 s] Query 5900 done, time: 69.511
[17.888 s] Query 2000 done, time: 72.286
[17.918 s] Query 9800 done, time: 73.171
[17.923 s] Query 5200 done, time: 73.247
[17.973 s] Query 3100 done, time: 74.928
[18.033 s] Query 8800 done, time: 76.926
[18.043 s] Query 4500 done, time: 77.434
[18.090 s] Query 1300 done, time: 79.032
[18.128 s] Query 2400 done, time: 80.430
[18.182 s] Query 8100 done, time: 82.129
[18.278 s] Query 3500 done, time: 85.560
[18.292 s] Query 7400 done, time: 85.926
[18.295 s] Query 3800 done, time: 85.994
[18.405 s] Query 200 done, time: 90.086
[18.461 s] Query 6300 done, time: 91.868
[18.472 s] Query 7000 done, time: 92.521
[18.543 s] Query 600 done, time: 95.009
[18.598 s] Query 1700 done, time: 96.746
[18.625 s] Query 9500 done, time: 97.821
[18.651 s] Query 5600 done, time: 98.339
[18.738 s] Query 2100 done, time: 101.664
[18.763 s] Query 9900 done, time: 102.609
[18.851 s] Query 6000 done, time: 105.619
[18.893 s] Query 4200 done, time: 106.955
[18.893 s] Query 1000 done, time: 107.047
[18.894 s] Query 4600 done, time: 107.164
[18.936 s] Query 5300 done, time: 108.253
[19.021 s] Query 4900 done, time: 111.008
[19.024 s] Query 700 done, time: 111.036
[19.024 s] Query 9600 done, time: 111.154
[19.036 s] Query 1400 done, time: 111.576
[19.062 s] Query 8900 done, time: 112.383
[19.085 s] Query 5700 done, time: 113.227
[19.156 s] Query 6700 done, time: 115.537
[19.195 s] Query 2800 done, time: 116.749
[19.263 s] Query 9200 done, time: 119.280
[19.331 s] Query 7100 done, time: 121.239
[19.342 s] Query 6400 done, time: 121.597
[19.384 s] Query 8500 done, time: 122.889
[19.396 s] Query 3200 done, time: 123.276
[19.481 s] Query 2900 done, time: 125.972
[19.489 s] Query 7800 done, time: 126.078
[19.505 s] Query 6800 done, time: 126.394
[19.559 s] Query 3900 done, time: 128.262
[19.583 s] Query 5000 done, time: 128.797
[19.608 s] Query 300 done, time: 129.588
[19.610 s] Query 1800 done, time: 129.706
[19.684 s] Query 3600 done, time: 131.645
[19.780 s] Query 2500 done, time: 133.883
[19.857 s] Query 8200 done, time: 135.721
[20.023 s] Query 1100 done, time: 139.568
[20.036 s] Query 4300 done, time: 139.991
[20.052 s] Query 7500 done, time: 140.147
[20.205 s] Query results (vector ids, then distances):
query 0, qrange {19, 35475, 55518}
      nns 0 id:728698 attr:6 dis:96.6965
      nns 1 id:473207 attr:39051 dis:97.0459
      nns 2 id:659286 attr:10 dis:100.973
      nns 3 id:2220 attr:6 dis:101.904
      nns 4 id:331569 attr:72957 dis:102.146
      nns 5 id:990950 attr:6 dis:102.541
      nns 6 id:849185 attr:32777 dis:103.202
      nns 7 id:655750 attr:10 dis:103.473
      nns 8 id:272648 attr:6 dis:104.377
      nns 9 id:258094 attr:19 dis:105.037

query 1, qrange {19, 70907, 90904}
      nns 0 id:431933 attr:96745 dis:56.4787
      nns 1 id:203058 attr:6 dis:59.1258
      nns 2 id:556209 attr:43738 dis:59.2427
      nns 3 id:146952 attr:10 dis:63.4274
      nns 4 id:157212 attr:6 dis:64.487
      nns 5 id:369868 attr:6 dis:65.1693
      nns 6 id:351530 attr:10 dis:65.6673
      nns 7 id:202887 attr:39932 dis:66.6646
      nns 8 id:867961 attr:50113 dis:66.8854
      nns 9 id:684080 attr:10 dis:67.8707

query 2, qrange {19, 61384, 81348}
      nns 0 id:146952 attr:10 dis:145.587
      nns 1 id:497144 attr:6 dis:145.65
      nns 2 id:816913 attr:70996 dis:151.268
      nns 3 id:351530 attr:10 dis:151.76
      nns 4 id:172345 attr:51947 dis:151.925
      nns 5 id:420878 attr:19 dis:153.209
      nns 6 id:524848 attr:10 dis:153.271
      nns 7 id:612816 attr:6 dis:153.746
      nns 8 id:641608 attr:10 dis:153.924
      nns 9 id:712707 attr:9525 dis:154.352

query 3, qrange {19, 50119, 70114}
      nns 0 id:46589 attr:32443 dis:188.893
      nns 1 id:530994 attr:6 dis:191.644
      nns 2 id:298927 attr:58988 dis:192.349
      nns 3 id:297587 attr:69918 dis:192.707
      nns 4 id:940112 attr:19 dis:193.264
      nns 5 id:365898 attr:6 dis:193.37
      nns 6 id:27592 attr:6 dis:193.85
      nns 7 id:990950 attr:6 dis:194.141
      nns 8 id:106455 attr:33950 dis:194.52
      nns 9 id:659286 attr:10 dis:194.885

query 4, qrange {19, 45372, 65351}
      nns 0 id:404547 attr:38677 dis:104.333
      nns 1 id:991503 attr:45735 dis:116.496
      nns 2 id:433585 attr:69454 dis:145.103
      nns 3 id:124062 attr:10 dis:180.156
      nns 4 id:950946 attr:6 dis:195.318
      nns 5 id:694298 attr:6 dis:197.252
      nns 6 id:728540 attr:6 dis:202.351
      nns 7 id:746526 attr:6 dis:208.2
      nns 8 id:146434 attr:6 dis:220.338
      nns 9 id:784584 attr:10 dis:220.899

[20.205 s] *** Query time: 142.264207
qps:70.2917
cmp per query:1000000
recall: 1 of course
sel distribution: 1 0 0 0 0 0 0 0 0 0 0 
selectivity: 0.0100564
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[20.214 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth_arbi 1000000 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_10.json 10 1024 128"
	User time (seconds): 523.07
	System time (seconds): 4.94
	Percent of CPU this job got: 2584%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:20.42
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8066048
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2115382
	Voluntary context switches: 5519
	Involuntary context switches: 22542
	Swaps: 0
	File system inputs: 0
	File system outputs: 1600
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 1000000
dataset: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
attr: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
qrange: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_20_2_100000_random_20.json
output: /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_20_2_100000_random_20_10.json
topk: 10
dim: 1024
thread_num: 128
start
[2.571 s] Loaded dataset, size=1000000, dim=1024
[2.701 s] Loaded attr, size=1000000
[2.701 s] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, size=10000
[2.724 s] Loaded query vectors
[2.727 s] Loaded 10000 queries
====================Vectors====================

[10.925 s] Loading database
data loaded, with dim: 1024, nb=1000000
[10.925 s] Indexing database, size 1000000*1024 from max 1000000
[15.224 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[15.392 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[15.406 s] Query 0 done, time: 0.002
[15.417 s] Query 2200 done, time: 0.289
[15.417 s] Query 6100 done, time: 0.300
[15.426 s] Query 9300 done, time: 0.599
[15.440 s] Query 5400 done, time: 1.576
[15.446 s] Query 1500 done, time: 1.939
[15.450 s] Query 4700 done, time: 2.255
[15.455 s] Query 8600 done, time: 2.581
[15.469 s] Query 400 done, time: 3.493
[15.471 s] Query 4000 done, time: 3.684
[15.480 s] Query 7900 done, time: 4.164
[15.490 s] Query 5800 done, time: 4.774
[15.496 s] Query 3300 done, time: 5.156
[15.506 s] Query 7200 done, time: 5.822
[15.524 s] Query 8300 done, time: 6.908
[15.525 s] Query 800 done, time: 6.944
[15.530 s] Query 6500 done, time: 7.290
[15.542 s] Query 1900 done, time: 7.940
[15.547 s] Query 2600 done, time: 8.234
[15.555 s] Query 1200 done, time: 8.756
[15.563 s] Query 4400 done, time: 9.273
[15.570 s] Query 5100 done, time: 9.561
[15.604 s] Query 3000 done, time: 11.570
[15.609 s] Query 7600 done, time: 11.852
[15.618 s] Query 3700 done, time: 12.328
[15.622 s] Query 9700 done, time: 12.568
[15.623 s] Query 9400 done, time: 12.691
[15.628 s] Query 6900 done, time: 12.689
[15.631 s] Query 1600 done, time: 12.951
[15.647 s] Query 5500 done, time: 13.813
[15.652 s] Query 100 done, time: 14.096
[15.652 s] Query 6200 done, time: 14.148
[15.658 s] Query 4800 done, time: 14.440
[15.671 s] Query 9000 done, time: 15.143
[15.673 s] Query 8000 done, time: 15.296
[15.673 s] Query 6600 done, time: 15.336
[15.679 s] Query 2300 done, time: 15.589
[15.689 s] Query 8700 done, time: 16.162
[15.689 s] Query 500 done, time: 16.192
[15.695 s] Query 9800 done, time: 16.536
[15.699 s] Query 900 done, time: 16.767
[15.712 s] Query 2700 done, time: 17.583
[15.723 s] Query 9100 done, time: 18.237
[15.749 s] Query 5200 done, time: 19.685
[15.751 s] Query 7300 done, time: 19.880
[15.777 s] Query 2000 done, time: 21.368
[15.789 s] Query 5900 done, time: 22.034
[15.790 s] Query 1300 done, time: 22.140
[15.798 s] Query 7700 done, time: 22.584
[15.806 s] Query 8400 done, time: 23.028
[15.820 s] Query 6300 done, time: 23.925
[15.825 s] Query 4500 done, time: 24.195
[15.835 s] Query 3800 done, time: 24.725
[15.836 s] Query 2400 done, time: 24.871
[15.839 s] Query 8800 done, time: 25.121
[15.855 s] Query 600 done, time: 25.844
[15.859 s] Query 9500 done, time: 26.234
[15.860 s] Query 7000 done, time: 26.355
[15.863 s] Query 4200 done, time: 26.481
[15.871 s] Query 200 done, time: 26.911
[15.872 s] Query 3100 done, time: 26.928
[15.894 s] Query 7400 done, time: 28.136
[15.895 s] Query 3500 done, time: 28.321
[15.907 s] Query 5600 done, time: 28.989
[15.922 s] Query 4100 done, time: 29.829
[15.923 s] Query 6000 done, time: 29.931
[15.926 s] Query 4900 done, time: 30.076
[15.926 s] Query 2100 done, time: 30.090
[15.932 s] Query 4600 done, time: 30.396
[15.937 s] Query 1700 done, time: 30.695
[15.939 s] Query 3400 done, time: 30.812
[15.943 s] Query 3900 done, time: 31.107
[15.959 s] Query 8100 done, time: 31.988
[15.961 s] Query 1000 done, time: 32.134
[15.962 s] Query 8500 done, time: 32.208
[15.990 s] Query 300 done, time: 33.787
[15.993 s] Query 7100 done, time: 34.135
[15.995 s] Query 5300 done, time: 34.226
[16.001 s] Query 3200 done, time: 34.421
[16.007 s] Query 6700 done, time: 34.885
[16.011 s] Query 700 done, time: 35.040
[16.016 s] Query 2800 done, time: 35.345
[16.026 s] Query 9900 done, time: 35.871
[16.027 s] Query 9200 done, time: 35.975
[16.040 s] Query 9600 done, time: 36.752
[16.042 s] Query 1800 done, time: 36.961
[16.049 s] Query 8200 done, time: 37.272
[16.054 s] Query 1400 done, time: 37.611
[16.068 s] Query 7800 done, time: 38.369
[16.079 s] Query 1100 done, time: 39.020
[16.079 s] Query 5000 done, time: 39.038
[16.080 s] Query 5700 done, time: 39.106
[16.082 s] Query 4300 done, time: 39.180
[16.098 s] Query 6800 done, time: 40.076
[16.118 s] Query 6400 done, time: 41.101
[16.124 s] Query 2900 done, time: 41.344
[16.127 s] Query 2500 done, time: 41.498
[16.135 s] Query 8900 done, time: 41.790
[16.147 s] Query 3600 done, time: 42.374
[16.190 s] Query 7500 done, time: 43.973
[16.293 s] Query results (vector ids, then distances):
query 0, qrange {20, 52366, 55541}
      nns 0 id:966312 attr:10 dis:104.46
      nns 1 id:293077 attr:11046 dis:105.569
      nns 2 id:501174 attr:10 dis:106.278
      nns 3 id:911796 attr:10 dis:108.442
      nns 4 id:697711 attr:48237 dis:109.112
      nns 5 id:45197 attr:30012 dis:109.133
      nns 6 id:250619 attr:45982 dis:110.068
      nns 7 id:467970 attr:6 dis:111.192
      nns 8 id:498029 attr:18473 dis:111.287
      nns 9 id:962648 attr:6 dis:111.788

query 1, qrange {20, 94640, 97818}
      nns 0 id:856461 attr:31740 dis:73.1047
      nns 1 id:786669 attr:96545 dis:74.6635
      nns 2 id:351730 attr:10 dis:74.7101
      nns 3 id:708462 attr:6 dis:76.8334
      nns 4 id:103866 attr:10 dis:79.398
      nns 5 id:304402 attr:6 dis:79.5859
      nns 6 id:215200 attr:10 dis:79.9248
      nns 7 id:136247 attr:77501 dis:80.0071
      nns 8 id:678651 attr:15157 dis:80.5414
      nns 9 id:778496 attr:10 dis:81.7698

query 2, qrange {20, 18490, 21686}
      nns 0 id:640372 attr:6 dis:148.706
      nns 1 id:353112 attr:6 dis:155.472
      nns 2 id:673709 attr:4967 dis:159.194
      nns 3 id:448666 attr:6 dis:159.663
      nns 4 id:623032 attr:6 dis:161.827
      nns 5 id:919000 attr:6 dis:162.739
      nns 6 id:664023 attr:51052 dis:164.293
      nns 7 id:785720 attr:10 dis:165.19
      nns 8 id:590717 attr:63869 dis:165.31
      nns 9 id:383435 attr:65757 dis:165.629

query 3, qrange {20, 71282, 74428}
      nns 0 id:317517 attr:17710 dis:193.631
      nns 1 id:825275 attr:64292 dis:195.028
      nns 2 id:685421 attr:77854 dis:199.357
      nns 3 id:6588 attr:20 dis:201.363
      nns 4 id:297760 attr:10 dis:201.811
      nns 5 id:483968 attr:6 dis:202.906
      nns 6 id:350348 attr:467 dis:203.907
      nns 7 id:716207 attr:40138 dis:203.945
      nns 8 id:671011 attr:60517 dis:204.853
      nns 9 id:949860 attr:10 dis:204.877

query 4, qrange {20, 73484, 76659}
      nns 0 id:621045 attr:82006 dis:268.62
      nns 1 id:93355 attr:12287 dis:270.935
      nns 2 id:6588 attr:20 dis:273.397
      nns 3 id:350348 attr:467 dis:273.694
      nns 4 id:953092 attr:10 dis:274.651
      nns 5 id:949836 attr:6 dis:276.394
      nns 6 id:669169 attr:66209 dis:278.44
      nns 7 id:248648 attr:6 dis:278.662
      nns 8 id:618969 attr:70000 dis:281.632
      nns 9 id:701650 attr:10 dis:283.027

[16.293 s] *** Query time: 45.036369
qps:222.043
cmp per query:1000000
recall: 1 of course
sel distribution: 1 0 0 0 0 0 0 0 0 0 0 
selectivity: 0.000999306
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[16.304 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth_arbi 1000000 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/qrangesel_20_2_100000_random_20.json /mnt/data/mocheng/dataset/youtube1m/label/sel_2_100000_random/sif_gt_sel_20_2_100000_random_20_10.json 10 1024 128"
	User time (seconds): 103.21
	System time (seconds): 7.16
	Percent of CPU this job got: 669%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:16.48
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8066048
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2934164
	Voluntary context switches: 1071
	Involuntary context switches: 6558
	Swaps: 0
	File system inputs: 0
	File system outputs: 1592
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
