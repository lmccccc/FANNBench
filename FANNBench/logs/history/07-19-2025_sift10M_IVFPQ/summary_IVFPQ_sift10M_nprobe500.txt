Start time: 20:37
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_2_100000_random_128
nprobe: 500
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.374s ] Loaded metadata, 20000000 attr's found
[ 1.374s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.377s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 1.379s ] Loaded 10000 sift10M queries
[ 1.448s ] Loaded ground truth, gt_size: 100
[ 1.448s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 5.842s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 904.694s ] Query results (vector ids, then distances):
query 0 nn's (6, 15386, 98713): 4160485 (64292) 6141318 (6) 1160663 (39732) 4738758 (6) 7293718 (6) 6252014 (6) 1020562 (10) 4538400 (6) 7077742 (10) 9397776 (6) 238649 (53246) 8191903 (71564) 9536881 (86399) 9485971 (63663) 2923944 (6) 7866119 (44066) 8076858 (6) 2375126 (10) 77153 (70685) 9313115 (94019) 7164607 (49828) 9925949 (64399) 6975798 (6) 888010 (10) 5770330 (6) 2078396 (6) 8435256 (6) 9251169 (68202) 2549151 (40944) 5343331 (99773) 3968857 (99129) 5643020 (10) 2481703 (90609) 4326493 (28816) 5520369 (33741) 1892471 (37125) 3255720 (10) 419470 (6) 7974670 (6) 1642205 (80930) 951258 (6) 8428377 (54083) 9409479 (45597) 5710919 (31437) 9534078 (6) 392808 (10) 5831094 (6) 674077 (10696) 6019325 (40750) 3022114 (6) 463666 (10) 5341499 (35792) 5943336 (10) 4897568 (6) 6871531 (45823) 2707047 (1091) 242725 (73806) 8810658 (6) 1203246 (6) 4785905 (17894) 7459877 (1114) 5001655 (43125) 8364178 (6) 7011791 (65694) 6328993 (66743) 447965 (19839) 46468 (10) 5835685 (42745) 2986000 (16) 3384323 (60978) 3517425 (67151) 1891236 (10) 8039506 (6) 3435228 (10) 7455148 (6) 5368660 (6) 8644324 (6) 839586 (10) 5128198 (6) 9906463 (84846) 7842689 (17122) 7920998 (10) 1415164 (6) 6799000 (10) 5376243 (25753) 1059921 (45281) 7200266 (6) 1249067 (55226) 5187160 (6) 4627859 (41150) 6071002 (10) 5228659 (77120) 9839146 (6) 7895839 (23861) 3658860 (6) 4396835 (79569) 197299 (41516) 476293 (39184) 6560693 (57002) 7263957 (25614) 
     dis: 	65428.875 73500.852 74111.375 74348.750 75185.805 75210.148 76496.250 76662.328 76941.883 77219.781 77942.109 78530.773 78612.492 79086.352 79324.938 79491.359 79518.164 79854.422 79874.648 80037.016 80612.195 80670.070 80737.164 80812.531 81171.055 81675.898 81721.070 81762.570 81822.703 81829.359 81879.234 81972.562 82173.984 82202.445 82309.938 82317.789 82329.555 82504.648 82508.664 82723.375 82750.555 82795.625 82842.961 83041.766 83048.641 83118.430 83123.844 83405.180 83414.625 83460.109 83464.258 83623.906 83630.562 83704.266 84058.938 84348.469 84458.016 84554.594 84580.023 84686.211 85074.766 85104.047 85169.055 85258.070 85394.430 85601.664 85653.484 85653.641 85690.719 85760.234 85774.828 85786.719 85808.719 85841.484 85856.570 85867.164 85884.812 85888.539 85902.492 85907.922 85914.828 86059.711 86060.789 86069.688 86093.078 86098.250 86139.750 86200.461 86208.031 86280.094 86315.578 86322.977 86357.391 86453.094 86472.875 86536.102 86642.641 86657.281 86721.656 86751.719 
query 1 nn's (6, 9087, 92417): 8449497 (36517) 5552416 (10) 285986 (6) 4234271 (81802) 2253711 (96811) 4907604 (6) 7501440 (6) 1273419 (43620) 1263214 (6) 9492445 (7547) 8349375 (29606) 6265610 (10) 9219153 (49751) 3645374 (6) 1909131 (43187) 9009284 (6) 5271910 (10) 7917424 (6) 371485 (36090) 7343838 (6) 6378991 (40982) 2993914 (10) 1346170 (6) 4702839 (20342) 375999 (48070) 5008572 (139) 5589386 (10) 9015118 (6) 296178 (6) 9815150 (10) 3786289 (84753) 4809706 (6) 5516040 (6) 8646169 (14673) 4757479 (21482) 3324707 (25471) 1350904 (6) 1503119 (71840) 8175356 (6) 7031326 (10) 1784776 (6) 7342014 (6) 3050119 (36482) 895436 (6) 5313986 (6) 8152291 (1229) 1000577 (74797) 741761 (87690) 4493346 (6) 3665630 (10) 8704684 (6) 4512099 (33562) 8984166 (6) 3872079 (77805) 1461697 (42209) 8440112 (6) 4500982 (10) 6087695 (85288) 9913606 (6) 4364584 (10) 6986308 (6) 5386381 (52797) 7315015 (99683) 7672903 (45570) 5226515 (28945) 963644 (10) 8401639 (88445) 2235415 (5344) 8457342 (6) 6630533 (64638) 3083636 (6) 4009753 (7273) 8518091 (95042) 491814 (6) 1410399 (69862) 7968009 (47275) 5254261 (83050) 3200275 (8730) 4357659 (55175) 6672132 (6) 5700748 (6) 3891904 (6) 7513620 (6) 735668 (6) 5307850 (6) 8346283 (49102) 4960102 (6) 9388703 (15627) 1012664 (10) 7512095 (74415) 4539661 (19749) 7807906 (10) 8743749 (95005) 8488585 (60629) 5869072 (6) 3093537 (73034) 9591804 (10) 6383821 (15447) 298308 (6) 6780375 (33604) 
     dis: 	32372.914 43100.453 43521.125 44425.418 44915.461 46293.035 46733.703 47133.055 47658.812 48771.523 50164.102 50850.914 51056.953 51101.855 51780.211 52515.828 52658.727 53272.633 54315.500 54506.805 54834.387 55412.629 56220.230 56301.953 56373.891 56599.789 56774.633 56973.043 56979.797 57518.508 57538.652 57633.305 57685.148 57715.512 57723.730 57913.383 58117.168 58268.090 58341.461 58372.293 58426.637 58479.996 58640.832 58870.195 58958.914 59206.387 59279.160 59436.469 59762.793 59812.598 59904.309 60298.816 60354.734 60380.043 60381.355 60503.371 60547.359 60635.781 61005.836 61166.859 61364.480 61481.000 61503.867 61886.758 62000.664 62106.703 62520.309 62565.457 62603.500 62789.754 62883.340 63112.391 63252.008 63300.852 63334.691 63344.684 63404.359 63545.773 63657.184 63674.195 63908.953 64312.547 64354.965 64412.359 64654.906 64823.258 64908.641 64942.613 64995.387 65007.676 65122.766 65231.176 65280.414 65486.227 65569.242 65620.898 65683.586 65701.328 65920.625 66122.016 
query 2 nn's (6, 3328, 86670): 3900297 (20164) 4588082 (6) 8667807 (56895) 289025 (48384) 237844 (10) 5982237 (2651) 4480383 (83754) 6296252 (10) 3493381 (7597) 2795236 (6) 7500565 (14056) 5637368 (6) 8510786 (10) 4457160 (20) 9410320 (6) 436139 (37584) 4154052 (6) 2994193 (88130) 5988705 (49406) 4757879 (18184) 7654217 (82384) 9362419 (63726) 8923155 (80654) 3832486 (6) 1229611 (35137) 271911 (70445) 8565013 (40048) 9541874 (20) 1198061 (27138) 8086660 (10) 1784913 (36433) 419195 (5112) 4519717 (80007) 4555038 (10) 4347605 (36788) 3724739 (88488) 409456 (6) 6347813 (76387) 4021389 (6870) 8563094 (6) 3795529 (89040) 5631784 (6) 3293173 (56555) 4973399 (46136) 8198272 (6) 9403244 (10) 4495608 (6) 3140269 (29149) 9790465 (72911) 3061201 (22214) 49352 (10) 3967402 (6) 6114289 (93945) 7685482 (10) 6290196 (6) 9910009 (124) 8070798 (6) 5596868 (6) 141025 (70292) 4861540 (10) 1463083 (66825) 1878319 (83394) 8476333 (54811) 3567890 (10) 4713533 (26935) 2723946 (6) 4418406 (6) 445822 (10) 4135242 (20) 9384590 (10) 9302830 (6) 1956474 (6) 8913430 (6) 764856 (6) 8801441 (58545) 1297680 (10) 9906560 (10) 4283746 (240) 4542872 (6) 6511526 (6) 2800256 (6) 945107 (88972) 7011882 (6) 2407252 (6) 1758192 (10) 9724885 (36290) 3457019 (10156) 1700496 (6) 5488746 (6) 2247452 (6) 2383566 (10) 7879817 (57434) 6848307 (62921) 4111853 (64842) 7194949 (1886) 483758 (10) 4764797 (49094) 5834114 (10) 895264 (10) 4735422 (10) 
     dis: 	42730.250 47684.672 47934.992 48216.973 49548.199 50066.566 50591.164 51004.824 51043.465 51264.723 51401.020 51784.574 52054.008 52062.633 52262.297 52794.215 52996.742 53051.773 53070.574 53165.742 53303.926 53798.789 54127.348 54250.336 54290.211 54344.605 54366.234 54646.922 54648.992 54655.434 54680.859 55046.000 55072.648 55131.336 55172.934 55366.215 55524.758 55829.898 55862.684 55985.078 56102.254 56115.004 56116.312 56290.695 56315.418 56514.754 56530.672 56580.441 56666.258 56671.211 56848.617 56854.211 56887.383 56936.867 57126.949 57342.043 57359.398 57440.262 57513.797 57739.004 57907.914 58073.980 58172.383 58181.887 58285.367 58295.070 58295.301 58580.141 58628.707 58704.016 58719.820 58759.629 58827.926 58873.023 58887.758 59052.648 59063.270 59108.492 59112.977 59168.883 59289.770 59473.988 59546.812 59588.621 59665.488 59708.883 59721.051 59845.891 59968.434 60015.285 60027.703 60055.672 60063.695 60244.844 60258.945 60264.141 60441.305 60451.746 60465.188 60530.676 
query 3 nn's (6, 14596, 97918): 980813 (94636) 2205832 (10) 1527942 (10) 4147780 (6) 6151275 (98235) 8410503 (46018) 7269483 (65893) 3643741 (56342) 1985932 (6) 5124856 (6) 1417424 (6) 6411621 (41300) 2892348 (6) 4904828 (10) 1124016 (10) 9010353 (67930) 5224964 (424) 8649378 (6) 1911911 (83471) 1344917 (57599) 2218358 (6) 4890579 (50740) 1739894 (6) 8501071 (84777) 4246457 (1690) 4486659 (34914) 5716081 (22588) 1514080 (6) 692217 (53346) 9019201 (56911) 9577990 (6) 290433 (23339) 9257537 (14005) 2630576 (10) 1590183 (14872) 7301436 (6) 5755561 (60663) 9925791 (532) 8051314 (6) 192312 (6) 5381241 (54048) 879082 (6) 179529 (77609) 2112048 (6) 9654367 (36751) 9625994 (6) 9517308 (6) 9444290 (6) 7691560 (6) 9335193 (49769) 9981635 (81720) 1326424 (6) 1028926 (6) 9754475 (51401) 6317467 (63264) 5777538 (6) 3421950 (6) 7119531 (67214) 7614050 (6) 222255 (6307) 422848 (6) 1061321 (75042) 1502235 (69950) 3607435 (27776) 8344580 (10) 6045699 (68937) 8660300 (6) 8688385 (9564) 4503222 (10) 8702151 (98984) 6697954 (10) 5293699 (5745) 7583501 (14419) 8643637 (6114) 4372662 (6) 840086 (10) 6346885 (59931) 7747974 (10) 8323731 (39157) 3828353 (84334) 6281603 (53993) 3704240 (6) 8556892 (19) 5181700 (10) 1217378 (10) 82034 (6) 449169 (98220) 9701282 (6) 3195943 (10686) 3080406 (10) 1229577 (69975) 5663020 (10) 1604878 (6) 240857 (25835) 2842840 (6) 940098 (6) 9102009 (94350) 2305251 (16981) 618359 (57531) 6734945 (61163) 
     dis: 	4284.122 4317.801 4327.126 4456.461 4596.839 4853.428 4911.378 5265.583 5344.228 5481.427 5660.666 5902.099 6067.166 6193.319 6285.621 6330.917 6362.484 6455.776 6486.042 6670.587 6710.076 6785.894 6830.077 6959.436 6979.414 7016.517 7140.222 7147.744 7154.916 7208.653 7293.963 7372.142 7400.876 7430.889 7445.345 7452.494 7543.651 7572.805 7644.766 7652.724 7660.587 7661.223 7678.588 7720.046 7730.444 7834.597 7896.949 8034.791 8086.121 8091.991 8169.523 8231.071 8239.123 8253.725 8307.902 8308.543 8366.799 8367.211 8417.522 8425.704 8457.550 8583.214 8601.357 8672.208 8675.406 8682.901 8695.404 8734.205 8813.740 8828.700 8861.812 8888.565 8926.021 9010.250 9057.100 9068.432 9137.717 9148.424 9166.965 9220.564 9226.581 9252.318 9273.772 9431.464 9490.935 9565.417 9578.398 9733.716 9750.365 9761.980 9763.779 9798.911 9932.199 9958.855 9968.527 10023.119 10035.211 10045.186 10050.496 10084.426 
query 4 nn's (6, 1537, 84881): 7091990 (6) 5493369 (75388) 6062843 (7875) 3389697 (45953) 769923 (38047) 4344456 (19) 7724095 (48290) 3220361 (76212) 1149636 (10) 39005 (96272) 7423926 (19) 7358946 (6) 1850409 (6361) 4366121 (72105) 3832333 (5598) 8630333 (74756) 2908498 (6) 3637016 (6) 5175563 (80101) 5708200 (19) 1337546 (6) 2290505 (57696) 6551841 (90477) 9033526 (6) 6203168 (10) 2989150 (10) 8647938 (10) 6838860 (20) 9836279 (46642) 2732612 (10) 7455536 (6) 3495449 (46126) 4128605 (17132) 4719865 (97820) 9968572 (10) 6637386 (6) 3405146 (6) 5135489 (69824) 9570381 (8279) 9067729 (3954) 1903346 (6) 5707536 (6) 1543122 (6) 4766049 (12119) 4158427 (93034) 1020874 (6) 2015975 (93814) 8229155 (79903) 6330957 (66735) 8493266 (19) 2974906 (10) 149112 (6) 5826594 (10) 7434343 (76070) 4399052 (6) 2045614 (38) 8515169 (27520) 7907570 (6) 3850790 (6) 8693682 (6) 8296728 (10) 8838225 (96297) 2419196 (10) 9973187 (37156) 1281985 (12655) 6630737 (57556) 61611 (50087) 3882262 (6) 5729760 (6) 9821817 (46280) 4374812 (10) 4982207 (95945) 992395 (50111) 9401433 (54280) 1804833 (30360) 1127203 (803) 3569920 (10) 5221238 (6) 2288117 (5383) 9493047 (10248) 1194149 (3117) 9167103 (51622) 1784595 (22121) 6116720 (6) 5126636 (6) 330880 (10) 7069107 (312) 330819 (34813) 2430179 (47208) 2617346 (6) 3903546 (10) 9036622 (6) 6468850 (20) 487654 (6) 75942 (6) 6562890 (10) 745843 (88638) 3803911 (14629) 718421 (11215) 30716 (6) 
     dis: 	76867.477 80935.672 83975.680 84516.359 85538.203 85941.164 86384.547 86399.797 86403.453 86757.227 86852.109 86956.969 86992.992 87073.594 87463.367 87796.148 87809.992 87948.305 88488.070 88641.141 88695.266 88929.266 89407.227 89622.344 90461.859 90542.469 90840.703 90997.438 91083.570 91093.617 91209.367 91356.695 91701.281 91775.898 91842.328 91894.773 92023.414 92270.656 92279.773 92573.812 92639.227 92667.188 92949.281 93219.703 93406.344 93761.367 94059.547 94111.180 94195.328 94322.398 94422.414 94547.023 94715.375 94732.805 94782.953 94859.375 94862.000 94923.766 95167.250 95291.820 95353.547 95485.703 95765.320 95927.367 96012.312 96042.422 96072.289 96147.445 96161.508 96229.820 96257.773 96427.891 96436.297 96719.000 96803.836 96939.523 97008.586 97031.203 97088.094 97166.648 97455.891 97463.742 97701.016 97731.766 97813.484 97856.062 98046.688 98073.367 98150.945 98162.227 98166.828 98298.891 98338.758 98427.758 98431.820 98487.445 98600.281 98619.781 98661.086 98680.062 
[ 904.695s ] *** Query time: 382.160
qps: 26.167
 *** ivfpq recall 
ivfpq get 970574 postive res from 1000000 results, recall@100:0.971
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.002 0.966 0.032 
finished ivfpq index examples
[ 904.727s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query_arbi sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_2_100000_random_128 500 128"
	User time (seconds): 899.66
	System time (seconds): 3.74
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 15:04.92
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3078056
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1282672
	Voluntary context switches: 6301
	Involuntary context switches: 1532
	Swaps: 0
	File system inputs: 111280
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 21:48
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_100.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_2_100000_random_128
nprobe: 500
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.371s ] Loaded metadata, 20000000 attr's found
[ 1.371s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.374s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 1.377s ] Loaded 10000 sift10M queries
[ 1.446s ] Loaded ground truth, gt_size: 100
[ 1.446s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 4.183s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 666.564s ] Query results (vector ids, then distances):
query 0 nn's (10, 56934, 90265): 2515600 (10) 7632021 (16104) 7468388 (10) 6984373 (83472) 5423931 (85111) 788117 (92253) 2213388 (6) 796249 (28371) 1174332 (6) 1835932 (6) 8851580 (10) 1071640 (20) 906203 (31939) 3879851 (32880) 4770231 (546) 7912999 (58902) 9237550 (6) 6527573 (75861) 4276373 (9465) 9103413 (99833) 7033151 (3112) 668906 (10) 2793536 (6) 9501438 (10) 4436135 (57645) 867263 (89642) 990845 (58395) 9082011 (39982) 4547101 (18105) 7105311 (24979) 8360507 (25846) 7491640 (455) 5172872 (6) 6753062 (10) 3932713 (91434) 2965077 (98539) 9566365 (59514) 4945840 (6) 1467573 (80828) 3444507 (66842) 5091103 (48413) 6800399 (4439) 4059033 (66483) 5500930 (10) 9996799 (73997) 9192415 (96442) 9126982 (6) 7112520 (6) 8044644 (6) 6591990 (6) 2498088 (6) 880686 (6) 1124068 (6) 1704087 (40120) 7443344 (6) 8292422 (6) 4056305 (35906) 5367620 (10) 8173378 (10) 1089369 (93113) 2564348 (6) 2265376 (10) 1712794 (10) 5977397 (56805) 9669745 (32268) 6908280 (10) 6320622 (6) 8989130 (10) 6238803 (25350) 3195430 (6) 2758979 (40191) 1323700 (19) 7556797 (96483) 5257802 (6) 9122103 (4613) 5967760 (6) 2347694 (10) 7081355 (22505) 7216299 (31119) 2153601 (81792) 6623255 (28505) 4133793 (65769) 3440180 (6) 7829089 (35867) 8000303 (19913) 7594493 (63115) 3331881 (75343) 924913 (14786) 7676898 (19) 3974427 (95221) 3662804 (6) 150897 (21827) 9251698 (6) 9309037 (58814) 8713759 (10315) 5547098 (6) 8512839 (45291) 9189989 (22221) 1726584 (6) 1038666 (19) 
     dis: 	73449.156 75950.320 75952.695 76746.344 77239.242 78853.914 78869.047 79501.930 79686.734 80126.703 80802.164 82554.086 83345.406 83614.141 84387.719 84494.258 84617.469 85417.727 86156.992 86177.492 86491.727 87065.125 87169.648 87279.617 87526.211 88231.023 88380.719 88463.531 88576.633 89223.695 89642.695 89649.453 90052.078 90226.586 90462.625 90528.484 90611.891 90695.281 90747.164 90883.000 91535.414 91869.078 91931.750 92210.891 92222.742 92349.516 92362.883 92400.477 92545.383 92630.492 92638.961 92782.812 92891.875 92911.930 92921.516 92975.500 93142.062 93190.336 93226.289 93329.156 93500.484 93663.664 93677.383 93693.023 93748.078 93756.875 93790.242 94141.789 94177.414 94177.453 94241.805 94290.258 94331.680 94426.969 94543.047 94550.203 94726.727 95017.547 95195.422 95218.742 95320.586 95321.719 95454.328 95470.047 95604.352 95666.297 95698.031 95744.461 95775.312 95911.297 95945.812 95986.633 96157.633 96329.969 96383.531 96451.328 96594.594 96628.453 96674.992 96691.648 
query 1 nn's (10, 32300, 65628): 522429 (13131) 7120642 (6) 4922660 (10) 5509879 (23281) 7693023 (17947) 1843885 (3907) 3631651 (13516) 8590082 (6) 1526669 (67344) 4689763 (36488) 8223991 (92438) 2652241 (6687) 9643506 (6) 2353489 (78141) 8828687 (18898) 5423598 (6) 9553578 (6) 3740235 (3800) 5349437 (50838) 3733744 (6) 6366077 (83508) 9643854 (6) 5177998 (36) 8441546 (6) 7388183 (14620) 6835065 (21166) 7995682 (6) 356275 (53676) 374332 (6) 1344265 (23052) 5707690 (10) 9627866 (10) 2118779 (55888) 962794 (10) 1968903 (23237) 9329945 (61557) 9236715 (34828) 7280092 (6) 8501312 (6) 1134982 (19) 5161143 (70507) 9586160 (6) 5471919 (2025) 8334152 (10) 4816323 (99668) 5074486 (6) 8234637 (65045) 2284785 (54179) 3335948 (10) 6576839 (36452) 8757781 (97458) 5632105 (30674) 6796509 (44690) 739072 (6) 1969287 (458) 148395 (52763) 1116609 (36705) 5868222 (10) 2636339 (9753) 3731479 (11580) 8345271 (11615) 6072436 (10) 1411930 (6) 4130277 (52484) 9266357 (99247) 1395848 (20) 7622192 (6) 1141882 (10) 8881883 (62108) 3804074 (10) 3914678 (10) 4017308 (10) 2374233 (3869) 2208030 (6) 4793918 (6) 5707600 (6) 3311960 (6) 5638854 (6) 1292380 (10) 1204854 (6) 1469962 (10) 3423010 (6) 8789535 (45591) 5868497 (27277) 6510204 (10) 6976996 (6) 4550629 (63394) 2040651 (52857) 4177090 (20) 6161129 (83784) 8949514 (10) 9429619 (21346) 8967679 (91136) 8194672 (6) 1629905 (51020) 2018028 (10) 7343481 (92533) 5202685 (37052) 9529005 (17016) 9875969 (2280) 
     dis: 	52102.305 55214.109 56065.488 57045.617 57365.887 57367.137 57856.258 57908.715 58306.730 58779.207 61373.090 61720.613 61907.941 62323.406 62656.742 62939.289 63584.734 63873.516 64551.508 65405.785 65462.539 66159.727 67208.164 67541.047 68178.469 68401.844 68758.273 68797.859 69031.414 69325.453 69604.305 70052.031 70113.406 70195.562 70267.094 70520.227 70610.047 70949.117 71096.438 71198.875 71259.125 71454.562 71612.469 72114.938 72173.898 72449.078 72499.547 72660.625 72860.500 72892.789 72921.297 73561.523 73586.805 73893.141 73944.133 74173.945 74751.758 75121.797 75162.133 75337.828 75451.633 75472.250 75909.938 76074.672 76247.422 76274.688 76277.305 76350.453 76678.969 77172.906 77349.359 77591.914 78063.992 78111.469 78129.477 78194.453 78325.016 78489.688 78718.180 79062.297 79181.453 79187.531 79322.969 79333.188 79412.227 79495.438 79678.234 79721.547 80931.258 80961.609 81049.594 81239.383 81299.516 81420.211 81565.688 81569.469 81627.977 81708.789 81866.562 82057.516 
query 2 nn's (10, 31833, 65159): 9710602 (6) 4279056 (6) 2393824 (10) 5039283 (99958) 5563048 (10) 8333106 (10) 6340941 (22433) 2038327 (70184) 8329652 (10) 247874 (6) 4725455 (77302) 8075681 (3922) 4898170 (6) 1026832 (6) 419818 (6) 8266810 (10) 5397690 (6) 2319775 (32034) 29358 (6) 1299970 (6) 4497755 (10343) 2523582 (6) 9954659 (37510) 2481742 (10) 7081867 (56264) 1085992 (6) 856169 (43454) 8586058 (6) 1829983 (49179) 6527814 (6) 1155004 (10) 6127686 (10) 3483394 (20) 6247603 (77971) 5274336 (6) 474564 (10) 2470588 (6) 6136728 (6) 8253782 (6) 6005722 (6) 4743122 (6) 9892344 (6) 6304098 (6) 7446868 (6) 1035560 (6) 1482128 (6) 5945392 (10) 5046019 (90517) 3266325 (60116) 3222262 (6) 2804686 (10) 6062651 (61307) 7221663 (81159) 5985758 (6) 4435268 (10) 1249273 (10809) 3732258 (10) 4636933 (29382) 8096796 (6) 4716201 (50759) 8712277 (33284) 8044435 (6007) 9970439 (66214) 3612389 (71601) 6473156 (6) 3928982 (6) 9266101 (81993) 6445878 (6) 1821513 (87016) 2994002 (6) 3330878 (10) 6809932 (6) 9844531 (8265) 3396117 (93796) 798277 (69581) 6357699 (31744) 5627672 (10) 1981042 (6) 8298066 (10) 5908001 (18192) 7658938 (6) 1916939 (40343) 538999 (60870) 7894831 (87855) 7817828 (10) 260224 (6) 8646849 (54448) 2673461 (53672) 857497 (17821) 1125740 (10) 3570008 (6) 7161229 (28466) 5843586 (6) 1458512 (6) 6014524 (6) 9987972 (10) 1732756 (6) 2801097 (15529) 7371252 (10) 5795780 (20) 
     dis: 	38758.832 52769.785 55946.621 56130.137 56960.910 57879.695 58443.156 58644.297 58968.367 59008.195 59157.543 59267.797 60594.816 60867.465 61104.812 61186.344 61264.836 61433.867 61684.824 61743.219 62007.723 62081.379 62100.852 62150.715 62167.477 62187.410 62218.883 62228.688 62238.340 62479.254 62506.031 62535.211 62557.551 62796.402 63007.523 63131.266 63148.320 63407.273 63701.750 63800.230 63804.355 63910.758 63931.680 63969.766 63983.609 64396.391 64445.738 64808.723 65011.406 65035.312 65488.801 65656.609 65834.188 65872.234 65888.609 65897.969 65934.594 66000.492 66010.531 66284.516 66290.125 66456.570 66781.367 66901.273 66913.961 66958.688 66982.797 67177.906 67205.172 67468.414 67751.094 67932.008 67939.875 68145.555 68339.648 68522.016 68523.578 68696.023 68761.453 68826.102 68856.016 68916.078 69076.234 69089.930 69134.234 69273.164 69283.391 69289.477 69383.391 69414.789 69482.531 69545.203 69680.484 69767.469 69808.094 69893.367 69935.477 69946.312 69954.320 69971.352 
query 3 nn's (10, 38987, 72318): 3459738 (6) 3041965 (48814) 6148687 (15162) 6760157 (37792) 3278687 (4810) 7749958 (6) 5240529 (42575) 936598 (10) 7865854 (10) 9966986 (6) 4995291 (47526) 5651613 (69606) 5627714 (6) 7745448 (6) 5561400 (6) 5026118 (10) 6711509 (55762) 23966 (6) 1831640 (6) 2311118 (6) 5110678 (6) 2780122 (10) 4607031 (90968) 519315 (19026) 2464354 (6) 9056511 (56627) 4485299 (88089) 9605754 (6) 5208047 (1920) 9864546 (6) 6718210 (6) 6703943 (53709) 1093904 (10) 5498749 (79946) 6252048 (10) 4759076 (6) 312537 (25925) 8403708 (10) 4524336 (6) 3861556 (10) 2322387 (71697) 399525 (40283) 6565302 (10) 8956141 (57755) 311872 (10) 6730792 (20) 7754250 (6) 885432 (10) 9231939 (10435) 4442693 (16034) 8462619 (77992) 7867335 (84879) 6788101 (15817) 2988304 (161) 493857 (34604) 3186601 (19059) 4994277 (33826) 6365231 (94776) 755914 (6) 1846287 (62973) 3547401 (28234) 6089729 (67948) 2185051 (84669) 3004616 (6) 1423490 (6) 4878411 (61657) 6606997 (99452) 6901252 (6) 5970282 (10) 8789731 (94957) 6827617 (98254) 787995 (83644) 3284716 (6) 4620328 (19) 825840 (6) 675474 (10) 2256474 (10) 800334 (10) 3860589 (20145) 9953923 (63555) 8953058 (20) 1425829 (94422) 8760156 (6) 8863140 (10) 9083030 (6) 1162298 (6) 5375439 (30601) 6342790 (6) 257523 (93813) 980655 (10080) 2690847 (42941) 3225639 (18373) 3341692 (20) 5519121 (57943) 1570115 (3893) 7966182 (6) 9730416 (10) 7943427 (43591) 7467923 (7733) 2816760 (6) 
     dis: 	5806.843 6086.703 6392.230 7104.440 7200.982 8155.633 8242.782 8598.450 8618.451 9061.796 9427.752 9483.585 9982.705 10057.097 10233.939 10560.148 10598.149 10754.225 10766.730 10767.311 11093.441 11108.668 11218.743 11472.883 11544.613 11612.721 11657.492 11689.870 11788.338 11962.502 11994.193 12013.490 12115.892 12375.732 12435.280 12436.174 12498.042 12634.936 12669.355 12816.737 12929.355 12949.352 13033.480 13062.262 13110.625 13112.300 13123.652 13225.035 13246.699 13272.004 13353.878 13389.434 13405.856 13498.326 13534.274 13710.077 13862.504 13870.213 13966.596 13979.077 14124.117 14126.686 14179.203 14304.643 14404.359 14440.248 14500.623 14501.382 14510.232 14529.461 14585.572 14620.452 14643.466 14695.096 14831.620 14891.082 15014.384 15020.920 15189.751 15262.069 15274.578 15324.867 15350.185 15413.606 15654.681 15731.889 15743.433 15744.565 15789.887 15834.861 15843.298 15849.693 15869.471 15979.648 15985.956 16106.490 16184.608 16328.264 16342.012 16369.822 
query 4 nn's (10, 58912, 92246): 7241286 (266) 546979 (22049) 1743659 (96658) 2251576 (10) 5117098 (6) 4501065 (67346) 4775817 (4264) 5257851 (99826) 1829341 (70075) 4962535 (9706) 70084 (6) 5001194 (10) 163735 (57830) 484991 (57011) 2454280 (6) 379765 (11014) 5012556 (6) 4831136 (10) 98549 (20045) 5205930 (19) 5529985 (19844) 3475746 (6) 3612037 (54775) 9418375 (41204) 9831067 (3947) 6784852 (6) 1029172 (20) 4436465 (72984) 1162961 (54451) 1243221 (36173) 2534624 (10) 2002058 (6) 9353798 (6) 9668024 (6) 2955778 (10) 2962974 (6) 523577 (18421) 9074384 (10) 762405 (65429) 7923766 (6) 2374643 (94332) 8843847 (70413) 1253413 (16327) 2916108 (10) 8325663 (95540) 7882248 (6) 569753 (25496) 3625321 (1109) 9140169 (18239) 2635141 (81197) 230302 (10) 9695251 (39520) 8976035 (43413) 1169363 (96502) 1461555 (6150) 4139377 (74535) 3749193 (30022) 2071068 (6) 6897364 (6) 3451823 (26082) 3417452 (6) 6570455 (18560) 7622214 (6) 6206858 (6) 5483675 (38625) 428838 (19) 6284933 (84477) 6330825 (21979) 7306258 (6) 4337818 (10) 666971 (12077) 6989074 (6) 1589539 (20904) 2228345 (17813) 7328865 (31300) 5938785 (5292) 186234 (10) 7367262 (6) 4436773 (77968) 9012070 (484) 3514292 (6) 2145472 (6) 7116114 (6) 854041 (37060) 4209589 (33724) 4813037 (66790) 9484373 (75023) 3916947 (12471) 4875981 (51141) 280740 (20) 202856 (6) 8851200 (6) 7011109 (26320) 4137803 (70358) 3927006 (6) 1672031 (94513) 9060572 (10) 1192677 (14234) 3590722 (6) 2616985 (11780) 
     dis: 	77679.430 86663.289 89444.570 89870.484 89905.875 90711.445 91043.969 92153.133 93103.156 93113.172 93755.289 95055.391 95088.234 96212.797 96369.953 96423.711 97060.734 97284.938 97548.969 97738.969 97771.141 97840.844 98197.656 98448.156 98831.547 98984.383 99385.992 99699.641 99712.477 100683.211 100762.180 100848.469 100875.352 100916.383 101631.250 101669.953 101870.438 101951.078 102052.500 102096.438 102153.820 102156.984 102885.422 102900.484 102919.219 103025.797 103120.367 103226.188 103887.031 104121.539 104218.922 104245.195 104255.656 104380.695 104396.570 104581.203 104624.023 104927.078 105257.203 105263.500 105302.750 105413.055 105420.211 105430.305 105615.641 105633.844 105866.430 106012.562 106065.875 106120.047 106180.984 106339.930 106422.445 106427.773 106457.898 106459.406 106499.141 106512.961 106644.648 106670.750 106702.016 106723.984 106727.516 106760.469 106785.781 107039.719 107063.406 107517.359 107592.453 107752.234 107770.508 107776.312 107776.320 107788.094 107858.219 108008.898 108031.438 108110.180 108239.594 108374.078 
[ 666.564s ] *** Query time: 185.053
qps: 54.038
 *** ivfpq recall 
ivfpq get 969603 postive res from 1000000 results, recall@100:0.970
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.008 0.951 0.041 
finished ivfpq index examples
[ 666.608s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query_arbi sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_100.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_2_100000_random_128 500 128"
	User time (seconds): 662.07
	System time (seconds): 4.69
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 11:06.79
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3079080
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1574506
	Voluntary context switches: 1
	Involuntary context switches: 613
	Swaps: 0
	File system inputs: 0
	File system outputs: 48
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 22:38
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_100.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_2_100000_random_128
nprobe: 500
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.475s ] Loaded metadata, 20000000 attr's found
[ 1.475s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.478s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 1.481s ] Loaded 10000 sift10M queries
[ 1.555s ] Loaded ground truth, gt_size: 100
[ 1.555s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 4.293s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 298.726s ] Query results (vector ids, then distances):
query 0 nn's (19, 1778, 21797): 4072432 (6) 4845093 (89828) 6743334 (6) 5109782 (10) 4377663 (87786) 651685 (47265) 8861444 (6) 4788805 (75663) 5949364 (19) 6636512 (10) 693783 (57346) 6421498 (6) 6196167 (1067) 2584463 (7563) 7309290 (19) 4589399 (63920) 8123414 (6) 9314985 (41153) 551650 (6) 7329332 (6) 5438326 (6) 4556010 (10) 2877751 (11987) 4375647 (37950) 2123174 (10) 8893213 (64399) 3199774 (6) 2049186 (19) 8616355 (63618) 1971799 (27375) 5910421 (16866) 9095833 (9482) 1106131 (21956) 6515178 (10) 3178133 (72812) 4652626 (6) 5875604 (6) 4921797 (19594) 3910180 (10) 7457343 (45726) 2372700 (10) 2142572 (19) 6247520 (6) 1623780 (6) 4000236 (6) 1079181 (30455) 1516517 (39383) 6897669 (76849) 2855819 (71327) 7855767 (71795) 7014197 (87909) 9003434 (10) 4414306 (6) 397328 (6) 9705546 (19) 5421355 (78234) 4030871 (83171) 1261722 (20) 924005 (60578) 7155787 (7955) 8120520 (10) 5563956 (6) 5342718 (6) 7554992 (10) 4295825 (81813) 6577143 (18130) 940541 (44168) 880604 (10) 8898593 (51607) 5652348 (6) 7580278 (6) 5349662 (10) 7658530 (10) 7387580 (20) 5559772 (6) 8498530 (6) 1457318 (10) 1266152 (6) 7131402 (6) 9940801 (52956) 4131120 (6) 4998374 (6) 6321172 (10) 7959402 (6) 774197 (12065) 1081969 (84655) 8699507 (5451) 1309902 (6) 2356383 (85445) 9727847 (73564) 9195833 (6101) 3746328 (6) 3863880 (10) 5872651 (82011) 8501691 (46041) 7518534 (6) 8123179 (30688) 5709101 (30858) 7500212 (10) 7596520 (420) 
     dis: 	84178.992 84878.867 91244.688 93244.367 94875.242 95560.750 95817.648 96372.719 96540.578 98730.969 100023.898 100647.109 101082.484 101582.805 101866.570 102291.719 102567.828 103389.469 103570.531 103880.188 104043.211 104641.438 104863.055 105102.758 105120.883 105800.031 105891.664 106353.484 106473.141 106684.047 107491.828 107509.219 107681.648 108017.570 108124.398 108185.781 108195.156 108399.633 108515.516 108619.523 108623.906 108722.703 108817.188 108868.688 109362.062 109415.953 109531.672 110602.641 110733.773 110763.453 110847.344 110853.008 110924.648 111164.094 111185.469 111679.375 111693.203 111813.164 111864.445 111969.953 112513.953 112582.180 112596.250 112618.664 112633.477 112995.812 113065.797 113139.000 113506.359 113655.844 113803.430 113842.734 113847.969 113855.656 113896.984 114159.633 114357.312 114719.086 114748.539 114854.719 114858.766 115180.258 115376.531 115473.016 115476.719 115565.883 115686.742 115703.688 115749.305 116156.297 116200.758 116220.273 116344.656 116410.570 116426.328 116498.102 116548.812 116575.688 116616.922 116808.086 
query 1 nn's (19, 59042, 79040): 3221056 (20) 2002301 (43651) 2077396 (10) 6147113 (68917) 8461795 (33948) 2442767 (77449) 7439645 (90525) 3663116 (6) 9499049 (65639) 8543169 (10210) 7686151 (78085) 8506480 (19) 1278559 (87295) 5783793 (47479) 8367617 (92148) 7285851 (51561) 8366738 (6) 5704476 (6) 6958118 (10) 9719764 (10) 2761577 (57934) 4004602 (19) 1196133 (34675) 1692909 (41802) 8423241 (51214) 5589420 (20) 5559224 (6) 3504431 (29566) 4100764 (6) 2509485 (62917) 9336133 (75192) 2666639 (27078) 672716 (6) 8138877 (92201) 1176172 (6) 1193556 (10) 1790486 (6) 7547049 (76689) 8826890 (6) 7438970 (10) 253803 (47614) 6248038 (6) 5246175 (78907) 5565805 (53699) 4146861 (58794) 5982749 (86619) 7283045 (38601) 683139 (40383) 8972767 (24991) 5845938 (10) 8150421 (27863) 776969 (98346) 9602763 (11278) 5714968 (6) 1491877 (23305) 2440494 (6) 4329985 (31213) 7047942 (10) 2101358 (10) 1622237 (77564) 4380130 (6) 5237694 (10) 4189548 (10) 9454376 (6) 8647527 (5561) 704909 (5167) 7552994 (6) 2216641 (8597) 1813327 (19014) 6137065 (83259) 2051674 (6) 2736969 (33468) 9094620 (10) 649115 (24267) 5885528 (6) 9714714 (6) 4298384 (10) 4404570 (6) 6633733 (33324) 2752825 (95708) 9171142 (6) 9677995 (60466) 2839842 (6) 377712 (6) 1878047 (61451) 5755521 (20730) 3717258 (6) 3382639 (39189) 8157945 (9049) 5647433 (1044) 8876385 (83462) 7924686 (6) 8126014 (6) 2718585 (94621) 863321 (11164) 6784718 (6) 1050330 (6) 6216906 (6) 9658375 (6644) 8243181 (22199) 
     dis: 	49650.875 59520.469 65356.297 74456.430 74647.344 75668.836 75722.812 76736.047 79244.414 81067.312 81764.742 81778.883 82131.773 83161.820 83756.875 86033.289 86855.672 87361.750 87780.727 87792.891 87835.383 88741.602 89214.531 90709.375 91324.742 91609.852 91845.242 92372.383 93361.758 93387.844 93694.109 94402.125 94653.180 94839.781 94868.789 95978.773 96030.797 96132.188 96544.727 97158.148 97256.367 97406.016 97510.008 99120.727 99187.562 99632.102 99636.898 99918.023 100680.125 100761.938 100888.383 101367.578 101981.945 102203.906 102393.914 102460.680 102914.234 103135.164 103507.750 103545.852 103566.250 103664.109 103703.695 103762.078 104028.305 104037.867 104205.820 104247.352 104506.586 104725.141 104802.672 105019.820 105025.688 105098.094 105336.258 105873.422 106110.625 106167.875 106176.359 106391.898 106393.570 106405.758 107030.500 107187.453 107247.977 108018.164 108108.023 108187.781 108450.266 108509.766 109064.047 109083.094 109159.484 109590.211 109719.797 109831.172 110014.078 110088.977 110405.172 110504.516 
query 2 nn's (19, 42784, 62779): 9466222 (20) 7693885 (54394) 5727909 (24) 9241653 (29840) 2274611 (22525) 6116869 (21992) 6969401 (54418) 4625636 (6) 6090181 (35683) 4299983 (6158) 9278595 (79182) 2871589 (1974) 9937457 (69040) 7416273 (21017) 9826185 (13210) 4500920 (6) 9723341 (64511) 9541242 (6) 5279910 (6) 7059713 (84208) 3776629 (61218) 943735 (54935) 3243245 (39360) 3865543 (26368) 6412424 (6) 3483974 (10) 2110731 (87058) 3013823 (21298) 2527560 (6) 4405692 (6) 9715788 (19) 180820 (19) 7270461 (91932) 9210334 (6) 9557534 (10) 7183618 (10) 8659487 (20166) 5610965 (60936) 4810427 (91610) 6648624 (19) 1657763 (90978) 3201860 (6) 3654705 (62373) 3769822 (6) 1136412 (6) 1064352 (6) 9706223 (48002) 7609247 (11216) 6191961 (25903) 1851556 (6) 219115 (31250) 9436202 (6) 7613574 (6) 9263932 (6) 9205025 (45541) 9662585 (1435) 3798757 (79650) 1237108 (6) 6897277 (31959) 4819813 (36459) 9213511 (36975) 6602163 (10531) 9814945 (32837) 2233644 (10) 8243501 (51376) 4288798 (20) 3953072 (10) 434946 (6) 4127208 (10) 2786474 (6) 9473565 (85267) 5358079 (90862) 689801 (48257) 462261 (40679) 115205 (78694) 6475007 (99563) 4494142 (6) 6503372 (6) 9294477 (16272) 9528011 (3456) 7776852 (6) 2543058 (6) 247780 (6) 4492748 (6) 4409826 (6) 75745 (2293) 3331867 (60333) 5960454 (6) 7496036 (6) 1457847 (25095) 3797976 (10) 4615946 (10) 8810277 (77496) 3412998 (6) 8165214 (10) 566205 (75356) 2288174 (6) 7291722 (10) 6167158 (10) 3859240 (10) 
     dis: 	51875.957 59212.891 60107.020 63291.949 64689.445 65196.906 65259.277 66146.938 66388.211 67586.945 69171.141 69823.055 70543.875 70944.727 71769.430 72434.188 73059.641 73191.797 73205.992 73212.039 73530.062 74239.391 74315.242 74411.445 74930.672 75245.406 75301.391 75325.531 75366.758 75431.484 75485.438 75951.883 76354.453 76498.703 76865.742 76938.789 77010.406 77488.508 77669.914 77949.820 78094.023 78120.516 78192.438 78386.539 78444.977 78583.172 78885.016 78951.320 79011.156 79085.445 79327.078 79552.219 79666.539 80096.680 80097.016 80152.406 80301.984 80331.523 80337.430 80413.703 80468.094 80558.203 80568.859 80699.242 80806.359 80961.922 80995.984 81736.992 82027.516 82469.391 82954.555 83047.953 83131.461 83140.547 83204.398 83249.531 83362.141 83364.258 83790.711 83875.625 83977.117 83982.875 84101.727 84191.555 84270.328 84271.727 84279.922 84402.102 84629.875 84792.344 84876.961 84962.531 85059.641 85296.945 85362.180 85523.773 85707.875 85772.102 85906.180 85962.375 
query 3 nn's (19, 49355, 69343): 5792548 (10) 7691164 (6) 3481923 (68566) 9604675 (18386) 5883706 (6) 584269 (25484) 6214747 (52826) 843890 (10) 4702241 (28285) 1196327 (45603) 9551131 (81943) 5454647 (95797) 6454586 (10) 1498240 (6) 2979227 (67667) 1455602 (10) 3572262 (10) 6136953 (45435) 6228549 (31041) 1781901 (61865) 3654151 (82856) 8844759 (97190) 956536 (6) 8656288 (6) 3494416 (10) 1918891 (49288) 9038228 (10) 5071563 (64641) 6031980 (6) 9131456 (6) 6831782 (10) 8851666 (6) 4200197 (3970) 1264697 (55610) 4678672 (10) 3305761 (89696) 9744194 (6) 1047085 (37311) 8828743 (90039) 4596673 (23787) 2640371 (28168) 2981717 (33842) 8380897 (83424) 6220410 (10) 9813087 (52028) 289620 (10) 5975643 (51898) 1457878 (10) 7056671 (96360) 9081315 (18877) 8701289 (97845) 2642453 (17068) 8771687 (32899) 7160958 (422) 4321177 (84959) 5760672 (6) 2389755 (44448) 3636352 (6) 9104418 (10) 4141467 (26756) 4184762 (6) 3338982 (6) 7756566 (6) 3694946 (6) 113940 (19) 1229178 (6) 1524269 (44709) 2904485 (53021) 7172662 (6) 8166274 (6) 107157 (20181) 1956197 (29639) 1308107 (55213) 5976049 (84717) 5872664 (6) 3042614 (6) 7856426 (6) 2942 (19) 4132886 (6) 5448947 (70957) 4976635 (86955) 743529 (63860) 4019901 (40875) 2615659 (85012) 314530 (6) 2862836 (10) 8534445 (51730) 7529628 (10) 7820331 (55717) 304321 (7855) 5241220 (6) 6920430 (6) 7226424 (6) 7290538 (6) 6653693 (86423) 2056362 (6) 6225040 (19) 565494 (10) 9973027 (20219) 2768896 (6) 
     dis: 	8027.159 10404.369 12149.045 12523.508 13690.900 14226.046 15660.078 15760.957 15986.658 18689.352 18731.025 18808.871 19110.547 19224.637 19577.463 19604.287 19923.664 20217.781 20561.262 21067.232 21173.684 21504.230 21639.805 21912.211 22053.627 22096.213 22989.887 23179.973 23417.900 23837.213 24094.605 24100.410 24490.129 25434.721 25478.471 25577.705 25829.715 25956.551 26569.074 26569.939 26683.768 26939.395 27071.477 27294.729 27421.361 27460.652 27801.309 27904.586 28876.109 28930.035 28946.205 28984.639 29216.508 29585.508 29647.014 29924.184 30020.934 30433.537 30502.402 31441.406 31541.820 31598.809 31605.680 31707.637 32093.629 32137.672 32269.188 32564.797 32821.332 32878.852 33004.660 33206.008 33294.992 33340.031 33392.250 33489.973 33946.418 34149.266 34158.035 34198.887 34314.793 34405.191 34411.398 34503.020 34877.914 35215.684 35365.332 35377.934 35428.777 35470.535 35650.129 35785.574 35821.578 35918.590 36011.461 36219.766 36246.469 36313.996 36334.809 36500.641 
query 4 nn's (19, 10048, 30070): 5036980 (6) 1686408 (6) 3814747 (51155) 5433383 (47153) 6754072 (6) 571010 (10) 8939608 (10) 4311304 (10) 9287702 (19) 3237407 (23855) 7662721 (92658) 175284 (6) 6040397 (20234) 6501198 (6) 2206054 (20) 8952250 (6) 2562256 (10) 3797368 (6) 3392526 (6) 2386854 (6) 9948006 (10) 6252305 (29125) 9091081 (15438) 4003471 (49674) 8431726 (10) 5290573 (72384) 3189095 (292) 6055236 (256) 4793847 (54834) 7552240 (6) 7553685 (62345) 7562325 (40361) 5617496 (6) 4408742 (365) 6780910 (19) 353162 (10) 8457851 (74687) 5333260 (6) 7917769 (28213) 3941363 (26002) 6060437 (59303) 6154644 (6) 1714156 (6) 3138539 (35342) 3879345 (92326) 5044856 (6) 412910 (6) 1173023 (18671) 6485515 (23133) 2660078 (6) 6123673 (38706) 4886077 (25754) 5463737 (65416) 5174873 (73524) 5049930 (6) 5614524 (6) 94721 (16974) 399429 (55653) 3322329 (7123) 7694485 (65364) 8965116 (10) 1663281 (76872) 2060632 (6) 661519 (85815) 1281756 (19) 9788556 (10) 9697562 (6) 4071931 (24568) 8830459 (66322) 3343374 (10) 7318784 (10) 2857931 (5799) 487286 (10) 5978622 (6) 5709259 (19892) 3219705 (81257) 7763340 (6) 3143522 (6) 1807892 (6) 2602826 (10) 843285 (3922) 2547113 (58372) 4317466 (10) 1788219 (17468) 7415448 (6) 8448350 (19) 2227800 (44) 5700276 (6) 4521183 (75172) 312285 (69893) 3293801 (29688) 315771 (58989) 776692 (6) 4299790 (6) 6158730 (10) 9226042 (400) 3728990 (6) 6639631 (56545) 4319035 (6954) 4749666 (6) 
     dis: 	95077.242 96377.664 97570.539 97691.031 98056.219 99113.930 100376.578 101797.641 101808.484 102391.281 102501.602 102553.094 105411.516 106844.445 107646.438 107711.750 107919.539 108390.078 108573.828 109251.492 109385.453 109638.531 110055.672 110595.398 111625.680 112369.477 113399.969 113746.914 114369.023 114566.680 114800.695 114832.133 114980.242 115287.305 115294.805 115296.430 115450.234 116126.664 116564.281 116933.375 117220.500 117551.367 117713.273 117890.680 118294.812 118471.430 119016.469 119085.234 119258.102 119307.891 119337.328 119453.516 119476.266 119833.922 120053.578 120100.625 120594.867 120713.859 121248.055 121425.391 122246.906 122350.453 122469.289 122619.250 122660.641 122729.641 122771.328 122823.875 122842.820 122844.641 122898.305 123674.797 123677.664 123874.133 123981.383 124003.516 124227.859 125075.641 125700.031 125711.617 125916.148 126080.094 126167.906 126273.898 126438.438 126604.289 126611.930 126777.898 126831.500 126865.391 126952.625 126972.672 127120.633 127299.398 127415.609 127471.750 127505.375 127523.570 128015.016 128187.812 
[ 298.726s ] *** Query time: 148.062
qps: 67.539
 *** ivfpq recall 
ivfpq get 948962 postive res from 1000000 results, recall@100:0.949
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.001 0.012 0.112 0.830 0.046 
finished ivfpq index examples
[ 298.766s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query_arbi sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_100.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_2_100000_random_128 500 128"
	User time (seconds): 294.27
	System time (seconds): 4.72
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 4:59.01
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3078392
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1538482
	Voluntary context switches: 1
	Involuntary context switches: 887
	Swaps: 0
	File system inputs: 0
	File system outputs: 48
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:13
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_20_2_100000_random_20.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_20_2_100000_random_20_100.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_2_100000_random_128
nprobe: 500
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.370s ] Loaded metadata, 20000000 attr's found
[ 1.370s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.374s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 1.376s ] Loaded 10000 sift10M queries
[ 1.445s ] Loaded ground truth, gt_size: 100
[ 1.445s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 4.185s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 281.120s ] Query results (vector ids, then distances):
query 0 nn's (20, 69745, 72911): 7997264 (6) 4547827 (88944) 2187903 (12480) 2759675 (82405) 8944912 (6) 7253083 (45669) 2986272 (6) 679939 (95893) 7578828 (6) 590990 (6) 4640814 (10) 7558505 (50806) 7970222 (6) 5059276 (10) 2322091 (37643) 629692 (6) 1890389 (18223) 4546031 (41713) 4785915 (27720) 3094666 (10) 5661762 (6) 2104014 (10) 8699993 (33933) 9546050 (6) 7295147 (29096) 1645964 (6) 2165749 (96422) 7124620 (6) 1704127 (3721) 5328336 (6) 9900702 (6) 6171256 (10) 2396399 (31148) 9640406 (6) 8417786 (6) 7970517 (95613) 4297905 (4833) 9057540 (6) 9280232 (10) 9621717 (93162) 848200 (10) 8090700 (19) 755512 (10) 8490459 (35255) 1325099 (32872) 9162402 (6) 2320659 (29323) 1855872 (10) 1254991 (66385) 8848690 (6) 4272637 (94554) 3701411 (22882) 6967844 (6) 7634627 (49160) 5237511 (98614) 2497659 (30156) 9664559 (78495) 5801840 (6) 3807494 (10) 985575 (93038) 758673 (78774) 9079689 (37890) 2275056 (6) 2667765 (18407) 3173263 (34951) 4013696 (6) 4151966 (6) 4362028 (6) 9616428 (10) 4470351 (32534) 1442568 (10) 4046149 (84457) 4189049 (32627) 5130264 (6) 4912428 (6) 4463259 (92026) 4993621 (73847) 3249090 (10) 4984383 (95811) 8108558 (10) 5025738 (10) 88396 (6) 4117039 (47630) 9387486 (6) 8520474 (6) 6233798 (20) 5936483 (13855) 1872954 (10) 610573 (75209) 5547317 (68536) 910880 (6) 456745 (76903) 4560593 (97393) 3163711 (11310) 4832432 (20) 3213971 (67544) 9035505 (49240) 7344422 (10) 4793696 (6) 9347298 (10) 
     dis: 	92256.875 93347.875 102761.859 105504.289 108546.977 108824.078 109484.625 111437.320 112596.383 118349.070 121405.664 123024.031 123184.562 123997.375 124893.781 125352.523 126171.203 126318.375 126325.562 128161.141 128161.188 128186.430 128706.328 128787.555 128884.227 129508.742 129535.805 129723.188 130537.883 131055.531 131154.656 131158.953 131495.719 131805.344 132427.906 132562.547 132640.703 133361.219 134020.984 134051.531 135626.250 136048.422 136365.281 136640.344 136803.031 137191.406 137572.250 138435.656 139019.047 139300.531 140571.641 140809.094 140994.656 141240.219 141419.516 141618.219 141684.906 141767.656 142046.922 142416.500 142863.766 143191.531 143311.156 143425.500 143691.906 144071.078 144330.812 144413.297 145218.969 145283.219 145399.656 145867.609 145886.844 146005.484 146067.719 146561.312 146604.797 146699.297 147230.891 147532.000 147813.562 148144.750 148156.266 148189.766 148794.438 148855.766 148945.438 149292.688 149550.031 149589.797 149774.094 150352.984 150513.141 150568.656 151132.656 151199.891 151386.906 151448.438 151471.031 151519.125 
query 1 nn's (20, 62704, 65873): 988844 (10) 1742288 (6) 942860 (6) 1257082 (10) 1708047 (13476) 3458028 (10) 5154075 (92477) 7274969 (66796) 9191654 (20) 518454 (10) 4767549 (15001) 8840686 (6) 3117087 (15664) 8093676 (10) 1779794 (6) 88901 (86632) 1838928 (6) 2797308 (6) 5914373 (13127) 7288814 (6) 2037118 (10) 9705940 (6) 6599787 (29632) 4954399 (33354) 1736032 (10) 5653763 (93340) 3074971 (3757) 8607874 (74) 4467052 (6) 5247349 (99182) 4531817 (72643) 3557421 (33835) 3184423 (87929) 8273176 (6) 1659945 (34986) 2547832 (6) 9749759 (2426) 3775353 (49774) 218722 (6) 8423677 (52509) 4438050 (10) 7721830 (6) 7053213 (28955) 439825 (49374) 1838358 (6) 5879097 (36389) 5219370 (6) 5399661 (96996) 1302820 (6) 5879333 (9772) 1380669 (32319) 8912577 (61310) 6762578 (10) 3136260 (10) 9540291 (86001) 7227813 (63051) 4023132 (6) 6173155 (45880) 2217778 (19) 7420011 (618) 9100584 (10) 1356905 (19952) 9095588 (6) 6678093 (8325) 7953728 (6) 6161283 (18707) 1114711 (13663) 4423682 (10) 7887131 (77948) 6142585 (92023) 1853665 (48094) 3028658 (10) 6489537 (6981) 7471474 (10) 9801666 (6) 7133699 (94725) 5967 (25293) 6326796 (19) 3290315 (56402) 6055283 (61474) 5502525 (36466) 3897679 (70218) 6916531 (86234) 2375668 (10) 4562091 (71196) 4131695 (69091) 5699 (44085) 3944852 (10) 7382349 (15647) 9591882 (6) 5680517 (83142) 9696954 (6) 909898 (10) 4877450 (10) 102869 (22410) 4600459 (44895) 66775 (4089) 9384017 (18354) 6785532 (10) 2531346 (6) 
     dis: 	78406.852 82310.000 90566.727 102176.031 103604.109 104062.430 104673.047 107835.203 109490.922 110051.711 112011.852 112317.062 113099.266 116268.438 118418.094 119040.664 119087.672 119333.703 119895.953 120945.094 122139.461 122319.312 123773.102 126241.320 127768.391 130129.297 131721.797 132007.516 132245.219 132296.219 132664.750 134389.953 134468.750 135273.344 135395.734 135696.969 137307.234 138583.609 138896.250 138951.453 139075.578 139168.984 139656.812 139804.328 140086.000 141590.484 143066.016 143104.828 143371.375 143588.938 144121.969 144905.047 146293.703 147426.812 149183.922 149400.391 149998.078 152384.172 152970.000 153449.516 153625.406 153644.172 153980.359 154358.781 154473.812 154684.938 155163.375 155207.406 155390.703 155761.875 156751.438 156878.594 157442.125 157464.109 158334.344 158838.688 158848.219 158855.688 158972.047 159185.875 159381.281 159996.969 160505.375 161545.578 161756.031 162162.688 162195.922 162319.766 162505.250 163220.406 163258.594 163537.953 163703.562 163729.406 163898.500 164421.281 164572.062 164722.391 165319.047 165654.062 
query 2 nn's (20, 68097, 71254): 6238057 (32594) 2220152 (10) 8263640 (10) 3624590 (6) 9983844 (6) 3002720 (6) 9509904 (6) 1165801 (74968) 7461957 (72980) 8393009 (27426) 2844676 (10) 6766403 (90035) 117419 (15267) 3235598 (10) 2945275 (97638) 8479108 (6) 1721935 (12163) 1203895 (64259) 1971703 (85589) 8388270 (6) 8031706 (6) 7701485 (32568) 3678255 (49196) 1039876 (6) 1316481 (25665) 2085974 (6) 7562607 (59394) 5719201 (96223) 1723834 (6) 358676 (6) 8166976 (6) 1520740 (10) 254485 (81966) 6342748 (6) 98286 (10) 14417 (16026) 1357952 (6) 8318086 (6) 613907 (11549) 8510363 (82780) 5776763 (34228) 6534191 (79313) 2993958 (10) 2643421 (70886) 6440122 (6) 1022039 (69409) 8902756 (191) 673398 (6) 655613 (48316) 3844446 (6) 8228238 (6) 7283078 (19) 2261841 (50600) 1506650 (6) 2478895 (70040) 8208043 (11710) 5979340 (10) 3542271 (87473) 8948384 (10) 5206728 (10) 215416 (20) 4474063 (99363) 6519991 (41194) 3260142 (6) 7947679 (87418) 6934344 (6) 9901192 (20) 4339492 (20) 9623680 (6) 7354759 (37887) 9801485 (39419) 2194928 (6) 2467843 (81725) 1318269 (83915) 7544143 (11476) 1292367 (46342) 5060993 (93923) 9786073 (85730) 2628751 (8791) 6620436 (6) 9547322 (6) 3568168 (6) 7146943 (26183) 2754668 (10) 1301499 (69633) 8372493 (74338) 6036572 (6) 7656941 (51137) 3032740 (6) 6894481 (30133) 6375777 (97056) 4653632 (10) 1996246 (19) 4586846 (6) 4116955 (94670) 2994757 (738) 9335238 (10) 9815237 (19206) 6183637 (79855) 299687 (10206) 
     dis: 	64514.520 66985.469 70270.312 76199.805 76655.156 77214.656 78390.930 78422.359 81134.891 84285.953 84626.172 86394.156 87263.359 87475.789 88499.594 88995.945 91799.180 92442.578 92604.367 93771.219 93794.742 94737.414 95034.844 95633.766 96022.328 97123.609 97385.305 97903.398 98247.078 98384.000 98491.219 98659.352 99011.969 99312.383 99847.562 100138.016 100265.289 100610.219 101340.828 102283.250 102424.148 103299.609 103436.375 103812.102 103984.055 104079.109 104364.992 105100.719 105327.852 105745.508 106190.641 106458.875 106764.445 107131.906 107610.305 107918.383 108351.766 108482.836 108625.023 108732.023 109095.953 109163.258 109244.875 109340.406 109729.000 109733.406 109852.836 110001.039 110093.953 110125.094 110614.852 110638.562 110976.016 110982.711 111000.797 111015.984 111186.297 111414.039 111677.383 111707.016 111943.359 112038.703 112126.531 112328.492 112947.781 112964.664 113093.172 114079.836 114391.438 114898.391 115099.984 115295.891 115335.180 115398.484 115458.969 115810.359 115832.305 116554.094 116886.859 117074.719 
query 3 nn's (20, 24633, 27798): 6024697 (42067) 5866295 (62371) 6505776 (6) 6934893 (31697) 8290407 (65583) 310907 (64792) 3151518 (6) 4770943 (33799) 4737175 (78755) 1929831 (8918) 6907537 (70873) 8931269 (32047) 4018179 (65354) 2603421 (55740) 75981 (80372) 7615122 (6) 9175151 (1184) 993678 (10) 8655365 (57697) 2559948 (19) 4480816 (6) 9795666 (336) 4868799 (82128) 2116259 (47416) 3416741 (30871) 5103435 (66407) 9730520 (20) 9980239 (95670) 9119510 (10) 9661282 (10) 1546683 (50873) 8654121 (1507) 6196550 (10) 164817 (33814) 4715844 (6) 776753 (8646) 9947802 (6) 8211437 (46211) 5814528 (10) 8979061 (12426) 5730024 (10) 408242 (10) 1740326 (6) 1947674 (19) 9205890 (6) 3724195 (62382) 4513912 (6) 5106795 (97006) 6077502 (6) 2152929 (27541) 4753104 (10) 7439311 (13338) 3875992 (6) 1250404 (6) 8225951 (15731) 3858589 (30698) 1275692 (6) 7575791 (27693) 9885210 (10) 7189267 (71043) 2076590 (10) 3010251 (12229) 8416036 (19) 139295 (36232) 9201531 (68527) 972655 (79144) 8191549 (96841) 4213632 (6) 1915322 (19) 2940968 (6) 673448 (10) 9750055 (68492) 1852931 (36865) 2196046 (6) 2960559 (91227) 2609536 (10) 2542714 (20) 9947405 (14246) 2905733 (39471) 7335961 (76690) 9660481 (79023) 4456959 (270) 6267814 (6) 4174538 (6) 5306288 (6) 3829444 (6) 5738838 (6) 1833319 (84011) 9873819 (52485) 9850513 (4325) 8833544 (10) 8834548 (6) 7045034 (216) 8782910 (10) 6267655 (84544) 8181674 (6) 961558 (6) 6508177 (50245) 6004953 (87521) 5743811 (57384) 
     dis: 	19017.650 21994.549 22280.008 22780.703 24641.281 26127.479 28572.852 30079.744 32423.787 34796.434 35756.102 37103.719 38284.117 39499.340 40065.023 40366.102 40481.500 40535.789 40567.895 42029.160 43190.359 43330.945 44235.867 44256.539 44680.461 44967.023 44988.875 45127.781 45206.289 45451.195 45560.105 45634.254 46809.449 47591.984 48116.281 48351.621 48856.527 48964.352 48974.992 49182.738 49254.074 50193.047 50224.809 50431.930 50539.758 50748.902 50910.402 51409.773 51623.852 51777.191 52475.016 52514.633 52764.508 52911.016 53024.289 53766.102 53878.469 54103.711 54181.188 54361.742 55189.973 56610.277 56909.559 57231.840 57278.203 57824.836 57854.070 58068.383 58078.250 58599.922 58743.898 59830.672 59857.105 60114.125 60260.527 60576.605 60580.027 60586.879 60642.270 60820.691 60968.066 61082.312 61771.531 62041.664 62268.938 62271.836 62392.781 62474.715 62753.582 62791.051 62888.051 62964.633 63042.688 63424.180 63469.977 63495.062 63498.148 63947.070 64306.898 64351.977 
query 4 nn's (20, 68524, 71683): 3955594 (19) 3787606 (6) 4938630 (10) 8600426 (10) 7094249 (64171) 4078955 (87774) 8817757 (68732) 3155068 (6) 8288946 (10) 9700850 (19) 6926508 (10) 9669803 (36862) 4900451 (43996) 6156350 (10) 8537461 (62722) 264037 (83421) 3185410 (6) 3248094 (6) 19939 (61132) 2088432 (6) 4516440 (6) 4574319 (48860) 7632744 (95) 8475895 (98609) 2413451 (56868) 1617714 (6) 2207618 (6) 9523195 (5807) 5066181 (39409) 5060433 (90168) 6406161 (11418) 2172005 (23131) 1283247 (21767) 8149517 (52425) 2177065 (49042) 6413898 (6) 3161475 (99670) 5851510 (6) 9727391 (93854) 815825 (27237) 4560062 (10) 6235716 (6) 6174828 (6) 9180625 (12385) 1913678 (10) 3210245 (9549) 759809 (46426) 9047653 (51338) 1845989 (69499) 4841623 (4688) 460040 (19) 4802144 (6) 9975710 (6) 3134686 (6) 1318355 (98891) 1782047 (8781) 3974322 (10) 2069533 (90174) 4120759 (28615) 1226488 (6) 2093555 (38413) 7064855 (65895) 6118477 (84561) 2778410 (6) 2815467 (69802) 3447979 (97677) 2234779 (50103) 7935073 (32056) 1472518 (10) 8446618 (10) 738484 (6) 259943 (88134) 2053549 (69947) 8822496 (19) 693173 (69639) 2517001 (10661) 5051275 (86659) 3739602 (10) 7273350 (6) 2997943 (89641) 6852387 (42853) 5526450 (6) 6848907 (38674) 3862634 (6) 1608472 (6) 895804 (6) 3051764 (6) 7864956 (6) 9087606 (10) 8600734 (6) 2015044 (10) 5111987 (96009) 8792268 (10) 3040824 (10) 2299709 (60664) 4611481 (78887) 150883 (26561) 137190 (233) 9463702 (6) 752091 (25605) 
     dis: 	108697.969 121987.875 124110.406 124922.969 125753.180 126359.227 126432.719 126520.062 126770.148 128127.109 128674.109 129186.094 130730.125 131631.391 131951.344 132110.594 132282.922 133201.438 133231.047 135089.297 135490.344 138069.438 139076.156 139407.469 140351.922 140367.188 141815.906 142024.312 142165.203 142466.156 143637.391 143708.859 143912.719 145322.359 145376.781 145595.844 145605.781 147548.750 147657.125 147768.609 147775.531 147939.062 148232.031 149114.141 149184.375 150227.344 150371.812 150410.016 151395.641 151793.188 152030.484 152105.500 152491.141 152572.656 152867.109 152949.906 152971.531 153066.906 153226.781 153493.719 153897.859 154672.484 154856.484 155188.109 155370.953 155491.672 155532.203 155616.906 155694.000 155901.094 156017.766 156342.234 156703.750 156856.797 157247.516 157679.141 157767.203 157970.938 157992.391 158134.531 158374.031 158441.453 159065.531 159496.078 159619.250 159677.562 160228.125 160478.031 160500.500 161198.219 161288.500 161319.797 161385.125 161662.219 161705.812 161709.281 161784.938 161907.953 161913.688 161915.812 
[ 281.120s ] *** Query time: 148.701
qps: 67.249
 *** ivfpq recall 
ivfpq get 811455 postive res from 1000000 results, recall@100:0.811
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.003 0.037 0.147 0.270 0.247 0.269 0.027 
finished ivfpq index examples
[ 281.163s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query_arbi sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_20_2_100000_random_20.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_20_2_100000_random_20_100.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_2_100000_random_128 500 128"
	User time (seconds): 276.73
	System time (seconds): 4.69
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 4:41.43
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3080096
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1468967
	Voluntary context switches: 1
	Involuntary context switches: 347
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
