Start time: 20:37
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_2_100000_random_128
nprobe: 120
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.374s ] Loaded metadata, 20000000 attr's found
[ 1.374s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.377s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 1.380s ] Loaded 10000 sift10M queries
[ 1.449s ] Loaded ground truth, gt_size: 100
[ 1.449s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 5.834s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 624.771s ] Query results (vector ids, then distances):
query 0 nn's (6, 15386, 98713): 4160485 (64292) 6141318 (6) 1160663 (39732) 4738758 (6) 7293718 (6) 6252014 (6) 1020562 (10) 4538400 (6) 7077742 (10) 9397776 (6) 238649 (53246) 8191903 (71564) 9536881 (86399) 9485971 (63663) 2923944 (6) 7866119 (44066) 77153 (70685) 9313115 (94019) 7164607 (49828) 9925949 (64399) 6975798 (6) 888010 (10) 5770330 (6) 2078396 (6) 8435256 (6) 9251169 (68202) 2549151 (40944) 5343331 (99773) 5643020 (10) 2481703 (90609) 4326493 (28816) 5520369 (33741) 1892471 (37125) 3255720 (10) 419470 (6) 7974670 (6) 1642205 (80930) 951258 (6) 8428377 (54083) 9409479 (45597) 5710919 (31437) 392808 (10) 5831094 (6) 674077 (10696) 6019325 (40750) 3022114 (6) 463666 (10) 5341499 (35792) 4897568 (6) 6871531 (45823) 2707047 (1091) 242725 (73806) 1203246 (6) 4785905 (17894) 7459877 (1114) 5001655 (43125) 8364178 (6) 7011791 (65694) 6328993 (66743) 447965 (19839) 5835685 (42745) 2986000 (16) 3384323 (60978) 3517425 (67151) 1891236 (10) 8039506 (6) 3435228 (10) 7455148 (6) 8644324 (6) 839586 (10) 5128198 (6) 9906463 (84846) 7842689 (17122) 7920998 (10) 1415164 (6) 6799000 (10) 5376243 (25753) 1059921 (45281) 7200266 (6) 1249067 (55226) 5187160 (6) 4627859 (41150) 5228659 (77120) 9839146 (6) 7895839 (23861) 4396835 (79569) 197299 (41516) 476293 (39184) 6560693 (57002) 7263957 (25614) 3068799 (75358) 2692614 (6) 5072607 (24860) 8838842 (6) 7220675 (37429) 3094752 (6) 8610630 (10) 4698776 (6) 4271011 (18359) 1698351 (37944) 
     dis: 	65428.875 73500.852 74111.375 74348.750 75185.805 75210.148 76496.250 76662.328 76941.883 77219.781 77942.109 78530.773 78612.492 79086.352 79324.938 79491.359 79874.648 80037.016 80612.195 80670.070 80737.164 80812.531 81171.055 81675.898 81721.070 81762.570 81822.703 81829.359 81972.562 82173.984 82202.445 82309.938 82317.789 82329.555 82504.648 82508.664 82723.375 82750.555 82795.625 82842.961 83041.766 83118.430 83123.844 83405.180 83414.625 83460.109 83464.258 83623.906 83704.266 84058.938 84348.469 84458.016 84580.023 84686.211 85074.766 85104.047 85169.055 85258.070 85394.430 85601.664 85653.641 85690.719 85760.234 85774.828 85786.719 85808.719 85841.484 85856.570 85884.812 85888.539 85902.492 85907.922 85914.828 86059.711 86060.789 86069.688 86093.078 86098.250 86139.750 86200.461 86208.031 86280.094 86322.977 86357.391 86453.094 86536.102 86642.641 86657.281 86721.656 86751.719 86787.516 86814.172 86922.375 86995.836 87002.625 87032.438 87092.398 87107.742 87307.289 87369.711 
query 1 nn's (6, 9087, 92417): 8449497 (36517) 5552416 (10) 285986 (6) 4234271 (81802) 2253711 (96811) 4907604 (6) 7501440 (6) 1273419 (43620) 1263214 (6) 9492445 (7547) 8349375 (29606) 6265610 (10) 9219153 (49751) 3645374 (6) 1909131 (43187) 9009284 (6) 5271910 (10) 7917424 (6) 371485 (36090) 7343838 (6) 6378991 (40982) 2993914 (10) 1346170 (6) 4702839 (20342) 375999 (48070) 5008572 (139) 5589386 (10) 9015118 (6) 296178 (6) 9815150 (10) 3786289 (84753) 4809706 (6) 5516040 (6) 8646169 (14673) 4757479 (21482) 3324707 (25471) 1350904 (6) 1503119 (71840) 8175356 (6) 7031326 (10) 1784776 (6) 7342014 (6) 3050119 (36482) 895436 (6) 5313986 (6) 8152291 (1229) 1000577 (74797) 741761 (87690) 4493346 (6) 3665630 (10) 8704684 (6) 4512099 (33562) 8984166 (6) 3872079 (77805) 1461697 (42209) 8440112 (6) 4500982 (10) 6087695 (85288) 9913606 (6) 4364584 (10) 6986308 (6) 5386381 (52797) 7315015 (99683) 7672903 (45570) 5226515 (28945) 963644 (10) 8401639 (88445) 2235415 (5344) 8457342 (6) 6630533 (64638) 3083636 (6) 4009753 (7273) 8518091 (95042) 491814 (6) 1410399 (69862) 7968009 (47275) 5254261 (83050) 3200275 (8730) 4357659 (55175) 6672132 (6) 5700748 (6) 3891904 (6) 7513620 (6) 735668 (6) 5307850 (6) 8346283 (49102) 4960102 (6) 9388703 (15627) 1012664 (10) 7512095 (74415) 4539661 (19749) 7807906 (10) 8743749 (95005) 8488585 (60629) 5869072 (6) 3093537 (73034) 9591804 (10) 6383821 (15447) 298308 (6) 6780375 (33604) 
     dis: 	32372.914 43100.453 43521.125 44425.418 44915.461 46293.035 46733.703 47133.055 47658.812 48771.523 50164.102 50850.914 51056.953 51101.855 51780.211 52515.828 52658.727 53272.633 54315.500 54506.805 54834.387 55412.629 56220.230 56301.953 56373.891 56599.789 56774.633 56973.043 56979.797 57518.508 57538.652 57633.305 57685.148 57715.512 57723.730 57913.383 58117.168 58268.090 58341.461 58372.293 58426.637 58479.996 58640.832 58870.195 58958.914 59206.387 59279.160 59436.469 59762.793 59812.598 59904.309 60298.816 60354.734 60380.043 60381.355 60503.371 60547.359 60635.781 61005.836 61166.859 61364.480 61481.000 61503.867 61886.758 62000.664 62106.703 62520.309 62565.457 62603.500 62789.754 62883.340 63112.391 63252.008 63300.852 63334.691 63344.684 63404.359 63545.773 63657.184 63674.195 63908.953 64312.547 64354.965 64412.359 64654.906 64823.258 64908.641 64942.613 64995.387 65007.676 65122.766 65231.176 65280.414 65486.227 65569.242 65620.898 65683.586 65701.328 65920.625 66122.016 
query 2 nn's (6, 3328, 86670): 3900297 (20164) 4588082 (6) 8667807 (56895) 289025 (48384) 237844 (10) 5982237 (2651) 4480383 (83754) 6296252 (10) 3493381 (7597) 2795236 (6) 7500565 (14056) 5637368 (6) 8510786 (10) 4457160 (20) 9410320 (6) 436139 (37584) 4154052 (6) 2994193 (88130) 5988705 (49406) 4757879 (18184) 7654217 (82384) 9362419 (63726) 8923155 (80654) 3832486 (6) 1229611 (35137) 271911 (70445) 8565013 (40048) 9541874 (20) 1198061 (27138) 8086660 (10) 1784913 (36433) 419195 (5112) 4519717 (80007) 4555038 (10) 4347605 (36788) 3724739 (88488) 409456 (6) 6347813 (76387) 4021389 (6870) 8563094 (6) 3795529 (89040) 5631784 (6) 3293173 (56555) 4973399 (46136) 8198272 (6) 9403244 (10) 4495608 (6) 3140269 (29149) 9790465 (72911) 3061201 (22214) 49352 (10) 3967402 (6) 6114289 (93945) 7685482 (10) 6290196 (6) 9910009 (124) 8070798 (6) 5596868 (6) 141025 (70292) 4861540 (10) 1463083 (66825) 1878319 (83394) 8476333 (54811) 3567890 (10) 4713533 (26935) 2723946 (6) 4418406 (6) 445822 (10) 4135242 (20) 9384590 (10) 9302830 (6) 1956474 (6) 8913430 (6) 764856 (6) 8801441 (58545) 1297680 (10) 9906560 (10) 4283746 (240) 4542872 (6) 6511526 (6) 2800256 (6) 945107 (88972) 7011882 (6) 2407252 (6) 1758192 (10) 9724885 (36290) 3457019 (10156) 1700496 (6) 5488746 (6) 2247452 (6) 2383566 (10) 7879817 (57434) 6848307 (62921) 4111853 (64842) 7194949 (1886) 483758 (10) 4764797 (49094) 5834114 (10) 895264 (10) 4735422 (10) 
     dis: 	42730.250 47684.672 47934.992 48216.973 49548.199 50066.566 50591.164 51004.824 51043.465 51264.723 51401.020 51784.574 52054.008 52062.633 52262.297 52794.215 52996.742 53051.773 53070.574 53165.742 53303.926 53798.789 54127.348 54250.336 54290.211 54344.605 54366.234 54646.922 54648.992 54655.434 54680.859 55046.000 55072.648 55131.336 55172.934 55366.215 55524.758 55829.898 55862.684 55985.078 56102.254 56115.004 56116.312 56290.695 56315.418 56514.754 56530.672 56580.441 56666.258 56671.211 56848.617 56854.211 56887.383 56936.867 57126.949 57342.043 57359.398 57440.262 57513.797 57739.004 57907.914 58073.980 58172.383 58181.887 58285.367 58295.070 58295.301 58580.141 58628.707 58704.016 58719.820 58759.629 58827.926 58873.023 58887.758 59052.648 59063.270 59108.492 59112.977 59168.883 59289.770 59473.988 59546.812 59588.621 59665.488 59708.883 59721.051 59845.891 59968.434 60015.285 60027.703 60055.672 60063.695 60244.844 60258.945 60264.141 60441.305 60451.746 60465.188 60530.676 
query 3 nn's (6, 14596, 97918): 980813 (94636) 2205832 (10) 1527942 (10) 4147780 (6) 6151275 (98235) 8410503 (46018) 7269483 (65893) 3643741 (56342) 1985932 (6) 5124856 (6) 1417424 (6) 6411621 (41300) 2892348 (6) 4904828 (10) 1124016 (10) 9010353 (67930) 5224964 (424) 8649378 (6) 1911911 (83471) 1344917 (57599) 2218358 (6) 4890579 (50740) 1739894 (6) 8501071 (84777) 4246457 (1690) 4486659 (34914) 5716081 (22588) 1514080 (6) 692217 (53346) 9019201 (56911) 9577990 (6) 290433 (23339) 9257537 (14005) 2630576 (10) 1590183 (14872) 7301436 (6) 5755561 (60663) 9925791 (532) 8051314 (6) 192312 (6) 5381241 (54048) 879082 (6) 179529 (77609) 2112048 (6) 9654367 (36751) 9625994 (6) 9517308 (6) 9444290 (6) 7691560 (6) 9335193 (49769) 9981635 (81720) 1326424 (6) 1028926 (6) 9754475 (51401) 6317467 (63264) 5777538 (6) 3421950 (6) 7119531 (67214) 7614050 (6) 222255 (6307) 422848 (6) 1061321 (75042) 1502235 (69950) 3607435 (27776) 8344580 (10) 6045699 (68937) 8660300 (6) 8688385 (9564) 4503222 (10) 8702151 (98984) 6697954 (10) 5293699 (5745) 7583501 (14419) 8643637 (6114) 4372662 (6) 840086 (10) 6346885 (59931) 7747974 (10) 8323731 (39157) 3828353 (84334) 6281603 (53993) 3704240 (6) 8556892 (19) 5181700 (10) 1217378 (10) 82034 (6) 449169 (98220) 9701282 (6) 3195943 (10686) 3080406 (10) 1229577 (69975) 5663020 (10) 1604878 (6) 240857 (25835) 2842840 (6) 940098 (6) 9102009 (94350) 2305251 (16981) 618359 (57531) 6734945 (61163) 
     dis: 	4284.122 4317.801 4327.126 4456.461 4596.839 4853.428 4911.378 5265.583 5344.228 5481.427 5660.666 5902.099 6067.166 6193.319 6285.621 6330.917 6362.484 6455.776 6486.042 6670.587 6710.076 6785.894 6830.077 6959.436 6979.414 7016.517 7140.222 7147.744 7154.916 7208.653 7293.963 7372.142 7400.876 7430.889 7445.345 7452.494 7543.651 7572.805 7644.766 7652.724 7660.587 7661.223 7678.588 7720.046 7730.444 7834.597 7896.949 8034.791 8086.121 8091.991 8169.523 8231.071 8239.123 8253.725 8307.902 8308.543 8366.799 8367.211 8417.522 8425.704 8457.550 8583.214 8601.357 8672.208 8675.406 8682.901 8695.404 8734.205 8813.740 8828.700 8861.812 8888.565 8926.021 9010.250 9057.100 9068.432 9137.717 9148.424 9166.965 9220.564 9226.581 9252.318 9273.772 9431.464 9490.935 9565.417 9578.398 9733.716 9750.365 9761.980 9763.779 9798.911 9932.199 9958.855 9968.527 10023.119 10035.211 10045.186 10050.496 10084.426 
query 4 nn's (6, 1537, 84881): 7091990 (6) 6062843 (7875) 3389697 (45953) 769923 (38047) 7724095 (48290) 1149636 (10) 39005 (96272) 7358946 (6) 1850409 (6361) 4366121 (72105) 8630333 (74756) 2908498 (6) 3637016 (6) 5175563 (80101) 2290505 (57696) 6203168 (10) 2989150 (10) 2732612 (10) 7455536 (6) 3495449 (46126) 4719865 (97820) 6637386 (6) 3405146 (6) 5135489 (69824) 1903346 (6) 5707536 (6) 1543122 (6) 4158427 (93034) 1020874 (6) 8229155 (79903) 6330957 (66735) 2974906 (10) 149112 (6) 5826594 (10) 7434343 (76070) 4399052 (6) 2045614 (38) 7907570 (6) 3850790 (6) 8693682 (6) 8296728 (10) 8838225 (96297) 3882262 (6) 5729760 (6) 9821817 (46280) 4374812 (10) 4982207 (95945) 992395 (50111) 9401433 (54280) 1804833 (30360) 1127203 (803) 3569920 (10) 5221238 (6) 2288117 (5383) 9493047 (10248) 9167103 (51622) 1784595 (22121) 6116720 (6) 5126636 (6) 330880 (10) 330819 (34813) 2617346 (6) 3903546 (10) 9036622 (6) 6468850 (20) 487654 (6) 75942 (6) 6562890 (10) 745843 (88638) 3803911 (14629) 7223142 (10) 5147412 (6) 6887757 (40609) 797235 (56779) 1257130 (10) 9432297 (85570) 1953827 (69951) 8129218 (10) 6030505 (46886) 1355777 (13415) 8305984 (6) 9398213 (49839) 4800113 (32549) 4483878 (6) 2840566 (6) 6135063 (22181) 8639073 (22649) 5130355 (9419) 4612257 (65503) 6748459 (29199) 1591991 (82915) 5277554 (6) 5295225 (42562) 3355354 (10) 282088 (6) 2780851 (46164) 1585889 (18030) 4812723 (21003) 5923091 (11620) 2160380 (20) 
     dis: 	76867.477 83975.680 84516.359 85538.203 86384.547 86403.453 86757.227 86956.969 86992.992 87073.594 87796.148 87809.992 87948.305 88488.070 88929.266 90461.859 90542.469 91093.617 91209.367 91356.695 91775.898 91894.773 92023.414 92270.656 92639.227 92667.188 92949.281 93406.344 93761.367 94111.180 94195.328 94422.414 94547.023 94715.375 94732.805 94782.953 94859.375 94923.766 95167.250 95291.820 95353.547 95485.703 96147.445 96161.508 96229.820 96257.773 96427.891 96436.297 96719.000 96803.836 96939.523 97008.586 97031.203 97088.094 97166.648 97463.742 97701.016 97731.766 97813.484 97856.062 98073.367 98162.227 98166.828 98298.891 98338.758 98427.758 98431.820 98487.445 98600.281 98619.781 98751.641 98832.047 98845.031 99243.859 99477.344 99516.578 99524.188 99586.141 99605.727 99619.883 99667.453 99721.305 99731.391 99797.484 100016.266 100051.578 100105.898 100163.086 100201.156 100277.555 100342.578 100375.867 100395.836 100430.406 100432.109 100522.422 100599.594 100713.531 100743.352 100780.898 
[ 624.772s ] *** Query time: 104.228
qps: 95.943
 *** ivfpq recall 
ivfpq get 936250 postive res from 1000000 results, recall@100:0.936
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.001 0.006 0.035 0.142 0.789 0.027 
finished ivfpq index examples
[ 624.803s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query_arbi sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_2_100000_random_128 120 128"
	User time (seconds): 620.98
	System time (seconds): 2.53
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 10:25.00
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3078044
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 930220
	Voluntary context switches: 6202
	Involuntary context switches: 404
	Swaps: 0
	File system inputs: 139112
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 21:48
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_100.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_2_100000_random_128
nprobe: 120
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.372s ] Loaded metadata, 20000000 attr's found
[ 1.372s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.375s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 1.378s ] Loaded 10000 sift10M queries
[ 1.447s ] Loaded ground truth, gt_size: 100
[ 1.447s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 4.191s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 538.481s ] Query results (vector ids, then distances):
query 0 nn's (10, 56934, 90265): 2515600 (10) 7632021 (16104) 7468388 (10) 6984373 (83472) 5423931 (85111) 788117 (92253) 2213388 (6) 796249 (28371) 1174332 (6) 1835932 (6) 8851580 (10) 1071640 (20) 906203 (31939) 3879851 (32880) 4770231 (546) 7912999 (58902) 9237550 (6) 6527573 (75861) 4276373 (9465) 9103413 (99833) 7033151 (3112) 668906 (10) 2793536 (6) 9501438 (10) 4436135 (57645) 867263 (89642) 990845 (58395) 9082011 (39982) 4547101 (18105) 7105311 (24979) 5172872 (6) 3932713 (91434) 2965077 (98539) 9566365 (59514) 4945840 (6) 1467573 (80828) 3444507 (66842) 5091103 (48413) 6800399 (4439) 4059033 (66483) 5500930 (10) 9996799 (73997) 9192415 (96442) 9126982 (6) 8044644 (6) 6591990 (6) 2498088 (6) 880686 (6) 1124068 (6) 1704087 (40120) 8292422 (6) 4056305 (35906) 5367620 (10) 8173378 (10) 1089369 (93113) 2564348 (6) 1712794 (10) 5977397 (56805) 9669745 (32268) 6908280 (10) 6320622 (6) 8989130 (10) 3195430 (6) 2758979 (40191) 5257802 (6) 5967760 (6) 2347694 (10) 7081355 (22505) 7216299 (31119) 4133793 (65769) 3440180 (6) 7829089 (35867) 8000303 (19913) 7594493 (63115) 3331881 (75343) 924913 (14786) 3662804 (6) 150897 (21827) 9251698 (6) 9309037 (58814) 5547098 (6) 8512839 (45291) 9189989 (22221) 1726584 (6) 6992352 (10) 8729019 (5685) 3773406 (6) 7984521 (14949) 740641 (83933) 4910972 (10) 1734718 (6) 5444854 (19) 3929621 (7883) 8067573 (39377) 8601674 (10) 6876850 (6) 578005 (4068) 5967678 (10) 3978780 (179) 2307882 (6) 
     dis: 	73449.156 75950.320 75952.695 76746.344 77239.242 78853.914 78869.047 79501.930 79686.734 80126.703 80802.164 82554.086 83345.406 83614.141 84387.719 84494.258 84617.469 85417.727 86156.992 86177.492 86491.727 87065.125 87169.648 87279.617 87526.211 88231.023 88380.719 88463.531 88576.633 89223.695 90052.078 90462.625 90528.484 90611.891 90695.281 90747.164 90883.000 91535.414 91869.078 91931.750 92210.891 92222.742 92349.516 92362.883 92545.383 92630.492 92638.961 92782.812 92891.875 92911.930 92975.500 93142.062 93190.336 93226.289 93329.156 93500.484 93677.383 93693.023 93748.078 93756.875 93790.242 94141.789 94177.453 94241.805 94426.969 94550.203 94726.727 95017.547 95195.422 95321.719 95454.328 95470.047 95604.352 95666.297 95698.031 95744.461 95945.812 95986.633 96157.633 96329.969 96451.328 96594.594 96628.453 96674.992 96704.758 96958.109 96983.180 97080.969 97166.906 97256.586 97347.961 97521.602 97542.828 97557.492 97788.344 97795.531 97934.141 97965.469 98001.672 98019.711 
query 1 nn's (10, 32300, 65628): 522429 (13131) 7120642 (6) 4922660 (10) 5509879 (23281) 7693023 (17947) 1843885 (3907) 3631651 (13516) 8590082 (6) 1526669 (67344) 4689763 (36488) 8223991 (92438) 2652241 (6687) 9643506 (6) 2353489 (78141) 8828687 (18898) 5423598 (6) 9553578 (6) 3740235 (3800) 5349437 (50838) 3733744 (6) 6366077 (83508) 9643854 (6) 5177998 (36) 8441546 (6) 7388183 (14620) 6835065 (21166) 7995682 (6) 356275 (53676) 374332 (6) 1344265 (23052) 5707690 (10) 9627866 (10) 2118779 (55888) 962794 (10) 1968903 (23237) 9329945 (61557) 9236715 (34828) 7280092 (6) 8501312 (6) 1134982 (19) 5161143 (70507) 9586160 (6) 5471919 (2025) 8334152 (10) 4816323 (99668) 5074486 (6) 8234637 (65045) 2284785 (54179) 3335948 (10) 6576839 (36452) 8757781 (97458) 5632105 (30674) 6796509 (44690) 739072 (6) 1969287 (458) 148395 (52763) 1116609 (36705) 5868222 (10) 2636339 (9753) 3731479 (11580) 8345271 (11615) 6072436 (10) 4130277 (52484) 9266357 (99247) 1395848 (20) 7622192 (6) 1141882 (10) 8881883 (62108) 3804074 (10) 3914678 (10) 4017308 (10) 2374233 (3869) 2208030 (6) 4793918 (6) 5707600 (6) 3311960 (6) 5638854 (6) 1292380 (10) 1204854 (6) 1469962 (10) 3423010 (6) 8789535 (45591) 5868497 (27277) 6510204 (10) 6976996 (6) 4550629 (63394) 2040651 (52857) 4177090 (20) 6161129 (83784) 8949514 (10) 9429619 (21346) 8967679 (91136) 8194672 (6) 7343481 (92533) 5202685 (37052) 9529005 (17016) 9875969 (2280) 1943276 (6) 5276519 (11912) 8032969 (93965) 
     dis: 	52102.305 55214.109 56065.488 57045.617 57365.887 57367.137 57856.258 57908.715 58306.730 58779.207 61373.090 61720.613 61907.941 62323.406 62656.742 62939.289 63584.734 63873.516 64551.508 65405.785 65462.539 66159.727 67208.164 67541.047 68178.469 68401.844 68758.273 68797.859 69031.414 69325.453 69604.305 70052.031 70113.406 70195.562 70267.094 70520.227 70610.047 70949.117 71096.438 71198.875 71259.125 71454.562 71612.469 72114.938 72173.898 72449.078 72499.547 72660.625 72860.500 72892.789 72921.297 73561.523 73586.805 73893.141 73944.133 74173.945 74751.758 75121.797 75162.133 75337.828 75451.633 75472.250 76074.672 76247.422 76274.688 76277.305 76350.453 76678.969 77172.906 77349.359 77591.914 78063.992 78111.469 78129.477 78194.453 78325.016 78489.688 78718.180 79062.297 79181.453 79187.531 79322.969 79333.188 79412.227 79495.438 79678.234 79721.547 80931.258 80961.609 81049.594 81239.383 81299.516 81420.211 81627.977 81708.789 81866.562 82057.516 82102.328 82156.422 82286.961 
query 2 nn's (10, 31833, 65159): 9710602 (6) 4279056 (6) 2393824 (10) 5039283 (99958) 5563048 (10) 8333106 (10) 6340941 (22433) 2038327 (70184) 8329652 (10) 247874 (6) 4725455 (77302) 8075681 (3922) 4898170 (6) 1026832 (6) 419818 (6) 8266810 (10) 5397690 (6) 2319775 (32034) 29358 (6) 1299970 (6) 4497755 (10343) 2523582 (6) 9954659 (37510) 2481742 (10) 7081867 (56264) 1085992 (6) 856169 (43454) 8586058 (6) 1829983 (49179) 6527814 (6) 1155004 (10) 6127686 (10) 3483394 (20) 6247603 (77971) 5274336 (6) 474564 (10) 2470588 (6) 6136728 (6) 8253782 (6) 6005722 (6) 4743122 (6) 9892344 (6) 6304098 (6) 7446868 (6) 1035560 (6) 1482128 (6) 5945392 (10) 5046019 (90517) 3266325 (60116) 3222262 (6) 2804686 (10) 6062651 (61307) 7221663 (81159) 5985758 (6) 4435268 (10) 1249273 (10809) 3732258 (10) 4636933 (29382) 8096796 (6) 4716201 (50759) 8712277 (33284) 8044435 (6007) 9970439 (66214) 3612389 (71601) 6473156 (6) 3928982 (6) 9266101 (81993) 6445878 (6) 1821513 (87016) 2994002 (6) 3330878 (10) 6809932 (6) 9844531 (8265) 3396117 (93796) 798277 (69581) 6357699 (31744) 5627672 (10) 1981042 (6) 8298066 (10) 5908001 (18192) 7658938 (6) 1916939 (40343) 538999 (60870) 7894831 (87855) 7817828 (10) 260224 (6) 8646849 (54448) 857497 (17821) 1125740 (10) 3570008 (6) 7161229 (28466) 5843586 (6) 1458512 (6) 6014524 (6) 9987972 (10) 1732756 (6) 2801097 (15529) 7371252 (10) 5795780 (20) 6249422 (10) 
     dis: 	38758.832 52769.785 55946.621 56130.137 56960.910 57879.695 58443.156 58644.297 58968.367 59008.195 59157.543 59267.797 60594.816 60867.465 61104.812 61186.344 61264.836 61433.867 61684.824 61743.219 62007.723 62081.379 62100.852 62150.715 62167.477 62187.410 62218.883 62228.688 62238.340 62479.254 62506.031 62535.211 62557.551 62796.402 63007.523 63131.266 63148.320 63407.273 63701.750 63800.230 63804.355 63910.758 63931.680 63969.766 63983.609 64396.391 64445.738 64808.723 65011.406 65035.312 65488.801 65656.609 65834.188 65872.234 65888.609 65897.969 65934.594 66000.492 66010.531 66284.516 66290.125 66456.570 66781.367 66901.273 66913.961 66958.688 66982.797 67177.906 67205.172 67468.414 67751.094 67932.008 67939.875 68145.555 68339.648 68522.016 68523.578 68696.023 68761.453 68826.102 68856.016 68916.078 69076.234 69089.930 69134.234 69273.164 69283.391 69383.391 69414.789 69482.531 69545.203 69680.484 69767.469 69808.094 69893.367 69935.477 69946.312 69954.320 69971.352 70049.531 
query 3 nn's (10, 38987, 72318): 3459738 (6) 3041965 (48814) 6148687 (15162) 6760157 (37792) 3278687 (4810) 7749958 (6) 5240529 (42575) 936598 (10) 7865854 (10) 9966986 (6) 4995291 (47526) 5651613 (69606) 5627714 (6) 7745448 (6) 5561400 (6) 5026118 (10) 6711509 (55762) 23966 (6) 1831640 (6) 2311118 (6) 5110678 (6) 2780122 (10) 4607031 (90968) 519315 (19026) 2464354 (6) 9056511 (56627) 4485299 (88089) 9605754 (6) 5208047 (1920) 9864546 (6) 6718210 (6) 6703943 (53709) 1093904 (10) 5498749 (79946) 6252048 (10) 4759076 (6) 312537 (25925) 8403708 (10) 4524336 (6) 3861556 (10) 2322387 (71697) 399525 (40283) 6565302 (10) 8956141 (57755) 311872 (10) 6730792 (20) 7754250 (6) 885432 (10) 9231939 (10435) 4442693 (16034) 8462619 (77992) 7867335 (84879) 6788101 (15817) 2988304 (161) 493857 (34604) 3186601 (19059) 4994277 (33826) 6365231 (94776) 755914 (6) 1846287 (62973) 3547401 (28234) 6089729 (67948) 2185051 (84669) 3004616 (6) 1423490 (6) 4878411 (61657) 6606997 (99452) 6901252 (6) 5970282 (10) 8789731 (94957) 6827617 (98254) 787995 (83644) 3284716 (6) 4620328 (19) 825840 (6) 675474 (10) 2256474 (10) 800334 (10) 3860589 (20145) 9953923 (63555) 8953058 (20) 1425829 (94422) 8760156 (6) 8863140 (10) 9083030 (6) 1162298 (6) 5375439 (30601) 6342790 (6) 257523 (93813) 980655 (10080) 2690847 (42941) 3225639 (18373) 3341692 (20) 5519121 (57943) 1570115 (3893) 7966182 (6) 9730416 (10) 7943427 (43591) 7467923 (7733) 2816760 (6) 
     dis: 	5806.843 6086.703 6392.230 7104.440 7200.982 8155.633 8242.782 8598.450 8618.451 9061.796 9427.752 9483.585 9982.705 10057.097 10233.939 10560.148 10598.149 10754.225 10766.730 10767.311 11093.441 11108.668 11218.743 11472.883 11544.613 11612.721 11657.492 11689.870 11788.338 11962.502 11994.193 12013.490 12115.892 12375.732 12435.280 12436.174 12498.042 12634.936 12669.355 12816.737 12929.355 12949.352 13033.480 13062.262 13110.625 13112.300 13123.652 13225.035 13246.699 13272.004 13353.878 13389.434 13405.856 13498.326 13534.274 13710.077 13862.504 13870.213 13966.596 13979.077 14124.117 14126.686 14179.203 14304.643 14404.359 14440.248 14500.623 14501.382 14510.232 14529.461 14585.572 14620.452 14643.466 14695.096 14831.620 14891.082 15014.384 15020.920 15189.751 15262.069 15274.578 15324.867 15350.185 15413.606 15654.681 15731.889 15743.433 15744.565 15789.887 15834.861 15843.298 15849.693 15869.471 15979.648 15985.956 16106.490 16184.608 16328.264 16342.012 16369.822 
query 4 nn's (10, 58912, 92246): 2251576 (10) 4775817 (4264) 5257851 (99826) 1829341 (70075) 4962535 (9706) 163735 (57830) 484991 (57011) 2454280 (6) 379765 (11014) 5012556 (6) 4831136 (10) 98549 (20045) 5205930 (19) 3475746 (6) 9418375 (41204) 9831067 (3947) 6784852 (6) 1029172 (20) 4436465 (72984) 1243221 (36173) 2534624 (10) 2002058 (6) 9353798 (6) 9668024 (6) 2955778 (10) 2962974 (6) 523577 (18421) 9074384 (10) 7923766 (6) 2374643 (94332) 8843847 (70413) 1253413 (16327) 8325663 (95540) 7882248 (6) 3625321 (1109) 2635141 (81197) 230302 (10) 8976035 (43413) 1169363 (96502) 3749193 (30022) 3417452 (6) 6570455 (18560) 6206858 (6) 6284933 (84477) 6330825 (21979) 7306258 (6) 4337818 (10) 6989074 (6) 1589539 (20904) 7328865 (31300) 5938785 (5292) 7367262 (6) 9012070 (484) 2145472 (6) 7116114 (6) 4209589 (33724) 3916947 (12471) 4875981 (51141) 280740 (20) 202856 (6) 8851200 (6) 7011109 (26320) 1672031 (94513) 9060572 (10) 1192677 (14234) 3590722 (6) 2616985 (11780) 7566456 (6) 417612 (10) 3191805 (52844) 7458244 (10) 4201945 (69189) 509936 (10) 4767395 (71903) 8581212 (19) 1352549 (77935) 9255317 (79012) 4281934 (6) 5640147 (69877) 8115263 (86533) 8558647 (33713) 3062872 (6) 7376044 (10) 7606390 (6) 3136966 (10) 1173286 (6) 8822602 (20) 4040337 (60332) 9338266 (6) 3179613 (71600) 3107181 (47312) 14334 (10) 5739458 (6) 8128850 (6) 4355616 (6) 6787169 (80703) 4144197 (6525) 5294273 (83901) 8054510 (6) 5823857 (10980) 
     dis: 	89870.484 91043.969 92153.133 93103.156 93113.172 95088.234 96212.797 96369.953 96423.711 97060.734 97284.938 97548.969 97738.969 97840.844 98448.156 98831.547 98984.383 99385.992 99699.641 100683.211 100762.180 100848.469 100875.352 100916.383 101631.250 101669.953 101870.438 101951.078 102096.438 102153.820 102156.984 102885.422 102919.219 103025.797 103226.188 104121.539 104218.922 104255.656 104380.695 104624.023 105302.750 105413.055 105430.305 105866.430 106012.562 106065.875 106120.047 106339.930 106422.445 106457.898 106459.406 106512.961 106670.750 106723.984 106727.516 106785.781 107517.359 107592.453 107752.234 107770.508 107776.312 107776.320 108008.898 108031.438 108110.180 108239.594 108374.078 108624.992 108640.133 108707.328 109106.273 109111.383 109317.070 109447.570 109448.328 109475.750 109645.516 109796.734 109896.789 109980.094 109986.367 110129.383 110349.055 110423.383 110557.609 110662.523 110823.266 110827.570 110911.078 110953.461 111251.258 111284.891 111399.148 111440.664 111449.734 111864.805 111870.125 112089.008 112115.539 112141.516 
[ 538.482s ] *** Query time: 55.755
qps: 179.357
 *** ivfpq recall 
ivfpq get 902664 postive res from 1000000 results, recall@100:0.903
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.001 0.005 0.029 0.105 0.222 0.608 0.031 
finished ivfpq index examples
[ 538.528s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query_arbi sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_100.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_2_100000_random_128 120 128"
	User time (seconds): 533.85
	System time (seconds): 4.87
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 8:58.74
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3079076
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1573823
	Voluntary context switches: 3
	Involuntary context switches: 486
	Swaps: 0
	File system inputs: 0
	File system outputs: 48
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 22:38
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_100.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_2_100000_random_128
nprobe: 120
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.374s ] Loaded metadata, 20000000 attr's found
[ 1.374s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.376s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 1.379s ] Loaded 10000 sift10M queries
[ 1.448s ] Loaded ground truth, gt_size: 100
[ 1.448s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 4.227s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 201.614s ] Query results (vector ids, then distances):
query 0 nn's (19, 1778, 21797): 4072432 (6) 4845093 (89828) 4377663 (87786) 651685 (47265) 4788805 (75663) 5949364 (19) 6636512 (10) 693783 (57346) 6421498 (6) 2584463 (7563) 4589399 (63920) 8123414 (6) 9314985 (41153) 551650 (6) 4556010 (10) 4375647 (37950) 2123174 (10) 8893213 (64399) 3199774 (6) 2049186 (19) 8616355 (63618) 1971799 (27375) 5910421 (16866) 9095833 (9482) 3178133 (72812) 4652626 (6) 5875604 (6) 7457343 (45726) 6247520 (6) 1079181 (30455) 1516517 (39383) 6897669 (76849) 2855819 (71327) 7855767 (71795) 7014197 (87909) 9705546 (19) 5421355 (78234) 4030871 (83171) 7155787 (7955) 4295825 (81813) 8898593 (51607) 5652348 (6) 5349662 (10) 7658530 (10) 8498530 (6) 1266152 (6) 7131402 (6) 9940801 (52956) 6321172 (10) 774197 (12065) 8699507 (5451) 1309902 (6) 2356383 (85445) 9195833 (6101) 8501691 (46041) 8123179 (30688) 5709101 (30858) 8065137 (39318) 720164 (6) 8740099 (13338) 9098203 (28365) 6662547 (15068) 2959022 (6) 372463 (4519) 2874324 (10) 9925343 (15787) 8362354 (10) 8291955 (26082) 9848618 (20) 1754225 (50470) 4935940 (10) 6995111 (86758) 8826042 (6) 7134901 (62294) 253084 (6) 8318188 (6) 9579125 (31608) 3573354 (10) 553168 (10) 3505760 (20) 3011428 (6) 2197693 (16735) 8712669 (42291) 9955921 (97303) 3052484 (6) 7584424 (10) 5540387 (87785) 5845381 (1872) 7108141 (92104) 7903344 (10) 8402135 (97940) 2659571 (84015) 4501708 (10) 4105007 (45388) 904846 (6) 5939895 (44825) 6782230 (6) 8822109 (84486) 8254462 (6) 9323924 (10) 
     dis: 	84178.992 84878.867 94875.242 95560.750 96372.719 96540.578 98730.969 100023.898 100647.109 101582.805 102291.719 102567.828 103389.469 103570.531 104641.438 105102.758 105120.883 105800.031 105891.664 106353.484 106473.141 106684.047 107491.828 107509.219 108124.398 108185.781 108195.156 108619.523 108817.188 109415.953 109531.672 110602.641 110733.773 110763.453 110847.344 111185.469 111679.375 111693.203 111969.953 112633.477 113506.359 113655.844 113842.734 113847.969 114159.633 114719.086 114748.539 114854.719 115376.531 115476.719 115686.742 115703.688 115749.305 116200.758 116426.328 116548.812 116575.688 117243.328 117312.109 117778.398 117903.320 118240.719 118405.031 118835.031 119070.875 119308.828 119308.859 119529.773 119725.484 119839.633 119888.031 120642.352 120670.070 120722.367 120867.930 120914.234 121285.188 121378.750 121464.633 121493.070 121577.375 121590.359 121652.836 121811.406 121916.453 122057.328 122114.297 122222.781 122868.273 122946.453 123076.031 123103.094 123157.336 123173.469 123239.797 123429.039 123454.297 123544.648 123598.109 123707.602 
query 1 nn's (19, 59042, 79040): 3221056 (20) 2002301 (43651) 2077396 (10) 6147113 (68917) 8461795 (33948) 2442767 (77449) 7439645 (90525) 3663116 (6) 9499049 (65639) 8543169 (10210) 7686151 (78085) 8506480 (19) 1278559 (87295) 5783793 (47479) 8367617 (92148) 7285851 (51561) 8366738 (6) 5704476 (6) 6958118 (10) 9719764 (10) 2761577 (57934) 4004602 (19) 1196133 (34675) 1692909 (41802) 8423241 (51214) 5589420 (20) 5559224 (6) 3504431 (29566) 4100764 (6) 2509485 (62917) 9336133 (75192) 2666639 (27078) 672716 (6) 8138877 (92201) 1176172 (6) 1193556 (10) 1790486 (6) 8826890 (6) 7438970 (10) 253803 (47614) 6248038 (6) 5246175 (78907) 5565805 (53699) 4146861 (58794) 5982749 (86619) 7283045 (38601) 683139 (40383) 8972767 (24991) 5845938 (10) 8150421 (27863) 776969 (98346) 9602763 (11278) 1491877 (23305) 2440494 (6) 4329985 (31213) 7047942 (10) 2101358 (10) 1622237 (77564) 4380130 (6) 5237694 (10) 4189548 (10) 9454376 (6) 8647527 (5561) 704909 (5167) 7552994 (6) 2216641 (8597) 1813327 (19014) 6137065 (83259) 2736969 (33468) 9094620 (10) 5885528 (6) 4298384 (10) 6633733 (33324) 2752825 (95708) 9171142 (6) 9677995 (60466) 377712 (6) 1878047 (61451) 5755521 (20730) 3717258 (6) 3382639 (39189) 8157945 (9049) 5647433 (1044) 8876385 (83462) 7924686 (6) 2718585 (94621) 863321 (11164) 6784718 (6) 1050330 (6) 6216906 (6) 9658375 (6644) 8243181 (22199) 615255 (19761) 7888885 (35870) 7382933 (52180) 4368228 (6) 3168596 (10) 5027464 (6) 574050 (6) 8362546 (6) 
     dis: 	49650.875 59520.469 65356.297 74456.430 74647.344 75668.836 75722.812 76736.047 79244.414 81067.312 81764.742 81778.883 82131.773 83161.820 83756.875 86033.289 86855.672 87361.750 87780.727 87792.891 87835.383 88741.602 89214.531 90709.375 91324.742 91609.852 91845.242 92372.383 93361.758 93387.844 93694.109 94402.125 94653.180 94839.781 94868.789 95978.773 96030.797 96544.727 97158.148 97256.367 97406.016 97510.008 99120.727 99187.562 99632.102 99636.898 99918.023 100680.125 100761.938 100888.383 101367.578 101981.945 102393.914 102460.680 102914.234 103135.164 103507.750 103545.852 103566.250 103664.109 103703.695 103762.078 104028.305 104037.867 104205.820 104247.352 104506.586 104725.141 105019.820 105025.688 105336.258 106110.625 106176.359 106391.898 106393.570 106405.758 107187.453 107247.977 108018.164 108108.023 108187.781 108450.266 108509.766 109064.047 109083.094 109590.211 109719.797 109831.172 110014.078 110088.977 110405.172 110504.516 110542.977 110582.891 110661.484 110725.594 110755.070 110799.234 111228.922 111299.070 
query 2 nn's (19, 42784, 62779): 9466222 (20) 7693885 (54394) 5727909 (24) 9241653 (29840) 2274611 (22525) 6116869 (21992) 6969401 (54418) 4625636 (6) 6090181 (35683) 4299983 (6158) 9278595 (79182) 2871589 (1974) 9937457 (69040) 7416273 (21017) 9826185 (13210) 4500920 (6) 9723341 (64511) 9541242 (6) 5279910 (6) 7059713 (84208) 3776629 (61218) 943735 (54935) 3243245 (39360) 3865543 (26368) 6412424 (6) 3483974 (10) 3013823 (21298) 2527560 (6) 4405692 (6) 9715788 (19) 180820 (19) 7270461 (91932) 9210334 (6) 9557534 (10) 7183618 (10) 8659487 (20166) 5610965 (60936) 4810427 (91610) 6648624 (19) 1657763 (90978) 3201860 (6) 3654705 (62373) 3769822 (6) 1136412 (6) 1064352 (6) 9706223 (48002) 7609247 (11216) 6191961 (25903) 1851556 (6) 219115 (31250) 9436202 (6) 7613574 (6) 9263932 (6) 9205025 (45541) 9662585 (1435) 3798757 (79650) 1237108 (6) 6897277 (31959) 4819813 (36459) 9213511 (36975) 6602163 (10531) 9814945 (32837) 4288798 (20) 3953072 (10) 434946 (6) 4127208 (10) 2786474 (6) 5358079 (90862) 689801 (48257) 462261 (40679) 6475007 (99563) 4494142 (6) 6503372 (6) 9294477 (16272) 9528011 (3456) 2543058 (6) 247780 (6) 4492748 (6) 4409826 (6) 3331867 (60333) 5960454 (6) 7496036 (6) 1457847 (25095) 3797976 (10) 4615946 (10) 8810277 (77496) 3412998 (6) 8165214 (10) 566205 (75356) 2288174 (6) 7291722 (10) 6167158 (10) 3859240 (10) 9171914 (10) 3067910 (10) 8317324 (10) 4203066 (6) 5152800 (6) 6198032 (10) 6085477 (21134) 
     dis: 	51875.957 59212.891 60107.020 63291.949 64689.445 65196.906 65259.277 66146.938 66388.211 67586.945 69171.141 69823.055 70543.875 70944.727 71769.430 72434.188 73059.641 73191.797 73205.992 73212.039 73530.062 74239.391 74315.242 74411.445 74930.672 75245.406 75325.531 75366.758 75431.484 75485.438 75951.883 76354.453 76498.703 76865.742 76938.789 77010.406 77488.508 77669.914 77949.820 78094.023 78120.516 78192.438 78386.539 78444.977 78583.172 78885.016 78951.320 79011.156 79085.445 79327.078 79552.219 79666.539 80096.680 80097.016 80152.406 80301.984 80331.523 80337.430 80413.703 80468.094 80558.203 80568.859 80961.922 80995.984 81736.992 82027.516 82469.391 83047.953 83131.461 83140.547 83249.531 83362.141 83364.258 83790.711 83875.625 83982.875 84101.727 84191.555 84270.328 84279.922 84402.102 84629.875 84792.344 84876.961 84962.531 85059.641 85296.945 85362.180 85523.773 85707.875 85772.102 85906.180 85962.375 86060.516 86221.969 86609.672 86851.859 86878.773 86925.336 87015.805 
query 3 nn's (19, 49355, 69343): 5792548 (10) 7691164 (6) 3481923 (68566) 9604675 (18386) 5883706 (6) 584269 (25484) 6214747 (52826) 843890 (10) 4702241 (28285) 1196327 (45603) 9551131 (81943) 5454647 (95797) 6454586 (10) 1498240 (6) 2979227 (67667) 1455602 (10) 3572262 (10) 6136953 (45435) 6228549 (31041) 1781901 (61865) 3654151 (82856) 8844759 (97190) 956536 (6) 8656288 (6) 3494416 (10) 1918891 (49288) 9038228 (10) 5071563 (64641) 6031980 (6) 9131456 (6) 6831782 (10) 8851666 (6) 4200197 (3970) 1264697 (55610) 4678672 (10) 3305761 (89696) 9744194 (6) 1047085 (37311) 8828743 (90039) 4596673 (23787) 2640371 (28168) 2981717 (33842) 8380897 (83424) 6220410 (10) 9813087 (52028) 289620 (10) 5975643 (51898) 1457878 (10) 7056671 (96360) 9081315 (18877) 8701289 (97845) 2642453 (17068) 8771687 (32899) 7160958 (422) 4321177 (84959) 5760672 (6) 2389755 (44448) 3636352 (6) 9104418 (10) 4141467 (26756) 4184762 (6) 3338982 (6) 7756566 (6) 3694946 (6) 113940 (19) 1229178 (6) 1524269 (44709) 2904485 (53021) 7172662 (6) 8166274 (6) 107157 (20181) 1956197 (29639) 1308107 (55213) 5976049 (84717) 5872664 (6) 3042614 (6) 7856426 (6) 2942 (19) 4132886 (6) 5448947 (70957) 4976635 (86955) 743529 (63860) 4019901 (40875) 2615659 (85012) 314530 (6) 2862836 (10) 8534445 (51730) 7529628 (10) 7820331 (55717) 304321 (7855) 5241220 (6) 6920430 (6) 7226424 (6) 7290538 (6) 6653693 (86423) 2056362 (6) 6225040 (19) 565494 (10) 9973027 (20219) 2768896 (6) 
     dis: 	8027.159 10404.369 12149.045 12523.508 13690.900 14226.046 15660.078 15760.957 15986.658 18689.352 18731.025 18808.871 19110.547 19224.637 19577.463 19604.287 19923.664 20217.781 20561.262 21067.232 21173.684 21504.230 21639.805 21912.211 22053.627 22096.213 22989.887 23179.973 23417.900 23837.213 24094.605 24100.410 24490.129 25434.721 25478.471 25577.705 25829.715 25956.551 26569.074 26569.939 26683.768 26939.395 27071.477 27294.729 27421.361 27460.652 27801.309 27904.586 28876.109 28930.035 28946.205 28984.639 29216.508 29585.508 29647.014 29924.184 30020.934 30433.537 30502.402 31441.406 31541.820 31598.809 31605.680 31707.637 32093.629 32137.672 32269.188 32564.797 32821.332 32878.852 33004.660 33206.008 33294.992 33340.031 33392.250 33489.973 33946.418 34149.266 34158.035 34198.887 34314.793 34405.191 34411.398 34503.020 34877.914 35215.684 35365.332 35377.934 35428.777 35470.535 35650.129 35785.574 35821.578 35918.590 36011.461 36219.766 36246.469 36313.996 36334.809 36500.641 
query 4 nn's (19, 10048, 30070): 571010 (10) 8939608 (10) 9287702 (19) 7662721 (92658) 175284 (6) 6040397 (20234) 6501198 (6) 2206054 (20) 8952250 (6) 2562256 (10) 3797368 (6) 3392526 (6) 9091081 (15438) 8431726 (10) 5290573 (72384) 3189095 (292) 7562325 (40361) 5617496 (6) 4408742 (365) 6780910 (19) 8457851 (74687) 7917769 (28213) 3941363 (26002) 6154644 (6) 3138539 (35342) 3879345 (92326) 5044856 (6) 1173023 (18671) 2660078 (6) 6123673 (38706) 4886077 (25754) 5174873 (73524) 5614524 (6) 399429 (55653) 3322329 (7123) 7694485 (65364) 8965116 (10) 1281756 (19) 9788556 (10) 4071931 (24568) 8830459 (66322) 3343374 (10) 5978622 (6) 843285 (3922) 4317466 (10) 7415448 (6) 312285 (69893) 3293801 (29688) 9226042 (400) 3728990 (6) 1348864 (19) 9400804 (6) 3858592 (6) 5951115 (27775) 6363204 (6) 4777333 (90278) 3946162 (6) 9769352 (6) 8963323 (52123) 7537407 (22806) 6740653 (8836) 6755612 (6) 4697015 (48560) 830421 (53496) 6304890 (6) 194539 (99505) 3965530 (10) 3072052 (10) 6657570 (6) 4665099 (4130) 6304121 (53211) 1104702 (6) 9278888 (10) 9346348 (6) 7394476 (10) 4184044 (6) 5300126 (10) 2515444 (6) 2283522 (6) 2693153 (62281) 4459141 (85841) 711849 (91569) 4934298 (6) 1756191 (47514) 9090168 (10) 3633625 (45158) 3560756 (6) 4314128 (20) 6129358 (6) 3253005 (58182) 6421991 (38135) 6423198 (6) 779621 (56843) 6812493 (31007) 8050400 (10) 8272829 (85072) 3395310 (6) 967374 (6) 4635994 (10) 5513284 (6) 
     dis: 	99113.930 100376.578 101808.484 102501.602 102553.094 105411.516 106844.445 107646.438 107711.750 107919.539 108390.078 108573.828 110055.672 111625.680 112369.477 113399.969 114832.133 114980.242 115287.305 115294.805 115450.234 116564.281 116933.375 117551.367 117890.680 118294.812 118471.430 119085.234 119307.891 119337.328 119453.516 119833.922 120100.625 120713.859 121248.055 121425.391 122246.906 122660.641 122729.641 122823.875 122842.820 122844.641 123874.133 125916.148 126167.906 126438.438 126865.391 126952.625 127471.750 127505.375 128316.344 128389.352 128535.461 128657.859 128727.883 129112.125 129203.352 129393.805 129539.258 129604.172 129608.938 129636.641 130019.594 130028.688 130051.000 130403.781 130443.938 130619.977 130687.336 131000.703 131075.203 131075.469 131383.531 132485.406 132601.125 133492.797 133631.641 134000.672 134560.609 134641.969 135142.891 135315.750 135448.109 135911.969 136050.047 136119.875 136221.344 136253.688 136372.641 136613.875 136721.375 137118.328 137173.188 137462.594 137717.750 137726.406 137787.125 137810.531 137845.266 137918.438 
[ 201.614s ] *** Query time: 47.529
qps: 210.399
 *** ivfpq recall 
ivfpq get 779657 postive res from 1000000 results, recall@100:0.780
recall dist(10% per bucket): 0.000 0.000 0.000 0.003 0.033 0.099 0.178 0.203 0.194 0.264 0.026 
finished ivfpq index examples
[ 201.659s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query_arbi sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_100.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_2_100000_random_128 120 128"
	User time (seconds): 197.05
	System time (seconds): 4.86
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:21.92
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3080104
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1514442
	Voluntary context switches: 1
	Involuntary context switches: 242
	Swaps: 0
	File system inputs: 0
	File system outputs: 48
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:13
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_20_2_100000_random_20.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_20_2_100000_random_20_100.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_2_100000_random_128
nprobe: 120
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.375s ] Loaded metadata, 20000000 attr's found
[ 1.375s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.378s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 1.381s ] Loaded 10000 sift10M queries
[ 1.449s ] Loaded ground truth, gt_size: 100
[ 1.449s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 4.190s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 184.875s ] Query results (vector ids, then distances):
query 0 nn's (20, 69745, 72911): 7997264 (6) 2187903 (12480) 8944912 (6) 2986272 (6) 590990 (6) 7970222 (6) 5059276 (10) 2322091 (37643) 629692 (6) 4546031 (41713) 4785915 (27720) 3094666 (10) 8699993 (33933) 5328336 (6) 6171256 (10) 9640406 (6) 848200 (10) 8090700 (19) 755512 (10) 8848690 (6) 7634627 (49160) 2497659 (30156) 5801840 (6) 3807494 (10) 985575 (93038) 9079689 (37890) 4362028 (6) 4046149 (84457) 5130264 (6) 3249090 (10) 4984383 (95811) 9387486 (6) 5936483 (13855) 1872954 (10) 5547317 (68536) 3163711 (11310) 3213971 (67544) 5616172 (6) 8706791 (79085) 5380584 (6) 4396765 (63810) 2408473 (33755) 400677 (90629) 5010908 (6) 3170823 (10778) 9369893 (87229) 7468788 (6) 9402522 (6) 7129421 (48577) 549207 (3283) 4274234 (6) 3889331 (61668) 5734333 (13341) 1686340 (6) 6335285 (78231) 4953074 (20) 1246402 (6) 6255636 (10) 2744234 (6) 9613865 (21280) 1723914 (6) 3690730 (6) 9667130 (6) 2992342 (6) 9978655 (67794) 779019 (97442) 7346299 (72977) 5258156 (10) 3511085 (88442) 5797178 (19) 7000777 (90016) 7358420 (6) 1385397 (54303) 8397669 (46582) 9540781 (70476) 2318142 (10) 9621887 (63589) 6403307 (71142) 1619781 (25171) 1724882 (6) 8280216 (10) 7850226 (6) 4633112 (6) 6291398 (10) 7432956 (6) 1477868 (10) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	92256.875 102761.859 108546.977 109484.625 118349.070 123184.562 123997.375 124893.781 125352.523 126318.375 126325.562 128161.141 128706.328 131055.531 131158.953 131805.344 135626.250 136048.422 136365.281 139300.531 141240.219 141618.219 141767.656 142046.922 142416.500 143191.531 144413.297 145867.609 146005.484 146699.297 147230.891 148189.766 148945.438 149292.688 149589.797 150568.656 151199.891 151520.797 152276.188 154643.172 156136.875 156357.281 156446.000 157716.062 159231.500 159651.281 159984.000 161294.125 162093.906 163786.156 164762.969 165227.672 165247.531 165518.141 166263.750 167037.906 167279.234 167776.922 169599.812 169701.000 170572.094 171603.500 174242.703 174565.547 175439.344 175441.719 175765.562 176313.516 176900.281 176922.312 178630.531 183258.344 183751.094 186166.938 187625.188 192716.562 194678.656 196419.625 197966.969 198740.312 200105.312 206160.828 210066.000 211633.781 212075.750 222786.562 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (20, 62704, 65873): 988844 (10) 1742288 (6) 942860 (6) 1257082 (10) 1708047 (13476) 3458028 (10) 7274969 (66796) 9191654 (20) 518454 (10) 8840686 (6) 3117087 (15664) 8093676 (10) 88901 (86632) 1838928 (6) 2797308 (6) 5914373 (13127) 2037118 (10) 9705940 (6) 6599787 (29632) 4954399 (33354) 5653763 (93340) 3074971 (3757) 8607874 (74) 4467052 (6) 5247349 (99182) 4531817 (72643) 3557421 (33835) 8273176 (6) 1659945 (34986) 9749759 (2426) 7053213 (28955) 5879097 (36389) 5219370 (6) 1302820 (6) 5879333 (9772) 1380669 (32319) 8912577 (61310) 9095588 (6) 6161283 (18707) 4423682 (10) 6142585 (92023) 1853665 (48094) 6489537 (6981) 7471474 (10) 4131695 (69091) 9591882 (6) 2531346 (6) 6203610 (10) 899752 (10) 9065314 (6) 9879486 (6) 1880205 (51666) 7702931 (87965) 9314618 (6) 9760378 (6) 7817744 (6) 9647913 (13677) 2822930 (6) 8663375 (73224) 455608 (20) 7607231 (60893) 5472749 (31462) 9164837 (79953) 3081699 (41340) 3539569 (4633) 9673611 (87947) 8288143 (47390) 268692 (6) 6711679 (57219) 1846152 (10) 3895571 (97601) 3065048 (20) 4026852 (10) 9196055 (11715) 524675 (50678) 8784655 (53995) 1565152 (10) 4354807 (6515) 5632617 (32304) 6268100 (10) 2841687 (19210) 1726293 (11516) 4782234 (10) 7629298 (6) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	78406.852 82310.000 90566.727 102176.031 103604.109 104062.430 107835.203 109490.922 110051.711 112317.062 113099.266 116268.438 119040.664 119087.672 119333.703 119895.953 122139.461 122319.312 123773.102 126241.320 130129.297 131721.797 132007.516 132245.219 132296.219 132664.750 134389.953 135273.344 135395.734 137307.234 139656.812 141590.484 143066.016 143371.375 143588.938 144121.969 144905.047 153980.359 154684.938 155207.406 155761.875 156751.438 157442.125 157464.109 162162.688 163220.406 165654.062 167321.281 169368.578 169693.656 170824.594 172789.156 174014.875 175650.156 177639.328 179071.906 179346.984 180020.516 180543.906 180580.125 180951.688 181230.297 181309.266 182359.188 182529.344 183596.000 187548.234 188465.344 189202.422 193026.328 193149.688 193645.234 194073.781 195786.688 196080.938 196634.625 198897.891 198912.469 199321.250 205448.844 210568.688 213733.844 213941.750 245475.781 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (20, 68097, 71254): 6238057 (32594) 2220152 (10) 8263640 (10) 3624590 (6) 9983844 (6) 3002720 (6) 9509904 (6) 1165801 (74968) 8393009 (27426) 2844676 (10) 6766403 (90035) 117419 (15267) 3235598 (10) 2945275 (97638) 8479108 (6) 1721935 (12163) 1203895 (64259) 8388270 (6) 8031706 (6) 7701485 (32568) 3678255 (49196) 1039876 (6) 1316481 (25665) 2085974 (6) 7562607 (59394) 1723834 (6) 358676 (6) 8166976 (6) 254485 (81966) 6342748 (6) 98286 (10) 8318086 (6) 613907 (11549) 8510363 (82780) 5776763 (34228) 6534191 (79313) 2993958 (10) 2643421 (70886) 6440122 (6) 1022039 (69409) 8902756 (191) 673398 (6) 655613 (48316) 3844446 (6) 8228238 (6) 5979340 (10) 215416 (20) 4474063 (99363) 3260142 (6) 6934344 (6) 7354759 (37887) 9801485 (39419) 2194928 (6) 2467843 (81725) 1318269 (83915) 7544143 (11476) 5060993 (93923) 7146943 (26183) 2754668 (10) 7656941 (51137) 3032740 (6) 6375777 (97056) 4116955 (94670) 2994757 (738) 9815237 (19206) 6183637 (79855) 5513953 (12630) 1750756 (6) 1365980 (19) 3181561 (12512) 2223483 (81153) 7726238 (6) 1122255 (95713) 3439524 (10) 6619108 (10) 2739379 (75604) 9188013 (92448) 727079 (8845) 2267634 (19) 8540741 (41977) 2882036 (10) 5456710 (6) 6330150 (10) 1892567 (84642) 4704583 (58152) 5346538 (10) 1861934 (6) 592394 (19) 1776785 (1384) 7041681 (90171) 2440274 (6) 2957296 (6) 8395898 (6) 6910050 (10) 2538463 (33338) 1042735 (24041) 724324 (10) 4525648 (19) 8849555 (56510) 1687017 (97522) 
     dis: 	64514.520 66985.469 70270.312 76199.805 76655.156 77214.656 78390.930 78422.359 84285.953 84626.172 86394.156 87263.359 87475.789 88499.594 88995.945 91799.180 92442.578 93771.219 93794.742 94737.414 95034.844 95633.766 96022.328 97123.609 97385.305 98247.078 98384.000 98491.219 99011.969 99312.383 99847.562 100610.219 101340.828 102283.250 102424.148 103299.609 103436.375 103812.102 103984.055 104079.109 104364.992 105100.719 105327.852 105745.508 106190.641 108351.766 109095.953 109163.258 109340.406 109733.406 110125.094 110614.852 110638.562 110976.016 110982.711 111000.797 111186.297 112126.531 112328.492 114079.836 114391.438 115099.984 115458.969 115810.359 116554.094 116886.859 117140.984 117414.703 117504.883 117945.312 118547.359 118822.891 119749.516 119915.836 120594.469 121572.594 121866.102 121891.141 122740.531 123233.562 123695.500 123748.547 123815.930 124333.969 124762.797 125938.281 126296.695 127937.961 128536.703 130963.484 131255.109 131264.422 131553.188 131838.531 133092.562 133504.156 133555.500 133591.188 133679.344 135023.844 
query 3 nn's (20, 24633, 27798): 6024697 (42067) 5866295 (62371) 6505776 (6) 6934893 (31697) 8290407 (65583) 310907 (64792) 3151518 (6) 4770943 (33799) 4737175 (78755) 1929831 (8918) 6907537 (70873) 8931269 (32047) 4018179 (65354) 2603421 (55740) 75981 (80372) 7615122 (6) 9175151 (1184) 993678 (10) 8655365 (57697) 2559948 (19) 4480816 (6) 9795666 (336) 4868799 (82128) 2116259 (47416) 3416741 (30871) 5103435 (66407) 9730520 (20) 9980239 (95670) 9119510 (10) 9661282 (10) 1546683 (50873) 8654121 (1507) 6196550 (10) 164817 (33814) 4715844 (6) 776753 (8646) 9947802 (6) 8211437 (46211) 5814528 (10) 8979061 (12426) 5730024 (10) 408242 (10) 1740326 (6) 1947674 (19) 9205890 (6) 3724195 (62382) 5106795 (97006) 6077502 (6) 2152929 (27541) 7439311 (13338) 3875992 (6) 1250404 (6) 8225951 (15731) 3858589 (30698) 1275692 (6) 7575791 (27693) 9885210 (10) 2076590 (10) 3010251 (12229) 9201531 (68527) 972655 (79144) 8191549 (96841) 4213632 (6) 1915322 (19) 2940968 (6) 673448 (10) 1852931 (36865) 2196046 (6) 2960559 (91227) 2609536 (10) 2542714 (20) 9947405 (14246) 7335961 (76690) 9660481 (79023) 3829444 (6) 5738838 (6) 1833319 (84011) 9873819 (52485) 9850513 (4325) 8833544 (10) 8834548 (6) 7045034 (216) 8782910 (10) 6267655 (84544) 8181674 (6) 961558 (6) 6508177 (50245) 6004953 (87521) 5743811 (57384) 2540614 (6) 3015104 (20) 5403942 (6) 6591558 (6) 942929 (67106) 2925967 (96670) 1581115 (38770) 4949461 (76632) 3406995 (21094) 9021430 (6) 7485892 (6) 
     dis: 	19017.650 21994.549 22280.008 22780.703 24641.281 26127.479 28572.852 30079.744 32423.787 34796.434 35756.102 37103.719 38284.117 39499.340 40065.023 40366.102 40481.500 40535.789 40567.895 42029.160 43190.359 43330.945 44235.867 44256.539 44680.461 44967.023 44988.875 45127.781 45206.289 45451.195 45560.105 45634.254 46809.449 47591.984 48116.281 48351.621 48856.527 48964.352 48974.992 49182.738 49254.074 50193.047 50224.809 50431.930 50539.758 50748.902 51409.773 51623.852 51777.191 52514.633 52764.508 52911.016 53024.289 53766.102 53878.469 54103.711 54181.188 55189.973 56610.277 57278.203 57824.836 57854.070 58068.383 58078.250 58599.922 58743.898 59857.105 60114.125 60260.527 60576.605 60580.027 60586.879 60820.691 60968.066 62271.836 62392.781 62474.715 62753.582 62791.051 62888.051 62964.633 63042.688 63424.180 63469.977 63495.062 63498.148 63947.070 64306.898 64351.977 64485.672 64735.805 64738.559 65389.094 65393.488 66206.984 66889.906 67063.156 67132.969 67586.328 67666.391 
query 4 nn's (20, 68524, 71683): 3955594 (19) 7094249 (64171) 3155068 (6) 9700850 (19) 6926508 (10) 6156350 (10) 8537461 (62722) 2088432 (6) 4574319 (48860) 1617714 (6) 2207618 (6) 5060433 (90168) 5851510 (6) 815825 (27237) 6174828 (6) 759809 (46426) 2069533 (90174) 2093555 (38413) 6118477 (84561) 8446618 (10) 2053549 (69947) 3739602 (10) 7273350 (6) 2997943 (89641) 6848907 (38674) 8600734 (6) 8792268 (10) 150883 (26561) 4897724 (6) 6840984 (20) 7038657 (50086) 4117110 (6) 3953954 (10) 6194344 (10) 6963126 (6) 7860752 (10) 6171692 (6) 6756056 (483) 9748165 (42297) 6285614 (6) 8558993 (19971) 5751770 (6) 1520362 (10) 3134995 (11475) 2420536 (10) 9203259 (77326) 5892986 (10) 2185536 (6) 6174038 (6) 6495358 (10) 654151 (41055) 3689461 (14532) 5263103 (97410) 8016225 (61422) 3463635 (15273) 8283015 (42365) 4047724 (6) 4973044 (10) 7634413 (74489) 5893884 (6) 1490939 (26200) 7650710 (10) 7033484 (6) 9166263 (86330) 5657383 (26902) 2722530 (6) 8223782 (6) 1221990 (6) 5060718 (19) 2043293 (55686) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	108697.969 125753.180 126520.062 128127.109 128674.109 131631.391 131951.344 135089.297 138069.438 140367.188 141815.906 142466.156 147548.750 147768.609 148232.031 150371.812 153066.906 153897.859 154856.484 155901.094 156703.750 157970.938 157992.391 158134.531 159065.531 161198.219 161385.125 161784.938 162907.000 163037.766 165787.062 166134.797 166663.703 167127.578 167475.031 168758.078 168873.812 170581.469 172900.188 172991.625 173697.734 174587.938 175481.281 175582.656 176743.250 176785.062 179240.688 180136.016 180924.250 181437.312 181884.719 182750.469 183768.812 184326.859 186005.625 186470.625 187485.062 191270.969 192445.562 192516.906 192614.203 194708.469 195912.391 196629.109 198873.906 203612.484 207704.094 209021.750 217094.031 223466.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 184.875s ] *** Query time: 47.925
qps: 208.659
 *** ivfpq recall 
ivfpq get 465863 postive res from 1000000 results, recall@100:0.466
recall dist(10% per bucket): 0.000 0.007 0.122 0.290 0.239 0.138 0.079 0.054 0.041 0.029 0.000 
finished ivfpq index examples
[ 184.919s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query_arbi sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_20_2_100000_random_20.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_20_2_100000_random_20_100.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_2_100000_random_128 120 128"
	User time (seconds): 180.67
	System time (seconds): 4.54
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:05.22
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3080100
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1443876
	Voluntary context switches: 1
	Involuntary context switches: 283
	Swaps: 0
	File system inputs: 0
	File system outputs: 48
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
