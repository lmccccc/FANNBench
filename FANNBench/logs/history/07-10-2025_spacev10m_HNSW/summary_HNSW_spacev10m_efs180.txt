Start time: 19:31
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 180
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.708s ] Loaded metadata, 10000000 attr's found
[ 0.708s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.710s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.712s ] Loaded 10000 spacev10m queries
[ 0.781s ] Loaded ground truth, gt_size: 100
[ 0.781s ] Index Params -- d: 100, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 16.609s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 115.033s ] Query results (vector ids, then distances):
query 0 nn's (40616, 90615): 1352077 (75218) 1300400 (68247) 525784 (86118) 606211 (46345) 1781760 (80354) 7509422 (86182) 8021837 (54227) 290760 (73276) 6583311 (47922) 1714233 (65633) 6313468 (56256) 9148464 (61499) 1536208 (61981) 1200517 (72426) 3082748 (43400) 38473 (46733) 5072935 (77579) 2382485 (52524) 4779084 (83453) 8997960 (41694) 3881211 (73037) 8807530 (78073) 4617714 (57477) 8538301 (43948) 4279856 (62524) 3873794 (79667) 7007393 (50612) 2037978 (67204) 613770 (82162) 6547416 (46965) 7305168 (83078) 1751249 (61683) 9107614 (86696) 2433318 (41182) 244510 (41564) 1947555 (46272) 2772718 (56124) 511283 (44517) 7922669 (47051) 8242233 (84764) 4254134 (79349) 1858226 (61086) 9818783 (60214) 7249395 (83840) 5004916 (68288) 8135809 (69250) 8846971 (82553) 9600306 (74480) 3828638 (68559) 4287666 (67511) 4066846 (76054) 4470364 (85079) 4932580 (43903) 5950387 (51620) 6240106 (75699) 2807977 (72542) 5382515 (90556) 7983463 (70761) 9957153 (61862) 1150402 (86661) 5236967 (71585) 6616924 (53611) 3249603 (76576) 8097566 (64961) 4519081 (86868) 9169598 (42707) 4697056 (79566) 8348201 (69358) 7322085 (68787) 1060668 (58280) 8279789 (85969) 7115332 (67947) 8849839 (86592) 1168348 (90414) 5320284 (64167) 3611695 (77838) 4715886 (84573) 5594224 (79134) 3636367 (55940) 488103 (55813) 8066928 (80642) 6303532 (42119) 1666 (84797) 5997165 (83594) 8725926 (63035) 8563527 (86841) 7887947 (85619) 399999 (85354) 2578991 (84620) 2716677 (84500) 3371587 (42783) 4104937 (70750) 8341867 (72465) 5270820 (90509) 6554307 (84494) 5454 (50127) 726682 (61944) 694286 (59145) 1545295 (43724) 9576118 (47855) 
     dis: 	3278.000 3455.000 5270.000 5333.000 5414.000 5894.000 6219.000 6292.000 6338.000 6491.000 6519.000 6557.000 6572.000 6580.000 6920.000 7027.000 7047.000 7066.000 7151.000 7191.000 7203.000 7452.000 7485.000 7544.000 7583.000 7677.000 7710.000 7721.000 7742.000 7882.000 7885.000 8031.000 8057.000 8146.000 8194.000 8354.000 8374.000 8387.000 8413.000 8423.000 8438.000 8454.000 8468.000 8470.000 8473.000 8500.000 8512.000 8512.000 8566.000 8574.000 8613.000 8666.000 8669.000 8811.000 8824.000 8897.000 8901.000 8925.000 8948.000 9027.000 9055.000 9065.000 9092.000 9096.000 9117.000 9209.000 9224.000 9233.000 9307.000 9339.000 9340.000 9353.000 9369.000 9382.000 9411.000 9419.000 9464.000 9475.000 9476.000 9485.000 9521.000 9527.000 9532.000 9537.000 9552.000 9559.000 9589.000 9590.000 9607.000 9610.000 9623.000 9661.000 9671.000 9676.000 9686.000 9705.000 9715.000 9724.000 9767.000 9771.000 
query 1 nn's (23827, 73826): 1027770 (59556) 3024255 (36040) 3545414 (44593) 6716785 (66378) 9408428 (33214) 6693881 (28141) 1087257 (62343) 3843020 (54844) 547651 (43364) 1739613 (53800) 6945939 (60753) 6631934 (28922) 2769394 (73340) 9149269 (64835) 8596579 (66499) 4208062 (72354) 913237 (31716) 128447 (33616) 2201796 (69121) 1286599 (26580) 3823789 (35801) 6202555 (55017) 6731249 (66690) 2342379 (62400) 4764135 (25237) 5312590 (40431) 9559160 (42483) 9844113 (25407) 2915146 (70367) 8084904 (26103) 1262717 (61544) 1641593 (25519) 9311189 (41791) 413466 (45386) 4023729 (64682) 7191660 (26554) 3467889 (58051) 5374088 (35711) 7995495 (54964) 4561316 (70089) 2483370 (43037) 2400979 (32818) 5427517 (49038) 9387768 (41292) 8382701 (59388) 5325898 (41793) 6371568 (69524) 8598995 (49827) 2054287 (52686) 8370535 (67881) 4375499 (45519) 5833204 (39001) 2677560 (29840) 8966861 (67736) 6528340 (69516) 7714223 (69827) 5559374 (57425) 5888778 (50046) 683232 (55159) 6154560 (61480) 6218290 (52949) 919217 (70266) 2077395 (51965) 9198072 (44678) 1259440 (29909) 7898285 (24857) 6481742 (59098) 1580619 (31013) 5116926 (36041) 7983026 (33895) 1237024 (67297) 6783786 (43516) 7208440 (52535) 5054847 (35044) 540705 (69355) 5553093 (62435) 3695413 (45102) 4378014 (53168) 497310 (50087) 6716625 (33472) 7896078 (66668) 4936167 (43277) 6314594 (57421) 5894271 (30832) 9319596 (27166) 7869623 (52314) 4090413 (48833) 4414583 (48880) 6825634 (34589) 3940736 (39136) 9895581 (27864) 4952577 (25638) 8300390 (42797) 8219055 (62699) 1532818 (39179) 5616705 (26749) 9619526 (31001) 7684675 (55889) 2233630 (36122) 7268407 (33164) 
     dis: 	4889.000 6351.000 7469.000 7593.000 8315.000 8318.000 8514.000 8685.000 8991.000 9038.000 9078.000 9175.000 9211.000 9226.000 9265.000 9276.000 9300.000 9379.000 9519.000 9607.000 9611.000 9662.000 9805.000 9833.000 9898.000 9904.000 9916.000 9916.000 10003.000 10035.000 10112.000 10134.000 10152.000 10186.000 10203.000 10220.000 10233.000 10239.000 10272.000 10291.000 10301.000 10345.000 10399.000 10421.000 10428.000 10446.000 10463.000 10521.000 10531.000 10647.000 10687.000 10692.000 10703.000 10710.000 10745.000 10769.000 10777.000 10848.000 10878.000 10895.000 10949.000 10965.000 10987.000 11021.000 11032.000 11038.000 11103.000 11116.000 11128.000 11142.000 11152.000 11164.000 11171.000 11206.000 11207.000 11214.000 11227.000 11234.000 11246.000 11253.000 11295.000 11298.000 11300.000 11314.000 11316.000 11318.000 11373.000 11373.000 11414.000 11425.000 11426.000 11430.000 11437.000 11443.000 11452.000 11481.000 11483.000 11509.000 11516.000 11526.000 
query 2 nn's (32197, 82196): 4574760 (37531) 5189301 (43405) 8005273 (37538) 4290437 (79182) 3524579 (49429) 8672246 (67919) 8167950 (64329) 4927764 (61896) 5932138 (71360) 8699363 (38066) 379589 (49013) 5193386 (58419) 5236859 (46044) 6524215 (40939) 1951033 (35999) 9602743 (57407) 9746650 (51834) 2493779 (47308) 4710102 (57576) 525365 (72247) 9964310 (34221) 255402 (44796) 9561351 (80565) 6606573 (43048) 5423341 (53232) 6688464 (74420) 7023011 (48764) 190238 (43187) 2961580 (56149) 1881509 (33275) 1415377 (64630) 9485250 (57717) 725252 (39756) 4649174 (49341) 6555137 (44687) 1425558 (59965) 323907 (52531) 6525090 (79383) 6212714 (75619) 8077765 (45491) 8971627 (61869) 7670329 (41226) 3361974 (50158) 559883 (76998) 1563468 (78550) 8447564 (49053) 6028399 (48545) 7501806 (48981) 4808419 (69389) 5745884 (80255) 9339955 (81335) 3890438 (64578) 4452321 (69823) 1639494 (63732) 4195631 (70514) 3521500 (32806) 6697500 (64883) 6915696 (72395) 7815621 (68731) 4360960 (42414) 8778642 (49223) 8558486 (51639) 1063314 (41819) 6648184 (54160) 7126935 (58871) 6672275 (66753) 2589993 (76134) 2557172 (56410) 2940185 (68340) 9743895 (77420) 4916763 (73819) 8590703 (51244) 2310638 (62621) 2655117 (60703) 3995931 (55015) 1585247 (63340) 6451690 (52651) 6373557 (58681) 7660022 (51133) 3200028 (79067) 2153650 (81348) 8517921 (54220) 3399987 (80703) 5263567 (72349) 9416901 (81712) 2447894 (72829) 1789234 (43215) 8411645 (75386) 7287401 (71226) 2567980 (43350) 1319808 (41248) 6665934 (70307) 671577 (71564) 7037734 (33584) 2604663 (35177) 894483 (42165) 1386408 (47799) 5516324 (34857) 7215858 (64367) 5771135 (63649) 
     dis: 	3034.000 3368.000 3855.000 4555.000 5017.000 6310.000 6379.000 6596.000 6968.000 7268.000 7277.000 7399.000 7538.000 7648.000 7936.000 8053.000 8065.000 8073.000 8124.000 8271.000 8304.000 8306.000 8326.000 8470.000 8500.000 8666.000 8743.000 8749.000 8750.000 8765.000 8867.000 8960.000 8991.000 9002.000 9087.000 9126.000 9129.000 9130.000 9143.000 9162.000 9180.000 9186.000 9257.000 9320.000 9459.000 9552.000 9559.000 9666.000 9686.000 9713.000 9724.000 9775.000 9832.000 9845.000 9857.000 9861.000 9895.000 9897.000 9903.000 9926.000 9946.000 9953.000 9975.000 9989.000 10002.000 10007.000 10035.000 10077.000 10105.000 10145.000 10194.000 10197.000 10241.000 10248.000 10255.000 10259.000 10268.000 10278.000 10278.000 10284.000 10295.000 10307.000 10313.000 10335.000 10368.000 10387.000 10395.000 10401.000 10412.000 10427.000 10438.000 10450.000 10518.000 10673.000 10682.000 10690.000 10729.000 10733.000 10735.000 10762.000 
query 3 nn's (10631, 60630): 4286832 (17230) 1208824 (37041) 1165548 (45426) 1681561 (52434) 9732223 (41833) 7020630 (23256) 7375372 (33987) 7371232 (47114) 8694166 (43201) 1717763 (23291) 7664306 (35020) 2187959 (22411) 4153275 (14312) 391722 (24862) 8364431 (51130) 6027466 (55631) 3188407 (24304) 2272653 (58471) 4559449 (12184) 2360519 (38478) 1252765 (47853) 4889443 (35759) 8232477 (31632) 6542977 (17108) 1074776 (60559) 9157428 (59550) 1212415 (15580) 4251611 (29775) 9100185 (14479) 9232458 (44812) 9775342 (51527) 6447414 (38986) 9892318 (23797) 8741259 (38437) 5621855 (30749) 7623822 (13051) 580826 (39121) 4216882 (16451) 2595121 (49087) 7010095 (49936) 4298667 (37216) 514827 (17573) 3626273 (24674) 8559924 (36620) 920948 (51396) 5683960 (39084) 7435385 (25937) 6546803 (58575) 8821621 (32963) 9987911 (54998) 5563393 (26978) 5962673 (33507) 2029271 (55651) 7010252 (18474) 6703969 (32159) 5124721 (15599) 2851767 (31496) 5566014 (48193) 9444180 (43915) 786015 (34456) 398589 (20960) 6654687 (18185) 5687185 (12097) 3425624 (56969) 2019638 (38147) 5677498 (44480) 5676630 (15975) 3378586 (41526) 6835770 (35415) 9740574 (40063) 4183705 (37136) 1605226 (42484) 9335946 (29064) 7256503 (33019) 6424074 (11699) 8427899 (40275) 7110321 (51796) 3517824 (30137) 9760951 (35714) 4316644 (36244) 2824029 (57859) 8669768 (45048) 2343424 (17819) 108033 (50132) 2348869 (59503) 5176976 (57430) 2838160 (25464) 8860902 (45806) 3172637 (27093) 264481 (34023) 188678 (31172) 3431426 (19293) 9754021 (56599) 3350710 (56592) 3071605 (13149) 9339392 (47904) 6492666 (13880) 9469428 (55808) 6884602 (21004) 382902 (29996) 
     dis: 	4960.000 7689.000 7871.000 8422.000 8881.000 8902.000 9144.000 9274.000 9661.000 9696.000 9757.000 9826.000 9892.000 9931.000 9931.000 9955.000 9960.000 9972.000 10145.000 10155.000 10193.000 10268.000 10280.000 10381.000 10416.000 10421.000 10424.000 10455.000 10473.000 10481.000 10505.000 10517.000 10541.000 10602.000 10647.000 10659.000 10694.000 10754.000 10786.000 10809.000 10816.000 10821.000 10834.000 10835.000 10894.000 10999.000 11029.000 11041.000 11074.000 11115.000 11117.000 11141.000 11152.000 11153.000 11156.000 11159.000 11197.000 11218.000 11225.000 11236.000 11259.000 11270.000 11303.000 11315.000 11336.000 11379.000 11381.000 11389.000 11392.000 11405.000 11417.000 11449.000 11451.000 11498.000 11499.000 11508.000 11525.000 11535.000 11544.000 11589.000 11604.000 11610.000 11625.000 11641.000 11642.000 11642.000 11656.000 11708.000 11717.000 11720.000 11745.000 11745.000 11766.000 11778.000 11782.000 11827.000 11845.000 11845.000 11853.000 11864.000 
query 4 nn's (49705, 99704): 3987492 (98027) 3107282 (67009) 5744224 (51156) 9211260 (81222) 7373067 (53855) 6872756 (95706) 6279473 (68764) 9788862 (69419) 4015525 (99118) 73290 (81611) 9578545 (82305) 6095172 (66470) 9652129 (94239) 3526517 (65512) 2038833 (53914) 1587943 (87738) 2320125 (78596) 9044829 (55243) 6782257 (61394) 9193832 (94777) 2279438 (92240) 57144 (85498) 6906799 (74949) 1906000 (75700) 5562283 (85264) 9801790 (96454) 4738992 (53601) 1994085 (74290) 6934935 (62103) 915880 (92907) 6557844 (93558) 6001275 (76022) 3073679 (52005) 2986049 (87137) 1384227 (67752) 9765986 (76606) 523134 (52660) 3598596 (93600) 1846444 (69689) 6581013 (70513) 1546917 (87929) 9240243 (51536) 8442744 (81630) 7511825 (79032) 8774147 (59338) 6614912 (53050) 4942478 (95232) 3192757 (54312) 7814617 (76949) 2795570 (51868) 8572491 (87817) 1444782 (58902) 5685630 (55650) 8359241 (79071) 349859 (89590) 6836665 (78385) 980351 (73539) 1066421 (76598) 9438625 (65756) 1930013 (94515) 9832113 (87811) 259750 (70161) 1995354 (73102) 5323762 (65230) 8360636 (71934) 703166 (92189) 4637157 (81613) 3032989 (71909) 4491189 (76562) 8627902 (60097) 8641215 (59349) 6112551 (79061) 9977617 (53087) 3506156 (72099) 3934821 (77812) 2266290 (57733) 1973506 (83520) 2337939 (52530) 9639256 (70554) 9407510 (57340) 3299088 (88192) 5350870 (81572) 1071436 (56465) 569140 (91553) 1306176 (75097) 9614577 (73130) 2473330 (71722) 2699285 (75510) 1875114 (95741) 9600067 (97955) 4175678 (79223) 7637276 (80931) 3792530 (68743) 6297263 (78517) 3916489 (97728) 4734386 (57789) 4817150 (95863) 7003644 (54071) 7921516 (63604) 6680137 (61587) 
     dis: 	3787.000 5291.000 5418.000 5775.000 5809.000 5915.000 6062.000 6170.000 6212.000 6268.000 6269.000 6291.000 6291.000 6305.000 6330.000 6386.000 6403.000 6416.000 6419.000 6455.000 6457.000 6473.000 6504.000 6508.000 6518.000 6521.000 6540.000 6547.000 6557.000 6559.000 6568.000 6630.000 6653.000 6672.000 6682.000 6698.000 6702.000 6712.000 6718.000 6731.000 6760.000 6766.000 6770.000 6778.000 6791.000 6796.000 6814.000 6817.000 6818.000 6828.000 6834.000 6837.000 6845.000 6856.000 6868.000 6874.000 6888.000 6888.000 6888.000 6895.000 6896.000 6906.000 6913.000 6924.000 6942.000 6947.000 6948.000 6971.000 6996.000 7009.000 7009.000 7016.000 7017.000 7020.000 7024.000 7028.000 7034.000 7039.000 7049.000 7052.000 7053.000 7078.000 7080.000 7090.000 7092.000 7115.000 7116.000 7130.000 7134.000 7136.000 7150.000 7151.000 7157.000 7157.000 7165.000 7165.000 7168.000 7191.000 7197.000 7215.000 
[ 115.034s ] *** Query time: 30.851
qps: 324.138
 *** HNSW recall 
HNSW get 927156 postive res from 1000000 results, recall@100:0.927
recall dist(10% per bucket): 0.003 0.001 0.000 0.001 0.002 0.006 0.023 0.060 0.141 0.553 0.211 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 113768118, average: 11376.812
finished ivfpq index examples
[ 115.064s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 180 100"
	User time (seconds): 99.08
	System time (seconds): 6.88
	Percent of CPU this job got: 91%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:55.63
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7281572
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1834886
	Voluntary context switches: 24103
	Involuntary context switches: 257
	Swaps: 0
	File system inputs: 1641240
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 20:47
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 180
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.729s ] Loaded metadata, 10000000 attr's found
[ 0.729s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.731s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.732s ] Loaded 10000 spacev10m queries
[ 0.800s ] Loaded ground truth, gt_size: 100
[ 0.800s ] Index Params -- d: 100, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 16.673s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 118.404s ] Query results (vector ids, then distances):
query 0 nn's (40856, 50855): 606211 (46345) 6583311 (47922) 3082748 (43400) 38473 (46733) 8997960 (41694) 8538301 (43948) 7007393 (50612) 6547416 (46965) 2433318 (41182) 244510 (41564) 1947555 (46272) 511283 (44517) 7922669 (47051) 4932580 (43903) 9169598 (42707) 6303532 (42119) 3371587 (42783) 5454 (50127) 1545295 (43724) 9576118 (47855) 9497103 (46331) 74334 (45086) 2029623 (45395) 347710 (45599) 7811790 (50102) 2632800 (41462) 1288571 (45088) 100232 (45360) 3178566 (41164) 9512027 (44058) 2018268 (46504) 3815686 (47763) 7703225 (42332) 6612942 (41425) 4359261 (48997) 4414009 (50233) 5661320 (49047) 7193350 (49988) 4029747 (43158) 2893898 (49102) 9284314 (44763) 6549569 (43365) 1263541 (49264) 9974866 (46574) 8814646 (49405) 4303860 (42992) 8468662 (49840) 1952371 (46531) 516556 (48404) 6662255 (45091) 5077862 (42243) 7930327 (47337) 6929262 (42738) 3740591 (43104) 7043677 (41831) 8843034 (46356) 3586515 (42127) 5619695 (45330) 5949911 (48460) 7866226 (50660) 6015008 (47603) 9162838 (48173) 4227532 (49453) 4724901 (49722) 5215588 (45563) 7835815 (45025) 1334146 (42645) 9055415 (44236) 3312815 (45975) 8692256 (46024) 6754361 (43302) 1072226 (46371) 8887022 (45611) 4005082 (41331) 153018 (47876) 17694 (43014) 1335591 (46968) 3351466 (46513) 6163404 (42591) 5856450 (50598) 9374041 (42778) 8149040 (41970) 7156109 (43981) 67427 (47143) 2074056 (45489) 9697052 (48012) 7223435 (46300) 8944530 (42496) 2038045 (44099) 4470760 (44169) 641680 (45501) 6065690 (45915) 2711898 (41975) 223562 (50568) 421903 (42532) 5232970 (50382) 4334407 (43722) 8513615 (42517) 4699709 (49994) 3847526 (48670) 
     dis: 	5333.000 6338.000 6920.000 7027.000 7191.000 7544.000 7710.000 7882.000 8146.000 8194.000 8354.000 8387.000 8413.000 8669.000 9209.000 9527.000 9623.000 9705.000 9767.000 9771.000 9820.000 9869.000 9961.000 9977.000 10062.000 10072.000 10102.000 10144.000 10190.000 10193.000 10237.000 10308.000 10431.000 10494.000 10535.000 10554.000 10744.000 10922.000 10966.000 10992.000 11006.000 11032.000 11065.000 11086.000 11133.000 11153.000 11153.000 11161.000 11202.000 11216.000 11239.000 11242.000 11253.000 11285.000 11286.000 11305.000 11319.000 11367.000 11417.000 11439.000 11467.000 11470.000 11471.000 11524.000 11535.000 11568.000 11589.000 11638.000 11718.000 11795.000 11860.000 11861.000 11880.000 11894.000 11946.000 11994.000 12006.000 12018.000 12050.000 12074.000 12105.000 12121.000 12205.000 12267.000 12275.000 12387.000 12392.000 12402.000 12444.000 12444.000 12450.000 12475.000 12476.000 12585.000 12586.000 12613.000 12616.000 12618.000 12656.000 12669.000 
query 1 nn's (25003, 35002): 9408428 (33214) 6693881 (28141) 6631934 (28922) 913237 (31716) 128447 (33616) 1286599 (26580) 4764135 (25237) 9844113 (25407) 8084904 (26103) 1641593 (25519) 7191660 (26554) 2400979 (32818) 2677560 (29840) 1259440 (29909) 1580619 (31013) 7983026 (33895) 6716625 (33472) 5894271 (30832) 9319596 (27166) 6825634 (34589) 9895581 (27864) 4952577 (25638) 5616705 (26749) 9619526 (31001) 7268407 (33164) 1010768 (32832) 6984105 (30431) 6123033 (30064) 5025002 (28266) 5667980 (26456) 4403537 (30334) 3745827 (26193) 5653499 (30309) 6894603 (30698) 3405856 (27091) 8605143 (32224) 7853534 (28186) 5229733 (33672) 7584986 (29468) 2114720 (27014) 8431034 (29326) 1677470 (28044) 1762221 (34381) 9816629 (29872) 8313860 (27237) 3502118 (28547) 4444284 (29638) 7708527 (29629) 9030241 (31642) 3350122 (34862) 3892957 (32671) 8367418 (34221) 6686029 (26967) 8476728 (32712) 2791612 (32495) 1824031 (26919) 5161531 (30241) 5546102 (25312) 7381370 (34199) 6813711 (25065) 1863099 (25769) 4085778 (28840) 9537016 (26301) 509025 (33013) 7563939 (33346) 4570408 (30976) 276903 (27774) 2354207 (28126) 5993510 (28523) 6536469 (32386) 2415222 (30608) 106949 (34898) 4233253 (34954) 3088541 (32946) 9682053 (28354) 8738224 (28493) 2556688 (28081) 4002686 (31505) 5400486 (29966) 6704562 (34346) 5219432 (30034) 509356 (30393) 2413303 (31844) 7841909 (33192) 8059150 (27089) 1473367 (25415) 8034043 (26323) 897593 (34735) 7967703 (29427) 1799395 (25305) 5064267 (33426) 5123925 (30030) 5444529 (27397) 7677236 (31498) 585173 (26431) 7669512 (32405) 6180007 (31307) 7497777 (25404) 3397657 (31176) 1707306 (25534) 
     dis: 	8315.000 8318.000 9175.000 9300.000 9379.000 9607.000 9898.000 9916.000 10035.000 10134.000 10220.000 10345.000 10703.000 11032.000 11116.000 11142.000 11253.000 11314.000 11316.000 11414.000 11426.000 11430.000 11481.000 11483.000 11526.000 11617.000 11795.000 11835.000 11857.000 11905.000 11908.000 11935.000 12057.000 12105.000 12120.000 12125.000 12165.000 12180.000 12191.000 12204.000 12206.000 12220.000 12240.000 12247.000 12264.000 12314.000 12406.000 12512.000 12527.000 12537.000 12558.000 12583.000 12619.000 12640.000 12643.000 12650.000 12673.000 12676.000 12687.000 12725.000 12732.000 12766.000 12768.000 12790.000 12804.000 12810.000 12830.000 12868.000 12896.000 12946.000 12951.000 12957.000 12958.000 13001.000 13021.000 13114.000 13124.000 13133.000 13173.000 13188.000 13198.000 13241.000 13261.000 13264.000 13279.000 13285.000 13313.000 13314.000 13318.000 13333.000 13346.000 13364.000 13370.000 13405.000 13414.000 13423.000 13439.000 13441.000 13450.000 13515.000 
query 2 nn's (52136, 62135): 4927764 (61896) 5193386 (58419) 9602743 (57407) 4710102 (57576) 5423341 (53232) 2961580 (56149) 9485250 (57717) 1425558 (59965) 323907 (52531) 8971627 (61869) 6648184 (54160) 7126935 (58871) 2557172 (56410) 2655117 (60703) 3995931 (55015) 6451690 (52651) 6373557 (58681) 8517921 (54220) 1129169 (58977) 8719744 (57812) 4671238 (54210) 6334408 (55203) 8672644 (53328) 661907 (56261) 4549888 (60192) 8060848 (58300) 5641036 (54953) 9819304 (57396) 4941321 (55126) 9436821 (52252) 2826478 (53769) 7430287 (54464) 2732881 (61677) 2284689 (60389) 6256134 (53229) 9117124 (55844) 9621014 (58796) 3096611 (52704) 2822411 (58823) 8584412 (52154) 8053598 (54560) 1445118 (59573) 9501475 (58076) 8553474 (54164) 7841564 (59049) 7356063 (53757) 2895724 (58490) 8628294 (54056) 5546198 (61399) 4661017 (60528) 3199638 (54669) 7116944 (61848) 9613009 (59128) 6486439 (55115) 1599377 (56281) 8805708 (53769) 974463 (55906) 6272121 (61696) 6483343 (60017) 6799372 (55481) 4355657 (61843) 3767167 (54407) 5394801 (53600) 1769008 (54664) 7377075 (58903) 4035325 (52328) 6561491 (60260) 2413880 (59249) 1897140 (54275) 6428092 (52565) 3762208 (58839) 8270538 (52862) 2661006 (61124) 2938213 (60317) 7031128 (54775) 5348187 (52922) 9085967 (53557) 7744934 (61444) 6286063 (53284) 7956197 (59912) 8202597 (57013) 3438561 (62031) 8311897 (54795) 5747150 (57010) 7431148 (54916) 9408207 (60206) 6084444 (52823) 1865410 (61842) 2834870 (59120) 7579941 (58916) 8521247 (57719) 3742396 (52932) 3883489 (56906) 6612758 (61424) 7222957 (62063) 5754999 (57415) 665636 (57779) 1745173 (52657) 6680530 (52729) 2927516 (53751) 
     dis: 	6596.000 7399.000 8053.000 8124.000 8500.000 8750.000 8960.000 9126.000 9129.000 9180.000 9989.000 10002.000 10077.000 10248.000 10255.000 10268.000 10278.000 10307.000 10780.000 10852.000 10951.000 10971.000 10972.000 11098.000 11234.000 11277.000 11305.000 11361.000 11390.000 11430.000 11457.000 11513.000 11573.000 11576.000 11594.000 11681.000 11696.000 11726.000 11751.000 11798.000 11881.000 11894.000 11894.000 11936.000 11948.000 12018.000 12043.000 12092.000 12131.000 12161.000 12208.000 12213.000 12220.000 12242.000 12272.000 12289.000 12313.000 12324.000 12341.000 12343.000 12392.000 12412.000 12424.000 12440.000 12575.000 12639.000 12687.000 12696.000 12727.000 12743.000 12759.000 12786.000 12793.000 12828.000 12835.000 12844.000 12844.000 12853.000 12870.000 12918.000 12918.000 12922.000 12926.000 12927.000 12939.000 12973.000 12974.000 13006.000 13010.000 13043.000 13048.000 13063.000 13074.000 13076.000 13104.000 13130.000 13182.000 13183.000 13187.000 13197.000 
query 3 nn's (22672, 32671): 7020630 (23256) 1717763 (23291) 391722 (24862) 3188407 (24304) 8232477 (31632) 4251611 (29775) 9892318 (23797) 5621855 (30749) 3626273 (24674) 7435385 (25937) 5563393 (26978) 6703969 (32159) 2851767 (31496) 9335946 (29064) 3517824 (30137) 2838160 (25464) 3172637 (27093) 188678 (31172) 382902 (29996) 3554434 (25036) 9030244 (27086) 3787993 (28927) 5416898 (25474) 899773 (23901) 1174438 (25123) 2047471 (29467) 1874108 (26952) 2816747 (24284) 5429466 (28066) 7999457 (23329) 928307 (26649) 348294 (30612) 1064017 (27551) 5041302 (28077) 9768015 (27196) 4008866 (31551) 6462625 (26730) 6060979 (26718) 2406313 (31512) 2262413 (27923) 2605021 (27817) 6021023 (28888) 2540060 (25368) 9750958 (29512) 1682348 (28974) 6370666 (26200) 973000 (25306) 8765050 (29452) 9678835 (25892) 8768561 (27492) 3640666 (29719) 2024671 (25266) 8281351 (26861) 6049067 (27212) 6139929 (31601) 173114 (26788) 2687611 (26115) 4891478 (24137) 5492868 (22990) 7701998 (25859) 6723787 (22764) 8448447 (22710) 1156062 (28000) 1763202 (24922) 9076327 (26379) 2123002 (28494) 9097715 (30141) 5089352 (23180) 636366 (27746) 9061349 (29953) 3228780 (23488) 2211024 (27903) 2972885 (25046) 1088105 (26342) 2212301 (28845) 5542604 (30912) 613079 (31456) 8458676 (25257) 5788714 (28807) 3315014 (31678) 6623327 (23063) 9322731 (30650) 4736812 (26986) 7004651 (23583) 6370197 (23516) 9942674 (25583) 6400458 (23700) 8144622 (27706) 1088112 (29730) 9671312 (29336) 4392973 (26149) 5479426 (24290) 8537787 (29720) 4094764 (23801) 7747720 (27827) 2092403 (30332) 6865812 (25074) 7470103 (25661) 7251101 (30664) 5812931 (28696) 
     dis: 	8902.000 9696.000 9931.000 9960.000 10280.000 10455.000 10541.000 10647.000 10834.000 11029.000 11117.000 11156.000 11197.000 11451.000 11535.000 11656.000 11717.000 11745.000 11864.000 11958.000 12099.000 12101.000 12110.000 12142.000 12177.000 12269.000 12281.000 12406.000 12480.000 12584.000 12623.000 12645.000 12675.000 12681.000 12790.000 12793.000 12818.000 12820.000 12937.000 12951.000 12951.000 12952.000 12994.000 12995.000 13019.000 13027.000 13028.000 13066.000 13080.000 13084.000 13090.000 13098.000 13099.000 13122.000 13133.000 13160.000 13178.000 13186.000 13231.000 13269.000 13282.000 13293.000 13296.000 13327.000 13418.000 13423.000 13439.000 13449.000 13454.000 13464.000 13473.000 13508.000 13513.000 13537.000 13543.000 13577.000 13589.000 13603.000 13613.000 13621.000 13668.000 13672.000 13694.000 13694.000 13696.000 13715.000 13723.000 13731.000 13745.000 13750.000 13761.000 13775.000 13823.000 13897.000 13932.000 13992.000 13999.000 14006.000 14028.000 14032.000 
query 4 nn's (53667, 63666): 7373067 (53855) 2038833 (53914) 9044829 (55243) 6782257 (61394) 6934935 (62103) 8774147 (59338) 3192757 (54312) 1444782 (58902) 5685630 (55650) 8627902 (60097) 8641215 (59349) 2266290 (57733) 9407510 (57340) 1071436 (56465) 4734386 (57789) 7003644 (54071) 7921516 (63604) 6680137 (61587) 2157254 (54534) 7816576 (63230) 3510502 (59384) 6851242 (63477) 1595830 (57396) 5627225 (58815) 7650915 (63278) 6549886 (63665) 1622397 (56749) 8738517 (63250) 8986848 (63373) 1674437 (53911) 8426193 (60985) 5634200 (62406) 5602950 (61681) 1993129 (58248) 3010435 (61979) 7333867 (56073) 316811 (62016) 6592347 (55694) 9547187 (59174) 3932969 (59429) 4293822 (53844) 8146928 (54038) 1030972 (60461) 70067 (60752) 7737218 (55024) 8842571 (59976) 9269367 (60752) 2658409 (57189) 8321482 (58612) 9151038 (61386) 7868398 (58238) 4574270 (55991) 898651 (54084) 461309 (63195) 2027548 (61260) 7759992 (61879) 882915 (58760) 93980 (54430) 2091267 (61600) 2085742 (55021) 952427 (59927) 5784602 (59746) 303769 (57852) 504144 (59325) 630722 (63436) 2338568 (54791) 8680586 (54702) 403008 (58606) 1842376 (62159) 6797251 (62260) 6485682 (59957) 9464897 (57327) 8534601 (57591) 8482818 (58069) 1305842 (59374) 7994659 (61768) 1616411 (59730) 7209064 (57434) 1882345 (56296) 7614449 (57230) 9241832 (55493) 5168059 (56510) 7979713 (60253) 6855387 (63425) 134402 (56167) 7830086 (62024) 8057249 (54214) 9323917 (59260) 2729337 (61402) 4689913 (62759) 9612883 (62024) 7565373 (63474) 7724487 (61219) 5904626 (54014) 642242 (63344) 3976672 (63221) 337707 (57365) 5998621 (55621) 5892674 (57412) 9894978 (57257) 
     dis: 	5809.000 6330.000 6416.000 6419.000 6557.000 6791.000 6817.000 6837.000 6845.000 7009.000 7009.000 7028.000 7052.000 7080.000 7165.000 7191.000 7197.000 7215.000 7251.000 7280.000 7293.000 7312.000 7322.000 7348.000 7355.000 7395.000 7443.000 7465.000 7490.000 7505.000 7517.000 7520.000 7552.000 7568.000 7568.000 7572.000 7573.000 7578.000 7584.000 7605.000 7607.000 7626.000 7648.000 7672.000 7700.000 7705.000 7705.000 7708.000 7710.000 7711.000 7717.000 7733.000 7785.000 7797.000 7804.000 7806.000 7815.000 7827.000 7827.000 7835.000 7841.000 7849.000 7866.000 7874.000 7885.000 7888.000 7902.000 7908.000 7917.000 7921.000 7924.000 7924.000 7932.000 7935.000 7945.000 7945.000 7961.000 7981.000 7992.000 8007.000 8013.000 8027.000 8030.000 8033.000 8056.000 8063.000 8066.000 8076.000 8082.000 8086.000 8092.000 8095.000 8097.000 8102.000 8125.000 8125.000 8129.000 8155.000 8172.000 8172.000 
[ 118.404s ] *** Query time: 36.478
qps: 274.137
 *** HNSW recall 
HNSW get 752024 postive res from 1000000 results, recall@100:0.752
recall dist(10% per bucket): 0.002 0.000 0.002 0.012 0.042 0.091 0.154 0.239 0.309 0.149 0.000 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 113768118, average: 11376.812
finished ivfpq index examples
[ 118.434s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 180 100"
	User time (seconds): 95.04
	System time (seconds): 14.46
	Percent of CPU this job got: 91%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:59.35
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7280552
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 19
	Minor (reclaiming a frame) page faults: 3587905
	Voluntary context switches: 24656
	Involuntary context switches: 215
	Swaps: 0
	File system inputs: 1411864
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 21:47
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 180
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.705s ] Loaded metadata, 10000000 attr's found
[ 0.706s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.708s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.709s ] Loaded 10000 spacev10m queries
[ 0.778s ] Loaded ground truth, gt_size: 100
[ 0.778s ] Index Params -- d: 100, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 19.640s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 122.775s ] Query results (vector ids, then distances):
query 0 nn's (4494, 5493): 6149370 (4957) 1293452 (4967) 7693645 (4921) 2272371 (5258) 6166564 (4617) 2878726 (5050) 2939481 (4939) 841307 (4995) 9641558 (4559) 7971557 (4951) 7587297 (4745) 8339032 (4998) 3403324 (5319) 8846424 (4510) 7626662 (4961) 6139591 (5168) 2525390 (4928) 2566361 (4712) 2649450 (5095) 3104386 (4508) 3861176 (4951) 3273060 (5238) 1054198 (5200) 150742 (5127) 8123559 (4778) 3890885 (4901) 2715923 (5307) 7968754 (4603) 1529315 (5187) 8034974 (4666) 164681 (4707) 8793617 (5207) 9450001 (4799) 8662751 (4989) 313314 (4764) 1641239 (4688) 6426108 (4564) 962202 (5172) 833451 (4807) 9486671 (5148) 3173329 (4809) 8450201 (5312) 5157659 (4544) 1256799 (4718) 5904346 (4980) 994332 (4755) 6642624 (5480) 8422798 (5387) 7076875 (4503) 9869237 (5347) 7721876 (4649) 3001361 (5378) 1523422 (4698) 2962059 (4968) 2108112 (5340) 4560906 (4753) 9778488 (4723) 4051016 (4720) 5735813 (5229) 81149 (5410) 2951475 (5402) 2180294 (5137) 7576433 (4873) 6976452 (5357) 426798 (5272) 2924112 (5484) 5388926 (5252) 2797631 (5015) 9809571 (5136) 500897 (4982) 5312263 (5474) 7341688 (4642) 5306064 (5308) 7774129 (5340) 8845703 (4655) 5107051 (4900) 7830 (4887) 2130950 (4986) 1862634 (5302) 5038227 (5331) 6068792 (4506) 5586511 (5238) 4860487 (4737) 260591 (4877) 9236570 (4775) 3508526 (4618) 5705291 (5365) 6258043 (4727) 800958 (4629) 718855 (5370) 5922257 (4923) 9739162 (5443) 8504073 (5342) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	9931.000 12069.000 12361.000 12379.000 12566.000 12817.000 12877.000 12937.000 13067.000 13373.000 13914.000 14022.000 14180.000 14180.000 14186.000 14515.000 14541.000 14634.000 14892.000 15292.000 15331.000 15386.000 15492.000 15626.000 15843.000 15937.000 16199.000 16519.000 16654.000 16685.000 16706.000 16748.000 16854.000 16937.000 16997.000 17039.000 17127.000 17392.000 17431.000 17610.000 17720.000 18112.000 18157.000 18183.000 18412.000 18537.000 18558.000 18563.000 18577.000 18709.000 18869.000 18886.000 18892.000 19012.000 19177.000 19189.000 19579.000 19682.000 19934.000 19939.000 20076.000 20095.000 20145.000 20150.000 20185.000 20241.000 20332.000 20362.000 20444.000 20459.000 20596.000 20729.000 20742.000 20789.000 20921.000 21105.000 21177.000 21318.000 21428.000 21465.000 21492.000 21607.000 21856.000 21974.000 22330.000 22565.000 22963.000 23854.000 23914.000 24002.000 24145.000 24398.000 25325.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (37505, 38504): 5755448 (37848) 5790200 (38489) 4994601 (38150) 364702 (38495) 7789051 (37871) 8391132 (38008) 4358727 (38259) 6449676 (37850) 3563306 (37529) 9358072 (38328) 4114888 (38331) 2765139 (38363) 4415604 (38158) 6208044 (38131) 2976175 (38112) 639982 (37719) 6240841 (38110) 4615489 (37755) 4883089 (38051) 6801383 (38265) 8728963 (38317) 9171145 (37851) 670596 (38129) 5036152 (38170) 6907210 (37982) 8917241 (38000) 5245088 (37994) 8210644 (38465) 524045 (37671) 1933133 (38461) 4753113 (38039) 4100706 (38207) 6230820 (38002) 9439477 (38152) 9888520 (38043) 6367299 (37591) 6335665 (38019) 1678069 (38181) 109891 (37647) 108808 (38064) 5980935 (37601) 5670794 (37739) 7304059 (38117) 5861640 (37849) 7917318 (37524) 6086754 (38286) 9044463 (38492) 6757616 (38048) 2432861 (37583) 1937248 (37551) 8450025 (37924) 5356443 (37875) 2422906 (37773) 6222294 (38021) 7686719 (37676) 9491356 (37983) 1697632 (38180) 4435251 (37806) 772881 (37676) 1775357 (38129) 9691114 (37825) 41817 (38393) 5586106 (37684) 3573128 (37664) 6946800 (38444) 3559352 (38038) 6089889 (37710) 9914975 (37528) 8013830 (38150) 5186572 (38096) 6686864 (38464) 7905804 (38193) 2154617 (37951) 3889185 (37938) 4301551 (37566) 1390673 (38071) 5496227 (37705) 7653685 (37890) 3605872 (38284) 4257395 (37938) 6139907 (37859) 8873143 (38148) 4493481 (37516) 5627508 (38075) 5204535 (37602) 9207810 (38107) 1221495 (38464) 582597 (37707) 6513017 (37514) 5704344 (37864) 2054617 (38263) 3055324 (37967) 7684883 (37956) 6564162 (37869) 5616073 (37857) 6077685 (37633) 6481963 (38498) 2519599 (38194) -1 (0) -1 (0) 
     dis: 	11958.000 12584.000 12692.000 12831.000 12963.000 13165.000 13483.000 13615.000 13624.000 13675.000 13810.000 13990.000 14087.000 14199.000 14381.000 14383.000 14388.000 14416.000 14563.000 14605.000 14733.000 14823.000 14900.000 14918.000 14987.000 15137.000 15187.000 15229.000 15242.000 15310.000 15382.000 15482.000 15627.000 15647.000 15730.000 15738.000 15754.000 15771.000 15807.000 15903.000 15948.000 15955.000 15972.000 16018.000 16118.000 16171.000 16231.000 16233.000 16243.000 16516.000 16553.000 16654.000 16698.000 16699.000 16724.000 16909.000 17001.000 17029.000 17035.000 17082.000 17146.000 17147.000 17149.000 17287.000 17297.000 17322.000 17535.000 17571.000 17627.000 17735.000 17742.000 17890.000 18129.000 18287.000 18288.000 18376.000 18422.000 18577.000 18756.000 18783.000 18784.000 19128.000 19182.000 19185.000 19199.000 19333.000 19712.000 19720.000 19840.000 20146.000 20213.000 20880.000 20952.000 20960.000 21788.000 22139.000 22852.000 23909.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (17888, 18887): 2882757 (18506) 2768752 (18434) 7958660 (18369) 5798651 (18171) 7060335 (18263) 6489161 (18260) 192071 (18322) 4001654 (18856) 3411918 (18701) 3343989 (18166) 5811483 (17911) 2280297 (17981) 3852413 (18339) 5957745 (18686) 3999866 (18861) 8865121 (18145) 8034017 (18651) 6367156 (18275) 9241288 (18797) 7090551 (18836) 2366170 (18194) 2391262 (18259) 7376385 (18103) 4850757 (18188) 8309473 (18465) 5448231 (18819) 7959685 (18166) 2871547 (18852) 8066186 (17981) 3354445 (18294) 4168146 (17986) 1873081 (18181) 8124614 (18842) 6099914 (18549) 8216340 (18735) 9513895 (18319) 7993234 (18796) 7108926 (18374) 1884383 (17893) 8770132 (18866) 2353254 (18646) 478591 (18562) 5675374 (18834) 6014912 (18801) 521025 (17968) 4027166 (18166) 5195477 (18651) 1949178 (18313) 2700280 (18066) 5019670 (18538) 4053717 (18551) 5821338 (18161) 8608568 (17985) 6017672 (17996) 9128329 (18149) 101802 (18857) 1784879 (18458) 2275994 (18794) 1183479 (18174) 2314588 (18137) 4661530 (18729) 6917249 (18651) 7428472 (18729) 6639063 (17968) 56338 (17993) 9189571 (18379) 855393 (18687) 6676825 (18500) 4557872 (18056) 7691157 (18781) 3912036 (18729) 7030082 (18405) 6477483 (18158) 4224699 (18649) 5466627 (18543) 8353852 (18659) 7911705 (18699) 4972918 (18448) 4688341 (18217) 4880980 (18762) 6276892 (17939) 8109257 (18733) 6386157 (18259) 6764409 (18754) 9210718 (18230) 8155063 (18619) 4777271 (18078) 5139305 (18604) 1763534 (18693) 9416604 (18768) 8328117 (18713) 600826 (18191) 5887334 (17917) 6704547 (18386) 9187462 (18779) 8614245 (18547) 8856577 (17986) 1637064 (18637) -1 (0) -1 (0) 
     dis: 	7205.000 7919.000 8106.000 9228.000 10539.000 10585.000 10681.000 11019.000 11573.000 12331.000 12531.000 12570.000 12748.000 12807.000 12848.000 12905.000 12947.000 13207.000 13386.000 13625.000 13718.000 13834.000 13856.000 14016.000 14201.000 14218.000 14545.000 14551.000 14874.000 15106.000 15107.000 15166.000 15182.000 15208.000 15255.000 15416.000 15430.000 15632.000 15930.000 16179.000 16183.000 16296.000 16340.000 16342.000 16441.000 16458.000 16482.000 16495.000 16867.000 16874.000 16914.000 17043.000 17316.000 17325.000 17329.000 17332.000 17346.000 17396.000 17511.000 17517.000 17630.000 17840.000 17861.000 17956.000 17967.000 17999.000 18097.000 18376.000 18474.000 18497.000 18559.000 18563.000 18748.000 18810.000 18810.000 18850.000 18880.000 18892.000 18957.000 19074.000 19162.000 19511.000 19531.000 19590.000 19599.000 19767.000 20033.000 20265.000 20472.000 20503.000 20624.000 20849.000 20896.000 21023.000 21078.000 21181.000 21409.000 23822.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (11109, 12108): 5687185 (12097) 6424074 (11699) 561416 (11821) 8459637 (11541) 1473665 (11327) 3969193 (11781) 7578623 (11167) 5285822 (11716) 6557504 (11784) 3061123 (12077) 9894410 (11400) 2424648 (11129) 3438424 (12046) 8609160 (11466) 859638 (11189) 9473281 (11500) 7937205 (11170) 7541575 (11631) 3528080 (11991) 3845490 (11792) 6629237 (12082) 5897187 (11180) 5697552 (11833) 7552894 (11937) 1391692 (11422) 9840080 (11119) 3658156 (11292) 1720982 (11766) 6270653 (11527) 4423202 (11952) 106710 (11544) 3446242 (11722) 502582 (12035) 2485086 (12063) 9597095 (11205) 8229538 (11134) 1914155 (11740) 9247213 (11230) 3477004 (11153) 8572087 (11961) 6310340 (11188) 9745702 (11582) 839209 (11280) 7578461 (11447) 233732 (11413) 376526 (11517) 9191885 (11559) 8952131 (11609) 3408695 (11837) 2254437 (11124) 390566 (11744) 1735300 (12073) 8960772 (11819) 9644961 (11733) 2734818 (11802) 7398754 (11905) 3110232 (11910) 4521557 (11332) 5644680 (11333) 2101938 (12042) 4590712 (12004) 4275955 (11285) 3638990 (11406) 7297931 (11669) 5929890 (12108) 7138221 (11673) 3130817 (11786) 6256348 (12032) 1492204 (12072) 3845596 (12065) 1228036 (11864) 5793990 (11157) 4029639 (12099) 544714 (12085) 964334 (11321) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	11303.000 11499.000 12457.000 12656.000 13579.000 13592.000 13610.000 13837.000 14108.000 14346.000 14518.000 14524.000 15031.000 15044.000 15196.000 15485.000 15495.000 15503.000 15520.000 15642.000 15859.000 15928.000 16102.000 16211.000 16384.000 16416.000 16521.000 16540.000 16805.000 16931.000 16956.000 16995.000 17009.000 17044.000 17061.000 17090.000 17144.000 17191.000 17238.000 17319.000 17379.000 17562.000 17588.000 17729.000 17863.000 17865.000 17891.000 17923.000 17962.000 18012.000 18056.000 18383.000 18483.000 18516.000 18565.000 18658.000 18807.000 18926.000 19099.000 19104.000 19174.000 19226.000 19538.000 19542.000 20215.000 20279.000 20645.000 20678.000 20753.000 21021.000 21059.000 21949.000 23049.000 23110.000 23131.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (17141, 18140): 4786845 (17889) 1240644 (17247) 2074283 (17512) 7484886 (18002) 5552942 (18053) 6029035 (17286) 7743549 (17817) 5448676 (17561) 4503313 (18105) 8303469 (17684) 1800522 (17230) 1076381 (18061) 6989928 (17554) 8499942 (17237) 7015372 (17258) 7046889 (17920) 9480493 (17158) 9073627 (17569) 4748406 (17554) 3985403 (17886) 7784434 (18099) 2872613 (17421) 9926884 (17206) 5034204 (17945) 1093395 (17312) 3404541 (17889) 2960727 (17810) 1864804 (18125) 5912532 (17314) 8426340 (17315) 2211642 (17704) 5027333 (17667) 7607567 (17394) 7357787 (17204) 9172415 (17609) 6727020 (17675) 2282566 (17688) 4083979 (17257) 81123 (17508) 292669 (17782) 650719 (17992) 3631900 (17376) 1289054 (17901) 1268640 (17515) 3646315 (17914) 6903477 (17429) 8839051 (17723) 4820241 (18139) 3529947 (17192) 9767293 (17437) 8834122 (17566) 9157608 (17873) 9485167 (17592) 383774 (17679) 6001460 (17320) 6576138 (17174) 6327697 (17240) 237119 (17487) 9782411 (17507) 6282160 (17848) 8279241 (17848) 8608837 (17513) 1388400 (17151) 5242578 (17899) 9469644 (17227) 4405376 (17711) 2870696 (17770) 742684 (17220) 3067452 (18122) 6996554 (17626) 8333884 (17624) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	6881.000 7141.000 7559.000 7826.000 7993.000 7998.000 8017.000 8057.000 8161.000 8435.000 8521.000 8685.000 8693.000 8706.000 8722.000 8728.000 8810.000 8920.000 8974.000 8985.000 9008.000 9036.000 9039.000 9046.000 9084.000 9263.000 9298.000 9369.000 9377.000 9413.000 9493.000 9526.000 9559.000 9623.000 9731.000 9782.000 10115.000 10147.000 10323.000 10337.000 10677.000 10687.000 10786.000 10797.000 10874.000 10988.000 10996.000 11017.000 11044.000 11048.000 11090.000 11194.000 11368.000 11414.000 11520.000 11598.000 11968.000 11991.000 12210.000 12273.000 12469.000 12513.000 12542.000 12608.000 13068.000 14395.000 14502.000 14823.000 15112.000 16142.000 19925.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 122.775s ] *** Query time: 36.914
qps: 270.898
 *** HNSW recall 
HNSW get 309892 postive res from 1000000 results, recall@100:0.310
recall dist(10% per bucket): 0.008 0.094 0.316 0.416 0.154 0.011 0.000 0.000 0.000 0.000 0.000 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 113768118, average: 11376.812
finished ivfpq index examples
[ 122.806s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_100.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 180 100"
	User time (seconds): 96.72
	System time (seconds): 13.91
	Percent of CPU this job got: 89%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:03.63
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7282596
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 3491654
	Voluntary context switches: 8599
	Involuntary context switches: 163
	Swaps: 0
	File system inputs: 17008
	File system outputs: 48
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 22:52
====================
START: running TEST_HNSW, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 180
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.732s ] Loaded metadata, 10000000 attr's found
[ 0.732s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.734s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.736s ] Loaded 10000 spacev10m queries
[ 0.804s ] Loaded ground truth, gt_size: 100
[ 0.804s ] Index Params -- d: 100, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 20.379s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 121.299s ] Query results (vector ids, then distances):
query 0 nn's (15274, 15373): 5769046 (15300) 4702781 (15290) 2493110 (15304) 8873052 (15371) 3136033 (15361) 6353613 (15327) 2893246 (15330) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	9760.000 15871.000 16052.000 17844.000 18599.000 19310.000 23289.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (47455, 47554): 7518689 (47475) 8895531 (47457) 2593429 (47531) 574370 (47461) 9847754 (47504) 3269594 (47508) 717340 (47541) 6667416 (47485) 5381233 (47489) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	14099.000 16033.000 16302.000 17604.000 17740.000 18234.000 18982.000 19968.000 20668.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (2622, 2721): 9318566 (2630) 1562829 (2650) 3913522 (2654) 2012904 (2667) 9247478 (2654) 5355539 (2642) 2610444 (2683) 8958075 (2662) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	13497.000 15124.000 16142.000 16952.000 18595.000 19500.000 20951.000 21385.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (73957, 74056): 6689609 (74003) 4050481 (73978) 3150044 (74030) 1918132 (74029) 1295766 (73963) 112118 (73999) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	11782.000 13924.000 16419.000 17731.000 18259.000 18594.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (58381, 58480): 1006805 (58478) 1999660 (58444) 1919573 (58401) 2844441 (58409) 2276653 (58401) 2057281 (58381) 9469682 (58423) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	8433.000 8443.000 9235.000 9939.000 11072.000 15117.000 16897.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 121.300s ] *** Query time: 37.015
qps: 270.158
 *** HNSW recall 
HNSW get 62819 postive res from 1000000 results, recall@100:0.063
recall dist(10% per bucket): 0.872 0.128 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 113768118, average: 11376.812
finished ivfpq index examples
[ 121.330s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_100.json /mnt/data/mocheng/dataset/spacev10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 180 100"
	User time (seconds): 94.95
	System time (seconds): 13.81
	Percent of CPU this job got: 89%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:02.19
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7280548
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 15
	Minor (reclaiming a frame) page faults: 3415402
	Voluntary context switches: 18162
	Involuntary context switches: 178
	Swaps: 0
	File system inputs: 380856
	File system outputs: 72
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
