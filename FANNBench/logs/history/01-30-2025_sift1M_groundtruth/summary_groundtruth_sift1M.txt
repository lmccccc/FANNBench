

===============================================================================================================
START: generating groundtruth

N: 1000000
dataset: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
attr: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
query: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
qrange: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_dist/qrangesel_1000_1_100000_in_dist.json
output: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_dist/sif_gt_sel_1000_1_100000_in_dist_10.json
topk: 10
dim: 128
start
[0.335 s] Loaded dataset, size=1000000, dim=128
[0.402 s] Loaded attr, size=0
[0.402 s] Loading query vectors and attributes
query vecs data loaded, with dim: 128, size=10000
[0.406 s] Loaded query vectors
[0.407 s] Loaded 10000 queries
====================Vectors====================

[0.407 s] Loading database
data loaded, with dim: 128, nb=1000000
[0.407 s] Indexing database, size 1000000*128 from max 1000000
[0.666 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[0.694 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[1.711 s] Query results (vector ids, then distances):
query 0, qrange [55706, 56706]
      nns 0 id:985197 attr:55706 dis:85705
      nns 1 id:929268 attr:56642 dis:90601
      nns 2 id:158920 attr:56531 dis:94614
      nns 3 id:670001 attr:56197 dis:98975
      nns 4 id:376039 attr:56370 dis:99431
      nns 5 id:750221 attr:56107 dis:101190
      nns 6 id:942150 attr:55742 dis:102168
      nns 7 id:146799 attr:56539 dis:103683
      nns 8 id:104289 attr:56041 dis:104210
      nns 9 id:841376 attr:56608 dis:104890

query 1, qrange [67980, 68980]
      nns 0 id:749009 attr:68318 dis:68951
      nns 1 id:14967 attr:68025 dis:72955
      nns 2 id:983067 attr:68148 dis:74427
      nns 3 id:861673 attr:68346 dis:75541
      nns 4 id:915357 attr:68952 dis:76880
      nns 5 id:751147 attr:68446 dis:77329
      nns 6 id:21180 attr:68216 dis:77545
      nns 7 id:399440 attr:68145 dis:78693
      nns 8 id:703040 attr:68851 dis:80173
      nns 9 id:886283 attr:68702 dis:80181

query 2, qrange [39913, 40913]
      nns 0 id:529249 attr:40038 dis:42724
      nns 1 id:889222 attr:40046 dis:43287
      nns 2 id:101548 attr:40896 dis:47357
      nns 3 id:364882 attr:40787 dis:53996
      nns 4 id:660164 attr:40011 dis:56651
      nns 5 id:554622 attr:40378 dis:56768
      nns 6 id:709703 attr:40348 dis:58028
      nns 7 id:970396 attr:40772 dis:58710
      nns 8 id:398304 attr:40506 dis:59508
      nns 9 id:510254 attr:40600 dis:59794

query 3, qrange [7065, 8065]
      nns 0 id:190587 attr:7205 dis:40086
      nns 1 id:885742 attr:7570 dis:48282
      nns 2 id:886688 attr:7596 dis:49244
      nns 3 id:637312 attr:7656 dis:50981
      nns 4 id:903896 attr:7977 dis:51928
      nns 5 id:885977 attr:8063 dis:58212
      nns 6 id:856867 attr:7765 dis:59494
      nns 7 id:995111 attr:7981 dis:61432
      nns 8 id:929816 attr:7342 dis:61917
      nns 9 id:180849 attr:7590 dis:63655

query 4, qrange [75758, 76758]
      nns 0 id:122623 attr:76425 dis:63192
      nns 1 id:261550 attr:76602 dis:75159
      nns 2 id:680502 attr:75785 dis:76605
      nns 3 id:5897 attr:76478 dis:78055
      nns 4 id:786410 attr:76238 dis:79171
      nns 5 id:271576 attr:75802 dis:79702
      nns 6 id:430593 attr:76677 dis:80821
      nns 7 id:724273 attr:76134 dis:81894
      nns 8 id:689653 attr:75872 dis:83215
      nns 9 id:471497 attr:76495 dis:84249

[1.712 s] *** Query time: 1.016728
qps:9835.47
cmp per query:1000000
recall: 1 of course
sel distribution: 1 0 0 0 0 0 0 0 0 0 0 
selectivity: 0.00999629
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[29.217 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 1000000 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_100000_dist/attr_sel_1_100000_dist.json /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_100000_dist/qrangesel_1000_1_100000_in_dist.json /mnt/data/mocheng/dataset/sift/label/sel_1_100000_dist/sif_gt_sel_1000_1_100000_in_dist_10.json 10 128"
	User time (seconds): 122.74
	System time (seconds): 0.70
	Percent of CPU this job got: 421%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:29.26
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1027072
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 263685
	Voluntary context switches: 275
	Involuntary context switches: 2125
	Swaps: 0
	File system inputs: 0
	File system outputs: 1592
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
