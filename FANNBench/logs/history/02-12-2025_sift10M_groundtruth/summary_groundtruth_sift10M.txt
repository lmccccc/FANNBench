

===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
attr: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
query: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
qrange: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_20000_1_100000_random.json
output: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_20000_1_100000_random_10.json
topk: 10
dim: 128
start
[8.339 s] Loaded dataset, size=10000000, dim=128
[9.029 s] Loaded attr, size=0
[9.029 s] Loading query vectors and attributes
query vecs data loaded, with dim: 128, size=10000
[9.032 s] Loaded query vectors
[9.034 s] Loaded 10000 queries
====================Vectors====================

[9.034 s] Loading database
data loaded, with dim: 128, nb=10000000
[9.034 s] Indexing database, size 10000000*128 from max 10000000
[11.529 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[11.805 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[87.695 s] Query results (vector ids, then distances):
query 0, qrange [69511, 89510]
      nns 0 id:2898305 attr:81060 dis:67180
      nns 1 id:2515600 attr:87061 dis:73465
      nns 2 id:5284494 attr:77667 dis:73728
      nns 3 id:5579551 attr:73681 dis:78568
      nns 4 id:8191903 attr:80886 dis:78749
      nns 5 id:796249 attr:83985 dis:79534
      nns 6 id:1174332 attr:72376 dis:79542
      nns 7 id:6552863 attr:70192 dis:80001
      nns 8 id:8606715 attr:70899 dis:80125
      nns 9 id:6777756 attr:78948 dis:80573

query 1, qrange [75084, 95083]
      nns 0 id:5552416 attr:78513 dis:42944
      nns 1 id:2253711 attr:93133 dis:45140
      nns 2 id:4907604 attr:92608 dis:46066
      nns 3 id:1263214 attr:92124 dis:47608
      nns 4 id:1909131 attr:86406 dis:51310
      nns 5 id:5271910 attr:85162 dis:52252
      nns 6 id:1745130 attr:81239 dis:54734
      nns 7 id:1526669 attr:94819 dis:58488
      nns 8 id:2002301 attr:75474 dis:59534
      nns 9 id:1503119 attr:86342 dis:59550

query 2, qrange [20528, 40527]
      nns 0 id:289025 attr:23641 dis:48416
      nns 1 id:9416415 attr:22498 dis:51724
      nns 2 id:436139 attr:39429 dis:52554
      nns 3 id:4279056 attr:31979 dis:52719
      nns 4 id:5988705 attr:35014 dis:53001
      nns 5 id:4154052 attr:32764 dis:53029
      nns 6 id:2448858 attr:26319 dis:53034
      nns 7 id:7654217 attr:36735 dis:53106
      nns 8 id:893390 attr:20914 dis:53672
      nns 9 id:4331583 attr:20733 dis:54277

query 3, qrange [50565, 70564]
      nns 0 id:980813 attr:57404 dis:4296
      nns 1 id:6151275 attr:54227 dis:4602
      nns 2 id:8410503 attr:57593 dis:4817
      nns 3 id:2965607 attr:50671 dis:5013
      nns 4 id:7301932 attr:58021 dis:5240
      nns 5 id:6917633 attr:65929 dis:5626
      nns 6 id:1417424 attr:52791 dis:5643
      nns 7 id:3041965 attr:53918 dis:6095
      nns 8 id:727241 attr:54631 dis:6237
      nns 9 id:8649378 attr:64804 dis:6468

query 4, qrange [27670, 47669]
      nns 0 id:9958618 attr:32063 dis:80415
      nns 1 id:6578584 attr:38818 dis:82172
      nns 2 id:4344456 attr:43616 dis:85939
      nns 3 id:9569496 attr:46755 dis:86883
      nns 4 id:6247742 attr:31794 dis:88258
      nns 5 id:5175563 attr:46909 dis:88607
      nns 6 id:9033526 attr:27859 dis:89480
      nns 7 id:6551841 attr:44576 dis:89542
      nns 8 id:6203168 attr:30151 dis:89955
      nns 9 id:6357047 attr:37869 dis:90314

[87.695 s] *** Query time: 75.889615
qps:131.77
cmp per query:10000000
recall: 1 of course
sel distribution: 0 0.4074 0.5926 0 0 0 0 0 0 0 0 
selectivity: 0.200047
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[401.642 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_20000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_20000_1_100000_random_10.json 10 128"
	User time (seconds): 6203.75
	System time (seconds): 1825.47
	Percent of CPU this job got: 1996%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 6:42.11
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 10130432
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 63790259
	Voluntary context switches: 6215896
	Involuntary context switches: 282547
	Swaps: 0
	File system inputs: 10078248
	File system outputs: 1816
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
attr: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
query: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
qrange: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_30000_1_100000_random.json
output: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_30000_1_100000_random_10.json
topk: 10
dim: 128
start
[3.762 s] Loaded dataset, size=10000000, dim=128
[4.477 s] Loaded attr, size=0
[4.477 s] Loading query vectors and attributes
query vecs data loaded, with dim: 128, size=10000
[4.481 s] Loaded query vectors
[4.482 s] Loaded 10000 queries
====================Vectors====================

[4.482 s] Loading database
data loaded, with dim: 128, nb=10000000
[4.482 s] Indexing database, size 10000000*128 from max 10000000
[7.143 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[7.522 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[94.743 s] Query results (vector ids, then distances):
query 0, qrange [26072, 56071]
      nns 0 id:6141318 attr:31677 dis:73183
      nns 1 id:1160663 attr:44937 dis:74292
      nns 2 id:7293718 attr:39822 dis:75573
      nns 3 id:7077742 attr:48276 dis:76934
      nns 4 id:9397776 attr:41815 dis:77424
      nns 5 id:238649 attr:52700 dis:77858
      nns 6 id:7860530 attr:36909 dis:78859
      nns 7 id:7866119 attr:35104 dis:79448
      nns 8 id:2375126 attr:35044 dis:79929
      nns 9 id:77153 attr:55251 dis:79964

query 1, qrange [49523, 79522]
      nns 0 id:8449497 attr:70727 dis:32633
      nns 1 id:5552416 attr:78513 dis:42944
      nns 2 id:4234271 attr:59540 dis:44439
      nns 3 id:1233453 attr:72165 dis:48662
      nns 4 id:9492445 attr:65346 dis:48691
      nns 5 id:8349375 attr:52325 dis:49997
      nns 6 id:3309105 attr:58581 dis:51760
      nns 7 id:1120308 attr:58129 dis:52532
      nns 8 id:8596968 attr:57015 dis:52768
      nns 9 id:7343838 attr:71952 dis:54601

query 2, qrange [24174, 54173]
      nns 0 id:5055964 attr:53394 dis:42316
      nns 1 id:199400 attr:49790 dis:49395
      nns 2 id:5982237 attr:43009 dis:50144
      nns 3 id:3493381 attr:41222 dis:51043
      nns 4 id:6296252 attr:42595 dis:51071
      nns 5 id:7500565 attr:53476 dis:51634
      nns 6 id:436139 attr:39429 dis:52554
      nns 7 id:2511585 attr:51247 dis:52611
      nns 8 id:4279056 attr:31979 dis:52719
      nns 9 id:9609459 attr:52017 dis:52894

query 3, qrange [25028, 55027]
      nns 0 id:4083199 attr:37081 dis:3910
      nns 1 id:2205832 attr:41999 dis:4343
      nns 2 id:6151275 attr:54227 dis:4602
      nns 3 id:2965607 attr:50671 dis:5013
      nns 4 id:3643741 attr:49824 dis:5279
      nns 5 id:1417424 attr:52791 dis:5643
      nns 6 id:2358683 attr:37303 dis:5694
      nns 7 id:3459738 attr:36966 dis:5862
      nns 8 id:3041965 attr:53918 dis:6095
      nns 9 id:727241 attr:54631 dis:6237

query 4, qrange [33134, 63133]
      nns 0 id:6578584 attr:38818 dis:82172
      nns 1 id:3389697 attr:48484 dis:84350
      nns 2 id:4344456 attr:43616 dis:85939
      nns 3 id:9569496 attr:46755 dis:86883
      nns 4 id:3832333 attr:60859 dis:87409
      nns 5 id:7603300 attr:57407 dis:87829
      nns 6 id:5175563 attr:46909 dis:88607
      nns 7 id:6551841 attr:44576 dis:89542
      nns 8 id:990482 attr:57004 dis:90021
      nns 9 id:6357047 attr:37869 dis:90314

[94.743 s] *** Query time: 87.220351
qps:114.652
cmp per query:10000000
recall: 1 of course
sel distribution: 0 0 0.5005 0.4995 0 0 0 0 0 0 0 
selectivity: 0.300079
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[411.246 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_30000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_30000_1_100000_random_10.json 10 128"
	User time (seconds): 9786.72
	System time (seconds): 62.71
	Percent of CPU this job got: 2392%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 6:51.73
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 10132480
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 26
	Minor (reclaiming a frame) page faults: 10419324
	Voluntary context switches: 214446
	Involuntary context switches: 473813
	Swaps: 0
	File system inputs: 33232
	File system outputs: 1800
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0


===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
attr: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
query: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
qrange: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_40000_1_100000_random.json
output: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_40000_1_100000_random_10.json
topk: 10
dim: 128
start
[3.908 s] Loaded dataset, size=10000000, dim=128
[4.646 s] Loaded attr, size=0
[4.646 s] Loading query vectors and attributes
query vecs data loaded, with dim: 128, size=10000
[4.650 s] Loaded query vectors
[4.651 s] Loaded 10000 queries
====================Vectors====================

[4.651 s] Loading database
data loaded, with dim: 128, nb=10000000
[4.651 s] Indexing database, size 10000000*128 from max 10000000
[7.446 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[7.843 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[148.414 s] Query results (vector ids, then distances):
query 0, qrange [24508, 64507]
      nns 0 id:6141318 attr:31677 dis:73183
      nns 1 id:1160663 attr:44937 dis:74292
      nns 2 id:4738758 attr:63657 dis:74463
      nns 3 id:7293718 attr:39822 dis:75573
      nns 4 id:7632021 attr:61505 dis:75587
      nns 5 id:1020562 attr:25533 dis:76767
      nns 6 id:7077742 attr:48276 dis:76934
      nns 7 id:9397776 attr:41815 dis:77424
      nns 8 id:238649 attr:52700 dis:77858
      nns 9 id:9536881 attr:62309 dis:78206

query 1, qrange [6180, 46179]
      nns 0 id:285986 attr:29147 dis:43778
      nns 1 id:1273419 attr:33970 dis:46522
      nns 2 id:7501440 attr:19981 dis:46910
      nns 3 id:411491 attr:28374 dis:46959
      nns 4 id:3221056 attr:31139 dis:49695
      nns 5 id:469965 attr:40746 dis:50753
      nns 6 id:9958454 attr:20815 dis:51055
      nns 7 id:9791343 attr:31369 dis:51493
      nns 8 id:7917424 attr:30836 dis:52837
      nns 9 id:9009284 attr:43025 dis:52935

query 2, qrange [5082, 45081]
      nns 0 id:4588082 attr:5850 dis:47637
      nns 1 id:1931585 attr:19001 dis:48317
      nns 2 id:289025 attr:23641 dis:48416
      nns 3 id:5982237 attr:43009 dis:50144
      nns 4 id:9262583 attr:10127 dis:50601
      nns 5 id:3493381 attr:41222 dis:51043
      nns 6 id:6296252 attr:42595 dis:51071
      nns 7 id:9466222 attr:12113 dis:51654
      nns 8 id:9416415 attr:22498 dis:51724
      nns 9 id:436139 attr:39429 dis:52554

query 3, qrange [12841, 52840]
      nns 0 id:4083199 attr:37081 dis:3910
      nns 1 id:2205832 attr:41999 dis:4343
      nns 2 id:7269483 attr:17595 dis:4894
      nns 3 id:2965607 attr:50671 dis:5013
      nns 4 id:3643741 attr:49824 dis:5279
      nns 5 id:1985932 attr:17806 dis:5371
      nns 6 id:1417424 attr:52791 dis:5643
      nns 7 id:2358683 attr:37303 dis:5694
      nns 8 id:3459738 attr:36966 dis:5862
      nns 9 id:4904828 attr:13274 dis:6194

query 4, qrange [24316, 64315]
      nns 0 id:9958618 attr:32063 dis:80415
      nns 1 id:6578584 attr:38818 dis:82172
      nns 2 id:3389697 attr:48484 dis:84350
      nns 3 id:4344456 attr:43616 dis:85939
      nns 4 id:9569496 attr:46755 dis:86883
      nns 5 id:3832333 attr:60859 dis:87409
      nns 6 id:7603300 attr:57407 dis:87829
      nns 7 id:6247742 attr:31794 dis:88258
      nns 8 id:5175563 attr:46909 dis:88607
      nns 9 id:5709057 attr:27466 dis:89153

[148.415 s] *** Query time: 140.570917
qps:71.1385
cmp per query:10000000
recall: 1 of course
sel distribution: 0 0 0 0.2953 0.7047 0 0 0 0 0 0 
selectivity: 0.400102
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[457.512 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_40000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_40000_1_100000_random_10.json 10 128"
	User time (seconds): 13662.39
	System time (seconds): 808.97
	Percent of CPU this job got: 3158%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 7:38.12
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 10132480
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 26
	Minor (reclaiming a frame) page faults: 36581381
	Voluntary context switches: 589430
	Involuntary context switches: 1044505
	Swaps: 0
	File system inputs: 35032
	File system outputs: 1800
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
