

===============================================================================================================
START: generating groundtruth

N: 1000000
dataset: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
attr: /mnt/data/mocheng/dataset/redcaps1m/timestamp.json
query: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
qrange: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_6_random.json
output: /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_6_random_10.json
topk: 10
dim: 512
start
[1.383 s] Loaded dataset, size=1000000, dim=512
[1.457 s] Loaded attr, size=0
[1.457 s] Loading query vectors and attributes
query vecs data loaded, with dim: 512, size=10000
[1.471 s] Loaded query vectors
[1.473 s] Loaded 10000 queries
====================Vectors====================

[1.473 s] Loading database
data loaded, with dim: 512, nb=1000000
[1.473 s] Indexing database, size 1000000*512 from max 1000000
[2.456 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[2.546 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[37.444 s] Query results (vector ids, then distances):
query 0, qrange [1531765284, 1586036106]
      nns 0 id:562528 attr:1566573685 dis:0.640719
      nns 1 id:247269 attr:1560746907 dis:0.675931
      nns 2 id:864174 attr:1565212170 dis:0.743074
      nns 3 id:451328 attr:1575861272 dis:0.74962
      nns 4 id:7102 attr:1556316869 dis:0.758227
      nns 5 id:302070 attr:1544003614 dis:0.76279
      nns 6 id:880422 attr:1541478670 dis:0.768696
      nns 7 id:84548 attr:1560185703 dis:0.785718
      nns 8 id:316095 attr:1545934319 dis:0.787149
      nns 9 id:302187 attr:1583094900 dis:0.788031

query 1, qrange [1533381414, 1586782162]
      nns 0 id:363220 attr:1534188950 dis:0.0916659
      nns 1 id:979250 attr:1557017196 dis:0.1007
      nns 2 id:728340 attr:1574276126 dis:0.10094
      nns 3 id:660394 attr:1580653062 dis:0.102913
      nns 4 id:803332 attr:1550464472 dis:0.106259
      nns 5 id:361663 attr:1577302575 dis:0.10645
      nns 6 id:428754 attr:1544918864 dis:0.107467
      nns 7 id:30989 attr:1555612472 dis:0.108569
      nns 8 id:110189 attr:1563057799 dis:0.109342
      nns 9 id:984241 attr:1583369066 dis:0.109403

query 2, qrange [1545403871, 1592215459]
      nns 0 id:355537 attr:1569549910 dis:0.223724
      nns 1 id:880455 attr:1563252917 dis:0.225104
      nns 2 id:306439 attr:1587166763 dis:0.237904
      nns 3 id:757728 attr:1549394377 dis:0.240495
      nns 4 id:193180 attr:1590955321 dis:0.248944
      nns 5 id:216922 attr:1574356506 dis:0.255857
      nns 6 id:410774 attr:1584487571 dis:0.258191
      nns 7 id:301614 attr:1549070155 dis:0.262369
      nns 8 id:299577 attr:1575332164 dis:0.263628
      nns 9 id:445298 attr:1564084222 dis:0.263825

query 3, qrange [1554466574, 1597592400]
      nns 0 id:689368 attr:1577995933 dis:0.403229
      nns 1 id:889987 attr:1577990461 dis:0.403229
      nns 2 id:783586 attr:1570422403 dis:0.409305
      nns 3 id:428067 attr:1581847028 dis:0.432816
      nns 4 id:640717 attr:1596726949 dis:0.455442
      nns 5 id:687871 attr:1593890469 dis:0.459873
      nns 6 id:889856 attr:1584822371 dis:0.464965
      nns 7 id:609006 attr:1597400318 dis:0.465148
      nns 8 id:769868 attr:1557791942 dis:0.473549
      nns 9 id:213744 attr:1585996476 dis:0.47694

query 4, qrange [1532982229, 1586621511]
      nns 0 id:176027 attr:1553193585 dis:0.268897
      nns 1 id:598411 attr:1562017701 dis:0.286029
      nns 2 id:421184 attr:1558289958 dis:0.288926
      nns 3 id:959629 attr:1573860803 dis:0.29346
      nns 4 id:191044 attr:1536046753 dis:0.299727
      nns 5 id:754904 attr:1559689119 dis:0.305476
      nns 6 id:68136 attr:1585001657 dis:0.305922
      nns 7 id:231993 attr:1540849707 dis:0.306901
      nns 8 id:54130 attr:1565384067 dis:0.307967
      nns 9 id:742084 attr:1569712235 dis:0.307977

[37.444 s] *** Query time: 34.897456
qps:286.554
cmp per query:1000000
recall: 1 of course
sel distribution: 0 0 0 0 0 1 0 0 0 0 0 
selectivity: 0.5
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[65.179 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 1000000 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/timestamp.json /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_6_random.json /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_6_random_10.json 10 512"
	User time (seconds): 3067.09
	System time (seconds): 653.22
	Percent of CPU this job got: 5692%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:05.35
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 4042752
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 23091537
	Voluntary context switches: 1108405
	Involuntary context switches: 154003
	Swaps: 0
	File system inputs: 0
	File system outputs: 1608
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
