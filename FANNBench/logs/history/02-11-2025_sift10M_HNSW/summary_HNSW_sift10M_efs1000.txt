Start time: 08:39
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 1000
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.799s ] Loaded metadata, 10000000 attr's found
[ 0.799s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.841s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.864s ] Loaded 10000 sift10M queries
[ 0.885s ] Loaded ground truth, gt_size: 10
[ 0.885s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 17.248s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 426.772s ] Query results (vector ids, then distances):
query 0 nn's (44843, 44942): 1160663 (44937) 593325 (44939) 1609860 (44874) 1923487 (44877) 6005033 (44913) 3095531 (44920) 7091829 (44878) 9837787 (44900) 2306496 (44877) 4414639 (44852) 
     dis: 	74292.000 93971.000 98657.000 100638.000 107799.000 111975.000 113152.000 113619.000 113824.000 115779.000 
query 1 nn's (42821, 42920): 7957648 (42897) 8453351 (42853) 4754171 (42830) 635661 (42825) 1565098 (42885) 4062412 (42832) 5498897 (42903) 7656223 (42884) 2836390 (42856) 508412 (42834) 
     dis: 	81752.000 85545.000 85715.000 88316.000 93990.000 95550.000 102246.000 104330.000 107201.000 109311.000 
query 2 nn's (13165, 13264): 2858053 (13240) 8500702 (13178) 5121329 (13223) 4306175 (13182) 3494307 (13167) 342160 (13197) 3380755 (13173) 1686475 (13254) 5928403 (13190) 6648054 (13203) 
     dis: 	63217.000 70202.000 70372.000 70560.000 71173.000 73304.000 75586.000 83570.000 86007.000 88435.000 
query 3 nn's (25839, 25938): 6617844 (25931) 7567068 (25855) 5530477 (25921) 7342247 (25846) 4541290 (25878) 7055827 (25927) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	20214.000 23321.000 23870.000 27610.000 30077.000 32190.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (45629, 45728): 2160380 (45685) 1253413 (45668) 1284141 (45665) 5720716 (45669) 966699 (45702) 5722740 (45687) 625529 (45723) 8575841 (45639) 619740 (45674) 5697257 (45663) 
     dis: 	101857.000 102472.000 103314.000 113419.000 119391.000 120791.000 123741.000 125045.000 125725.000 125845.000 
[ 426.772s ] *** Query time: 95.387
qps: 104.836
 *** HNSW recall 
HNSW get 79896 postive res from 100000 results, recall@10:0.799
recall dist(10% per bucket): 0.000 0.001 0.001 0.007 0.016 0.039 0.093 0.172 0.246 0.268 0.156 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 529138397, average: 52913.840
finished ivfpq index examples
[ 426.774s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 1000 128"
	User time (seconds): 403.58
	System time (seconds): 15.72
	Percent of CPU this job got: 97%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 7:07.92
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12917668
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 25
	Minor (reclaiming a frame) page faults: 4132665
	Voluntary context switches: 30645
	Involuntary context switches: 741
	Swaps: 0
	File system inputs: 1160920
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 10:55
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_200_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_200_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 1000
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.786s ] Loaded metadata, 10000000 attr's found
[ 0.786s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.841s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.868s ] Loaded 10000 sift10M queries
[ 0.900s ] Loaded ground truth, gt_size: 10
[ 0.901s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 17.144s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.002
[ 428.635s ] Query results (vector ids, then distances):
query 0 nn's (73960, 74159): 1623122 (74029) 7784976 (74150) 4876982 (74106) 6649809 (74056) 285279 (74145) 4881180 (74088) 1957179 (74157) 6017101 (74015) 7147678 (74058) 7833307 (74154) 
     dis: 	94590.000 103721.000 104530.000 107049.000 107239.000 107461.000 107626.000 107872.000 108822.000 108972.000 
query 1 nn's (45733, 45932): 8903290 (45830) 2405583 (45770) 7421974 (45803) 1918457 (45769) 8464812 (45885) 9597155 (45886) 6516659 (45828) 8267508 (45932) 9769447 (45883) 7367195 (45852) 
     dis: 	90970.000 93519.000 94765.000 98180.000 101174.000 101607.000 101926.000 107256.000 110976.000 111092.000 
query 2 nn's (46226, 46425): 5600190 (46325) 3307667 (46235) 5676428 (46359) 3137576 (46266) 7828936 (46299) 1243245 (46241) 6544069 (46288) 4710184 (46391) 3542680 (46406) 6195267 (46318) 
     dis: 	73227.000 73969.000 74475.000 75065.000 76579.000 76676.000 78059.000 79760.000 79860.000 80471.000 
query 3 nn's (21965, 22164): 692217 (22063) 495406 (21968) 7582882 (22036) 655440 (22126) 4571800 (22027) 2363372 (22144) 9296031 (22123) 2766287 (22065) 4735943 (22056) 4992153 (22062) 
     dis: 	7226.000 13063.000 13990.000 20332.000 21808.000 21929.000 26763.000 26919.000 27287.000 28871.000 
query 4 nn's (89198, 89397): 2430179 (89254) 5631902 (89204) 5139352 (89338) 3299147 (89237) 7080136 (89321) 649466 (89224) 4771921 (89341) 8208510 (89236) 859658 (89265) 5373158 (89347) 
     dis: 	97998.000 103589.000 107793.000 109710.000 112189.000 113524.000 116722.000 121231.000 123364.000 123998.000 
[ 428.635s ] *** Query time: 90.819
qps: 110.109
 *** HNSW recall 
HNSW get 91693 postive res from 100000 results, recall@10:0.917
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.001 0.004 0.014 0.050 0.135 0.324 0.471 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 529138397, average: 52913.840
finished ivfpq index examples
[ 428.637s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_200_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_200_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 1000 128"
	User time (seconds): 407.17
	System time (seconds): 13.24
	Percent of CPU this job got: 97%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 7:09.92
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 17496992
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 27
	Minor (reclaiming a frame) page faults: 4401787
	Voluntary context switches: 37326
	Involuntary context switches: 891
	Swaps: 0
	File system inputs: 1482688
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 12:59
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_300_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_300_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 1000
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 1.022s ] Loaded metadata, 10000000 attr's found
[ 1.022s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.044s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 1.047s ] Loaded 10000 sift10M queries
[ 1.073s ] Loaded ground truth, gt_size: 10
[ 1.073s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 18.370s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.003
[ 468.674s ] Query results (vector ids, then distances):
query 0 nn's (64204, 64503): 5343331 (64452) 7081355 (64427) 6056467 (64355) 2279313 (64469) 4731099 (64368) 2587829 (64258) 1638165 (64278) 6124488 (64233) 6117914 (64291) 9362852 (64263) 
     dis: 	81853.000 95028.000 96757.000 98553.000 98772.000 98789.000 98872.000 99965.000 103412.000 103433.000 
query 1 nn's (7601, 7900): 3716291 (7710) 3996839 (7694) 7577481 (7676) 6389334 (7761) 8499244 (7681) 3909984 (7619) 2740853 (7832) 8935792 (7869) 2780695 (7631) 5907695 (7756) 
     dis: 	74379.000 75371.000 82264.000 83502.000 85032.000 85324.000 87916.000 91869.000 91976.000 94195.000 
query 2 nn's (4420, 4719): 8635193 (4483) 909313 (4462) 9141083 (4718) 9830393 (4584) 8509795 (4438) 33367 (4653) 7912354 (4692) 2077 (4463) 330498 (4711) 4770809 (4663) 
     dis: 	57831.000 62187.000 62743.000 63969.000 66459.000 68007.000 69132.000 69350.000 69940.000 71143.000 
query 3 nn's (3638, 3937): 7749958 (3697) 4463664 (3711) 5078017 (3684) 5185015 (3869) 3313486 (3800) 8273818 (3640) 2114046 (3654) 9198105 (3818) 4683847 (3793) 6473618 (3899) 
     dis: 	8122.000 11014.000 17256.000 18363.000 19021.000 20384.000 21815.000 22036.000 25759.000 27251.000 
query 4 nn's (72580, 72879): 1401624 (72640) 9342884 (72785) 6158717 (72811) 6307989 (72827) 7828698 (72674) 4598361 (72626) 4601993 (72771) 9460939 (72852) 1506376 (72768) 7075411 (72662) 
     dis: 	105825.000 113032.000 115302.000 115800.000 116275.000 116962.000 117163.000 118333.000 118369.000 118466.000 
[ 468.675s ] *** Query time: 121.755
qps: 82.132
 *** HNSW recall 
HNSW get 95665 postive res from 100000 results, recall@10:0.957
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.001 0.003 0.014 0.067 0.244 0.671 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 529138397, average: 52913.840
finished ivfpq index examples
[ 468.677s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_300_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_300_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 1000 128"
	User time (seconds): 432.77
	System time (seconds): 27.24
	Percent of CPU this job got: 97%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 7:50.52
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 22290340
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 11967331
	Voluntary context switches: 32134
	Involuntary context switches: 757
	Swaps: 0
	File system inputs: 86936
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 15:00
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_400_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_400_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 1000
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.810s ] Loaded metadata, 10000000 attr's found
[ 0.810s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.813s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.826s ] Loaded 10000 sift10M queries
[ 0.853s ] Loaded ground truth, gt_size: 10
[ 0.853s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 16.955s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.004
[ 474.968s ] Query results (vector ids, then distances):
query 0 nn's (2310, 2709): 578867 (2476) 9823129 (2499) 1968396 (2346) 5118205 (2445) 1604819 (2475) 5826792 (2456) 6472642 (2459) 1813619 (2534) 3920237 (2407) 3190547 (2522) 
     dis: 	80841.000 90832.000 99754.000 100785.000 101413.000 102086.000 102270.000 102284.000 102318.000 104257.000 
query 1 nn's (23653, 24052): 5254261 (23886) 7856921 (23715) 4135481 (23704) 6140132 (23883) 2249685 (23891) 8199976 (23719) 6469885 (23686) 5046775 (23698) 5778646 (23931) 3846925 (23986) 
     dis: 	63867.000 80459.000 81010.000 83248.000 84606.000 86753.000 88557.000 88931.000 89394.000 89885.000 
query 2 nn's (64025, 64424): 7454296 (64256) 2540958 (64117) 4877317 (64096) 6152369 (64329) 1736003 (64349) 3746235 (64244) 146605 (64307) 9730627 (64084) 5435166 (64158) 3605368 (64227) 
     dis: 	62909.000 63499.000 68178.000 68420.000 69417.000 72817.000 73158.000 74488.000 75726.000 77674.000 
query 3 nn's (90236, 90635): 7119531 (90378) 936598 (90457) 3670440 (90255) 1423490 (90542) 2618692 (90370) 8237128 (90475) 7380858 (90455) 2127060 (90509) 6876513 (90555) 3169709 (90261) 
     dis: 	8362.000 8643.000 13076.000 14419.000 15009.000 18045.000 18638.000 20301.000 21355.000 21941.000 
query 4 nn's (42274, 42673): 5257851 (42550) 9353798 (42619) 7360489 (42573) 1417456 (42485) 8350010 (42476) 1560188 (42476) 178890 (42451) 1072642 (42580) 340641 (42390) 3309263 (42323) 
     dis: 	92300.000 100266.000 101655.000 104284.000 109567.000 114384.000 114906.000 115560.000 116214.000 116344.000 
[ 474.968s ] *** Query time: 120.298
qps: 83.127
 *** HNSW recall 
HNSW get 97462 postive res from 100000 results, recall@10:0.975
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.001 0.006 0.030 0.172 0.791 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 529138397, average: 52913.840
finished ivfpq index examples
[ 474.970s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_400_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_400_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 1000 128"
	User time (seconds): 440.12
	System time (seconds): 27.83
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 7:56.99
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 26693496
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 12
	Minor (reclaiming a frame) page faults: 8792537
	Voluntary context switches: 38929
	Involuntary context switches: 790
	Swaps: 0
	File system inputs: 1011984
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 16:59
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_500_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_500_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 1000
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.725s ] Loaded metadata, 10000000 attr's found
[ 0.725s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.728s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.754s ] Loaded 10000 sift10M queries
[ 0.801s ] Loaded ground truth, gt_size: 10
[ 0.801s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 15.497s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.005
[ 488.486s ] Query results (vector ids, then distances):
query 0 nn's (23240, 23739): 7011791 (23273) 2785966 (23295) 8031075 (23431) 2564348 (23602) 4844348 (23558) 7525953 (23404) 7159863 (23367) 5891506 (23614) 4838491 (23518) 6025385 (23339) 
     dis: 	85235.000 89912.000 91152.000 94395.000 100327.000 100905.000 101944.000 102328.000 103381.000 103394.000 
query 1 nn's (86638, 87137): 8857836 (86643) 2077396 (86724) 7523342 (87042) 6363708 (86935) 4321977 (86855) 5847833 (86661) 1116609 (86888) 9594077 (86656) 9131855 (87082) 5234937 (86897) 
     dis: 	65552.000 65598.000 69035.000 70710.000 74235.000 75091.000 75355.000 76070.000 77123.000 81577.000 
query 2 nn's (3598, 4097): 8068558 (3605) 2953864 (3859) 2800256 (3943) 1482128 (3797) 4972668 (3695) 1213154 (3674) 4378993 (3989) 1458512 (4014) 2526681 (3938) 3873191 (3795) 
     dis: 	53350.000 57221.000 59276.000 64294.000 64585.000 68386.000 69422.000 69585.000 70683.000 71230.000 
query 3 nn's (87372, 87871): 7301436 (87758) 4673685 (87740) 8081932 (87465) 4104595 (87586) 6782262 (87444) 5255438 (87585) 1952217 (87397) 771303 (87436) 9803556 (87542) 3872385 (87718) 
     dis: 	7394.000 10176.000 14399.000 14412.000 16149.000 16388.000 16501.000 17494.000 18060.000 18686.000 
query 4 nn's (77119, 77618): 2288117 (77366) 487654 (77574) 6917344 (77515) 6570828 (77393) 7458244 (77602) 7574413 (77381) 6292460 (77207) 2890529 (77433) 4720574 (77600) 8562010 (77147) 
     dis: 	96597.000 98333.000 102970.000 105224.000 109633.000 112362.000 112364.000 112830.000 113040.000 115798.000 
[ 488.486s ] *** Query time: 118.060
qps: 84.703
 *** HNSW recall 
HNSW get 98284 postive res from 100000 results, recall@10:0.983
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.003 0.018 0.125 0.854 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 529138397, average: 52913.840
finished ivfpq index examples
[ 488.488s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_500_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_500_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 1000 128"
	User time (seconds): 457.06
	System time (seconds): 26.41
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 8:10.75
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 33193892
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 9201356
	Voluntary context switches: 34158
	Involuntary context switches: 690
	Swaps: 0
	File system inputs: 410488
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 18:58
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_600_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_600_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000
ef_search: 1000
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 1.208s ] Loaded metadata, 10000000 attr's found
[ 1.208s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.276s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 1.315s ] Loaded 10000 sift10M queries
[ 1.357s ] Loaded ground truth, gt_size: 10
[ 1.357s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 19.496s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.006
[ 529.093s ] Query results (vector ids, then distances):
query 0 nn's (53561, 54160): 9409479 (53603) 8771139 (53982) 3366295 (53986) 4056305 (53810) 7835503 (53994) 9934561 (53675) 684442 (53749) 4874759 (53601) 2828720 (53831) 4431465 (53904) 
     dis: 	82688.000 85066.000 88619.000 93108.000 95210.000 99218.000 99726.000 99997.000 101279.000 101823.000 
query 1 nn's (7537, 8136): 1346170 (8078) 9643506 (8041) 7572692 (7996) 4646465 (8091) 3716291 (7710) 3996839 (7694) 8500402 (7579) 3423010 (7592) 7577481 (7676) 6389334 (7761) 
     dis: 	56324.000 61991.000 74068.000 74141.000 74379.000 75371.000 78635.000 79844.000 82264.000 83502.000 
query 2 nn's (31990, 32589): 6757010 (32419) 6304098 (32083) 1883447 (32456) 6005722 (32578) 8415105 (32282) 2414928 (32539) 7317370 (32091) 4278769 (32271) 2284580 (32263) 3173474 (32228) 
     dis: 	61808.000 63354.000 63881.000 63923.000 67665.000 67775.000 67883.000 68330.000 72005.000 73293.000 
query 3 nn's (20105, 20704): 3278687 (20238) 9166 (20530) 1391991 (20268) 5109723 (20631) 8386530 (20268) 430134 (20429) 2515467 (20181) 6365231 (20234) 8513887 (20167) 7943427 (20144) 
     dis: 	7183.000 8830.000 9540.000 11444.000 11509.000 12043.000 12594.000 13919.000 14041.000 16358.000 
query 4 nn's (25090, 25689): 3629848 (25458) 685903 (25186) 1216022 (25370) 139002 (25306) 6145854 (25319) 2240403 (25557) 7453672 (25661) 2017014 (25168) 9072962 (25514) 9742556 (25464) 
     dis: 	98130.000 99616.000 105300.000 106444.000 107724.000 108081.000 109977.000 111860.000 112225.000 112290.000 
[ 529.093s ] *** Query time: 146.170
qps: 68.414
 *** HNSW recall 
HNSW get 98723 postive res from 100000 results, recall@10:0.987
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.002 0.013 0.095 0.890 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 529138397, average: 52913.840
finished ivfpq index examples
[ 529.095s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_600_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_600_1_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_random_40_1000 1000 128"
	User time (seconds): 477.78
	System time (seconds): 42.99
	Percent of CPU this job got: 97%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 8:51.97
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 36318116
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 17
	Minor (reclaiming a frame) page faults: 16245774
	Voluntary context switches: 30868
	Involuntary context switches: 937
	Swaps: 0
	File system inputs: 807992
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
