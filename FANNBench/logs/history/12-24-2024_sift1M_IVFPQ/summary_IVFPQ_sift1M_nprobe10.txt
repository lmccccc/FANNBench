Start time: 03:15
====================
START: running TEST_IVFPQ, sift data --

dataset: sift1M
N: 1000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/qrangesel_1_1_2_random.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/sif_gt_10.json
index file: /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_64
nprobe: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json
[ 0.143s ] Loaded metadata, 1000000 attr's found
[ 0.143s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.183s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
[ 0.210s ] Loaded 10000 sift1M queries
[ 0.260s ] Loaded ground truth, gt_size: 10
[ 0.260s ] Index Params -- d: 128, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 0.367s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 976.937s ] Query results (vector ids, then distances):
query 0 nn's (1, 1): 919197 (1) 934876 (1) 225116 (1) 87578 (1) 436743 (1) 317297 (1) 170996 (1) 403442 (1) 732473 (1) 15386 (1) 
     dis: 	53119.504 55755.496 55861.062 57080.137 57408.539 57701.645 58347.738 59029.172 59822.973 60238.180 
query 1 nn's (1, 1): 481051 (1) 103069 (1) 458829 (1) 150240 (1) 987636 (1) 682723 (1) 682819 (1) 750764 (1) 50222 (1) 909090 (1) 
     dis: 	44051.828 46974.246 47177.086 47214.316 47666.172 47839.059 47839.059 48291.574 49394.949 49727.254 
query 2 nn's (1, 1): 678042 (1) 408764 (1) 133557 (1) 103305 (1) 61501 (1) 126105 (1) 408855 (1) 408462 (1) 516925 (1) 491620 (1) 
     dis: 	26116.520 27476.801 28156.014 28629.109 29452.320 29761.824 30817.625 31227.820 32506.211 33168.230 
query 3 nn's (0, 0): 249140 (0) 832999 (0) 190692 (0) 191822 (0) 191092 (0) 14185 (0) 15887 (0) 929762 (0) 969145 (0) 393121 (0) 
     dis: 	28658.854 28803.959 30490.457 31050.691 31646.494 31694.377 31694.377 31827.445 32278.078 33940.422 
query 4 nn's (0, 0): 46782 (0) 108257 (0) 762301 (0) 288820 (0) 183011 (0) 184326 (0) 14655 (0) 719452 (0) 511896 (0) 5897 (0) 
     dis: 	45365.867 48971.523 49886.984 50892.000 50951.641 50951.641 51386.512 51696.289 52027.633 52909.938 
[ 976.938s ] *** Query time: 235.847
qps: 42.400
 *** ivfpq recall 
ivfpq get 18497 postive res from 100000 results, recall@10:0.185
recall dist(10% per bucket): 0.166 0.291 0.253 0.168 0.081 0.029 0.009 0.003 0.001 0.000 0.000 
finished ivfpq index examples
[ 976.941s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift1M 1000000 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/qrangesel_1_1_2_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/sif_gt_10.json /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_64 10 128"
	User time (seconds): 618.06
	System time (seconds): 253.46
	Percent of CPU this job got: 88%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 16:25.02
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 232430592
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1894
	Minor (reclaiming a frame) page faults: 63699262
	Voluntary context switches: 3900
	Involuntary context switches: 5985
	Swaps: 0
	File system inputs: 847624
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:39
Start time: 03:43
====================
START: running IVFPQ_INDEX_CONSTRUCTION, sift data --

dataset: sift1M
N: 1000000
topk: 10
threads: 128
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json
index file: /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_64
dim: 128
partition_size: 64
train file: /mnt/data/mocheng/dataset/sift/sift_learn.fvecs
 bytes_per_vec: 2.000
loaded base attributes, size:1000000
[ 0.121s ] Loaded attributions, 1000000 found
[ 0.121s ] Index Params -- d: 128, N: 1000000
====================Vectors====================

[ 0.121s ] Loading database
[ 0.928s ] Loaded base vectors from file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
data loaded, with dim: 128, N=1000000
[ 0.928s ] Indexing database, size 1000000*128 from max 1000000
[ 0.928s ] Adding the vectors to the index
WARNING clustering 100000 points to 4000 centroids: please provide at least 156000 training points
train cost:0.112
index construction total cost:41.365
[ 41.365s ] Vectors added to  index
Index vectors added:1000000
====================Write Index================

[ 42.344s ] Wrote ivbfpq index to file: /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_64
[42.344 s] -----DONE-----
[ 42.344s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_build sift1M 1000000 10 128 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_64 128 64 /mnt/data/mocheng/dataset/sift/sift_learn.fvecs"
	User time (seconds): 3807.87
	System time (seconds): 10.98
	Percent of CPU this job got: 9011%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:42.37
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 673224
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 21
	Minor (reclaiming a frame) page faults: 987679
	Voluntary context switches: 280329
	Involuntary context switches: 72491
	Swaps: 0
	File system inputs: 1143328
	File system outputs: 23864
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:45
====================
START: running TEST_IVFPQ, sift data --

dataset: sift1M
N: 1000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/qrangesel_1_1_2_random.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/sif_gt_10.json
index file: /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_64
nprobe: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json
[ 0.073s ] Loaded metadata, 1000000 attr's found
[ 0.073s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.109s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
[ 0.132s ] Loaded 10000 sift1M queries
[ 0.191s ] Loaded ground truth, gt_size: 10
[ 0.191s ] Index Params -- d: 128, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 0.249s ] Searching the 10 nearest neighbors of 10000 vectors in the index
Command terminated by signal 9
	Command being timed: "../faiss/build/demos/ivfpq_query sift1M 1000000 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/qrangesel_1_1_2_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/sif_gt_10.json /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_64 10 128"
	User time (seconds): 272.67
	System time (seconds): 70.42
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 5:43.59
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 175208448
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 58
	Minor (reclaiming a frame) page faults: 43805686
	Voluntary context switches: 155
	Involuntary context switches: 500
	Swaps: 0
	File system inputs: 31080
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 04:11
Start time: 04:12
====================
START: running IVFPQ_INDEX_CONSTRUCTION, sift data --

dataset: sift1M
N: 1000000
topk: 10
threads: 128
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json
index file: /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_64
dim: 128
partition_size: 64
train file: /mnt/data/mocheng/dataset/sift/sift_learn.fvecs
 bytes_per_vec: 2.000
loaded base attributes, size:1000000
[ 0.136s ] Loaded attributions, 1000000 found
[ 0.136s ] Index Params -- d: 128, N: 1000000
====================Vectors====================

[ 0.136s ] Loading database
[ 0.916s ] Loaded base vectors from file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
data loaded, with dim: 128, N=1000000
[ 0.916s ] Indexing database, size 1000000*128 from max 1000000
[ 0.916s ] Adding the vectors to the index
WARNING clustering 100000 points to 4000 centroids: please provide at least 156000 training points
train cost:0.127
index construction total cost:24.485
[ 24.485s ] Vectors added to  index
Index vectors added:1000000
====================Write Index================

[ 25.444s ] Wrote ivbfpq index to file: /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_64
[25.444 s] -----DONE-----
[ 25.444s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_build sift1M 1000000 10 128 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_64 128 64 /mnt/data/mocheng/dataset/sift/sift_learn.fvecs"
	User time (seconds): 2287.48
	System time (seconds): 2.58
	Percent of CPU this job got: 8989%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:25.47
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 661576
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 21
	Minor (reclaiming a frame) page faults: 224191
	Voluntary context switches: 147793
	Involuntary context switches: 112586
	Swaps: 0
	File system inputs: 1143256
	File system outputs: 4272
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 04:13
====================
START: running TEST_IVFPQ, sift data --

dataset: sift1M
N: 1000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/qrangesel_1_1_2_random.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/sif_gt_10.json
index file: /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_64
nprobe: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json
[ 0.073s ] Loaded metadata, 1000000 attr's found
[ 0.073s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.112s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
[ 0.138s ] Loaded 10000 sift1M queries
[ 0.206s ] Loaded ground truth, gt_size: 10
[ 0.206s ] Index Params -- d: 128, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 15.343s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
Command terminated by signal 9
	Command being timed: "../faiss/build/demos/ivfpq_query sift1M 1000000 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/qrangesel_1_1_2_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/sif_gt_10.json /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_64 10 128"
	User time (seconds): 387.58
	System time (seconds): 248.71
	Percent of CPU this job got: 85%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 12:27.89
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 232959656
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 2711
	Minor (reclaiming a frame) page faults: 64807279
	Voluntary context switches: 3119
	Involuntary context switches: 6328
	Swaps: 0
	File system inputs: 1077760
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 04:50
====================
START: running IVFPQ_INDEX_CONSTRUCTION, sift data --

dataset: sift1M
N: 1000000
topk: 10
threads: 128
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json
index file: /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_4
dim: 128
partition_size: 4
train file: /mnt/data/mocheng/dataset/sift/sift_learn.fvecs
 bytes_per_vec: 32.000
loaded base attributes, size:1000000
[ 0.141s ] Loaded attributions, 1000000 found
[ 0.141s ] Index Params -- d: 128, N: 1000000
ncentroids: 4000
====================Vectors====================

[ 0.141s ] Loading database
[ 0.945s ] Loaded base vectors from file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
data loaded, with dim: 128, N=1000000
[ 0.945s ] Indexing database, size 1000000*128 from max 1000000
[ 0.945s ] Adding the vectors to the index
WARNING clustering 100000 points to 4000 centroids: please provide at least 156000 training points
train cost:0.087
index construction total cost:155.561
[ 155.561s ] Vectors added to  index
Index vectors added:1000000
====================Write Index================

[ 156.597s ] Wrote ivbfpq index to file: /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_4
[156.597 s] -----DONE-----
[ 156.597s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_build sift1M 1000000 10 128 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_4 128 4 /mnt/data/mocheng/dataset/sift/sift_learn.fvecs"
	User time (seconds): 17995.64
	System time (seconds): 6.27
	Percent of CPU this job got: 11492%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:36.64
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 789432
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 17
	Minor (reclaiming a frame) page faults: 556735
	Voluntary context switches: 408819
	Involuntary context switches: 428215
	Swaps: 0
	File system inputs: 1138840
	File system outputs: 82456
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 04:53
====================
START: running TEST_IVFPQ, sift data --

dataset: sift1M
N: 1000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/qrangesel_1_1_2_random.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/sif_gt_10.json
index file: /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_4
nprobe: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json
[ 0.073s ] Loaded metadata, 1000000 attr's found
[ 0.073s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.124s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
[ 0.146s ] Loaded 10000 sift1M queries
[ 0.204s ] Loaded ground truth, gt_size: 10
[ 0.204s ] Index Params -- d: 128, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 0.412s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 578.517s ] Query results (vector ids, then distances):
query 0 nn's (1, 1): 934876 (1) 708177 (1) 695756 (1) 722642 (1) 455537 (1) 947001 (1) 871066 (1) 746931 (1) 68299 (1) 454263 (1) 
     dis: 	52913.070 62891.688 68932.859 70308.016 70318.625 71315.047 72172.234 72493.578 73136.727 73792.773 
query 1 nn's (1, 1): 517923 (1) 560219 (1) 832927 (1) 192537 (1) 987636 (1) 849742 (1) 833054 (1) 956542 (1) 987696 (1) 522078 (1) 
     dis: 	55545.117 57084.766 57567.809 57671.672 58877.062 59149.574 59855.070 60301.445 60755.891 61302.047 
query 2 nn's (1, 1): 408764 (1) 408462 (1) 408855 (1) 861882 (1) 905339 (1) 861530 (1) 695462 (1) 678042 (1) 744548 (1) 260648 (1) 
     dis: 	27167.508 29569.592 31605.016 34730.246 36315.094 37020.785 37356.055 38094.008 38875.215 39305.289 
query 3 nn's (0, 0): 191115 (0) 191317 (0) 546470 (0) 889039 (0) 190692 (0) 546496 (0) 993773 (0) 855554 (0) 207768 (0) 885741 (0) 
     dis: 	33975.383 35495.230 36824.000 37436.594 37456.527 37462.688 37497.703 37623.719 38155.887 38290.547 
query 4 nn's (0, 0): 340871 (0) 748397 (0) 716433 (0) 956898 (0) 279274 (0) 123410 (0) 59308 (0) 122623 (0) 629243 (0) 295813 (0) 
     dis: 	49511.043 51583.133 52960.953 55007.312 60134.496 61416.609 61827.402 61895.434 61974.680 63078.875 
[ 578.517s ] *** Query time: 196.502
qps: 50.890
 *** ivfpq recall 
ivfpq get 62402 postive res from 100000 results, recall@10:0.624
recall dist(10% per bucket): 0.001 0.007 0.022 0.053 0.094 0.145 0.190 0.219 0.170 0.085 0.013 
finished ivfpq index examples
[ 578.520s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift1M 1000000 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/qrangesel_1_1_2_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/sif_gt_10.json /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_4 10 128"
	User time (seconds): 479.60
	System time (seconds): 106.41
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 9:46.28
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 232608756
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 65892645
	Voluntary context switches: 12
	Involuntary context switches: 1336
	Swaps: 0
	File system inputs: 11920
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 06:58
====================
START: running IVFPQ_INDEX_CONSTRUCTION, sift data --

dataset: sift1M
N: 1000000
topk: 10
threads: 128
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_2_random/attr_sel_1_2_random.json
index file: /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_2_random_64
dim: 128
partition_size: 64
train file: /mnt/data/mocheng/dataset/sift/sift_learn.fvecs
 bytes_per_vec: 2.000
loaded base attributes, size:1000000
[ 0.073s ] Loaded attributions, 1000000 found
[ 0.073s ] Index Params -- d: 128, N: 1000000
ncentroids: 4000
====================Vectors====================

[ 0.073s ] Loading database
[ 0.446s ] Loaded base vectors from file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
data loaded, with dim: 128, N=1000000
[ 0.446s ] Indexing database, size 1000000*128 from max 1000000
[ 0.446s ] Adding the vectors to the index
WARNING clustering 100000 points to 4000 centroids: please provide at least 156000 training points
train cost:0.036
index construction total cost:40.979
[ 40.979s ] Vectors added to  index
Index vectors added:1000000
====================Write Index================

[ 41.476s ] Wrote ivbfpq index to file: /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_2_random_64
[41.476 s] -----DONE-----
[ 41.476s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_build sift1M 1000000 10 128 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_2_random/attr_sel_1_2_random.json /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_2_random_64 128 64 /mnt/data/mocheng/dataset/sift/sift_learn.fvecs"
	User time (seconds): 3806.63
	System time (seconds): 11.39
	Percent of CPU this job got: 9201%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:41.49
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 671268
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 987959
	Voluntary context switches: 277609
	Involuntary context switches: 55330
	Swaps: 0
	File system inputs: 0
	File system outputs: 23864
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
