Start time: 03:15
====================
START: running TEST_IVFPQ, sift data --

dataset: sift1M
N: 1000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/qrangesel_1_1_2_random.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/sif_gt_10.json
index file: /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_64
nprobe: 20
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json
[ 0.143s ] Loaded metadata, 1000000 attr's found
[ 0.143s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.183s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
[ 0.209s ] Loaded 10000 sift1M queries
[ 0.260s ] Loaded ground truth, gt_size: 10
[ 0.260s ] Index Params -- d: 128, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 0.367s ] Searching the 10 nearest neighbors of 10000 vectors in the index
Command terminated by signal 9
	Command being timed: "../faiss/build/demos/ivfpq_query sift1M 1000000 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/qrangesel_1_1_2_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/sif_gt_10.json /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_64 20 128"
	User time (seconds): 338.04
	System time (seconds): 227.89
	Percent of CPU this job got: 82%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 11:24.67
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 219856896
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1533
	Minor (reclaiming a frame) page faults: 54974227
	Voluntary context switches: 3339
	Involuntary context switches: 5575
	Swaps: 0
	File system inputs: 660624
	File system outputs: 0
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:45
====================
START: running TEST_IVFPQ, sift data --

dataset: sift1M
N: 1000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/qrangesel_1_1_2_random.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/sif_gt_10.json
index file: /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_64
nprobe: 20
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json
[ 0.072s ] Loaded metadata, 1000000 attr's found
[ 0.072s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.109s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
[ 0.131s ] Loaded 10000 sift1M queries
[ 0.190s ] Loaded ground truth, gt_size: 10
[ 0.190s ] Index Params -- d: 128, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 0.249s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 875.503s ] Query results (vector ids, then distances):
query 0 nn's (1, 1): 920498 (1) 920186 (1) 502705 (1) 908244 (1) 413758 (1) 376161 (1) 670103 (1) 883297 (1) 919197 (1) 742261 (1) 
     dis: 	53381.766 54131.281 54359.055 55262.977 55390.133 56519.852 56619.586 57407.535 57556.715 57801.543 
query 1 nn's (1, 1): 877034 (1) 933756 (1) 560219 (1) 864170 (1) 491737 (1) 805328 (1) 522080 (1) 917832 (1) 248511 (1) 725745 (1) 
     dis: 	41678.676 41678.676 44516.637 44603.059 45356.016 45668.660 46047.195 46050.883 46498.270 46658.035 
query 2 nn's (1, 1): 73478 (1) 794491 (1) 573015 (1) 529249 (1) 905364 (1) 203092 (1) 267370 (1) 724792 (1) 378640 (1) 408764 (1) 
     dis: 	24249.445 25608.652 25815.289 28655.535 31382.781 31618.018 31618.018 31805.338 31922.189 32016.068 
query 3 nn's (0, 0): 81001 (0) 846354 (0) 81437 (0) 190692 (0) 310401 (0) 889896 (0) 889916 (0) 858173 (0) 853634 (0) 190963 (0) 
     dis: 	24844.426 26392.570 27308.449 27956.596 28946.469 30021.721 30021.721 32090.051 32246.092 32740.348 
query 4 nn's (0, 0): 340871 (0) 578799 (0) 282192 (0) 956898 (0) 118310 (0) 134095 (0) 938355 (0) 949173 (0) 257471 (0) 684375 (0) 
     dis: 	43550.762 44749.117 45039.680 45039.680 45233.750 45457.004 46655.777 47574.660 51067.449 51387.516 
[ 875.503s ] *** Query time: 337.165
qps: 29.659
 *** ivfpq recall 
ivfpq get 17453 postive res from 100000 results, recall@10:0.175
recall dist(10% per bucket): 0.182 0.304 0.258 0.149 0.072 0.027 0.007 0.002 0.000 0.000 0.000 
finished ivfpq index examples
[ 875.504s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift1M 1000000 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/qrangesel_1_1_2_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/sif_gt_10.json /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_64 20 128"
	User time (seconds): 645.16
	System time (seconds): 205.56
	Percent of CPU this job got: 96%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 14:43.27
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 232454144
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1199
	Minor (reclaiming a frame) page faults: 101679866
	Voluntary context switches: 2342
	Involuntary context switches: 3394
	Swaps: 0
	File system inputs: 569008
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 04:13
====================
START: running TEST_IVFPQ, sift data --

dataset: sift1M
N: 1000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/qrangesel_1_1_2_random.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/sif_gt_10.json
index file: /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_64
nprobe: 20
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json
[ 0.074s ] Loaded metadata, 1000000 attr's found
[ 0.074s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.113s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
[ 0.139s ] Loaded 10000 sift1M queries
[ 0.207s ] Loaded ground truth, gt_size: 10
[ 0.207s ] Index Params -- d: 128, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 15.151s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 1093.234s ] Query results (vector ids, then distances):
query 0 nn's (1, 1): 920498 (1) 920186 (1) 502705 (1) 908244 (1) 413758 (1) 376161 (1) 670103 (1) 883297 (1) 919197 (1) 742261 (1) 
     dis: 	53381.766 54131.281 54359.055 55262.977 55390.133 56519.852 56619.586 57407.535 57556.715 57801.543 
query 1 nn's (1, 1): 877034 (1) 933756 (1) 560219 (1) 864170 (1) 491737 (1) 805328 (1) 522080 (1) 917832 (1) 248511 (1) 725745 (1) 
     dis: 	41678.676 41678.676 44516.637 44603.059 45356.016 45668.660 46047.195 46050.883 46498.270 46658.035 
query 2 nn's (1, 1): 73478 (1) 794491 (1) 573015 (1) 529249 (1) 905364 (1) 203092 (1) 267370 (1) 724792 (1) 378640 (1) 408764 (1) 
     dis: 	24249.445 25608.652 25815.289 28655.535 31382.781 31618.018 31618.018 31805.338 31922.189 32016.068 
query 3 nn's (0, 0): 81001 (0) 846354 (0) 81437 (0) 190692 (0) 310401 (0) 889896 (0) 889916 (0) 858173 (0) 853634 (0) 190963 (0) 
     dis: 	24844.426 26392.570 27308.449 27956.596 28946.469 30021.721 30021.721 32090.051 32246.092 32740.348 
query 4 nn's (0, 0): 340871 (0) 578799 (0) 282192 (0) 956898 (0) 118310 (0) 134095 (0) 938355 (0) 949173 (0) 257471 (0) 684375 (0) 
     dis: 	43550.762 44749.117 45039.680 45039.680 45233.750 45457.004 46655.777 47574.660 51067.449 51387.516 
[ 1093.235s ] *** Query time: 489.152
qps: 20.444
 *** ivfpq recall 
ivfpq get 17453 postive res from 100000 results, recall@10:0.175
recall dist(10% per bucket): 0.182 0.304 0.258 0.149 0.072 0.027 0.007 0.002 0.000 0.000 0.000 
finished ivfpq index examples
[ 1093.236s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift1M 1000000 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/attr_sel_1_1_2_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/qrangesel_1_1_2_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_1_2_random/sif_gt_10.json /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_1_2_random_64 20 128"
	User time (seconds): 627.49
	System time (seconds): 376.58
	Percent of CPU this job got: 90%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 18:28.98
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 232954436
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 2799
	Minor (reclaiming a frame) page faults: 138562452
	Voluntary context switches: 3415
	Involuntary context switches: 7636
	Swaps: 0
	File system inputs: 1155752
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
