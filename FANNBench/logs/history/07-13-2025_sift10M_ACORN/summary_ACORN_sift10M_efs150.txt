Start time: 04:11
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift10M
N: 10000000
gamma: 25
M: 40
M_beta: 64
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json
index file: /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_2_100000_random_M40_ga25_Mb64
ef_search: 150 
dim: 128
metadata or vector loaded from json, size: 20000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 2.215s ] Loaded metadata, 20000000 attr's found
[ 2.215s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 2.217s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
metadata or vector loaded from json, size: 40000
loaded query attributes from: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
[ 2.221s ] Loaded 10000 sift10M queries
metadata or vector loaded from json, size: 1000000
loaded gt from: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json
[ 2.346s ] Loaded ground truth, gt_size: 100
[ 2.346s ] Index Params -- d: 128, M: 40, N: 10000000, gamma: 25
--ACORN index created
acorn size: 5985260000, memory: 10705.242MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 9999555 nodes
level 1 : 249955 nodes
level 2 : 6212 nodes
level 3 : 140 nodes
level 4 : 3 nodes
level 5 : 0 nodes
Total edge:10255865
Average degree per layer:1709310.833
node size:10000000
Average degree:149.631
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 26.163s ] Searching the 100 nearest neighbors of 10000 vectors in the index, efsearch 150
selectivity: 0.500
[ 621.676s ] Query results (vector ids, then distances):
query 0 nn's (6, 15386, 98713): 4160485 (6, 75840) 6141318 (6, 37070) 4738758 (6, 62037) 7293718 (6, 46327) 4538400 (6, 82045) 1020562 (6, 35855) 9397776 (6, 80412) 238649 (6, 89673) 9536881 (6, 67672) 8191903 (6, 40651) 9485971 (6, 68407) 7866119 (6, 74143) 9313115 (6, 38104) 2375126 (6, 33561) 77153 (6, 92241) 8076858 (6, 83183) 7164607 (6, 98353) 9925949 (6, 83292) 888010 (6, 89770) 5770330 (6, 31693) 2078396 (6, 69539) 8435256 (6, 19169) 2549151 (6, 55782) 9251169 (6, 27202) 5343331 (6, 51049) 5643020 (6, 54360) 1892471 (6, 50102) 419470 (6, 90141) 3255720 (6, 63008) 5520369 (6, 15713) 5710919 (6, 63861) 4326493 (6, 83717) 9409479 (6, 35326) 7974670 (6, 61959) 1642205 (6, 89554) 5831094 (6, 92274) 674077 (6, 43009) 9534078 (6, 38666) 8428377 (6, 96100) 6019325 (6, 86380) 392808 (6, 16290) 4897568 (6, 60006) 6871531 (6, 26675) 1203246 (6, 40158) 4785905 (6, 83545) 2707047 (6, 84931) 7459877 (6, 82475) 8364178 (6, 44636) 7011791 (6, 71074) 6328993 (6, 68905) 5368660 (6, 68710) 8039506 (6, 73870) 3517425 (6, 36130) 5835685 (6, 32204) 447965 (6, 76901) 2986000 (6, 89977) 839586 (6, 92605) 46468 (6, 38500) 9906463 (6, 17021) 7920998 (6, 76295) 6799000 (6, 35117) 7842689 (6, 63484) 5228659 (6, 22228) 7455148 (6, 61833) 5376243 (6, 80878) 3435228 (6, 81391) 1059921 (6, 43946) 1249067 (6, 38034) 5128198 (6, 36549) 1891236 (6, 53938) 7200266 (6, 44478) 3384323 (6, 51924) 7895839 (6, 60842) 3658860 (6, 82265) 6560693 (6, 50234) 5187160 (6, 17308) 7263957 (6, 62660) 2692614 (6, 59275) 476293 (6, 98031) 5356206 (6, 49471) 3094752 (6, 94405) 1698351 (6, 90365) 4698776 (6, 50473) 8838842 (6, 54025) 1810730 (6, 16705) 5072607 (6, 19349) 4271011 (6, 37884) 8610630 (6, 38917) 6889946 (6, 94728) 6425728 (6, 86237) 4624202 (6, 30437) 9299823 (6, 38249) 8898051 (6, 52188) 3409110 (6, 50516) 5600358 (6, 55389) 4321174 (6, 66991) 2380435 (6, 95468) 6751758 (6, 86378) 4124875 (6, 84396) 9506483 (6, 65973) 
     dis: 	65950.000 73183.000 74463.000 75573.000 76603.000 76767.000 77424.000 77858.000 78206.000 78749.000 78877.000 79448.000 79682.000 79929.000 79964.000 80223.000 80358.000 80660.000 80692.000 81243.000 81711.000 81799.000 81827.000 81847.000 81853.000 82000.000 82386.000 82431.000 82432.000 82492.000 82540.000 82567.000 82688.000 82693.000 82832.000 83049.000 83152.000 83197.000 83232.000 83269.000 83552.000 83581.000 84002.000 84353.000 84510.000 84571.000 84945.000 85161.000 85235.000 85322.000 85365.000 85538.000 85597.000 85597.000 85625.000 85736.000 85800.000 85831.000 85842.000 85882.000 85915.000 85925.000 85928.000 85963.000 85985.000 86005.000 86093.000 86100.000 86198.000 86203.000 86329.000 86376.000 86379.000 86389.000 86512.000 86549.000 86743.000 86817.000 86891.000 86902.000 86958.000 87049.000 87100.000 87152.000 87272.000 87272.000 87297.000 87333.000 87451.000 87485.000 87536.000 87542.000 87602.000 87631.000 87654.000 87857.000 87980.000 88186.000 88190.000 88211.000 
query 1 nn's (6, 9087, 92417): 8449497 (6, 34983) 5552416 (6, 36365) 285986 (6, 75309) 4234271 (6, 67974) 2253711 (6, 37325) 4907604 (6, 25976) 1273419 (6, 33104) 7501440 (6, 14746) 1263214 (6, 88792) 9492445 (6, 12447) 8349375 (6, 22458) 9219153 (6, 58629) 3645374 (6, 90675) 1909131 (6, 54169) 6265610 (6, 87893) 5271910 (6, 41655) 7917424 (6, 90499) 9009284 (6, 67244) 371485 (6, 17413) 7343838 (6, 74913) 6378991 (6, 21879) 2993914 (6, 68602) 4702839 (6, 59837) 1346170 (6, 41296) 5589386 (6, 29204) 9015118 (6, 87716) 5008572 (6, 56537) 375999 (6, 89946) 296178 (6, 11477) 3324707 (6, 81184) 4809706 (6, 36811) 8646169 (6, 68725) 4757479 (6, 22324) 3786289 (6, 65499) 5516040 (6, 28998) 9815150 (6, 42238) 1784776 (6, 25331) 1350904 (6, 35417) 7031326 (6, 30204) 8175356 (6, 55361) 3050119 (6, 46972) 7342014 (6, 80693) 8152291 (6, 80877) 895436 (6, 74449) 5313986 (6, 26429) 1000577 (6, 77635) 1503119 (6, 38818) 741761 (6, 59044) 8704684 (6, 12621) 3665630 (6, 61393) 3872079 (6, 21033) 4493346 (6, 28840) 4512099 (6, 15894) 1461697 (6, 49246) 8440112 (6, 14227) 8984166 (6, 75605) 6087695 (6, 67694) 6986308 (6, 59303) 9913606 (6, 80400) 7315015 (6, 84354) 4500982 (6, 37756) 5386381 (6, 43059) 4364584 (6, 36673) 7672903 (6, 92226) 963644 (6, 20039) 8401639 (6, 60800) 8457342 (6, 79112) 6630533 (6, 53185) 2235415 (6, 59225) 5226515 (6, 26779) 4009753 (6, 84717) 3083636 (6, 72718) 7968009 (6, 31114) 8518091 (6, 42790) 4357659 (6, 12067) 6672132 (6, 21580) 5254261 (6, 65510) 5700748 (6, 75823) 3200275 (6, 28242) 3891904 (6, 29200) 7513620 (6, 48002) 491814 (6, 82945) 1410399 (6, 56069) 9388703 (6, 77438) 735668 (6, 16787) 5307850 (6, 49892) 4960102 (6, 30149) 5869072 (6, 9606) 6383821 (6, 21570) 8743749 (6, 12308) 7512095 (6, 73608) 7807906 (6, 27943) 298308 (6, 49221) 1012664 (6, 81675) 4539661 (6, 43236) 4572312 (6, 44945) 7610510 (6, 45769) 8346283 (6, 22589) 6780375 (6, 33013) 9591804 (6, 46494) 
     dis: 	32633.000 42944.000 43778.000 44439.000 45140.000 46066.000 46522.000 46910.000 47608.000 48691.000 49997.000 50730.000 50948.000 51310.000 51836.000 52252.000 52837.000 52935.000 54431.000 54601.000 54869.000 55326.000 55982.000 56324.000 56410.000 56457.000 56506.000 56619.000 57313.000 57508.000 57512.000 57703.000 57734.000 57771.000 57779.000 57793.000 57917.000 57960.000 58257.000 58298.000 58502.000 58531.000 58925.000 59156.000 59169.000 59284.000 59550.000 59621.000 59872.000 59901.000 59947.000 59949.000 60127.000 60324.000 60340.000 60632.000 60873.000 60913.000 60931.000 61093.000 61176.000 61198.000 61385.000 62051.000 62305.000 62462.000 62505.000 62563.000 62601.000 62693.000 62791.000 62992.000 63272.000 63533.000 63824.000 63864.000 63867.000 63955.000 64056.000 64165.000 64180.000 64377.000 64505.000 64556.000 64597.000 64772.000 64813.000 64890.000 64958.000 65073.000 65166.000 65184.000 65450.000 65547.000 65629.000 65693.000 65923.000 65936.000 66097.000 66141.000 
query 2 nn's (6, 3328, 86670): 3900297 (6, 83217) 4588082 (6, 31606) 8667807 (6, 80757) 289025 (6, 80462) 237844 (6, 23653) 5982237 (6, 65005) 4480383 (6, 54571) 3493381 (6, 18042) 6296252 (6, 24163) 2795236 (6, 16996) 5637368 (6, 73018) 7500565 (6, 8859) 4457160 (6, 76374) 8510786 (6, 60842) 436139 (6, 33563) 9410320 (6, 64533) 5988705 (6, 15181) 4154052 (6, 79109) 7654217 (6, 42044) 4757879 (6, 50243) 2994193 (6, 15692) 8923155 (6, 7071) 8565013 (6, 64856) 3832486 (6, 80444) 1198061 (6, 86515) 8086660 (6, 19778) 271911 (6, 44151) 1229611 (6, 85215) 9362419 (6, 16946) 9541874 (6, 78932) 1784913 (6, 45241) 4347605 (6, 48929) 4555038 (6, 33581) 4519717 (6, 40697) 3724739 (6, 52270) 409456 (6, 10241) 4021389 (6, 21907) 419195 (6, 52999) 8563094 (6, 80394) 9790465 (6, 35494) 3795529 (6, 21617) 3293173 (6, 29731) 4973399 (6, 65418) 8198272 (6, 72364) 6347813 (6, 24884) 6114289 (6, 79310) 49352 (6, 52474) 3061201 (6, 66871) 3140269 (6, 16482) 9403244 (6, 37961) 7685482 (6, 10668) 8070798 (6, 76147) 9910009 (6, 10346) 141025 (6, 29704) 5631784 (6, 32640) 4495608 (6, 76378) 5596868 (6, 30597) 4861540 (6, 67691) 1463083 (6, 61154) 1878319 (6, 47080) 3567890 (6, 52657) 2723946 (6, 45580) 1956474 (6, 55102) 4418406 (6, 9501) 4713533 (6, 77619) 4135242 (6, 86442) 8913430 (6, 65744) 4283746 (6, 59831) 764856 (6, 14327) 1297680 (6, 45188) 4542872 (6, 70231) 9906560 (6, 47924) 9384590 (6, 26735) 8801441 (6, 53336) 2800256 (6, 17090) 9724885 (6, 32424) 2247452 (6, 23492) 2383566 (6, 67183) 1700496 (6, 44695) 8476333 (6, 6657) 2407252 (6, 46696) 5879779 (6, 29152) 1758192 (6, 15169) 945107 (6, 11987) 7194949 (6, 19975) 5488746 (6, 51482) 2262090 (6, 60953) 7879817 (6, 9944) 5834114 (6, 68309) 4111853 (6, 33726) 9650562 (6, 29241) 6511526 (6, 66264) 8607006 (6, 4482) 895264 (6, 12569) 3457019 (6, 64153) 2833092 (6, 69172) 5520804 (6, 67744) 3923684 (6, 21946) 9235536 (6, 77548) 6202123 (6, 12066) 
     dis: 	43033.000 47637.000 47988.000 48416.000 49294.000 50144.000 50702.000 51043.000 51071.000 51181.000 51405.000 51634.000 51795.000 52273.000 52554.000 52939.000 53001.000 53029.000 53106.000 53215.000 53360.000 54025.000 54061.000 54273.000 54288.000 54318.000 54365.000 54404.000 54496.000 54558.000 54759.000 54968.000 55225.000 55350.000 55376.000 55753.000 55907.000 55957.000 55995.000 56197.000 56262.000 56269.000 56343.000 56416.000 56449.000 56627.000 56721.000 56977.000 57016.000 57060.000 57176.000 57245.000 57310.000 57318.000 57398.000 57423.000 57613.000 57716.000 57848.000 58055.000 58195.000 58328.000 58484.000 58485.000 58526.000 58766.000 58788.000 58925.000 58933.000 58977.000 58989.000 58993.000 59021.000 59135.000 59276.000 59587.000 59600.000 59644.000 59681.000 59745.000 59815.000 59823.000 59887.000 59895.000 60055.000 60058.000 60066.000 60098.000 60114.000 60183.000 60272.000 60574.000 60587.000 60590.000 60604.000 60618.000 60620.000 60631.000 60677.000 60696.000 
query 3 nn's (6, 14596, 97918): 980813 (6, 71799) 1527942 (6, 63601) 2205832 (6, 88191) 4147780 (6, 81935) 6151275 (6, 35885) 8410503 (6, 21539) 7269483 (6, 65758) 3643741 (6, 16392) 1985932 (6, 29948) 5124856 (6, 21115) 1417424 (6, 44675) 6411621 (6, 75418) 2892348 (6, 17177) 4904828 (6, 90172) 1124016 (6, 73832) 9010353 (6, 72511) 5224964 (6, 83012) 8649378 (6, 68639) 1911911 (6, 37348) 2218358 (6, 72770) 1344917 (6, 87616) 4890579 (6, 38501) 1739894 (6, 46666) 8501071 (6, 67768) 4246457 (6, 40977) 4486659 (6, 58126) 5716081 (6, 23527) 1514080 (6, 74319) 692217 (6, 48752) 9019201 (6, 61521) 9577990 (6, 43595) 7301436 (6, 90494) 290433 (6, 69934) 1590183 (6, 94432) 2630576 (6, 57868) 9257537 (6, 60208) 9925791 (6, 15173) 5755561 (6, 37222) 8051314 (6, 72057) 5381241 (6, 63826) 192312 (6, 54361) 879082 (6, 25842) 179529 (6, 54770) 9654367 (6, 58332) 2112048 (6, 94604) 9625994 (6, 73697) 9517308 (6, 55668) 9444290 (6, 76600) 9754475 (6, 84687) 7691560 (6, 91438) 9335193 (6, 23002) 1028926 (6, 22482) 9981635 (6, 86230) 1326424 (6, 65471) 6317467 (6, 53185) 5777538 (6, 42963) 7119531 (6, 86784) 222255 (6, 43651) 3421950 (6, 21530) 7614050 (6, 96453) 1502235 (6, 81373) 422848 (6, 15295) 6045699 (6, 92637) 8344580 (6, 46316) 1061321 (6, 32170) 8660300 (6, 17947) 3607435 (6, 42471) 8688385 (6, 69473) 8702151 (6, 27446) 4503222 (6, 80612) 5293699 (6, 91667) 6697954 (6, 46859) 7583501 (6, 89112) 8643637 (6, 60122) 840086 (6, 38327) 4372662 (6, 67651) 6346885 (6, 44856) 6281603 (6, 97704) 8323731 (6, 54958) 3828353 (6, 97118) 3704240 (6, 23884) 7747974 (6, 16438) 8556892 (6, 76889) 5181700 (6, 85910) 1217378 (6, 29565) 449169 (6, 96745) 82034 (6, 30145) 1229577 (6, 87073) 5663020 (6, 79607) 3195943 (6, 64854) 3080406 (6, 70341) 9701282 (6, 49995) 1604878 (6, 49371) 618359 (6, 24852) 2842840 (6, 17161) 240857 (6, 86618) 9102009 (6, 33306) 6734945 (6, 43438) 4540202 (6, 89365) 2305251 (6, 54398) 
     dis: 	4296.000 4309.000 4343.000 4550.000 4602.000 4817.000 4894.000 5279.000 5371.000 5492.000 5643.000 5998.000 6047.000 6194.000 6290.000 6311.000 6378.000 6468.000 6655.000 6693.000 6747.000 6771.000 6845.000 6973.000 6981.000 7021.000 7160.000 7171.000 7226.000 7233.000 7282.000 7394.000 7438.000 7460.000 7486.000 7531.000 7580.000 7587.000 7644.000 7666.000 7673.000 7688.000 7708.000 7746.000 7792.000 7825.000 7861.000 8042.000 8058.000 8087.000 8123.000 8228.000 8230.000 8268.000 8312.000 8322.000 8362.000 8395.000 8402.000 8407.000 8414.000 8500.000 8590.000 8594.000 8608.000 8650.000 8714.000 8797.000 8809.000 8850.000 8860.000 8912.000 8939.000 8954.000 9013.000 9063.000 9153.000 9157.000 9177.000 9207.000 9212.000 9230.000 9235.000 9404.000 9510.000 9576.000 9581.000 9736.000 9763.000 9774.000 9786.000 9808.000 9946.000 9990.000 9997.000 10000.000 10018.000 10027.000 10060.000 10084.000 
query 4 nn's (6, 1537, 84881): 7091990 (6, 39499) 5493369 (6, 76459) 3389697 (6, 55907) 6062843 (6, 18553) 1149636 (6, 51923) 6388463 (6, 27537) 3220361 (6, 51022) 7724095 (6, 64271) 4366121 (6, 16172) 7358946 (6, 21627) 7423926 (6, 77977) 3832333 (6, 59123) 39005 (6, 62188) 5708200 (6, 63590) 8630333 (6, 17180) 2908498 (6, 27529) 9033526 (6, 59364) 2173144 (6, 26778) 6203168 (6, 10893) 2732612 (6, 52473) 7455536 (6, 18226) 9836279 (6, 34785) 2989150 (6, 34854) 9968572 (6, 16018) 4719865 (6, 43931) 5135489 (6, 40757) 3405146 (6, 82722) 1543122 (6, 4518) 9570381 (6, 30216) 4766049 (6, 7736) 1020874 (6, 62278) 8493266 (6, 26629) 2045614 (6, 55556) 6330957 (6, 76463) 8515169 (6, 77181) 4399052 (6, 73619) 7907570 (6, 68006) 4901952 (6, 14130) 5729760 (6, 9406) 61611 (6, 11835) 9821817 (6, 38237) 4374812 (6, 44149) 992395 (6, 48895) 1804833 (6, 34533) 330819 (6, 48267) 2617346 (6, 35760) 1784595 (6, 38281) 9493047 (6, 76865) 3882262 (6, 27678) 5126636 (6, 2816) 3803911 (6, 66493) 797235 (6, 64523) 7069107 (6, 42234) 487654 (6, 41880) 7223142 (6, 49842) 718421 (6, 33536) 6562890 (6, 16377) 6468850 (6, 37115) 3903546 (6, 51990) 3789483 (6, 15167) 9036622 (6, 18691) 2435897 (6, 76122) 6887757 (6, 76420) 1127203 (6, 12198) 9167103 (6, 35510) 685903 (6, 33060) 2840566 (6, 15038) 5147412 (6, 20119) 282088 (6, 13264) 8295863 (6, 76375) 1355777 (6, 42626) 6030505 (6, 77387) 3219064 (6, 67521) 8305984 (6, 31043) 6743385 (6, 38371) 2085966 (6, 77261) 3287249 (6, 7959) 5295225 (6, 24889) 5923091 (6, 42526) 2667716 (6, 72100) 5130355 (6, 51971) 2161200 (6, 37062) 2704200 (6, 84642) 6748459 (6, 31982) 3355354 (6, 13349) 6559886 (6, 70983) 6135063 (6, 21975) 1591991 (6, 50868) 2659962 (6, 29402) 5449309 (6, 40144) 2164289 (6, 60232) 8154342 (6, 20440) 4191964 (6, 58715) 9369780 (6, 16782) 7360489 (6, 2199) 7082352 (6, 50344) 3003097 (6, 55105) 1250383 (6, 80981) 8093343 (6, 19413) 1321308 (6, 72004) 
     dis: 	77167.000 81626.000 84350.000 84746.000 85940.000 86061.000 86625.000 86698.000 86842.000 87070.000 87152.000 87409.000 87925.000 88206.000 88437.000 88949.000 89480.000 89811.000 89955.000 90596.000 90981.000 91244.000 91566.000 91743.000 91846.000 92149.000 92174.000 92925.000 92925.000 93001.000 94288.000 94291.000 94445.000 94447.000 94897.000 95276.000 95354.000 95535.000 95543.000 96151.000 96157.000 96273.000 96611.000 97117.000 97440.000 97472.000 97615.000 97659.000 97696.000 98026.000 98148.000 98154.000 98237.000 98333.000 98488.000 98664.000 98695.000 98748.000 98840.000 98880.000 98947.000 99028.000 99053.000 99086.000 99304.000 99616.000 99749.000 99873.000 99960.000 100041.000 100068.000 100072.000 100084.000 100152.000 100167.000 100170.000 100312.000 100324.000 100555.000 100613.000 100628.000 100676.000 100677.000 100838.000 100874.000 101018.000 101026.000 101321.000 101339.000 101361.000 101368.000 101407.000 101463.000 101519.000 101655.000 101668.000 101810.000 101863.000 101889.000 101955.000 
[ 621.677s ] *** Query time: 49.690
qps: 201.246
 *** acorn recall 
efs:150
acorn get 924052 postive res from 1000000 results, recall@100:0.924
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.001 0.003 0.017 0.061 0.191 0.563 0.164 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[621.708s] Timing results for search of k=100 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 67650640
ndis: 0
nreorder: 0
average distance computations per query: 6765.064
[ 621.708s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query_arbi sift10M 10000000 25 40 64 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_2_100000_random_M40_ga25_Mb64 150 128"
	User time (seconds): 591.37
	System time (seconds): 19.36
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 10:22.66
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 17053036
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 7085107
	Voluntary context switches: 35071
	Involuntary context switches: 1018
	Swaps: 0
	File system inputs: 924376
	File system outputs: 48
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 05:13
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift10M
N: 10000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_10.json
index file: /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_2_100000_random_M40_ga25_Mb64
ef_search: 150 
dim: 128
metadata or vector loaded from json, size: 20000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 2.281s ] Loaded metadata, 20000000 attr's found
[ 2.281s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 2.283s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
metadata or vector loaded from json, size: 40000
loaded query attributes from: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
[ 2.287s ] Loaded 10000 sift10M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_10.json
[ 2.299s ] Loaded ground truth, gt_size: 10
[ 2.299s ] Index Params -- d: 128, M: 40, N: 10000000, gamma: 25
--ACORN index created
acorn size: 5985260000, memory: 10705.242MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 9999555 nodes
level 1 : 249955 nodes
level 2 : 6212 nodes
level 3 : 140 nodes
level 4 : 3 nodes
level 5 : 0 nodes
Total edge:10255865
Average degree per layer:1709310.833
node size:10000000
Average degree:149.631
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 12.494s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 150
selectivity: 0.500
[ 616.190s ] Query results (vector ids, then distances):
query 0 nn's (6, 15386, 98713): 4160485 (6, 75840) 6141318 (6, 37070) 4738758 (6, 62037) 7293718 (6, 46327) 4538400 (6, 82045) 1020562 (6, 35855) 9397776 (6, 80412) 238649 (6, 89673) 9536881 (6, 67672) 8191903 (6, 40651) 
     dis: 	65950.000 73183.000 74463.000 75573.000 76603.000 76767.000 77424.000 77858.000 78206.000 78749.000 
query 1 nn's (6, 9087, 92417): 8449497 (6, 34983) 5552416 (6, 36365) 285986 (6, 75309) 4234271 (6, 67974) 2253711 (6, 37325) 4907604 (6, 25976) 1273419 (6, 33104) 7501440 (6, 14746) 1263214 (6, 88792) 9492445 (6, 12447) 
     dis: 	32633.000 42944.000 43778.000 44439.000 45140.000 46066.000 46522.000 46910.000 47608.000 48691.000 
query 2 nn's (6, 3328, 86670): 3900297 (6, 83217) 4588082 (6, 31606) 8667807 (6, 80757) 289025 (6, 80462) 237844 (6, 23653) 5982237 (6, 65005) 4480383 (6, 54571) 3493381 (6, 18042) 6296252 (6, 24163) 2795236 (6, 16996) 
     dis: 	43033.000 47637.000 47988.000 48416.000 49294.000 50144.000 50702.000 51043.000 51071.000 51181.000 
query 3 nn's (6, 14596, 97918): 980813 (6, 71799) 1527942 (6, 63601) 2205832 (6, 88191) 4147780 (6, 81935) 6151275 (6, 35885) 8410503 (6, 21539) 7269483 (6, 65758) 3643741 (6, 16392) 1985932 (6, 29948) 5124856 (6, 21115) 
     dis: 	4296.000 4309.000 4343.000 4550.000 4602.000 4817.000 4894.000 5279.000 5371.000 5492.000 
query 4 nn's (6, 1537, 84881): 7091990 (6, 39499) 5493369 (6, 76459) 3389697 (6, 55907) 6062843 (6, 18553) 1149636 (6, 51923) 6388463 (6, 27537) 3220361 (6, 51022) 7724095 (6, 64271) 4366121 (6, 16172) 7358946 (6, 21627) 
     dis: 	77167.000 81626.000 84350.000 84746.000 85940.000 86061.000 86625.000 86698.000 86842.000 87070.000 
[ 616.190s ] *** Query time: 58.047
qps: 172.273
 *** acorn recall 
efs:150
acorn get 96598 postive res from 100000 results, recall@10:0.966
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.001 0.002 0.006 0.020 0.045 0.150 0.776 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[616.191s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 67650640
ndis: 0
nreorder: 0
average distance computations per query: 6765.064
[ 616.191s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query_arbi sift10M 10000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_10.json /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_2_100000_random_M40_ga25_Mb64 150 128"
	User time (seconds): 595.51
	System time (seconds): 22.27
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 10:17.81
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 17037136
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 7045895
	Voluntary context switches: 1
	Involuntary context switches: 966
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 06:39
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift10M
N: 10000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_10.json
index file: /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_2_100000_random_M40_ga25_Mb64
ef_search: 150 
dim: 128
metadata or vector loaded from json, size: 20000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 2.225s ] Loaded metadata, 20000000 attr's found
[ 2.225s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 2.228s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
metadata or vector loaded from json, size: 40000
loaded query attributes from: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json
[ 2.232s ] Loaded 10000 sift10M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_10.json
[ 2.244s ] Loaded ground truth, gt_size: 10
[ 2.244s ] Index Params -- d: 128, M: 40, N: 10000000, gamma: 25
--ACORN index created
acorn size: 5985260000, memory: 10705.242MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 9999555 nodes
level 1 : 249955 nodes
level 2 : 6212 nodes
level 3 : 140 nodes
level 4 : 3 nodes
level 5 : 0 nodes
Total edge:10255865
Average degree per layer:1709310.833
node size:10000000
Average degree:149.631
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 12.427s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 150
selectivity: 0.100
[ 549.947s ] Query results (vector ids, then distances):
query 0 nn's (10, 56934, 90265): 2515600 (10, 61059) 7632021 (10, 87388) 6984373 (10, 64180) 5423931 (10, 85420) 7468388 (10, 59777) 788117 (10, 74289) 796249 (10, 61487) 1174332 (10, 82675) 1835932 (10, 67510) 1071640 (10, 75218) 
     dis: 	73465.000 75587.000 76880.000 77145.000 77229.000 78653.000 79534.000 79542.000 80072.000 82439.000 
query 1 nn's (10, 32300, 65628): 522429 (10, 64072) 7120642 (10, 33625) 4922660 (10, 65214) 5509879 (10, 53866) 1843885 (10, 34165) 7693023 (10, 38018) 3631651 (10, 48250) 8590082 (10, 44591) 1526669 (10, 44625) 4689763 (10, 41562) 
     dis: 	52132.000 54684.000 56486.000 56959.000 57411.000 57450.000 57719.000 58064.000 58488.000 59030.000 
query 2 nn's (10, 31833, 65159): 9710602 (10, 51184) 4279056 (10, 55445) 2393824 (10, 59147) 5039283 (10, 39400) 5563048 (10, 37056) 8333106 (10, 41607) 6340941 (10, 32722) 2038327 (10, 59437) 247874 (10, 40245) 8075681 (10, 62354) 
     dis: 	40495.000 52719.000 55985.000 56504.000 57031.000 57924.000 58468.000 58701.000 58734.000 59158.000 
query 3 nn's (10, 38987, 72318): 3459738 (10, 69550) 3041965 (10, 50501) 6148687 (10, 69659) 6760157 (10, 56432) 3278687 (10, 39352) 7749958 (10, 68262) 5240529 (10, 57000) 7865854 (10, 69158) 936598 (10, 40458) 9966986 (10, 63528) 
     dis: 	5862.000 6095.000 6437.000 7029.000 7183.000 8122.000 8297.000 8579.000 8643.000 9021.000 
query 4 nn's (10, 58912, 92246): 546979 (10, 64972) 3692806 (10, 85695) 4501065 (10, 73615) 2251576 (10, 62258) 4775817 (10, 63656) 5257851 (10, 72192) 1829341 (10, 88305) 4962535 (10, 68740) 163735 (10, 76848) 5001194 (10, 59766) 
     dis: 	86866.000 86927.000 90882.000 91292.000 91583.000 92300.000 92442.000 93259.000 95492.000 95630.000 
[ 549.947s ] *** Query time: 58.716
qps: 170.313
 *** acorn recall 
efs:150
acorn get 98216 postive res from 100000 results, recall@10:0.982
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.000 0.002 0.007 0.025 0.099 0.867 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[549.949s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 52447387
ndis: 0
nreorder: 0
average distance computations per query: 5244.739
[ 549.949s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query_arbi sift10M 10000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_10.json /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_2_100000_random_M40_ga25_Mb64 150 128"
	User time (seconds): 528.93
	System time (seconds): 22.66
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 9:11.64
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 17036216
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 7156018
	Voluntary context switches: 1
	Involuntary context switches: 904
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 07:19
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift10M
N: 10000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_10.json
index file: /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_2_100000_random_M40_ga25_Mb64
ef_search: 150 
dim: 128
metadata or vector loaded from json, size: 20000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 2.273s ] Loaded metadata, 20000000 attr's found
[ 2.273s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 2.276s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
metadata or vector loaded from json, size: 40000
loaded query attributes from: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json
[ 2.280s ] Loaded 10000 sift10M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_10.json
[ 2.291s ] Loaded ground truth, gt_size: 10
[ 2.291s ] Index Params -- d: 128, M: 40, N: 10000000, gamma: 25
--ACORN index created
acorn size: 5985260000, memory: 10705.242MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 9999555 nodes
level 1 : 249955 nodes
level 2 : 6212 nodes
level 3 : 140 nodes
level 4 : 3 nodes
level 5 : 0 nodes
Total edge:10255865
Average degree per layer:1709310.833
node size:10000000
Average degree:149.631
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 13.161s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 150
selectivity: 0.010
[ 220.849s ] Query results (vector ids, then distances):
query 0 nn's (19, 1778, 21797): 4072432 (19, 8708) 7096167 (19, 12112) 6743334 (19, 13828) 5109782 (19, 16081) 4377663 (19, 10279) 651685 (19, 8488) 8861444 (19, 5093) 5949364 (19, 9793) 4788805 (19, 19305) 6636512 (19, 8632) 
     dis: 	84223.000 88121.000 91348.000 92570.000 94970.000 95476.000 95801.000 96570.000 96855.000 98730.000 
query 1 nn's (19, 59042, 79040): 3221056 (19, 61495) 2002301 (19, 65795) 2077396 (19, 61422) 8461795 (19, 72235) 2442767 (19, 70795) 7439645 (19, 66610) 3663116 (19, 66426) 9499049 (19, 68249) 8543169 (19, 72557) 7686151 (19, 68480) 
     dis: 	49695.000 59534.000 65598.000 74817.000 75826.000 76029.000 76413.000 79307.000 80960.000 81397.000 
query 2 nn's (19, 42784, 62779): 9466222 (19, 47586) 7693885 (19, 47791) 5727909 (19, 48856) 9241653 (19, 60913) 6116869 (19, 58494) 2274611 (19, 52538) 6969401 (19, 43166) 4625636 (19, 47270) 6090181 (19, 59271) 4299983 (19, 48794) 
     dis: 	51654.000 59189.000 60084.000 63480.000 64535.000 64869.000 65687.000 66366.000 66383.000 67273.000 
query 3 nn's (19, 49355, 69343): 5792548 (19, 53423) 7691164 (19, 51774) 3481923 (19, 58064) 9604675 (19, 62353) 5883706 (19, 66300) 584269 (19, 68767) 6214747 (19, 57450) 843890 (19, 60908) 4702241 (19, 62966) 9551131 (19, 57354) 
     dis: 	8040.000 10430.000 12140.000 12475.000 13689.000 14181.000 15735.000 15740.000 16046.000 18576.000 
query 4 nn's (19, 10048, 30070): 5036980 (19, 10816) 3814747 (19, 27289) 6754072 (19, 10876) 571010 (19, 18633) 8939608 (19, 19392) 4618448 (19, 27699) 7662721 (19, 11182) 6040397 (19, 18694) 7641018 (19, 27628) 8508092 (19, 15284) 
     dis: 	94937.000 97638.000 98226.000 99593.000 100711.000 100750.000 103450.000 105188.000 105324.000 105934.000 
[ 220.849s ] *** Query time: 56.742
qps: 176.237
 *** acorn recall 
efs:150
acorn get 94905 postive res from 100000 results, recall@10:0.949
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.002 0.003 0.010 0.025 0.075 0.217 0.668 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[220.850s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 14215926
ndis: 0
nreorder: 0
average distance computations per query: 1421.593
[ 220.850s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query_arbi sift10M 10000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_10.json /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_2_100000_random_M40_ga25_Mb64 150 128"
	User time (seconds): 210.42
	System time (seconds): 11.22
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:41.65
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 17036112
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 4784339
	Voluntary context switches: 1
	Involuntary context switches: 309
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 07:48
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift10M
N: 10000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_20_2_100000_random_20.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_20_2_100000_random_20_10.json
index file: /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_2_100000_random_M40_ga25_Mb64
ef_search: 150 
dim: 128
metadata or vector loaded from json, size: 20000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 8.878s ] Loaded metadata, 20000000 attr's found
[ 8.878s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 8.883s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
metadata or vector loaded from json, size: 40000
loaded query attributes from: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_20_2_100000_random_20.json
[ 8.891s ] Loaded 10000 sift10M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_20_2_100000_random_20_10.json
[ 8.913s ] Loaded ground truth, gt_size: 10
[ 8.913s ] Index Params -- d: 128, M: 40, N: 10000000, gamma: 25
--ACORN index created
acorn size: 5985260000, memory: 10705.242MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 9999555 nodes
level 1 : 249955 nodes
level 2 : 6212 nodes
level 3 : 140 nodes
level 4 : 3 nodes
level 5 : 0 nodes
Total edge:10255865
Average degree per layer:1709310.833
node size:10000000
Average degree:149.631
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 44.837s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 150
selectivity: 0.001
[ 716.195s ] Query results (vector ids, then distances):
query 0 nn's (20, 69745, 72911): 2986272 (20, 69812) 7295147 (20, 70135) 1325099 (20, 70037) 491100 (20, 72879) 7634627 (20, 70518) 6959815 (20, 70046) 8520474 (20, 71966) 2353921 (20, 72650) 4793696 (20, 70620) 9824871 (20, 72426) 
     dis: 	108973.000 129759.000 137027.000 139970.000 140311.000 140579.000 148091.000 149680.000 151597.000 155815.000 
query 1 nn's (20, 62704, 65873): 988844 (20, 64383) 1742288 (20, 64327) 942860 (20, 64840) 1257082 (20, 63519) 1708047 (20, 62999) 3458028 (20, 64877) 5154075 (20, 64545) 7274969 (20, 64270) 9191654 (20, 63681) 4767549 (20, 63483) 
     dis: 	77905.000 81929.000 90497.000 102440.000 102925.000 103999.000 106057.000 108100.000 109274.000 112439.000 
query 2 nn's (20, 68097, 71254): 1971703 (20, 69790) 7701485 (20, 71252) 7562607 (20, 70388) 1723834 (20, 70057) 5776763 (20, 69972) 6534191 (20, 70444) 8902756 (20, 68575) 3542271 (20, 68973) 4339492 (20, 71050) 1318269 (20, 70249) 
     dis: 	92743.000 94855.000 97820.000 98964.000 102109.000 102912.000 103728.000 108160.000 110027.000 110618.000 
query 3 nn's (20, 24633, 27798): 6505776 (20, 27551) 6934893 (20, 25181) 4868799 (20, 25584) 3416741 (20, 27521) 4715844 (20, 27754) 408242 (20, 27299) 4513912 (20, 25943) 4753104 (20, 27397) 5738838 (20, 27782) 3829444 (20, 24941) 
     dis: 	22291.000 22711.000 44336.000 44780.000 48097.000 50202.000 50909.000 52665.000 62367.000 62959.000 
query 4 nn's (20, 68524, 71683): 3155068 (20, 69243) 8817757 (20, 70102) 7168949 (20, 69220) 5963853 (20, 71520) 9078661 (20, 71602) 9135567 (20, 68699) 8822496 (20, 70142) 2778410 (20, 69994) 2323310 (20, 71414) 1126736 (20, 69152) 
     dis: 	125930.000 126979.000 143810.000 146372.000 149872.000 155235.000 155267.000 155514.000 155585.000 156502.000 
[ 716.196s ] *** Query time: 291.487
qps: 34.307
 *** acorn recall 
efs:150
acorn get 11543 postive res from 100000 results, recall@10:0.115
recall dist(10% per bucket): 0.517 0.180 0.124 0.080 0.046 0.028 0.016 0.006 0.002 0.001 0.000 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[716.200s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 2033844
ndis: 0
nreorder: 0
average distance computations per query: 203.384
[ 716.200s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query_arbi sift10M 10000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_20_2_100000_random_20.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_20_2_100000_random_20_10.json /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_2_100000_random_M40_ga25_Mb64 150 128"
	User time (seconds): 378.77
	System time (seconds): 30.92
	Percent of CPU this job got: 56%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 12:00.09
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 17025908
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 6073992
	Voluntary context switches: 1
	Involuntary context switches: 68813
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
