Start time: 23:16
====================
START: running TEST_IVFPQ, sift data --

dataset: sift1M
N: 1000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json
qrange file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json
gt file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json
index file: /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_8_random_4
nprobe: 100
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json
[ 0.062s ] Loaded metadata, 1000000 attr's found
[ 0.062s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.065s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
[ 0.066s ] Loaded 10000 sift1M queries
[ 0.074s ] Loaded ground truth, gt_size: 10
[ 0.074s ] Index Params -- d: 128, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 0.273s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.125
[ 215.063s ] Query results (vector ids, then distances):
query 0 nn's (2, 2): 565419 (2) 908244 (2) 158640 (2) 2837 (2) 957845 (2) 374319 (2) 619829 (2) 756694 (2) 592899 (2) 4009 (2) 
     dis: 	73409.617 74105.305 79125.602 79284.297 80619.266 81495.328 82959.977 83264.672 83325.180 83700.906 
query 1 nn's (7, 7): 586780 (7) 849742 (7) 980641 (7) 987696 (7) 390999 (7) 918322 (7) 731804 (7) 237730 (7) 275323 (7) 679280 (7) 
     dis: 	57155.680 60732.359 61787.512 63369.535 63550.453 64257.102 65362.223 65866.250 65936.883 66479.953 
query 2 nn's (1, 1): 402106 (1) 861882 (1) 778799 (1) 869379 (1) 900097 (1) 678139 (1) 311367 (1) 23781 (1) 69035 (1) 562123 (1) 
     dis: 	34723.961 37482.953 38608.336 40410.574 40963.512 41639.977 42115.754 42116.000 43304.988 43963.691 
query 3 nn's (0, 0): 722075 (0) 191115 (0) 190999 (0) 190795 (0) 546487 (0) 190587 (0) 609251 (0) 81437 (0) 183026 (0) 102152 (0) 
     dis: 	36264.012 37069.359 39087.145 40130.699 40603.445 41257.195 41788.289 42559.781 43196.012 43341.039 
query 4 nn's (7, 7): 59308 (7) 81533 (7) 416604 (7) 279082 (7) 278801 (7) 671857 (7) 356787 (7) 495828 (7) 472001 (7) 106921 (7) 
     dis: 	56261.574 56276.129 58939.301 61617.391 62651.574 63320.273 64042.832 64556.285 65030.004 65681.203 
[ 215.064s ] *** Query time: 74.892
qps: 133.526
 *** ivfpq recall 
ivfpq get 77140 postive res from 100000 results, recall@10:0.771
recall dist(10% per bucket): 0.000 0.000 0.000 0.001 0.007 0.029 0.106 0.252 0.349 0.218 0.039 
finished ivfpq index examples
[ 215.065s ] -----DONE-----
