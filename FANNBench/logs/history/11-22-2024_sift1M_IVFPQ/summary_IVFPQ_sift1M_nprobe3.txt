Start time: 23:16
====================
START: running TEST_IVFPQ, sift data --

dataset: sift1M
N: 1000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json
qrange file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json
gt file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json
index file: /mnt/data/mocheng/dataset/sift/ivfpq/index/index_ivfpq_sel_1_8_random_4
nprobe: 3
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json
[ 0.066s ] Loaded metadata, 1000000 attr's found
[ 0.066s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.069s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
[ 0.070s ] Loaded 10000 sift1M queries
[ 0.078s ] Loaded ground truth, gt_size: 10
[ 0.078s ] Index Params -- d: 128, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 0.276s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.125
[ 204.130s ] Query results (vector ids, then distances):
query 0 nn's (2, 2): 908244 (2) 957845 (2) 619829 (2) 87578 (2) 554637 (2) 746238 (2) 372912 (2) 701108 (2) 95545 (2) 842594 (2) 
     dis: 	74105.305 80619.266 82959.977 84799.172 85685.695 86414.797 86529.719 87156.180 87433.953 87559.617 
query 1 nn's (7, 7): 849742 (7) 987696 (7) 390999 (7) 918322 (7) 275323 (7) 679280 (7) 14748 (7) 502137 (7) 458829 (7) 866291 (7) 
     dis: 	60732.359 63369.535 63550.453 64257.102 65936.883 66479.953 67115.148 68443.555 69376.766 69548.328 
query 2 nn's (1, 1): 402106 (1) 861882 (1) 778799 (1) 869379 (1) 23781 (1) 260648 (1) 218945 (1) 861555 (1) 826055 (1) 236161 (1) 
     dis: 	34723.961 37482.953 38608.336 40410.574 42116.000 44125.398 45114.789 46336.148 46410.914 47049.285 
query 3 nn's (0, 0): 722075 (0) 191115 (0) 190999 (0) 546487 (0) 190587 (0) 609251 (0) 81437 (0) 183026 (0) 9825 (0) 157129 (0) 
     dis: 	36264.012 37069.359 39087.145 40603.445 41257.195 41788.289 42559.781 43196.012 45189.703 45880.262 
query 4 nn's (7, 7): 59308 (7) 81533 (7) 416604 (7) 356787 (7) 472001 (7) 106921 (7) 496866 (7) 460675 (7) 410705 (7) 487771 (7) 
     dis: 	56261.574 56276.129 58939.301 64042.832 65030.004 65681.203 66054.109 67565.750 69247.828 69918.125 
[ 204.130s ] *** Query time: 63.193
qps: 158.246
 *** ivfpq recall 
ivfpq get 38630 postive res from 100000 results, recall@10:0.386
recall dist(10% per bucket): 0.051 0.122 0.154 0.161 0.149 0.119 0.086 0.070 0.051 0.032 0.006 
finished ivfpq index examples
[ 204.131s ] -----DONE-----
