Start time: 22:11
set threads:  128
data file:  /mnt/data/mocheng/dataset/yfcc10m/base10M.fvecs
query file:  /mnt/data/mocheng/dataset/yfcc10m/query10k.fvecs
attr file:  /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_dist/qrangesel_1000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_dist/sif_gt_sel_1000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/yfcc10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/yfcc10m/vtree/index/index_sel_1_100000_dist/
mode:  construction
DATASETS:  ['spacev10m']
using alpha:  1
Vamana tree build time: 4802.459s
construction done
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset spacev10m --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/yfcc10m/base10M.fvecs --query_file /mnt/data/mocheng/dataset/yfcc10m/query10k.fvecs --attr_file /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_dist/qrangesel_1000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_dist/sif_gt_sel_1000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/yfcc10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/yfcc10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 128 --beam_search_size 40 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode construction"
	User time (seconds): 591044.78
	System time (seconds): 586.19
	Percent of CPU this job got: 12222%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:20:40
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 72449980
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 42998078
	Voluntary context switches: 10842655
	Involuntary context switches: 14148703
	Swaps: 0
	File system inputs: 0
	File system outputs: 34963440
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:31
set threads:  1
data file:  /mnt/data/mocheng/dataset/yfcc10m/base10M.fvecs
query file:  /mnt/data/mocheng/dataset/yfcc10m/query10k.fvecs
attr file:  /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_dist/qrangesel_1000_1_100000_in_dist.json
gt file:  /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_dist/sif_gt_sel_1000_1_100000_in_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/yfcc10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/yfcc10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['spacev10m']
using alpha:  1
Vamana tree build time: 48.185s
using this batch search3 
total point comp 54975150
avg comp:5497.52
qps: 1108.9577515076132
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_40', 0.00789999999999998, 9.051092386245728, 48.18463850021362, 2, 54443800)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset spacev10m --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/yfcc10m/base10M.fvecs --query_file /mnt/data/mocheng/dataset/yfcc10m/query10k.fvecs --attr_file /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_dist/qrangesel_1000_1_100000_in_dist.json --gt_file /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_dist/sif_gt_sel_1000_1_100000_in_dist_10.json --output_file /mnt/data/mocheng/dataset/yfcc10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/yfcc10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 40 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 35.53
	System time (seconds): 43.46
	Percent of CPU this job got: 102%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:17.21
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 69515492
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 2
	Minor (reclaiming a frame) page faults: 18804434
	Voluntary context switches: 179
	Involuntary context switches: 731
	Swaps: 0
	File system inputs: 128
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:28
set threads:  1
data file:  /mnt/data/mocheng/dataset/yfcc10m/base10M.fvecs
query file:  /mnt/data/mocheng/dataset/yfcc10m/query10k.fvecs
attr file:  /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file:  /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json
gt file:  /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/yfcc10m/vtree/result/result_sel_1_100000_random.csv
index prefix:  /mnt/data/mocheng/dataset/yfcc10m/vtree/index/index_sel_1_100000_random/
mode:  query
DATASETS:  ['spacev10m']
using alpha:  1
Vamana tree build time: 213.754s
using this batch search3 
total point comp 55164329
avg comp:5516.43
qps: 902.3017438890482
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_40', 0.9927899999999937, 11.129491329193115, 213.75378823280334, 2, 54438636)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset spacev10m --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/yfcc10m/base10M.fvecs --query_file /mnt/data/mocheng/dataset/yfcc10m/query10k.fvecs --attr_file /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_random/attr_sel_1_100000_random.json --qrange_file /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json --gt_file /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_10.json --output_file /mnt/data/mocheng/dataset/yfcc10m/vtree/result/result_sel_1_100000_random.csv --index_prefix /mnt/data/mocheng/dataset/yfcc10m/vtree/index/index_sel_1_100000_random/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 40 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 49.66
	System time (seconds): 57.69
	Percent of CPU this job got: 44%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 4:02.86
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 69515568
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 22001435
	Voluntary context switches: 70071
	Involuntary context switches: 875
	Swaps: 0
	File system inputs: 5336800
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 05:17
set threads:  1
data file:  /mnt/data/mocheng/dataset/yfcc10m/base10M.fvecs
query file:  /mnt/data/mocheng/dataset/yfcc10m/query10k.fvecs
attr file:  /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file:  /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_dist/qrangesel_1000_1_100000_out_dist.json
gt file:  /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_dist/sif_gt_sel_1000_1_100000_out_dist_10.json
top k:  10
data size:  10000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/yfcc10m/vtree/result/result_sel_1_100000_dist.csv
index prefix:  /mnt/data/mocheng/dataset/yfcc10m/vtree/index/index_sel_1_100000_dist/
mode:  query
DATASETS:  ['spacev10m']
using alpha:  1
Vamana tree build time: 191.158s
using this batch search3 
total point comp 0
avg comp:0
qps: 142305.70097611786
method, recall, total time, build time, split factor, memory
('', 'vamana-tree_1.000_2_40', 0.99998, 0.1163630485534668, 191.15830254554749, 2, 54431120)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset spacev10m --data_size 10000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/yfcc10m/base10M.fvecs --query_file /mnt/data/mocheng/dataset/yfcc10m/query10k.fvecs --attr_file /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json --qrange_file /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_dist/qrangesel_1000_1_100000_out_dist.json --gt_file /mnt/data/mocheng/dataset/yfcc10m/label/sel_1_100000_dist/sif_gt_sel_1000_1_100000_out_dist_10.json --output_file /mnt/data/mocheng/dataset/yfcc10m/vtree/result/result_sel_1_100000_dist.csv --index_prefix /mnt/data/mocheng/dataset/yfcc10m/vtree/index/index_sel_1_100000_dist/ --top_k 10 --vamana_tree --threads 1 --beam_search_size 40 --num_final_multiplies 16 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 43.00
	System time (seconds): 58.59
	Percent of CPU this job got: 48%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 3:31.45
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 69503640
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 19882326
	Voluntary context switches: 76917
	Involuntary context switches: 938
	Swaps: 0
	File system inputs: 2160536
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
