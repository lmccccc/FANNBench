Start time: 07:17
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_2000_1_100000_in_dist.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_2000_1_100000_in_dist_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_dist_64
nprobe: 5
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
[ 0.724s ] Loaded metadata, 10000000 attr's found
[ 0.724s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.728s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.729s ] Loaded 10000 sift10M queries
[ 0.737s ] Loaded ground truth, gt_size: 10
[ 0.737s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 1.047s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.020
[ 868.453s ] Query results (vector ids, then distances):
query 0 nn's (18920, 20920): 914494 (20743) 7148793 (19900) 9854609 (20721) 6944135 (20704) 4269440 (19951) 7754879 (20653) 6519683 (19180) 8722416 (20650) 8051002 (19156) 183801 (20659) 
     dis: 	70320.336 70806.789 71344.562 73001.297 73045.758 73102.414 74001.383 78503.078 78759.742 79682.609 
query 1 nn's (88158, 90158): 25582 (89528) 8359269 (89481) 8180678 (88761) 8453351 (88758) 3862636 (88737) 7493820 (88701) 7111524 (89540) 5314720 (88731) 8714096 (89574) 8160407 (88763) 
     dis: 	47750.055 47750.055 56588.238 56956.820 59233.875 61008.449 61211.340 62786.336 63368.773 63819.582 
query 2 nn's (89872, 91872): 4074538 (91819) 398742 (91107) 4847885 (91075) 8038814 (90306) 4020241 (90365) 2352405 (90299) 139224 (90298) 6743996 (90323) 2299957 (91861) 4605908 (90338) 
     dis: 	46718.668 51522.148 51674.148 53163.898 53474.102 53961.965 54054.578 56457.680 57033.551 57717.016 
query 3 nn's (71200, 73200): 6734945 (72332) 1178011 (73158) 4030248 (73143) 2587214 (71555) 5561400 (73133) 4087054 (71557) 6468324 (72363) 7922777 (71584) 6131690 (73133) 5566648 (71546) 
     dis: 	3821.686 5950.066 5950.066 7327.545 7327.545 7600.952 7600.952 8091.443 8243.070 8671.205 
query 4 nn's (44174, 46174): 7113858 (44924) 4835618 (44180) 285969 (44222) 3824686 (45699) 1342292 (45766) 6693193 (44180) 1269127 (45696) 8401262 (44185) 2369417 (44998) 2378467 (44975) 
     dis: 	77260.211 77599.969 79662.141 80168.359 81128.383 81982.109 82048.445 82749.594 86735.883 87811.750 
[ 868.453s ] *** Query time: 282.430
qps: 35.407
 *** ivfpq recall 
ivfpq get 23110 postive res from 100000 results, recall@10:0.231
recall dist(10% per bucket): 0.109 0.232 0.251 0.195 0.117 0.061 0.025 0.008 0.002 0.000 0.000 
finished ivfpq index examples
[ 868.455s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_2000_1_100000_in_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_2000_1_100000_in_dist_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_dist_64 5 128"
	User time (seconds): 758.52
	System time (seconds): 117.55
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 14:36.20
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 94426012
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 61999844
	Voluntary context switches: 272
	Involuntary context switches: 1538
	Swaps: 0
	File system inputs: 448
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
