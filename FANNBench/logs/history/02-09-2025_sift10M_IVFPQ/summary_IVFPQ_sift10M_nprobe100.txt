Start time: 07:17
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_2000_1_100000_in_dist.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_2000_1_100000_in_dist_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_dist_64
nprobe: 100
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
[ 0.745s ] Loaded metadata, 10000000 attr's found
[ 0.745s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.749s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.750s ] Loaded 10000 sift10M queries
[ 0.758s ] Loaded ground truth, gt_size: 10
[ 0.758s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 1.112s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.020
[ 826.007s ] Query results (vector ids, then distances):
query 0 nn's (18920, 20920): 5544534 (19180) 9086200 (19956) 914494 (20743) 7148793 (19900) 9854609 (20721) 6944135 (20704) 4269440 (19951) 7754879 (20653) 6519683 (19180) 6289280 (20731) 
     dis: 	69632.656 70211.234 70320.336 70806.789 71344.562 73001.297 73045.758 73102.414 74001.383 78467.500 
query 1 nn's (88158, 90158): 25582 (89528) 8359269 (89481) 8180678 (88761) 8453351 (88758) 3779157 (88800) 3862636 (88737) 1329211 (89497) 7493820 (88701) 7111524 (89540) 5314720 (88731) 
     dis: 	47750.055 47750.055 56588.238 56956.820 58975.453 59233.875 60074.672 61008.449 61211.340 62786.336 
query 2 nn's (89872, 91872): 4074538 (91819) 9632574 (91096) 9181056 (91044) 398742 (91107) 4847885 (91075) 8038814 (90306) 4020241 (90365) 2352405 (90299) 139224 (90298) 9598164 (91096) 
     dis: 	46718.668 47605.875 51465.562 51522.148 51674.148 53163.898 53474.102 53961.965 54054.578 54691.137 
query 3 nn's (71200, 73200): 6734945 (72332) 1178011 (73158) 4030248 (73143) 2587214 (71555) 5561400 (73133) 4087054 (71557) 6468324 (72363) 7922777 (71584) 6131690 (73133) 5566648 (71546) 
     dis: 	3821.686 5950.066 5950.066 7327.545 7327.545 7600.952 7600.952 8091.443 8243.070 8671.205 
query 4 nn's (44174, 46174): 7113858 (44924) 6428752 (44232) 4835618 (44180) 285969 (44222) 3850790 (45711) 3824686 (45699) 6962590 (44945) 1342292 (45766) 251386 (44948) 6693193 (44180) 
     dis: 	77260.211 77541.109 77599.969 79662.141 80159.469 80168.359 80847.906 81128.383 81972.039 81982.109 
[ 826.007s ] *** Query time: 237.519
qps: 42.102
 *** ivfpq recall 
ivfpq get 26875 postive res from 100000 results, recall@10:0.269
recall dist(10% per bucket): 0.055 0.177 0.252 0.236 0.158 0.082 0.030 0.009 0.002 0.000 0.000 
finished ivfpq index examples
[ 826.008s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_2000_1_100000_in_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_2000_1_100000_in_dist_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_dist_64 100 128"
	User time (seconds): 738.70
	System time (seconds): 94.56
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 13:53.37
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 94424992
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 55829937
	Voluntary context switches: 365
	Involuntary context switches: 1386
	Swaps: 0
	File system inputs: 66360
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
