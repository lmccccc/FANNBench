Start time: 07:17
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_2000_1_100000_in_dist.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_2000_1_100000_in_dist_10.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_dist_64
nprobe: 1
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
[ 0.725s ] Loaded metadata, 10000000 attr's found
[ 0.725s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.728s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.730s ] Loaded 10000 sift10M queries
[ 0.737s ] Loaded ground truth, gt_size: 10
[ 0.737s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 1.045s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.020
[ 836.605s ] Query results (vector ids, then distances):
query 0 nn's (18920, 20920): 914494 (20743) 9854609 (20721) 6944135 (20704) 9796408 (20701) 1293437 (20728) 9264720 (19127) 2732914 (20804) 5567091 (20686) 3650956 (19159) 2162922 (19180) 
     dis: 	70320.336 71344.562 73001.297 79938.727 81395.547 81471.227 83230.914 84936.242 86673.781 87518.484 
query 1 nn's (88158, 90158): 25582 (89528) 8359269 (89481) 8323290 (88721) 329727 (89545) 8041520 (88749) 4580227 (88756) 7598429 (89547) 2088733 (89524) 2406281 (89522) 3561061 (89554) 
     dis: 	47750.055 47750.055 68429.523 68701.680 70743.430 73030.688 74433.969 75438.375 75810.469 76206.594 
query 2 nn's (89872, 91872): 4847885 (91075) 139224 (90298) 8071233 (90318) 2513184 (90295) 6973636 (91142) 1343406 (91833) 2524716 (91128) 6324957 (90290) 9268550 (90331) 1975450 (91818) 
     dis: 	51674.148 54054.578 60266.016 60271.434 62300.055 62553.781 64735.008 66868.562 67190.844 67422.852 
query 3 nn's (71200, 73200): 6734945 (72332) 1178011 (73158) 4030248 (73143) 2587214 (71555) 5561400 (73133) 4087054 (71557) 6468324 (72363) 7922777 (71584) 6131690 (73133) 6148025 (71536) 
     dis: 	3821.686 5950.066 5950.066 7327.545 7327.545 7600.952 7600.952 8091.443 8243.070 9304.433 
query 4 nn's (44174, 46174): 2378467 (44975) 3039735 (45745) 8162874 (45042) 4009532 (45767) 3174601 (45731) 3327053 (45721) 5698194 (45734) 9811206 (44214) -1 (0) -1 (0) 
     dis: 	87811.750 88934.234 96855.266 97279.555 98201.234 98593.859 105850.719 106229.273 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 836.605s ] *** Query time: 257.738
qps: 38.799
 *** ivfpq recall 
ivfpq get 13174 postive res from 100000 results, recall@10:0.132
recall dist(10% per bucket): 0.346 0.302 0.175 0.093 0.050 0.021 0.009 0.003 0.001 0.000 0.000 
finished ivfpq index examples
[ 836.606s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_2000_1_100000_in_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_2000_1_100000_in_dist_10.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_dist_64 1 128"
	User time (seconds): 752.47
	System time (seconds): 89.83
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 14:02.42
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 94427044
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 56308935
	Voluntary context switches: 271
	Involuntary context switches: 1268
	Swaps: 0
	File system inputs: 480
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
