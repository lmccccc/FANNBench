Start time: 07:00
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_2000_1_100000_in_dist.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_2000_1_100000_in_dist_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_dist_40_1000
ef_search: 80
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json
[ 0.718s ] Loaded metadata, 10000000 attr's found
[ 0.718s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.721s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.723s ] Loaded 10000 sift10M queries
[ 0.731s ] Loaded ground truth, gt_size: 10
[ 0.731s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 16.789s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.020
[ 808.627s ] Query results (vector ids, then distances):
query 0 nn's (18920, 20920): 9409479 (20712) 9607176 (20707) 5356206 (20702) 6392245 (20684) 6436545 (19953) 1456323 (19141) 6307312 (19131) 8286349 (19118) 9708424 (19165) 102938 (20742) 
     dis: 	82688.000 83936.000 86902.000 87576.000 88420.000 91069.000 92529.000 93191.000 93721.000 94282.000 
query 1 nn's (88158, 90158): 741761 (89500) 1410399 (88783) 25582 (89528) 8323290 (88721) 3779157 (88800) 509915 (88752) 5234937 (89515) 7452672 (88789) 8041520 (88749) 1003534 (89540) 
     dis: 	59621.000 64505.000 73154.000 74717.000 74946.000 76465.000 81577.000 82254.000 82938.000 84662.000 
query 2 nn's (89872, 91872): 9541874 (91850) 9975313 (91115) 2312127 (91107) 2352405 (90299) 8038814 (90306) 3089047 (91137) 7307380 (91869) 8094334 (91099) 7571701 (91106) 8118622 (90323) 
     dis: 	54558.000 60295.000 64338.000 67874.000 68442.000 69169.000 71017.000 71450.000 71986.000 72018.000 
query 3 nn's (71200, 73200): 4030248 (73143) 7747974 (72297) 6734945 (72332) 5561400 (73133) 3723247 (73126) 9212218 (71564) 5593160 (72269) 6525365 (72358) 5032290 (72318) 3135017 (71535) 
     dis: 	7245.000 9230.000 10027.000 10267.000 10386.000 10863.000 11066.000 11198.000 11761.000 12263.000 
query 4 nn's (44174, 46174): 4366121 (45715) 3850790 (45711) 1321308 (45704) 7006777 (45736) 9205742 (44193) 3368229 (44219) 2061101 (44977) 4413812 (44954) 5017181 (44211) 1379684 (45731) 
     dis: 	86842.000 94997.000 101955.000 102125.000 102939.000 103089.000 103326.000 104972.000 107964.000 108271.000 
[ 808.627s ] *** Query time: 198.895
qps: 50.278
 *** HNSW recall 
HNSW get 76668 postive res from 100000 results, recall@10:0.767
recall dist(10% per bucket): 0.000 0.000 0.001 0.010 0.026 0.063 0.126 0.192 0.241 0.217 0.123 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 43156522, average: 4315.652
finished ivfpq index examples
[ 808.629s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/attr_sel_1_100000_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/qrangesel_2000_1_100000_in_dist.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_dist/sif_gt_sel_2000_1_100000_in_dist_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_1_100000_dist_40_1000 80 128"
	User time (seconds): 742.70
	System time (seconds): 62.67
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 13:35.09
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 102586280
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 24
	Minor (reclaiming a frame) page faults: 26735085
	Voluntary context switches: 25522
	Involuntary context switches: 1103
	Swaps: 0
	File system inputs: 1536992
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
