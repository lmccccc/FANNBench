Start time: 10:36
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/timestamp.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_6_random.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_6_random_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/rfann/result/result_real_label.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 512)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/
mode: query
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2044
Total edge:1279948416
Average degree:1279.95
 tree construction suc
Super optimized postfilter tree build time: 9.015s
Super optimized postfilter tree build time: 9.015s
beam sizes: [80]
final multiplies: [2]
using this batch search4 
total point comp 54620053
avg comp:5462.01
beam size: 80 , final_beam_multiply: 2
qps: 434.6543602144289
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_80_2', 0.9966999999999958, 23.006786346435547, 9.01513409614563, 2.0, 7.845268249511719)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/timestamp.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_6_random.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_6_random_10.json --output_file /mnt/data/mocheng/dataset/redcaps1m/rfann/result/result_real_label.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/ --top_k 10 --super_opt_postfiltering --threads 1 --beam_search_size 80 --num_final_multiplies 2 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 29.47
	System time (seconds): 8.16
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:37.64
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12264052
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 2971433
	Voluntary context switches: 152
	Involuntary context switches: 1038
	Swaps: 0
	File system inputs: 0
	File system outputs: 23320
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 10:48
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/timestamp.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_10_random.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_10_random_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/rfann/result/result_real_label.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 512)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/
mode: query
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2044
Total edge:1279948416
Average degree:1279.95
 tree construction suc
Super optimized postfilter tree build time: 10.664s
Super optimized postfilter tree build time: 10.665s
beam sizes: [80]
final multiplies: [2]
using this batch search4 
total point comp 44945058
avg comp:4494.51
beam size: 80 , final_beam_multiply: 2
qps: 439.6891754924324
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_80_2', 0.9979199999999979, 22.74333906173706, 10.665188074111938, 2.0, 7.844295501708984)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/timestamp.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_10_random.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_10_random_10.json --output_file /mnt/data/mocheng/dataset/redcaps1m/rfann/result/result_real_label.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/ --top_k 10 --super_opt_postfiltering --threads 1 --beam_search_size 80 --num_final_multiplies 2 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 29.17
	System time (seconds): 10.36
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:39.77
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12263508
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 3872393
	Voluntary context switches: 143
	Involuntary context switches: 1287
	Swaps: 0
	File system inputs: 0
	File system outputs: 23336
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 10:57
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/timestamp.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_19_random.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_19_random_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/rfann/result/result_real_label.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 512)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/
mode: query
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2044
Total edge:1279948416
Average degree:1279.95
 tree construction suc
Super optimized postfilter tree build time: 8.838s
Super optimized postfilter tree build time: 8.838s
beam sizes: [80]
final multiplies: [2]
using this batch search4 
total point comp 32411102
avg comp:3241.11
beam size: 80 , final_beam_multiply: 2
qps: 767.2064769922417
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_80_2', 0.9989399999999982, 13.034300804138184, 8.837810516357422, 2.0, 7.844295501708984)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/timestamp.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_19_random.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_19_random_10.json --output_file /mnt/data/mocheng/dataset/redcaps1m/rfann/result/result_real_label.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/ --top_k 10 --super_opt_postfiltering --threads 1 --beam_search_size 80 --num_final_multiplies 2 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 19.93
	System time (seconds): 8.09
	Percent of CPU this job got: 103%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:27.19
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12263428
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3275874
	Voluntary context switches: 141
	Involuntary context switches: 1205
	Swaps: 0
	File system inputs: 0
	File system outputs: 23336
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 11:05
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/timestamp.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_20_random.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_20_random_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/rfann/result/result_real_label.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 512)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/
mode: query
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2044
Total edge:1279948416
Average degree:1279.95
 tree construction suc
Super optimized postfilter tree build time: 9.065s
Super optimized postfilter tree build time: 9.066s
beam sizes: [80]
final multiplies: [2]
using this batch search4 
total point comp 18810500
avg comp:1881.05
beam size: 80 , final_beam_multiply: 2
qps: 1314.6494461116324
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_80_2', 0.9967999999999971, 7.606590509414673, 9.065545320510864, 2.0, 7.844295501708984)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/timestamp.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_20_random.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_20_random_10.json --output_file /mnt/data/mocheng/dataset/redcaps1m/rfann/result/result_real_label.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/ --top_k 10 --super_opt_postfiltering --threads 1 --beam_search_size 80 --num_final_multiplies 2 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 13.90
	System time (seconds): 8.20
	Percent of CPU this job got: 97%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:22.59
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12305396
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3325785
	Voluntary context switches: 133
	Involuntary context switches: 4053
	Swaps: 0
	File system inputs: 0
	File system outputs: 23328
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
