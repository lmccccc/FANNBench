Start time: 10:36
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/timestamp.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_6_random.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_6_random_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/rfann/result/result_real_label.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 512)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/
mode: query
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2044
Total edge:1279948416
Average degree:1279.95
 tree construction suc
Super optimized postfilter tree build time: 9.109s
Super optimized postfilter tree build time: 9.110s
beam sizes: [20]
final multiplies: [2]
using this batch search4 
total point comp 30374683
avg comp:3037.47
beam size: 20 , final_beam_multiply: 2
qps: 895.6476749238728
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_20_2', 0.9799999999999829, 11.165104627609253, 9.1096031665802, 2.0, 7.843711853027344)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/timestamp.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_6_random.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_6_random_10.json --output_file /mnt/data/mocheng/dataset/redcaps1m/rfann/result/result_real_label.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/ --top_k 10 --super_opt_postfiltering --threads 1 --beam_search_size 20 --num_final_multiplies 2 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 17.99
	System time (seconds): 8.45
	Percent of CPU this job got: 102%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:25.89
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12263844
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3361528
	Voluntary context switches: 132
	Involuntary context switches: 1011
	Swaps: 0
	File system inputs: 0
	File system outputs: 23328
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 10:48
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/timestamp.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_10_random.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_10_random_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/rfann/result/result_real_label.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 512)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/
mode: query
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2044
Total edge:1279948416
Average degree:1279.95
 tree construction suc
Super optimized postfilter tree build time: 10.654s
Super optimized postfilter tree build time: 10.654s
beam sizes: [20]
final multiplies: [2]
using this batch search4 
total point comp 25758978
avg comp:2575.9
beam size: 20 , final_beam_multiply: 2
qps: 735.9013176275699
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_20_2', 0.9890199999999874, 13.588778495788574, 10.65440583229065, 2.0, 7.845268249511719)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/timestamp.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_10_random.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_10_random_10.json --output_file /mnt/data/mocheng/dataset/redcaps1m/rfann/result/result_real_label.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/ --top_k 10 --super_opt_postfiltering --threads 1 --beam_search_size 20 --num_final_multiplies 2 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 21.59
	System time (seconds): 9.21
	Percent of CPU this job got: 100%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:30.69
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12264500
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 2905062
	Voluntary context switches: 151
	Involuntary context switches: 870
	Swaps: 0
	File system inputs: 0
	File system outputs: 23336
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 10:57
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/timestamp.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_19_random.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_19_random_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/rfann/result/result_real_label.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 512)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/
mode: query
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2044
Total edge:1279948416
Average degree:1279.95
 tree construction suc
Super optimized postfilter tree build time: 9.018s
Super optimized postfilter tree build time: 9.019s
beam sizes: [20]
final multiplies: [2]
using this batch search4 
total point comp 18315430
avg comp:1831.54
beam size: 20 , final_beam_multiply: 2
qps: 1562.030149391359
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_20_2', 0.9939399999999922, 6.401925086975098, 9.01850962638855, 2.0, 7.843608856201172)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/timestamp.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_19_random.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_19_random_10.json --output_file /mnt/data/mocheng/dataset/redcaps1m/rfann/result/result_real_label.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/ --top_k 10 --super_opt_postfiltering --threads 1 --beam_search_size 20 --num_final_multiplies 2 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 12.79
	System time (seconds): 8.51
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:21.44
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12263280
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3390765
	Voluntary context switches: 136
	Involuntary context switches: 1091
	Swaps: 0
	File system inputs: 0
	File system outputs: 23328
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 11:05
set threads:  1
data file:  /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file:  /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file:  /mnt/data/mocheng/dataset/redcaps1m/timestamp.json
qrange file:  /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_20_random.json
gt file:  /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_20_random_10.json
top k:  10
data size:  1000000
query size:  10000
output file:  /mnt/data/mocheng/dataset/redcaps1m/rfann/result/result_real_label.csv
index prefix:  /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/
mode:  query
DATASETS:  ['redcaps1m']
using alpha:  1
split factor list: [2.0]
shift factor list: [0.5]
split factor:  2.0
shift factor:  0.5
metric:  Euclidian
start building super optimized postfilter tree
data size:  (1000000, 512)
attr size:  (1000000,)
aplpa:  1
split factor:  2.0
shift factor:  0.5
index_prefix:  /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/
mode: query
 building tree
new num buckets 3
new num buckets 7
new num buckets 15
new num buckets 31
new num buckets 63
new num buckets 127
new num buckets 255
new num buckets 511
new num buckets 1023
new num buckets 2044
Total edge:1279948416
Average degree:1279.95
 tree construction suc
Super optimized postfilter tree build time: 9.791s
Super optimized postfilter tree build time: 9.791s
beam sizes: [20]
final multiplies: [2]
using this batch search4 
total point comp 11676146
avg comp:1167.61
beam size: 20 , final_beam_multiply: 2
qps: 2365.007018949359
method, recall, total time, build time, split factor, memory
('super-postfiltering_2.0_0.5_1_20_2', 0.9953299999999952, 4.2283172607421875, 9.79098653793335, 2.0, 7.843898773193359)
	Command being timed: "python -u utils/RangeFilteredANN.py --dataset redcaps1m --data_size 1000000 --query_size 10000 --dataset_file /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs --query_file /mnt/data/mocheng/dataset/redcaps1m/query.fvecs --attr_file /mnt/data/mocheng/dataset/redcaps1m/timestamp.json --qrange_file /mnt/data/mocheng/dataset/redcaps1m/label/real_label/qrangereal_label_20_random.json --gt_file /mnt/data/mocheng/dataset/redcaps1m/label/real_label/sif_gt_real_label_20_random_10.json --output_file /mnt/data/mocheng/dataset/redcaps1m/rfann/result/result_real_label.csv --index_prefix /mnt/data/mocheng/dataset/redcaps1m/rfann/index/index_real_label/ --top_k 10 --super_opt_postfiltering --threads 1 --beam_search_size 20 --num_final_multiplies 2 --super_opt_postfiltering_split_factor 2 --super_opt_postfiltering_shift_factor 0.5 --mode query"
	User time (seconds): 11.48
	System time (seconds): 9.17
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:20.67
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 12304936
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3199465
	Voluntary context switches: 150
	Involuntary context switches: 726
	Swaps: 0
	File system inputs: 0
	File system outputs: 23328
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
