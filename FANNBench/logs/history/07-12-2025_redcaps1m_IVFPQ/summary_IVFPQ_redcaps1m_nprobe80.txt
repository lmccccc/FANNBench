Start time: 05:56
====================
START: running TEST_IVFPQ, sift data --

dataset: redcaps1m
N: 1000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_6/attr_sel_1_500_random_6.json
qrange file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_6/qrangesel_1_1_500_random_6.json
gt file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_6/sif_gt_sel_1_1_500_random_6_100.json
index file: /mnt/data/mocheng/dataset/redcaps1m/ivfpq/index/index_ivfpq_sel_1_500_random_6_256
nprobe: 80
dim: 512
loaded base attributes from:/mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_6/attr_sel_1_500_random_6.json
[ 0.067s ] Loaded metadata, 1000000 attr's found
[ 0.067s ] Loading query vectors and attributes
query vecs data loaded, with dim: 512, nb=10000
[ 0.080s ] Loaded query vectors from /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
[ 0.081s ] Loaded 10000 redcaps1m queries
[ 0.147s ] Loaded ground truth, gt_size: 100
[ 0.147s ] Index Params -- d: 512, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 1.893s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.499
[ 76.073s ] Query results (vector ids, then distances):
query 0 nn's (6, 6): 727106 (6) 268161 (6) 646437 (6) 812018 (6) 64073 (6) 864174 (6) 302070 (6) 524418 (6) 265404 (6) 790037 (6) 84548 (6) 807005 (6) 997247 (6) 334544 (6) 364290 (6) 465841 (6) 571852 (6) 309200 (6) 363324 (6) 736934 (6) 988753 (6) 754695 (6) 968022 (6) 49228 (6) 596166 (6) 966405 (6) 606467 (6) 514381 (6) 171 (6) 654910 (6) 478100 (6) 678814 (6) 790030 (6) 46518 (6) 760995 (6) 568912 (6) 533175 (6) 472918 (6) 124180 (6) 75346 (6) 439788 (6) 412764 (6) 720013 (6) 795414 (6) 834158 (6) 569239 (6) 105181 (6) 953733 (6) 813377 (6) 493307 (6) 679931 (6) 345358 (6) 174023 (6) 71366 (6) 929021 (6) 86846 (6) 553713 (6) 996728 (6) 352345 (6) 542754 (6) 339355 (6) 370277 (6) 540453 (6) 331521 (6) 556864 (6) 159325 (6) 601044 (6) 323370 (6) 211611 (6) 760479 (6) 894678 (6) 952583 (6) 460924 (6) 434594 (6) 580935 (6) 486165 (6) 13080 (6) 640854 (6) 295694 (6) 526743 (6) 373982 (6) 890540 (6) 486017 (6) 501049 (6) 552569 (6) 184145 (6) 510698 (6) 700215 (6) 919512 (6) 319315 (6) 825159 (6) 827447 (6) 488363 (6) 362341 (6) 509649 (6) 532454 (6) 981881 (6) 317245 (6) 965396 (6) 705245 (6) 
     dis: 	0.624 0.640 0.679 0.740 0.745 0.747 0.755 0.770 0.770 0.771 0.775 0.783 0.788 0.795 0.799 0.799 0.802 0.805 0.806 0.808 0.822 0.828 0.828 0.833 0.838 0.842 0.842 0.848 0.848 0.855 0.863 0.866 0.866 0.868 0.868 0.868 0.869 0.873 0.878 0.878 0.881 0.882 0.882 0.883 0.887 0.889 0.892 0.892 0.894 0.894 0.896 0.896 0.900 0.901 0.903 0.903 0.904 0.905 0.905 0.906 0.906 0.906 0.906 0.907 0.907 0.908 0.910 0.910 0.912 0.912 0.913 0.913 0.913 0.914 0.916 0.917 0.918 0.919 0.919 0.921 0.921 0.924 0.924 0.924 0.925 0.925 0.925 0.925 0.928 0.929 0.929 0.930 0.930 0.931 0.931 0.933 0.934 0.934 0.934 0.934 
query 1 nn's (6, 6): 363220 (6) 253654 (6) 666880 (6) 622447 (6) 660394 (6) 964028 (6) 428754 (6) 427957 (6) 139424 (6) 896567 (6) 442989 (6) 30989 (6) 667007 (6) 989731 (6) 994014 (6) 459927 (6) 979295 (6) 848169 (6) 439637 (6) 997966 (6) 832389 (6) 661716 (6) 848037 (6) 163712 (6) 441534 (6) 630058 (6) 671340 (6) 118532 (6) 681550 (6) 577336 (6) 994569 (6) 964128 (6) 408156 (6) 51525 (6) 857939 (6) 226358 (6) 698433 (6) 395948 (6) 544577 (6) 925657 (6) 271263 (6) 753841 (6) 766866 (6) 455611 (6) 620586 (6) 602684 (6) 39189 (6) 110364 (6) 377202 (6) 304095 (6) 265490 (6) 557922 (6) 272122 (6) 418536 (6) 563357 (6) 353761 (6) 987081 (6) 769260 (6) 299005 (6) 80871 (6) 60676 (6) 235619 (6) 487009 (6) 584466 (6) 920134 (6) 816247 (6) 971318 (6) 844021 (6) 295835 (6) 916706 (6) 855763 (6) 244515 (6) 288542 (6) 77283 (6) 811301 (6) 672841 (6) 417828 (6) 671475 (6) 663858 (6) 750270 (6) 58319 (6) 1519 (6) 384623 (6) 116279 (6) 387184 (6) 885260 (6) 791914 (6) 366937 (6) 722531 (6) 366807 (6) 8007 (6) 722158 (6) 601939 (6) 958421 (6) 678677 (6) 485598 (6) 471226 (6) 316697 (6) 697547 (6) 634858 (6) 
     dis: 	0.092 0.098 0.100 0.103 0.105 0.106 0.108 0.110 0.111 0.111 0.111 0.111 0.112 0.114 0.114 0.115 0.115 0.115 0.116 0.116 0.117 0.117 0.118 0.118 0.118 0.118 0.119 0.119 0.119 0.119 0.120 0.120 0.120 0.120 0.122 0.122 0.122 0.122 0.122 0.123 0.123 0.124 0.124 0.124 0.124 0.124 0.124 0.124 0.124 0.125 0.126 0.126 0.126 0.126 0.127 0.127 0.127 0.127 0.128 0.128 0.128 0.128 0.128 0.128 0.128 0.129 0.129 0.129 0.129 0.129 0.130 0.130 0.130 0.130 0.130 0.130 0.130 0.130 0.131 0.131 0.131 0.131 0.131 0.131 0.131 0.131 0.131 0.131 0.131 0.132 0.132 0.132 0.132 0.132 0.132 0.132 0.132 0.132 0.133 0.133 
query 2 nn's (6, 6): 355537 (6) 964377 (6) 940490 (6) 410774 (6) 620585 (6) 299577 (6) 374226 (6) 894254 (6) 718316 (6) 773055 (6) 328504 (6) 911854 (6) 792564 (6) 161603 (6) 494541 (6) 328089 (6) 743927 (6) 41616 (6) 980872 (6) 877537 (6) 971858 (6) 507734 (6) 381411 (6) 952981 (6) 444996 (6) 471110 (6) 665039 (6) 919763 (6) 95136 (6) 222697 (6) 25586 (6) 882709 (6) 423208 (6) 476689 (6) 726914 (6) 623737 (6) 10316 (6) 33572 (6) 498025 (6) 604084 (6) 93860 (6) 202341 (6) 573824 (6) 230054 (6) 79399 (6) 870630 (6) 136876 (6) 509068 (6) 341373 (6) 403717 (6) 994934 (6) 72372 (6) 561163 (6) 957685 (6) 66777 (6) 88997 (6) 703151 (6) 261708 (6) 317022 (6) 192832 (6) 985107 (6) 747237 (6) 319345 (6) 24332 (6) 557020 (6) 785259 (6) 184796 (6) 470869 (6) 14154 (6) 116449 (6) 649892 (6) 915391 (6) 578528 (6) 439807 (6) 884477 (6) 965924 (6) 296277 (6) 490170 (6) 588334 (6) 87145 (6) 73413 (6) 770456 (6) 752639 (6) 10885 (6) 187604 (6) 937121 (6) 841847 (6) 211045 (6) 325507 (6) 259618 (6) 435592 (6) 485950 (6) 962379 (6) 785841 (6) 943514 (6) 620162 (6) 839527 (6) 89667 (6) 215560 (6) 546876 (6) 
     dis: 	0.222 0.225 0.245 0.259 0.260 0.264 0.264 0.264 0.266 0.266 0.271 0.271 0.273 0.276 0.277 0.278 0.279 0.280 0.280 0.281 0.282 0.282 0.284 0.285 0.285 0.285 0.285 0.286 0.286 0.286 0.287 0.288 0.289 0.289 0.289 0.289 0.290 0.290 0.291 0.292 0.292 0.293 0.293 0.294 0.294 0.294 0.296 0.296 0.297 0.297 0.297 0.298 0.298 0.299 0.299 0.300 0.301 0.301 0.301 0.301 0.301 0.302 0.302 0.302 0.303 0.304 0.305 0.305 0.305 0.305 0.305 0.305 0.306 0.306 0.306 0.307 0.307 0.307 0.307 0.307 0.308 0.308 0.308 0.308 0.308 0.308 0.308 0.309 0.309 0.309 0.309 0.309 0.309 0.309 0.310 0.310 0.310 0.310 0.310 0.310 
query 3 nn's (6, 6): 583699 (6) 689368 (6) 428067 (6) 124464 (6) 595884 (6) 609006 (6) 635563 (6) 687871 (6) 905275 (6) 413550 (6) 213744 (6) 128901 (6) 305237 (6) 25831 (6) 994151 (6) 382748 (6) 456770 (6) 35100 (6) 246538 (6) 525367 (6) 108295 (6) 1172 (6) 183160 (6) 27812 (6) 810505 (6) 758927 (6) 879049 (6) 269754 (6) 421931 (6) 471055 (6) 694867 (6) 226331 (6) 640563 (6) 636892 (6) 671717 (6) 276603 (6) 219959 (6) 174382 (6) 4433 (6) 549278 (6) 800827 (6) 431136 (6) 585483 (6) 397607 (6) 696027 (6) 994604 (6) 208236 (6) 663784 (6) 184010 (6) 672565 (6) 933991 (6) 799434 (6) 583701 (6) 301836 (6) 17746 (6) 931871 (6) 684978 (6) 237125 (6) 433518 (6) 382010 (6) 677322 (6) 100162 (6) 218254 (6) 423285 (6) 418179 (6) 412295 (6) 358247 (6) 135464 (6) 332772 (6) 669242 (6) 280271 (6) 694334 (6) 835170 (6) 840055 (6) 944408 (6) 705993 (6) 923128 (6) 723056 (6) 807512 (6) 237881 (6) 972016 (6) 935542 (6) 480847 (6) 191420 (6) 315020 (6) 37631 (6) 214834 (6) 496411 (6) 130248 (6) 521807 (6) 157117 (6) 850509 (6) 642929 (6) 101336 (6) 90074 (6) 548723 (6) 355926 (6) 948385 (6) 551062 (6) 613946 (6) 
     dis: 	0.401 0.402 0.426 0.445 0.456 0.456 0.458 0.460 0.461 0.470 0.475 0.493 0.494 0.494 0.496 0.497 0.497 0.502 0.504 0.506 0.507 0.507 0.508 0.509 0.509 0.511 0.513 0.514 0.514 0.517 0.520 0.520 0.522 0.523 0.524 0.525 0.526 0.527 0.531 0.532 0.532 0.535 0.536 0.537 0.538 0.538 0.538 0.538 0.538 0.539 0.540 0.542 0.542 0.544 0.544 0.544 0.545 0.546 0.547 0.547 0.547 0.549 0.551 0.552 0.553 0.553 0.553 0.554 0.555 0.557 0.557 0.559 0.560 0.560 0.560 0.560 0.560 0.560 0.560 0.561 0.561 0.561 0.562 0.562 0.562 0.562 0.562 0.564 0.564 0.565 0.565 0.565 0.566 0.567 0.568 0.568 0.568 0.569 0.569 0.569 
query 4 nn's (6, 6): 522469 (6) 582698 (6) 797013 (6) 176027 (6) 234795 (6) 931553 (6) 279888 (6) 46163 (6) 68136 (6) 742084 (6) 556169 (6) 105030 (6) 589135 (6) 331507 (6) 929991 (6) 455512 (6) 834676 (6) 59094 (6) 908309 (6) 458642 (6) 189525 (6) 222228 (6) 222372 (6) 902523 (6) 969773 (6) 567017 (6) 910110 (6) 726345 (6) 143565 (6) 481846 (6) 590482 (6) 282395 (6) 262612 (6) 829234 (6) 870723 (6) 511053 (6) 673629 (6) 573206 (6) 601541 (6) 857192 (6) 805996 (6) 604239 (6) 599829 (6) 941111 (6) 605725 (6) 577889 (6) 51681 (6) 147188 (6) 173575 (6) 49802 (6) 982040 (6) 309894 (6) 678901 (6) 500007 (6) 37748 (6) 584115 (6) 183252 (6) 204098 (6) 63749 (6) 487840 (6) 98599 (6) 148545 (6) 65795 (6) 717879 (6) 476701 (6) 392242 (6) 760527 (6) 395799 (6) 948484 (6) 341328 (6) 464808 (6) 446346 (6) 563854 (6) 827261 (6) 56749 (6) 357242 (6) 954446 (6) 101369 (6) 635293 (6) 850663 (6) 378800 (6) 365642 (6) 921524 (6) 709494 (6) 528890 (6) 685016 (6) 207939 (6) 516225 (6) 311214 (6) 583639 (6) 959099 (6) 863840 (6) 337236 (6) 126511 (6) 596233 (6) 325091 (6) 459414 (6) 724075 (6) 206145 (6) 604226 (6) 
     dis: 	0.259 0.261 0.267 0.269 0.279 0.279 0.298 0.299 0.304 0.307 0.308 0.310 0.311 0.314 0.315 0.316 0.316 0.317 0.320 0.320 0.322 0.324 0.324 0.325 0.325 0.326 0.326 0.329 0.330 0.330 0.331 0.331 0.332 0.333 0.333 0.333 0.333 0.334 0.334 0.334 0.334 0.335 0.335 0.335 0.337 0.337 0.337 0.337 0.338 0.338 0.339 0.339 0.339 0.340 0.341 0.341 0.342 0.342 0.343 0.344 0.344 0.344 0.345 0.345 0.345 0.346 0.346 0.347 0.348 0.348 0.350 0.350 0.350 0.351 0.351 0.351 0.352 0.352 0.353 0.354 0.354 0.354 0.354 0.354 0.354 0.355 0.355 0.355 0.355 0.355 0.356 0.356 0.357 0.357 0.357 0.358 0.358 0.358 0.358 0.359 
[ 76.073s ] *** Query time: 68.061
qps: 146.928
 *** ivfpq recall 
ivfpq get 954374 postive res from 1000000 results, recall@100:0.954
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.000 0.001 0.003 0.010 0.051 0.923 0.012 
finished ivfpq index examples
[ 76.104s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query redcaps1m 1000000 100 1 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_6/attr_sel_1_500_random_6.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_6/qrangesel_1_1_500_random_6.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_6/sif_gt_sel_1_1_500_random_6_100.json /mnt/data/mocheng/dataset/redcaps1m/ivfpq/index/index_ivfpq_sel_1_500_random_6_256 80 512"
	User time (seconds): 74.88
	System time (seconds): 1.00
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:16.17
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1346468
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 665028
	Voluntary context switches: 1077
	Involuntary context switches: 111
	Swaps: 0
	File system inputs: 29608
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 06:06
====================
START: running TEST_IVFPQ, sift data --

dataset: redcaps1m
N: 1000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_10/attr_sel_1_500_random_10.json
qrange file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_10/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_10/sif_gt_sel_1_1_500_random_10_100.json
index file: /mnt/data/mocheng/dataset/redcaps1m/ivfpq/index/index_ivfpq_sel_1_500_random_10_256
nprobe: 80
dim: 512
loaded base attributes from:/mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_10/attr_sel_1_500_random_10.json
[ 0.118s ] Loaded metadata, 1000000 attr's found
[ 0.118s ] Loading query vectors and attributes
query vecs data loaded, with dim: 512, nb=10000
[ 0.200s ] Loaded query vectors from /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
[ 0.217s ] Loaded 10000 redcaps1m queries
[ 0.328s ] Loaded ground truth, gt_size: 100
[ 0.328s ] Index Params -- d: 512, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.078s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 49.954s ] Query results (vector ids, then distances):
query 0 nn's (10, 10): 64073 (10) 7102 (10) 554724 (10) 364290 (10) 596166 (10) 927993 (10) 699054 (10) 909887 (10) 174023 (10) 71366 (10) 996728 (10) 540453 (10) 385435 (10) 760479 (10) 952583 (10) 704461 (10) 319315 (10) 827447 (10) 827492 (10) 428229 (10) 897196 (10) 595229 (10) 81158 (10) 45927 (10) 492310 (10) 859257 (10) 42266 (10) 866331 (10) 605173 (10) 530994 (10) 527411 (10) 692306 (10) 375105 (10) 603350 (10) 746257 (10) 908109 (10) 570812 (10) 374394 (10) 86219 (10) 602471 (10) 533351 (10) 386557 (10) 160573 (10) 460030 (10) 3067 (10) 181904 (10) 417209 (10) 482322 (10) 119266 (10) 212777 (10) 229050 (10) 534320 (10) 712904 (10) 730882 (10) 240250 (10) 78799 (10) 199395 (10) 310884 (10) 15685 (10) 337818 (10) 847502 (10) 629524 (10) 390552 (10) 664838 (10) 322777 (10) 333441 (10) 281527 (10) 146794 (10) 818180 (10) 717361 (10) 587985 (10) 35687 (10) 305383 (10) 235682 (10) 403930 (10) 462084 (10) 676868 (10) 691275 (10) 217969 (10) 862670 (10) 387047 (10) 214056 (10) 122388 (10) 299497 (10) 531563 (10) 212117 (10) 991709 (10) 780344 (10) 796710 (10) 898494 (10) 872790 (10) 177776 (10) 331291 (10) 129593 (10) 377640 (10) 366855 (10) 981400 (10) 972697 (10) 794528 (10) 318606 (10) 
     dis: 	0.745 0.754 0.793 0.799 0.838 0.864 0.888 0.896 0.900 0.901 0.905 0.906 0.908 0.912 0.913 0.927 0.929 0.930 0.935 0.936 0.939 0.940 0.941 0.942 0.942 0.947 0.949 0.953 0.956 0.959 0.966 0.967 0.971 0.972 0.973 0.974 0.975 0.976 0.976 0.977 0.978 0.979 0.980 0.981 0.981 0.981 0.982 0.982 0.982 0.983 0.984 0.984 0.985 0.985 0.986 0.987 0.988 0.988 0.988 0.989 0.990 0.990 0.990 0.991 0.992 0.992 0.993 0.993 0.994 0.996 0.998 0.998 0.998 0.999 0.999 1.000 1.001 1.001 1.001 1.002 1.002 1.002 1.003 1.003 1.004 1.005 1.005 1.005 1.006 1.007 1.009 1.009 1.009 1.010 1.011 1.011 1.012 1.014 1.015 1.015 
query 1 nn's (10, 10): 428754 (10) 361537 (10) 979295 (10) 439637 (10) 424951 (10) 681550 (10) 709969 (10) 408156 (10) 371263 (10) 753841 (10) 55881 (10) 837200 (10) 105750 (10) 785418 (10) 858634 (10) 288542 (10) 811301 (10) 82481 (10) 366937 (10) 853505 (10) 633780 (10) 937262 (10) 41053 (10) 195481 (10) 771674 (10) 469350 (10) 843111 (10) 698871 (10) 915755 (10) 462482 (10) 527435 (10) 691606 (10) 24719 (10) 507366 (10) 710324 (10) 832229 (10) 859050 (10) 200454 (10) 246783 (10) 280685 (10) 23590 (10) 561139 (10) 980350 (10) 598436 (10) 30217 (10) 250668 (10) 702451 (10) 616405 (10) 24923 (10) 865462 (10) 652931 (10) 226285 (10) 312232 (10) 894014 (10) 385587 (10) 959689 (10) 427462 (10) 559169 (10) 615320 (10) 682771 (10) 712818 (10) 977847 (10) 457547 (10) 905827 (10) 892547 (10) 726551 (10) 547222 (10) 601637 (10) 32573 (10) 808151 (10) 355234 (10) 666353 (10) 181047 (10) 630147 (10) 606890 (10) 302387 (10) 314837 (10) 653651 (10) 161138 (10) 918380 (10) 132397 (10) 396522 (10) 157744 (10) 143623 (10) 447406 (10) 452752 (10) 788181 (10) 66765 (10) 578846 (10) 845466 (10) 272503 (10) 525392 (10) 741927 (10) 279857 (10) 696364 (10) 524682 (10) 971379 (10) 349657 (10) 143541 (10) 495252 (10) 
     dis: 	0.108 0.110 0.115 0.116 0.119 0.119 0.120 0.120 0.121 0.124 0.125 0.125 0.127 0.129 0.129 0.130 0.130 0.130 0.131 0.133 0.133 0.133 0.134 0.136 0.137 0.137 0.138 0.138 0.138 0.139 0.139 0.139 0.139 0.140 0.140 0.140 0.140 0.141 0.141 0.142 0.143 0.143 0.143 0.144 0.144 0.144 0.144 0.144 0.145 0.146 0.146 0.146 0.146 0.147 0.147 0.147 0.147 0.147 0.148 0.149 0.149 0.151 0.151 0.151 0.152 0.152 0.152 0.153 0.153 0.153 0.153 0.153 0.153 0.154 0.154 0.154 0.154 0.155 0.155 0.155 0.156 0.156 0.156 0.156 0.156 0.157 0.157 0.157 0.157 0.157 0.157 0.158 0.158 0.158 0.158 0.159 0.159 0.159 0.159 0.159 
query 2 nn's (10, 10): 964377 (10) 771849 (10) 400722 (10) 258758 (10) 903106 (10) 530996 (10) 65400 (10) 971858 (10) 648247 (10) 381411 (10) 444996 (10) 564449 (10) 625921 (10) 253786 (10) 230054 (10) 670180 (10) 818470 (10) 625576 (10) 17779 (10) 557020 (10) 915391 (10) 304775 (10) 245232 (10) 201205 (10) 490170 (10) 785841 (10) 943514 (10) 89667 (10) 63845 (10) 336181 (10) 66928 (10) 916423 (10) 62201 (10) 600470 (10) 825350 (10) 174123 (10) 477079 (10) 399537 (10) 549665 (10) 307736 (10) 536360 (10) 554381 (10) 784303 (10) 501517 (10) 114422 (10) 921459 (10) 507084 (10) 97812 (10) 849125 (10) 584919 (10) 914567 (10) 374008 (10) 419992 (10) 975511 (10) 772295 (10) 961842 (10) 652051 (10) 821258 (10) 356390 (10) 52225 (10) 92880 (10) 537534 (10) 748721 (10) 465378 (10) 83455 (10) 659554 (10) 281934 (10) 479261 (10) 334263 (10) 475643 (10) 468882 (10) 697558 (10) 286812 (10) 915626 (10) 324852 (10) 835469 (10) 934422 (10) 490339 (10) 741514 (10) 497341 (10) 216278 (10) 949079 (10) 789122 (10) 50141 (10) 14748 (10) 681405 (10) 634199 (10) 596926 (10) 575134 (10) 882969 (10) 215608 (10) 311370 (10) 854690 (10) 698016 (10) 69795 (10) 539349 (10) 981107 (10) 347668 (10) 471333 (10) 339857 (10) 
     dis: 	0.225 0.264 0.268 0.268 0.269 0.276 0.282 0.282 0.284 0.284 0.285 0.285 0.287 0.292 0.294 0.301 0.301 0.302 0.302 0.303 0.305 0.305 0.305 0.306 0.307 0.309 0.310 0.310 0.312 0.312 0.313 0.313 0.314 0.314 0.316 0.316 0.317 0.321 0.323 0.324 0.327 0.327 0.329 0.329 0.329 0.330 0.331 0.331 0.331 0.333 0.333 0.334 0.335 0.335 0.335 0.335 0.336 0.337 0.337 0.337 0.338 0.338 0.339 0.339 0.340 0.340 0.341 0.341 0.341 0.341 0.342 0.342 0.342 0.343 0.343 0.343 0.343 0.344 0.344 0.345 0.345 0.345 0.345 0.346 0.346 0.347 0.347 0.347 0.347 0.348 0.349 0.350 0.350 0.350 0.351 0.351 0.352 0.352 0.352 0.352 
query 3 nn's (10, 10): 461110 (10) 305237 (10) 382748 (10) 694867 (10) 636892 (10) 863296 (10) 4433 (10) 431136 (10) 994604 (10) 583701 (10) 459020 (10) 382010 (10) 309349 (10) 135464 (10) 723056 (10) 430670 (10) 706869 (10) 157117 (10) 129828 (10) 768716 (10) 67641 (10) 219659 (10) 468019 (10) 368426 (10) 289872 (10) 491681 (10) 712807 (10) 707074 (10) 99294 (10) 231500 (10) 142896 (10) 740355 (10) 347025 (10) 209001 (10) 211105 (10) 66280 (10) 463948 (10) 839233 (10) 166166 (10) 451704 (10) 57618 (10) 240780 (10) 838034 (10) 856275 (10) 627510 (10) 614709 (10) 729567 (10) 735285 (10) 378228 (10) 87349 (10) 100678 (10) 243006 (10) 165235 (10) 534568 (10) 911155 (10) 6035 (10) 731392 (10) 694326 (10) 890599 (10) 264846 (10) 657433 (10) 187295 (10) 48205 (10) 25409 (10) 699155 (10) 700302 (10) 584120 (10) 211402 (10) 919630 (10) 472338 (10) 270587 (10) 206663 (10) 256278 (10) 596014 (10) 925671 (10) 516288 (10) 179038 (10) 87933 (10) 170952 (10) 189717 (10) 502874 (10) 365571 (10) 808278 (10) 605527 (10) 435934 (10) 468412 (10) 932936 (10) 424107 (10) 986356 (10) 60116 (10) 757919 (10) 378675 (10) 563479 (10) 918728 (10) 397881 (10) 355453 (10) 376659 (10) 387058 (10) 386573 (10) 462305 (10) 
     dis: 	0.460 0.494 0.497 0.520 0.523 0.529 0.531 0.535 0.538 0.542 0.543 0.547 0.552 0.554 0.560 0.561 0.561 0.565 0.571 0.575 0.576 0.577 0.578 0.579 0.584 0.584 0.586 0.587 0.587 0.588 0.591 0.593 0.593 0.595 0.595 0.595 0.596 0.596 0.597 0.597 0.598 0.601 0.603 0.604 0.604 0.607 0.607 0.607 0.609 0.610 0.611 0.611 0.611 0.612 0.612 0.612 0.618 0.618 0.618 0.618 0.620 0.620 0.621 0.622 0.623 0.623 0.624 0.624 0.624 0.624 0.625 0.625 0.626 0.627 0.627 0.627 0.629 0.629 0.629 0.629 0.629 0.630 0.631 0.631 0.631 0.632 0.633 0.633 0.633 0.634 0.634 0.635 0.635 0.635 0.635 0.635 0.636 0.636 0.638 0.638 
query 4 nn's (10, 10): 797013 (10) 959629 (10) 878527 (10) 222228 (10) 567017 (10) 279836 (10) 702801 (10) 732037 (10) 193229 (10) 235772 (10) 762488 (10) 56749 (10) 490515 (10) 354590 (10) 68337 (10) 311214 (10) 863840 (10) 596233 (10) 89745 (10) 139832 (10) 157179 (10) 746306 (10) 807413 (10) 523875 (10) 506084 (10) 136565 (10) 959185 (10) 792935 (10) 268279 (10) 514616 (10) 586104 (10) 155731 (10) 246737 (10) 933197 (10) 557403 (10) 864559 (10) 813936 (10) 121999 (10) 542480 (10) 385892 (10) 139503 (10) 839671 (10) 762697 (10) 968757 (10) 785149 (10) 247570 (10) 186965 (10) 838409 (10) 565245 (10) 485716 (10) 127746 (10) 3606 (10) 447662 (10) 857426 (10) 100588 (10) 285861 (10) 872971 (10) 608016 (10) 155547 (10) 282874 (10) 481433 (10) 917518 (10) 118381 (10) 260203 (10) 699150 (10) 570843 (10) 646918 (10) 899146 (10) 21973 (10) 528205 (10) 512978 (10) 451188 (10) 132719 (10) 2786 (10) 64675 (10) 536255 (10) 421118 (10) 824178 (10) 995003 (10) 645343 (10) 637776 (10) 574239 (10) 413483 (10) 883537 (10) 41746 (10) 994969 (10) 564862 (10) 745761 (10) 164969 (10) 866469 (10) 519474 (10) 672149 (10) 827102 (10) 907659 (10) 976689 (10) 724882 (10) 139550 (10) 528967 (10) 224737 (10) 412561 (10) 
     dis: 	0.267 0.293 0.303 0.324 0.326 0.332 0.333 0.334 0.334 0.350 0.351 0.351 0.352 0.353 0.354 0.355 0.356 0.357 0.358 0.359 0.360 0.367 0.368 0.370 0.375 0.377 0.378 0.379 0.379 0.380 0.380 0.381 0.381 0.381 0.382 0.382 0.383 0.383 0.384 0.384 0.385 0.386 0.388 0.388 0.388 0.389 0.390 0.391 0.391 0.391 0.393 0.394 0.394 0.395 0.395 0.395 0.395 0.400 0.400 0.402 0.402 0.403 0.403 0.403 0.404 0.406 0.406 0.407 0.407 0.407 0.409 0.409 0.410 0.410 0.410 0.410 0.410 0.411 0.412 0.414 0.415 0.415 0.416 0.416 0.416 0.417 0.417 0.418 0.418 0.418 0.419 0.419 0.419 0.420 0.420 0.421 0.421 0.422 0.422 0.422 
[ 49.955s ] *** Query time: 42.309
qps: 236.357
 *** ivfpq recall 
ivfpq get 937323 postive res from 1000000 results, recall@100:0.937
recall dist(10% per bucket): 0.000 0.000 0.000 0.000 0.001 0.004 0.014 0.032 0.109 0.820 0.020 
finished ivfpq index examples
[ 49.990s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query redcaps1m 1000000 100 1 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_10/attr_sel_1_500_random_10.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_10/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_10/sif_gt_sel_1_1_500_random_10_100.json /mnt/data/mocheng/dataset/redcaps1m/ivfpq/index/index_ivfpq_sel_1_500_random_10_256 80 512"
	User time (seconds): 48.55
	System time (seconds): 1.07
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:50.13
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1346468
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 12
	Minor (reclaiming a frame) page faults: 402757
	Voluntary context switches: 1098
	Involuntary context switches: 125
	Swaps: 0
	File system inputs: 110632
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 06:14
====================
START: running TEST_IVFPQ, sift data --

dataset: redcaps1m
N: 1000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_19/attr_sel_1_500_random_19.json
qrange file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_19/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_19/sif_gt_sel_1_1_500_random_19_100.json
index file: /mnt/data/mocheng/dataset/redcaps1m/ivfpq/index/index_ivfpq_sel_1_500_random_19_256
nprobe: 80
dim: 512
loaded base attributes from:/mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_19/attr_sel_1_500_random_19.json
[ 0.065s ] Loaded metadata, 1000000 attr's found
[ 0.065s ] Loading query vectors and attributes
query vecs data loaded, with dim: 512, nb=10000
[ 0.077s ] Loaded query vectors from /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
[ 0.079s ] Loaded 10000 redcaps1m queries
[ 0.145s ] Loaded ground truth, gt_size: 100
[ 0.145s ] Index Params -- d: 512, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 1.934s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 44.918s ] Query results (vector ids, then distances):
query 0 nn's (19, 19): 336934 (19) 472918 (19) 193999 (19) 866187 (19) 112401 (19) 144195 (19) 603787 (19) 755123 (19) 774496 (19) 344170 (19) 988288 (19) 217842 (19) 900766 (19) 604657 (19) 626527 (19) 573807 (19) 721021 (19) 359912 (19) 658325 (19) 313638 (19) 837484 (19) 339167 (19) 855543 (19) 570131 (19) 820108 (19) 789108 (19) 173400 (19) 754942 (19) 434740 (19) 407599 (19) 4874 (19) 412766 (19) 763128 (19) 588143 (19) 185026 (19) 284647 (19) 928700 (19) 760922 (19) 992622 (19) 686585 (19) 437149 (19) 621377 (19) 868617 (19) 561207 (19) 661696 (19) 490767 (19) 708779 (19) 857808 (19) 594749 (19) 322634 (19) 946391 (19) 567205 (19) 836990 (19) 382980 (19) 718906 (19) 649642 (19) 835729 (19) 912910 (19) 422873 (19) 20400 (19) 485948 (19) 109424 (19) 818966 (19) 264495 (19) 927835 (19) 519768 (19) 278784 (19) 154612 (19) 890746 (19) 899264 (19) 908670 (19) 846924 (19) 924777 (19) 823550 (19) 236025 (19) 673164 (19) 793480 (19) 766687 (19) 693485 (19) 455424 (19) 376584 (19) 817959 (19) 252964 (19) 806760 (19) 830535 (19) 725346 (19) 901630 (19) 306840 (19) 435305 (19) 208480 (19) 629263 (19) 466358 (19) 564715 (19) 123124 (19) 333000 (19) 90707 (19) 124331 (19) 164880 (19) 456496 (19) 997538 (19) 
     dis: 	0.844 0.873 0.944 0.975 0.983 0.987 0.995 0.997 1.001 1.010 1.020 1.023 1.027 1.030 1.030 1.033 1.033 1.037 1.057 1.057 1.065 1.067 1.073 1.076 1.076 1.078 1.078 1.080 1.081 1.082 1.082 1.083 1.084 1.088 1.091 1.093 1.093 1.095 1.097 1.097 1.104 1.105 1.105 1.109 1.110 1.110 1.111 1.113 1.114 1.117 1.118 1.120 1.120 1.121 1.121 1.123 1.124 1.128 1.128 1.130 1.130 1.131 1.132 1.133 1.133 1.134 1.135 1.136 1.137 1.137 1.138 1.138 1.139 1.139 1.145 1.146 1.149 1.152 1.152 1.153 1.154 1.157 1.157 1.159 1.159 1.160 1.161 1.162 1.163 1.164 1.166 1.167 1.168 1.169 1.169 1.169 1.170 1.171 1.172 1.173 
query 1 nn's (19, 19): 526331 (19) 158846 (19) 264009 (19) 246783 (19) 434283 (19) 69776 (19) 805880 (19) 916232 (19) 357641 (19) 774551 (19) 532410 (19) 220610 (19) 178290 (19) 127320 (19) 291626 (19) 949001 (19) 303648 (19) 125446 (19) 356636 (19) 202933 (19) 336127 (19) 756517 (19) 731451 (19) 714440 (19) 431949 (19) 451915 (19) 415619 (19) 682193 (19) 408759 (19) 397469 (19) 387248 (19) 834559 (19) 538342 (19) 712436 (19) 696276 (19) 77970 (19) 802685 (19) 517452 (19) 966935 (19) 578712 (19) 858352 (19) 899672 (19) 339865 (19) 672270 (19) 563150 (19) 328398 (19) 170638 (19) 872137 (19) 640177 (19) 196391 (19) 959784 (19) 863374 (19) 701323 (19) 370640 (19) 931480 (19) 318726 (19) 294751 (19) 89042 (19) 85113 (19) 68768 (19) 792365 (19) 320616 (19) 803796 (19) 248544 (19) 949383 (19) 567870 (19) 496355 (19) 547766 (19) 136534 (19) 580639 (19) 746971 (19) 91910 (19) 320927 (19) 706396 (19) 390006 (19) 512169 (19) 587619 (19) 410226 (19) 129467 (19) 520243 (19) 999488 (19) 392021 (19) 341975 (19) 615172 (19) 995403 (19) 544140 (19) 360122 (19) 34893 (19) 342349 (19) 111242 (19) 221526 (19) 944349 (19) 808729 (19) 507330 (19) 30845 (19) 180778 (19) 164551 (19) 960448 (19) 443450 (19) 637224 (19) 
     dis: 	0.136 0.138 0.138 0.141 0.142 0.149 0.157 0.161 0.161 0.168 0.168 0.172 0.177 0.177 0.180 0.180 0.182 0.186 0.191 0.197 0.197 0.198 0.198 0.199 0.203 0.205 0.205 0.209 0.209 0.210 0.210 0.212 0.216 0.217 0.217 0.221 0.224 0.225 0.235 0.240 0.245 0.246 0.248 0.251 0.253 0.254 0.255 0.255 0.258 0.259 0.259 0.261 0.262 0.270 0.270 0.271 0.273 0.275 0.278 0.278 0.281 0.285 0.294 0.294 0.295 0.303 0.303 0.307 0.310 0.313 0.314 0.314 0.320 0.320 0.322 0.323 0.328 0.330 0.331 0.332 0.332 0.333 0.334 0.339 0.342 0.344 0.351 0.354 0.354 0.356 0.356 0.357 0.359 0.360 0.365 0.367 0.368 0.369 0.370 0.371 
query 2 nn's (19, 19): 752639 (19) 916423 (19) 436923 (19) 782944 (19) 366433 (19) 425512 (19) 313405 (19) 537534 (19) 510609 (19) 347848 (19) 387561 (19) 546593 (19) 249066 (19) 2227 (19) 71679 (19) 971675 (19) 382912 (19) 224729 (19) 166797 (19) 308870 (19) 155587 (19) 174426 (19) 764496 (19) 342793 (19) 402665 (19) 588699 (19) 238211 (19) 445869 (19) 438231 (19) 652706 (19) 518706 (19) 614780 (19) 557152 (19) 429947 (19) 561248 (19) 302530 (19) 557 (19) 382511 (19) 318335 (19) 342462 (19) 604583 (19) 770967 (19) 179676 (19) 563956 (19) 757798 (19) 853434 (19) 331454 (19) 46232 (19) 302283 (19) 432628 (19) 617559 (19) 527907 (19) 573640 (19) 652509 (19) 657355 (19) 223642 (19) 415545 (19) 450899 (19) 345959 (19) 64907 (19) 477149 (19) 703910 (19) 365967 (19) 965930 (19) 552285 (19) 158758 (19) 881966 (19) 183363 (19) 397924 (19) 761794 (19) 818761 (19) 608807 (19) 308377 (19) 306552 (19) 623938 (19) 907098 (19) 307773 (19) 218188 (19) 831158 (19) 621950 (19) 289553 (19) 888671 (19) 873584 (19) 165462 (19) 890527 (19) 265666 (19) 63224 (19) 831612 (19) 620834 (19) 737775 (19) 655965 (19) 750421 (19) 20528 (19) 607058 (19) 832830 (19) 796455 (19) 158992 (19) 512273 (19) 389626 (19) 256080 (19) 
     dis: 	0.308 0.313 0.314 0.321 0.329 0.332 0.335 0.338 0.344 0.353 0.353 0.357 0.358 0.359 0.361 0.363 0.364 0.364 0.365 0.367 0.373 0.374 0.376 0.376 0.380 0.382 0.383 0.385 0.386 0.386 0.389 0.389 0.391 0.391 0.392 0.392 0.394 0.394 0.394 0.395 0.395 0.396 0.397 0.399 0.399 0.400 0.401 0.403 0.404 0.406 0.409 0.409 0.410 0.412 0.415 0.415 0.416 0.416 0.416 0.416 0.417 0.418 0.418 0.418 0.419 0.420 0.423 0.425 0.427 0.428 0.429 0.430 0.431 0.432 0.432 0.432 0.432 0.432 0.432 0.434 0.434 0.436 0.437 0.438 0.440 0.442 0.443 0.444 0.445 0.446 0.447 0.448 0.449 0.449 0.449 0.449 0.450 0.450 0.453 0.454 
query 3 nn's (19, 19): 687871 (19) 226331 (19) 493967 (19) 840258 (19) 239054 (19) 231500 (19) 358741 (19) 89977 (19) 938737 (19) 278147 (19) 584120 (19) 82288 (19) 432511 (19) 748862 (19) 611390 (19) 388276 (19) 841366 (19) 905969 (19) 930132 (19) 451260 (19) 117780 (19) 414971 (19) 103041 (19) 592067 (19) 108439 (19) 145084 (19) 211388 (19) 549270 (19) 786328 (19) 600352 (19) 683557 (19) 508788 (19) 150328 (19) 649540 (19) 654995 (19) 728591 (19) 172859 (19) 665295 (19) 19058 (19) 844361 (19) 902097 (19) 821435 (19) 426453 (19) 139377 (19) 573324 (19) 765686 (19) 732177 (19) 326989 (19) 996891 (19) 34214 (19) 346177 (19) 521372 (19) 514909 (19) 490001 (19) 785934 (19) 972185 (19) 93402 (19) 531600 (19) 864506 (19) 484095 (19) 74219 (19) 656921 (19) 455319 (19) 521944 (19) 317730 (19) 231538 (19) 155020 (19) 564699 (19) 406050 (19) 650113 (19) 375597 (19) 10687 (19) 803016 (19) 803189 (19) 652550 (19) 595221 (19) 51823 (19) 20400 (19) 982795 (19) 690528 (19) 771368 (19) 661696 (19) 881413 (19) 151628 (19) 98198 (19) 169262 (19) 716942 (19) 37231 (19) 613973 (19) 169970 (19) 621973 (19) 287560 (19) 912910 (19) 531609 (19) 546921 (19) 711387 (19) 564715 (19) 973826 (19) 555528 (19) 460330 (19) 
     dis: 	0.460 0.520 0.557 0.581 0.582 0.588 0.593 0.602 0.618 0.620 0.624 0.641 0.644 0.646 0.650 0.655 0.656 0.657 0.658 0.661 0.663 0.665 0.666 0.668 0.669 0.673 0.674 0.675 0.678 0.678 0.691 0.692 0.696 0.702 0.710 0.710 0.715 0.715 0.716 0.717 0.722 0.723 0.723 0.726 0.731 0.732 0.734 0.735 0.739 0.740 0.744 0.744 0.744 0.744 0.746 0.751 0.754 0.754 0.754 0.755 0.755 0.756 0.756 0.757 0.758 0.759 0.760 0.761 0.761 0.761 0.762 0.765 0.766 0.767 0.767 0.767 0.769 0.770 0.771 0.778 0.778 0.779 0.780 0.781 0.781 0.782 0.782 0.783 0.784 0.784 0.785 0.785 0.786 0.787 0.789 0.789 0.790 0.790 0.790 0.791 
query 4 nn's (19, 19): 522469 (19) 940668 (19) 402334 (19) 393712 (19) 637586 (19) 135893 (19) 826811 (19) 947998 (19) 862880 (19) 221380 (19) 989983 (19) 25013 (19) 819697 (19) 167033 (19) 896541 (19) 405287 (19) 943070 (19) 673302 (19) 914891 (19) 301884 (19) 52833 (19) 767552 (19) 472411 (19) 240731 (19) 562180 (19) 234790 (19) 600085 (19) 746659 (19) 758419 (19) 447111 (19) 726960 (19) 778267 (19) 337647 (19) 734757 (19) 455226 (19) 67891 (19) 222946 (19) 663763 (19) 330442 (19) 407735 (19) 544859 (19) 339424 (19) 494790 (19) 344486 (19) 194216 (19) 36770 (19) 717777 (19) 703839 (19) 465637 (19) 396976 (19) 862901 (19) 596268 (19) 833270 (19) 912303 (19) 997740 (19) 156900 (19) 546044 (19) 842312 (19) 854072 (19) 189655 (19) 458995 (19) 660682 (19) 807319 (19) 369261 (19) 609636 (19) 871328 (19) 335930 (19) 881672 (19) 141808 (19) 487204 (19) 829015 (19) 728326 (19) 580641 (19) 183959 (19) 323803 (19) 889839 (19) 402812 (19) 780213 (19) 510884 (19) 747341 (19) 72622 (19) 80826 (19) 470365 (19) 255550 (19) 72732 (19) 225334 (19) 94729 (19) 468249 (19) 597621 (19) 435846 (19) 33028 (19) 954138 (19) 910838 (19) 180318 (19) 380196 (19) 648881 (19) 679991 (19) 86446 (19) 85665 (19) 270899 (19) 
     dis: 	0.259 0.360 0.369 0.378 0.388 0.411 0.415 0.423 0.429 0.434 0.437 0.441 0.444 0.449 0.449 0.458 0.458 0.458 0.459 0.460 0.464 0.465 0.467 0.469 0.470 0.473 0.474 0.475 0.475 0.476 0.477 0.477 0.477 0.478 0.479 0.479 0.480 0.482 0.484 0.484 0.485 0.485 0.487 0.488 0.491 0.492 0.493 0.494 0.495 0.496 0.496 0.497 0.498 0.499 0.504 0.505 0.505 0.506 0.509 0.510 0.511 0.517 0.517 0.518 0.518 0.518 0.520 0.522 0.523 0.524 0.525 0.526 0.528 0.530 0.530 0.531 0.531 0.535 0.536 0.537 0.538 0.539 0.540 0.541 0.541 0.542 0.543 0.546 0.548 0.548 0.549 0.549 0.550 0.550 0.551 0.551 0.551 0.553 0.553 0.554 
[ 44.918s ] *** Query time: 37.301
qps: 268.086
 *** ivfpq recall 
ivfpq get 762231 postive res from 1000000 results, recall@100:0.762
recall dist(10% per bucket): 0.000 0.001 0.005 0.017 0.045 0.096 0.158 0.207 0.227 0.231 0.013 
finished ivfpq index examples
[ 44.947s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query redcaps1m 1000000 100 1 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_19/attr_sel_1_500_random_19.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_19/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_19/sif_gt_sel_1_1_500_random_19_100.json /mnt/data/mocheng/dataset/redcaps1m/ivfpq/index/index_ivfpq_sel_1_500_random_19_256 80 512"
	User time (seconds): 43.91
	System time (seconds): 0.79
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:45.05
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1348516
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 335699
	Voluntary context switches: 1100
	Involuntary context switches: 172
	Swaps: 0
	File system inputs: 47656
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 06:19
====================
START: running TEST_IVFPQ, sift data --

dataset: redcaps1m
N: 1000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_20/attr_sel_1_500_random_20.json
qrange file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_20/qrangesel_1_1_500_random_20.json
gt file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_20/sif_gt_sel_1_1_500_random_20_100.json
index file: /mnt/data/mocheng/dataset/redcaps1m/ivfpq/index/index_ivfpq_sel_1_500_random_20_256
nprobe: 80
dim: 512
loaded base attributes from:/mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_20/attr_sel_1_500_random_20.json
[ 0.065s ] Loaded metadata, 1000000 attr's found
[ 0.066s ] Loading query vectors and attributes
query vecs data loaded, with dim: 512, nb=10000
[ 0.078s ] Loaded query vectors from /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
[ 0.079s ] Loaded 10000 redcaps1m queries
[ 0.146s ] Loaded ground truth, gt_size: 100
[ 0.146s ] Index Params -- d: 512, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 1.904s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 42.377s ] Query results (vector ids, then distances):
query 0 nn's (20, 20): 652303 (20) 551775 (20) 665235 (20) 458474 (20) 768177 (20) 588301 (20) 187011 (20) 141369 (20) 68710 (20) 760497 (20) 881608 (20) 389291 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	0.951 1.048 1.074 1.133 1.150 1.185 1.198 1.242 1.251 1.342 1.372 1.404 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (20, 20): 431068 (20) 999010 (20) 481335 (20) 601684 (20) 834559 (20) 556847 (20) 142233 (20) 302104 (20) 220803 (20) 291749 (20) 940086 (20) 872009 (20) 294557 (20) 667912 (20) 657074 (20) 833512 (20) 512707 (20) 494047 (20) 860284 (20) 702282 (20) 929051 (20) 597968 (20) 730645 (20) 869037 (20) 480207 (20) 366361 (20) 713257 (20) 414983 (20) 543905 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	0.164 0.179 0.180 0.203 0.212 0.234 0.240 0.288 0.306 0.319 0.340 0.355 0.373 0.380 0.385 0.386 0.387 0.411 0.411 0.436 0.438 0.441 0.448 0.465 0.469 0.501 0.543 0.573 0.610 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (20, 20): 222596 (20) 863730 (20) 790369 (20) 899188 (20) 497610 (20) 638287 (20) 219747 (20) 97134 (20) 775045 (20) 674459 (20) 229034 (20) 248853 (20) 993573 (20) 254054 (20) 891867 (20) 817111 (20) 160887 (20) 216627 (20) 242602 (20) 401190 (20) 637631 (20) 269143 (20) 208742 (20) 645580 (20) 578741 (20) 28323 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	0.335 0.378 0.392 0.398 0.405 0.412 0.415 0.423 0.431 0.476 0.494 0.495 0.509 0.523 0.528 0.540 0.547 0.551 0.551 0.573 0.573 0.576 0.587 0.694 0.724 0.750 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (20, 20): 543905 (20) 610017 (20) 493588 (20) 404058 (20) 582466 (20) 812271 (20) 267157 (20) 119403 (20) 987377 (20) 598691 (20) 220745 (20) 32256 (20) 520498 (20) 62321 (20) 989455 (20) 808293 (20) 819970 (20) 381115 (20) 347958 (20) 202040 (20) 173451 (20) 898402 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	0.681 0.692 0.743 0.752 0.768 0.788 0.811 0.813 0.813 0.825 0.839 0.845 0.845 0.862 0.880 0.900 0.921 0.950 0.957 0.968 0.980 1.106 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (20, 20): 953970 (20) 707476 (20) 711475 (20) 732677 (20) 51097 (20) 931417 (20) 265453 (20) 673372 (20) 931627 (20) 369671 (20) 632085 (20) 236605 (20) 601164 (20) 924206 (20) 753428 (20) 820736 (20) 692344 (20) 959174 (20) 361167 (20) 843494 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	0.438 0.442 0.469 0.470 0.473 0.527 0.543 0.555 0.555 0.557 0.562 0.572 0.575 0.586 0.637 0.642 0.659 0.660 0.693 0.717 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 42.377s ] *** Query time: 35.174
qps: 284.301
 *** ivfpq recall 
ivfpq get 215248 postive res from 1000000 results, recall@100:0.215
recall dist(10% per bucket): 0.019 0.391 0.477 0.099 0.013 0.000 0.000 0.000 0.000 0.000 0.000 
finished ivfpq index examples
[ 42.406s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query redcaps1m 1000000 100 1 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_20/attr_sel_1_500_random_20.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_20/qrangesel_1_1_500_random_20.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_1_500_random_20/sif_gt_sel_1_1_500_random_20_100.json /mnt/data/mocheng/dataset/redcaps1m/ivfpq/index/index_ivfpq_sel_1_500_random_20_256 80 512"
	User time (seconds): 41.38
	System time (seconds): 0.81
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:42.53
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1347272
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 335699
	Voluntary context switches: 1055
	Involuntary context switches: 217
	Swaps: 0
	File system inputs: 38272
	File system outputs: 56
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
