Start time: 22:38
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: spacev10m
N: 10000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/acorn/index/index_acorn_sel_1_100000_random_M40_ga25_Mb64
ef_search: 100 
dim: 100
metadata or vector loaded from json, size: 10000000
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 1.257s ] Loaded metadata, 10000000 attr's found
[ 1.257s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 1.312s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json
[ 1.324s ] Loaded 10000 spacev10m queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_10.json
[ 1.375s ] Loaded ground truth, gt_size: 10
[ 1.375s ] Index Params -- d: 100, M: 40, N: 10000000, gamma: 25
--ACORN index created
acorn size: 5985260000, memory: 9637.127MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 9999534 nodes
level 1 : 249956 nodes
level 2 : 6211 nodes
level 3 : 140 nodes
level 4 : 3 nodes
level 5 : 0 nodes
Total edge:10255844
Average degree per layer:1709307.333
node size:10000000
Average degree:149.631
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 26.888s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 100
selectivity: 0.100
[ 487.820s ] Query results (vector ids, then distances):
query 0 nn's (40856): 606211 (46345) 6583311 (47922) 3082748 (43400) 38473 (46733) 8997960 (41694) 8538301 (43948) 7007393 (50612) 6547416 (46965) 2433318 (41182) 244510 (41564) 
     dis: 	5333.000 6338.000 6920.000 7027.000 7191.000 7544.000 7710.000 7882.000 8146.000 8194.000 
query 1 nn's (50855): 9408428 (33214) 6693881 (28141) 6631934 (28922) 913237 (31716) 128447 (33616) 1286599 (26580) 4764135 (25237) 9844113 (25407) 8084904 (26103) 1641593 (25519) 
     dis: 	8315.000 8318.000 9175.000 9300.000 9379.000 9607.000 9898.000 9916.000 10035.000 10134.000 
query 2 nn's (25003): 4927764 (61896) 5193386 (58419) 9602743 (57407) 4710102 (57576) 5423341 (53232) 2961580 (56149) 9485250 (57717) 1425558 (59965) 323907 (52531) 8971627 (61869) 
     dis: 	6596.000 7399.000 8053.000 8124.000 8500.000 8750.000 8960.000 9126.000 9129.000 9180.000 
query 3 nn's (35002): 7020630 (23256) 1717763 (23291) 391722 (24862) 3188407 (24304) 8232477 (31632) 4251611 (29775) 9892318 (23797) 5621855 (30749) 3626273 (24674) 7435385 (25937) 
     dis: 	8902.000 9696.000 9931.000 9960.000 10280.000 10455.000 10541.000 10647.000 10834.000 11029.000 
query 4 nn's (52136): 7373067 (53855) 2038833 (53914) 9044829 (55243) 6782257 (61394) 6934935 (62103) 8774147 (59338) 6789739 (61948) 3192757 (54312) 1444782 (58902) 5685630 (55650) 
     dis: 	5809.000 6330.000 6416.000 6419.000 6557.000 6791.000 6812.000 6817.000 6837.000 6845.000 
[ 487.820s ] *** Query time: 53.781
qps: 185.939
 *** acorn recall 
efs:100
acorn get 90330 postive res from 100000 results, recall@10:0.903
recall dist(10% per bucket): 0.005 0.006 0.006 0.008 0.014 0.020 0.029 0.046 0.081 0.160 0.625 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[487.820s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 35617023
ndis: 0
nreorder: 0
average distance computations per query: 3561.702
[ 487.820s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query spacev10m 10000000 25 40 64 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_10.json /mnt/data/mocheng/dataset/spacev10m/acorn/index/index_acorn_sel_1_100000_random_M40_ga25_Mb64 100 100"
	User time (seconds): 452.82
	System time (seconds): 29.51
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 8:11.25
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 15901368
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 5710856
	Voluntary context switches: 11885
	Involuntary context switches: 513
	Swaps: 0
	File system inputs: 19959608
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
