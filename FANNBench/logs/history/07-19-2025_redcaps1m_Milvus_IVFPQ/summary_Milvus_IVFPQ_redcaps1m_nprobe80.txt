Start time: 00:23
dataset: redcaps1m
N: 1000000
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query range file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
ground truth file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json
K: 100
nprobe: 80
collection name: collection_redcaps1m_sel_2_100000_random_512
collection  collection_redcaps1m_sel_2_100000_random_512  exists
collection size: data: ["{'count(*)': 1000000}"]
query d: 512
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 100
ids shape: 10000 100
gt shape: (10000, 100)
milvus get  988601  postive res from  1000000  results, recall@ 100 : 0.988601
recall dist(10\% per bucket):  [0.000e+00 0.000e+00 0.000e+00 0.000e+00 0.000e+00 0.000e+00 2.000e-04
 3.000e-04 4.200e-03 6.754e-01 3.199e-01]
10000  queries cost: 1350.2142593860626 , qps: 7.406231959472094
	Command being timed: "python -u utils/pymilvus_ivfpq_arbi.py redcaps1m 1000000 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json 100 80 collection_redcaps1m_sel_2_100000_random_512 query 512 512"
	User time (seconds): 117.23
	System time (seconds): 8.66
	Percent of CPU this job got: 8%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 23:52.23
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 154120
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 97459
	Voluntary context switches: 44522
	Involuntary context switches: 404617
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:50
dataset: redcaps1m
N: 1000000
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query range file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json
ground truth file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_100.json
K: 100
nprobe: 80
collection name: collection_redcaps1m_sel_2_100000_random_512
collection  collection_redcaps1m_sel_2_100000_random_512  exists
collection size: data: ["{'count(*)': 1000000}"]
query d: 512
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 100
ids shape: 10000 100
gt shape: (10000, 100)
milvus get  985501  postive res from  1000000  results, recall@ 100 : 0.985501
recall dist(10\% per bucket):  [0.000e+00 0.000e+00 0.000e+00 0.000e+00 0.000e+00 2.000e-04 5.000e-04
 2.400e-03 1.100e-02 6.576e-01 3.283e-01]
10000  queries cost: 1485.0374891757965 , qps: 6.733836736707604
	Command being timed: "python -u utils/pymilvus_ivfpq_arbi.py redcaps1m 1000000 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/qrangesel_10_2_100000_random_10.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/sif_gt_sel_10_2_100000_random_10_100.json 100 80 collection_redcaps1m_sel_2_100000_random_512 query 512 512"
	User time (seconds): 135.73
	System time (seconds): 9.33
	Percent of CPU this job got: 9%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 26:20.08
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 151052
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 98298
	Voluntary context switches: 47948
	Involuntary context switches: 466021
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:02
dataset: redcaps1m
N: 1000000
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query range file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json
ground truth file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_100.json
K: 100
nprobe: 80
collection name: collection_redcaps1m_sel_2_100000_random_512
collection  collection_redcaps1m_sel_2_100000_random_512  exists
collection size: data: ["{'count(*)': 1000000}"]
query d: 512
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 100
ids shape: 10000 100
gt shape: (10000, 100)
milvus get  948454  postive res from  1000000  results, recall@ 100 : 0.948454
recall dist(10\% per bucket):  [0.000e+00 0.000e+00 0.000e+00 2.000e-04 8.000e-04 5.000e-03 1.260e-02
 3.860e-02 1.088e-01 6.176e-01 2.164e-01]
10000  queries cost: 1490.794190645218 , qps: 6.707834027493752
	Command being timed: "python -u utils/pymilvus_ivfpq_arbi.py redcaps1m 1000000 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/qrangesel_19_2_100000_random_19.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/sif_gt_sel_19_2_100000_random_19_100.json 100 80 collection_redcaps1m_sel_2_100000_random_512 query 512 512"
	User time (seconds): 159.34
	System time (seconds): 8.96
	Percent of CPU this job got: 10%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 26:40.35
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 153824
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 103623
	Voluntary context switches: 50277
	Involuntary context switches: 751494
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 04:10
dataset: redcaps1m
N: 1000000
dataset file: /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs
query file: /mnt/data/mocheng/dataset/redcaps1m/query.fvecs
attr file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/attr_sel_2_100000_random.json
query range file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/qrangesel_20_2_100000_random_20.json
ground truth file: /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/sif_gt_sel_20_2_100000_random_20_100.json
K: 100
nprobe: 80
collection name: collection_redcaps1m_sel_2_100000_random_512
collection  collection_redcaps1m_sel_2_100000_random_512  exists
collection size: data: ["{'count(*)': 1000000}"]
query d: 512
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 100
error, get  86  results, expect  100
res: data: ["[{'id': 599323, 'distance': 1.007583498954773, 'entity': {}}, {'id': 342532, 'distance': 1.0187314748764038, 'entity': {}}, {'id': 936239, 'distance': 1.0216673612594604, 'entity': {}}, {'id': 250705, 'distance': 1.0496677160263062, 'entity': {}}, {'id': 683930, 'distance': 1.0637794733047485, 'entity': {}}, {'id': 266953, 'distance': 1.0711419582366943, 'entity': {}}, {'id': 565844, 'distance': 1.0712487697601318, 'entity': {}}, {'id': 634588, 'distance': 1.0798851251602173, 'entity': {}}, {'id': 784722, 'distance': 1.082548975944519, 'entity': {}}, {'id': 203646, 'distance': 1.0868825912475586, 'entity': {}}, {'id': 931828, 'distance': 1.1007046699523926, 'entity': {}}, {'id': 342254, 'distance': 1.1067453622817993, 'entity': {}}, {'id': 98369, 'distance': 1.1075104475021362, 'entity': {}}, {'id': 303148, 'distance': 1.1135578155517578, 'entity': {}}, {'id': 651120, 'distance': 1.1163415908813477, 'entity': {}}, {'id': 744530, 'distance': 1.1203851699829102, 'entity': {}}, {'id': 977139, 'distance': 1.1241841316223145, 'entity': {}}, {'id': 823486, 'distance': 1.1300376653671265, 'entity': {}}, {'id': 449194, 'distance': 1.1336305141448975, 'entity': {}}, {'id': 851066, 'distance': 1.137671947479248, 'entity': {}}, {'id': 956032, 'distance': 1.1384291648864746, 'entity': {}}, {'id': 305210, 'distance': 1.1512179374694824, 'entity': {}}, {'id': 389520, 'distance': 1.1512974500656128, 'entity': {}}, {'id': 890394, 'distance': 1.1552457809448242, 'entity': {}}, {'id': 905321, 'distance': 1.158308506011963, 'entity': {}}, {'id': 995487, 'distance': 1.1598467826843262, 'entity': {}}, {'id': 523634, 'distance': 1.1647523641586304, 'entity': {}}, {'id': 371199, 'distance': 1.1679246425628662, 'entity': {}}, {'id': 707292, 'distance': 1.1751333475112915, 'entity': {}}, {'id': 981567, 'distance': 1.1755260229110718, 'entity': {}}, {'id': 953488, 'distance': 1.1776748895645142, 'entity': {}}, {'id': 763327, 'distance': 1.177839756011963, 'entity': {}}, {'id': 495326, 'distance': 1.1781635284423828, 'entity': {}}, {'id': 860976, 'distance': 1.180341362953186, 'entity': {}}, {'id': 909438, 'distance': 1.1852457523345947, 'entity': {}}, {'id': 595736, 'distance': 1.1869577169418335, 'entity': {}}, {'id': 938676, 'distance': 1.1903736591339111, 'entity': {}}, {'id': 108005, 'distance': 1.1907825469970703, 'entity': {}}, {'id': 839233, 'distance': 1.1993740797042847, 'entity': {}}, {'id': 473546, 'distance': 1.2037174701690674, 'entity': {}}, {'id': 187815, 'distance': 1.2077350616455078, 'entity': {}}, {'id': 909449, 'distance': 1.2117009162902832, 'entity': {}}, {'id': 937973, 'distance': 1.223975658416748, 'entity': {}}, {'id': 654812, 'distance': 1.2251607179641724, 'entity': {}}, {'id': 149919, 'distance': 1.2279727458953857, 'entity': {}}, {'id': 976900, 'distance': 1.2301650047302246, 'entity': {}}, {'id': 493215, 'distance': 1.231431245803833, 'entity': {}}, {'id': 779381, 'distance': 1.2334109544754028, 'entity': {}}, {'id': 32478, 'distance': 1.2361178398132324, 'entity': {}}, {'id': 159425, 'distance': 1.2404582500457764, 'entity': {}}, {'id': 618507, 'distance': 1.2433637380599976, 'entity': {}}, {'id': 851421, 'distance': 1.2448455095291138, 'entity': {}}, {'id': 963994, 'distance': 1.245717167854309, 'entity': {}}, {'id': 982691, 'distance': 1.246986985206604, 'entity': {}}, {'id': 988443, 'distance': 1.2507375478744507, 'entity': {}}, {'id': 976391, 'distance': 1.2546292543411255, 'entity': {}}, {'id': 45422, 'distance': 1.255012035369873, 'entity': {}}, {'id': 992557, 'distance': 1.2559189796447754, 'entity': {}}, {'id': 187950, 'distance': 1.2592341899871826, 'entity': {}}, {'id': 991590, 'distance': 1.266174077987671, 'entity': {}}, {'id': 387804, 'distance': 1.2676259279251099, 'entity': {}}, {'id': 597427, 'distance': 1.2688124179840088, 'entity': {}}, {'id': 671354, 'distance': 1.2713308334350586, 'entity': {}}, {'id': 985247, 'distance': 1.2720046043395996, 'entity': {}}, {'id': 996659, 'distance': 1.2725547552108765, 'entity': {}}, {'id': 299606, 'distance': 1.27408766746521, 'entity': {}}, {'id': 586125, 'distance': 1.2813241481781006, 'entity': {}}, {'id': 376195, 'distance': 1.289732575416565, 'entity': {}}, {'id': 372922, 'distance': 1.2911381721496582, 'entity': {}}, {'id': 973403, 'distance': 1.2995916604995728, 'entity': {}}, {'id': 455917, 'distance': 1.3015726804733276, 'entity': {}}, {'id': 456578, 'distance': 1.3044137954711914, 'entity': {}}, {'id': 674309, 'distance': 1.311421513557434, 'entity': {}}, {'id': 32192, 'distance': 1.3159003257751465, 'entity': {}}, {'id': 144764, 'distance': 1.331432819366455, 'entity': {}}, {'id': 632646, 'distance': 1.3314707279205322, 'entity': {}}, {'id': 768056, 'distance': 1.3458746671676636, 'entity': {}}, {'id': 961807, 'distance': 1.3518410921096802, 'entity': {}}, {'id': 796802, 'distance': 1.3586218357086182, 'entity': {}}, {'id': 991735, 'distance': 1.3713668584823608, 'entity': {}}, {'id': 654938, 'distance': 1.4029197692871094, 'entity': {}}, {'id': 968147, 'distance': 1.4113211631774902, 'entity': {}}, {'id': 982523, 'distance': 1.451794147491455, 'entity': {}}, {'id': 971329, 'distance': 1.4703606367111206, 'entity': {}}, {'id': 955715, 'distance': 1.4741880893707275, 'entity': {}}, {'id': 959858, 'distance': 1.5615369081497192, 'entity': {}}]"]
exp: label_attr == 20 and 62584 <= range_attr <= 65755
Traceback (most recent call last):
  File "utils/pymilvus_ivfpq_arbi.py", line 247, in <module>
    if(ids[i][top] == gt[i][gtind]):
IndexError: list index out of range
Command exited with non-zero status 1
	Command being timed: "python -u utils/pymilvus_ivfpq_arbi.py redcaps1m 1000000 /mnt/data/mocheng/dataset/redcaps1m/image_embeddings.fvecs /mnt/data/mocheng/dataset/redcaps1m/query.fvecs /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/qrangesel_20_2_100000_random_20.json /mnt/data/mocheng/dataset/redcaps1m/label/sel_2_100000_random/sif_gt_sel_20_2_100000_random_20_100.json 100 80 collection_redcaps1m_sel_2_100000_random_512 query 512 512"
	User time (seconds): 2.74
	System time (seconds): 2.74
	Percent of CPU this job got: 519%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:01.05
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 152636
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 5
	Minor (reclaiming a frame) page faults: 39313
	Voluntary context switches: 550
	Involuntary context switches: 504669
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 1
