Start time: 04:16
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.714s ] Loaded metadata, 10000000 attr's found
[ 0.714s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.718s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.719s ] Loaded 10000 sift10M queries
[ 0.788s ] Loaded ground truth, gt_size: 100
[ 0.788s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 4.947s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 80.267s ] Query results (vector ids, then distances):
query 0 nn's (16495, 66494): 4738758 (63657) 6984373 (66297) 7077742 (48276) 238649 (52700) 9536881 (62309) 7866119 (35104) 77153 (55251) 1835932 (42846) 1077702 (54735) 6951413 (64572) 5770330 (20661) 8435256 (22283) 9251169 (17058) 5343331 (64452) 3255720 (45053) 9860956 (45915) 7873580 (61095) 9409479 (53603) 3663987 (28773) 331007 (42101) 6019325 (39083) 463666 (53257) 3879851 (51251) 4897568 (21711) 6002319 (38494) 4294175 (55347) 4770231 (18286) 9237550 (19315) 7459877 (65985) 7011791 (23273) 2365415 (44282) 4047656 (37028) 1891236 (55041) 3049131 (56789) 1415164 (27761) 7200266 (62910) 5228659 (32650) 7895839 (33099) 476293 (42096) 8052577 (63399) 8838842 (42249) 3094752 (38222) 6253443 (59467) 9501438 (62638) 4271011 (16541) 4436135 (46921) 6425728 (45806) 9584266 (30762) 8446671 (55365) 2894606 (22434) 2051236 (18470) 434737 (55269) 9107723 (35394) 5600358 (36832) 1432946 (31393) 3366295 (53986) 5008601 (36205) 8944989 (22466) 2913895 (40741) 2478200 (32527) 3474811 (56942) 4670831 (59491) 2294828 (60377) 3128137 (28276) 8615059 (36713) 8744580 (55278) 9211969 (51710) 308200 (47543) 2785966 (23295) 8329174 (24090) 3947830 (38978) 2312218 (53490) 8600618 (61519) 700654 (55803) 2814763 (28958) 2226989 (17790) 9422333 (33977) 8031075 (23431) 1433064 (66415) 9097734 (60172) 8354051 (63503) 9974619 (19121) 6800399 (46779) 3557735 (52573) 5572808 (50700) 3252917 (21718) 6457339 (24999) 1990996 (48664) 4988257 (36327) 9126982 (44285) 6307312 (52554) 8044644 (54229) 2498088 (25230) 2370474 (22884) 1136340 (34358) 6819570 (17917) 880686 (50176) 3884061 (62654) 221634 (16504) 4859982 (56992) 
     dis: 	74348.750 76746.344 76941.883 77942.109 78612.492 79491.359 79874.648 80126.703 80609.109 80741.164 81171.055 81721.070 81762.570 81829.359 82329.555 82688.367 82700.078 82842.961 83099.133 83139.656 83414.625 83464.258 83614.141 83704.266 83869.172 84188.453 84387.719 84617.469 85074.766 85258.070 85535.609 85609.820 85786.719 85939.953 86060.789 86139.750 86322.977 86453.094 86657.281 86796.750 86995.836 87032.438 87116.188 87279.617 87307.289 87526.211 87672.586 87885.398 87905.227 87985.891 88085.086 88149.484 88262.578 88382.336 88534.016 88626.898 88817.586 88824.984 88945.953 89280.336 89285.461 89305.461 89319.305 89366.422 89539.578 89695.195 89714.227 89745.312 89845.758 89847.555 90049.484 90062.445 90251.008 90301.711 90682.891 90888.812 90948.508 91129.336 91275.805 91386.523 91505.320 91729.914 91869.078 92133.141 92160.281 92162.156 92172.562 92196.016 92328.148 92362.883 92529.070 92545.383 92638.961 92725.031 92733.094 92746.984 92782.812 92980.477 93004.422 93047.578 
query 1 nn's (9202, 59201): 285986 (29147) 411491 (28374) 7501440 (19981) 1273419 (33970) 3221056 (31139) 8349375 (52325) 469965 (40746) 9791343 (31369) 9958454 (20815) 3309105 (58581) 1120308 (58129) 8596968 (57015) 9009284 (43025) 7917424 (30836) 371485 (21478) 9537422 (38205) 6378991 (24604) 7331745 (31011) 7120642 (56260) 2993914 (24499) 4922660 (25703) 7692715 (33795) 375999 (11846) 5008572 (16803) 9015118 (35539) 296178 (9794) 5531491 (42049) 4870548 (14957) 8879018 (38985) 7693023 (48225) 1843885 (58567) 9933148 (29627) 6073626 (52753) 3786289 (47328) 1341845 (13158) 5516040 (39608) 8646169 (48602) 3631651 (46071) 9167559 (28640) 9781041 (46813) 8590082 (35871) 1350904 (17079) 1784776 (14038) 6174201 (27446) 8588450 (26655) 9245954 (25046) 7342014 (43207) 2473259 (21347) 9211699 (48066) 4689763 (13954) 8918460 (22635) 8152291 (58419) 741761 (13735) 8984166 (19820) 1461697 (9342) 8440112 (16815) 6533284 (58872) 9913606 (25633) 1259657 (41217) 4649124 (10463) 6986308 (42127) 5386381 (56639) 7315015 (40488) 2652241 (18132) 7672903 (50549) 5226515 (31871) 2353489 (36758) 691253 (12031) 8828687 (57507) 6630533 (47319) 6971668 (13402) 4009753 (42973) 2093850 (58698) 8518091 (32017) 9349060 (12055) 1345854 (17575) 5254261 (23886) 1932354 (54429) 6672132 (28461) 3231603 (11404) 3740235 (47884) 8155958 (44047) 482087 (52392) 5790422 (10136) 7513620 (14628) 5307850 (28502) 9388703 (42582) 5887328 (45405) 1012664 (54489) 7856853 (44589) 7807906 (37732) 8488585 (11438) 2048408 (15017) 5869072 (17436) 3093537 (9455) 9591804 (36269) 6281612 (57414) 6383821 (40068) 3648617 (30298) 298308 (17361) 
     dis: 	43521.125 46702.566 46733.703 47133.055 49650.875 50164.102 50999.262 51140.562 51490.145 51613.125 52189.609 52276.391 52515.828 53272.633 54315.500 54728.070 54834.387 54885.574 55214.109 55412.629 56065.488 56211.219 56373.891 56599.789 56973.043 56979.797 57008.246 57255.496 57343.086 57365.887 57367.137 57388.648 57524.609 57538.652 57628.867 57685.148 57715.512 57856.258 57859.262 57868.480 57908.715 58117.168 58426.637 58448.340 58460.043 58468.477 58479.996 58630.234 58743.719 58779.207 58824.281 59206.387 59436.469 60354.734 60381.355 60503.371 60907.055 61005.836 61148.406 61172.559 61364.480 61481.000 61503.867 61720.613 61886.758 62000.664 62323.406 62483.906 62656.742 62789.754 62898.316 63112.391 63243.469 63252.008 63313.273 63322.180 63404.359 63574.988 63674.195 63689.945 63873.516 64006.527 64020.641 64116.547 64354.965 64654.906 64942.613 64958.828 64995.387 65194.938 65231.176 65486.227 65559.469 65569.242 65620.898 65683.586 65692.430 65701.328 65718.422 65920.625 
query 2 nn's (3185, 53184): 4588082 (5850) 289025 (23641) 1931585 (19001) 5982237 (43009) 9262583 (10127) 6296252 (42595) 3493381 (41222) 9416415 (22498) 9466222 (12113) 9410320 (17475) 2511585 (51247) 40266 (43315) 4279056 (31979) 436139 (39429) 2448858 (26319) 9609459 (52017) 5988705 (35014) 2601636 (4981) 8068558 (3605) 893390 (20914) 8432027 (41968) 2098752 (8636) 4331583 (20733) 1229611 (42372) 1198061 (39524) 8086660 (10594) 1784913 (17205) 4519717 (16603) 4347605 (5987) 3724739 (11973) 2413882 (42838) 8001622 (38121) 8590994 (28647) 4021389 (14109) 3795529 (39233) 5631784 (19399) 5039283 (52769) 9330360 (23016) 9403244 (18354) 9790465 (51400) 3061201 (36811) 2953864 (3859) 888761 (42790) 8635193 (4483) 1160482 (18573) 4957555 (20414) 1463083 (23709) 2412946 (20189) 4713533 (11323) 2038327 (32825) 9302830 (30435) 1956474 (39813) 3948507 (46592) 8965515 (47906) 764856 (15554) 247874 (27384) 2721859 (45661) 6511526 (45450) 2800256 (3943) 8064334 (52538) 8703413 (48767) 7011882 (21209) 1758192 (46894) 7409471 (23955) 3457019 (10629) 1700496 (39753) 596128 (12783) 5488746 (22698) 2247452 (7760) 3667879 (49905) 8511243 (52818) 4111853 (11705) 483758 (16444) 27015 (15961) 5834114 (42413) 9235536 (48064) 1688252 (51608) 4824470 (28032) 9919092 (44536) 8690196 (29802) 2891769 (11746) 8266810 (35247) 5054841 (31170) 2797798 (41215) 2833092 (35079) 7794718 (41326) 3028 (7303) 4848879 (32726) 6105855 (42608) 2327550 (22023) 4083557 (23166) 2653893 (12489) 4195422 (28896) 6202123 (50777) 2908662 (19275) 5041695 (10604) 3618200 (38873) 1299970 (3578) 6757010 (32419) 8712617 (53071) 
     dis: 	47684.672 48216.973 48258.941 50066.566 50644.941 51004.824 51043.465 51802.625 51875.957 52262.297 52454.711 52742.297 52769.785 52794.215 52958.145 52999.742 53070.574 53080.223 53334.934 53671.156 53841.730 53939.363 54234.668 54290.211 54648.992 54655.434 54680.859 55072.648 55172.934 55366.215 55379.477 55833.586 55857.223 55862.684 56102.254 56115.004 56130.137 56256.652 56514.754 56666.258 56671.211 57004.633 57317.832 57575.926 57608.090 57638.012 57907.914 58234.988 58285.367 58644.297 58719.820 58759.629 58805.180 58826.785 58873.023 59008.195 59084.023 59168.883 59289.770 59292.230 59471.156 59546.812 59665.488 59688.074 59721.051 59845.891 59947.520 59968.434 60015.285 60146.195 60183.750 60244.844 60264.141 60450.352 60451.746 60757.441 60923.367 60946.672 60952.449 61110.820 61130.996 61186.344 61195.570 61199.203 61213.715 61225.750 61230.281 61326.711 61362.012 61416.543 61447.164 61478.012 61510.566 61561.109 61562.789 61594.086 61620.254 61743.219 61783.219 61813.539 
query 3 nn's (49315, 99314): 980813 (57404) 1527942 (96648) 4147780 (96552) 6151275 (54227) 8410503 (57593) 2965607 (50671) 8174765 (80882) 7301932 (58021) 3643741 (49824) 5124856 (83202) 1218934 (95625) 9132978 (88985) 6917633 (65929) 3421136 (79354) 1417424 (52791) 3143192 (84650) 6411621 (75479) 2892348 (96310) 3041965 (53918) 727241 (54631) 5224964 (92235) 8649378 (64804) 1911911 (93967) 1344917 (94289) 2218358 (96205) 1739894 (59501) 1553832 (56561) 8501071 (59579) 4246457 (73056) 4486659 (62681) 1514080 (69970) 9577990 (76369) 1590183 (88142) 7301436 (87758) 8381210 (50663) 3633444 (58089) 9925791 (97055) 8051314 (74322) 192312 (56033) 5381241 (67484) 879082 (58444) 9354839 (82742) 9313337 (65861) 179529 (69049) 2112048 (90994) 9603354 (76938) 9978957 (58477) 7404448 (97484) 9625994 (68515) 5792548 (50167) 9335193 (61835) 1028926 (67570) 7463079 (77126) 4983026 (77570) 5777538 (67724) 3421950 (66323) 7119531 (90378) 7614050 (89191) 422848 (66608) 2236726 (90758) 3009997 (97202) 686764 (84900) 1061321 (74643) 936598 (90457) 7865854 (55686) 6045699 (86837) 8688385 (51100) 578322 (76455) 7950822 (60752) 6697954 (97706) 5106668 (83807) 8012973 (49730) 7583501 (51620) 2843331 (94548) 3252978 (77827) 8643637 (91536) 3112499 (60951) 7747974 (55824) 3704240 (51893) 597580 (97456) 7216322 (83941) 4995291 (67298) 5181700 (61434) 3379947 (69911) 7556732 (84479) 449169 (84914) 9947826 (87273) 3540851 (56783) 3195943 (64046) 7829631 (88278) 3080406 (50210) 1229577 (98674) 6676311 (50438) 6306155 (92517) 9332155 (77339) 240857 (83846) 2842840 (85067) 9102009 (51785) 1874032 (91903) 7745448 (77965) 
     dis: 	4284.122 4327.126 4456.461 4596.839 4853.428 5025.904 5169.761 5222.189 5265.583 5481.427 5481.641 5578.374 5584.967 5599.367 5660.666 5684.173 5902.099 6067.166 6086.703 6195.484 6362.484 6455.776 6486.042 6670.587 6710.076 6830.077 6883.839 6959.436 6979.414 7016.517 7147.744 7293.963 7445.345 7452.494 7472.198 7564.517 7572.805 7644.766 7652.724 7660.587 7661.223 7669.771 7675.359 7678.588 7720.046 7740.505 7753.538 7815.895 7834.597 8027.159 8091.991 8239.123 8295.193 8295.535 8308.543 8366.799 8367.211 8417.522 8457.550 8461.038 8472.251 8507.688 8583.214 8598.450 8618.451 8682.901 8734.205 8834.267 8842.596 8861.812 8862.541 8923.057 8926.021 8934.488 8986.323 9010.250 9106.928 9148.424 9252.318 9314.415 9334.548 9427.752 9431.464 9468.079 9533.033 9578.398 9640.171 9671.052 9750.365 9760.482 9761.980 9763.779 9825.297 9865.930 9912.546 9958.855 9968.527 10035.211 10052.161 10057.097 
query 4 nn's (35866, 85865): 3477074 (81770) 6578584 (38818) 3389697 (48484) 2524726 (73742) 7358946 (78288) 6357047 (37869) 4719865 (48976) 5257851 (42550) 5707536 (47200) 1829341 (62245) 6699578 (59103) 417315 (38580) 2045614 (57740) 6258948 (83408) 2721988 (37884) 2454280 (80510) 3099917 (49532) 8972367 (43409) 5012556 (55013) 2288117 (77366) 1784595 (44244) 6116720 (45903) 3475746 (46970) 2779329 (58761) 330819 (62462) 2528505 (42180) 9831067 (43682) 1272627 (49473) 3671814 (57552) 6784852 (64491) 2945464 (44763) 1953827 (48134) 6321468 (83457) 6135063 (53210) 1591991 (85402) 2534624 (54996) 2160380 (45685) 2178583 (39724) 2085966 (47802) 2334258 (71939) 3157713 (75611) 6652605 (68105) 3554205 (46620) 1430207 (78644) 3958825 (81453) 3069927 (52403) 4704136 (85176) 3530997 (65454) 1253413 (45668) 6132133 (35938) 8325663 (40558) 3625321 (59556) 7561797 (47754) 3147235 (78099) 6152391 (40418) 9825567 (40718) 4529199 (67680) 7283820 (50237) 7492188 (79847) 3653344 (44658) 4982616 (85242) 2704497 (57643) 5814747 (80172) 9879422 (44304) 5862862 (37162) 8065643 (36769) 4230287 (36808) 5289476 (61849) 5341867 (45152) 125408 (80265) 3546245 (77994) 7252399 (76187) 2061026 (56256) 7260539 (82600) 8799970 (51538) 7328865 (57009) 1879975 (70787) 963922 (64166) 2145472 (69846) 7116114 (71568) 7787129 (85850) 4063224 (54209) 4925842 (73524) 7655975 (42867) 9412290 (79175) 9172686 (60741) 280740 (38932) 3228426 (63389) 2562256 (85770) 1672031 (75610) 9060572 (62783) 5728609 (68472) 3797368 (44063) 9646602 (48534) 4463149 (81908) 9104864 (54638) 7566456 (46563) 417612 (71494) 7990209 (38607) 4753413 (82709) 
     dis: 	80359.188 81669.555 84516.359 85204.180 86956.969 90920.555 91775.898 92153.133 92667.188 93103.156 93747.180 94757.172 94859.375 95127.195 95979.406 96369.953 96427.570 96462.617 97060.734 97088.094 97701.016 97731.766 97840.844 97914.609 98073.367 98820.750 98831.547 98889.852 98953.305 98984.383 99265.250 99524.188 99661.930 100051.578 100342.578 100762.180 100780.898 100842.891 100895.094 101427.742 101620.672 101748.195 101867.734 101926.578 102363.562 102378.016 102488.172 102800.047 102885.422 102914.062 102919.219 103226.188 103240.250 103446.172 103865.922 104094.398 104350.422 104433.391 104455.102 104543.891 104989.398 105383.188 105385.773 105471.422 105508.234 105522.000 105666.258 105704.203 105736.641 105833.336 105909.039 106039.070 106046.266 106106.023 106180.891 106457.898 106578.109 106691.766 106723.984 106727.516 107024.602 107150.359 107281.016 107445.008 107705.500 107735.703 107752.234 107861.852 107919.539 108008.898 108031.438 108379.172 108390.078 108417.797 108438.922 108497.023 108624.992 108640.133 108776.570 108798.523 
[ 80.268s ] *** Query time: 16.951
qps: 589.937
 *** ivfpq recall 
ivfpq get 606708 postive res from 1000000 results, recall@100:0.607
recall dist(10% per bucket): 0.001 0.010 0.062 0.127 0.162 0.150 0.134 0.107 0.102 0.137 0.008 
finished ivfpq index examples
[ 80.328s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 10 128"
	User time (seconds): 77.22
	System time (seconds): 2.16
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:20.68
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3040156
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 774226
	Voluntary context switches: 5777
	Involuntary context switches: 101
	Swaps: 0
	File system inputs: 352352
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 04:21
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.711s ] Loaded metadata, 10000000 attr's found
[ 0.711s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.714s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.716s ] Loaded 10000 sift10M queries
[ 0.784s ] Loaded ground truth, gt_size: 100
[ 0.784s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.518s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 91.763s ] Query results (vector ids, then distances):
query 0 nn's (30338, 40337): 7866119 (35104) 6019325 (39083) 6002319 (38494) 4047656 (37028) 5228659 (32650) 7895839 (33099) 3094752 (38222) 9584266 (30762) 9107723 (35394) 5600358 (36832) 1432946 (31393) 5008601 (36205) 2478200 (32527) 8615059 (36713) 3947830 (38978) 9422333 (33977) 4988257 (36327) 1136340 (34358) 4254855 (35011) 2640746 (31954) 9596672 (40182) 4862834 (38903) 9099555 (39603) 3532484 (31798) 3206773 (35296) 1340784 (39893) 3645920 (34139) 1530219 (33642) 4408250 (32306) 5073149 (38840) 1907588 (35276) 9577450 (34723) 8671427 (33099) 5717461 (35827) 33203 (34980) 9645387 (39738) 839322 (37140) 4456411 (32239) 9541266 (36406) 6274817 (37842) 6943042 (33685) 6420776 (38416) 3708659 (39348) 5027969 (30348) 4358804 (32066) 2372487 (34770) 6232931 (38323) 8969276 (32196) 9647022 (36961) 266478 (35820) 1515026 (36358) 2733343 (37132) 2144339 (33586) 7576695 (37230) 5495957 (37177) 5898859 (35156) 2387744 (30909) 9988402 (38401) 7946017 (38992) 2854823 (32389) 8146120 (39998) 8571737 (30680) 8922169 (39759) 1356650 (30377) 3509058 (32784) 1004575 (37743) 674603 (39108) 6649857 (39489) 6697909 (33588) 9011423 (32901) 2345217 (32644) 72182 (35659) 8124131 (38018) 8620286 (37654) 3043437 (35968) 7421977 (39415) 9060619 (33227) 4841938 (39224) 414046 (31025) 9241075 (33293) 2349164 (37356) 3324249 (33457) 7552376 (35322) 2097317 (32837) 3595026 (36970) 2132932 (37629) 8452088 (38679) 5255414 (35963) 5158597 (31686) 6508259 (33248) 9177540 (34247) 4406393 (34977) 8325692 (34820) 1409786 (34949) 742791 (30966) 2049186 (34718) 8838434 (40248) 521991 (39484) 6512804 (33289) 223437 (38231) 
     dis: 	79491.359 83414.625 83869.172 85609.820 86322.977 86453.094 87032.438 87885.398 88262.578 88382.336 88534.016 88817.586 89280.336 89539.578 90049.484 90948.508 92328.148 92733.094 93386.250 93438.375 93636.750 93748.062 94034.336 94199.867 94366.141 94453.266 95328.852 95425.492 96324.984 96342.453 96680.719 97198.297 97314.594 97361.578 97404.484 97406.953 97416.164 97803.391 97900.406 98020.938 98027.961 98309.773 98320.164 98505.273 98514.656 98547.766 98739.148 98778.211 98870.023 98924.758 99412.953 99929.367 99957.977 100188.188 100395.953 100416.430 100803.992 100843.242 100997.117 101112.461 101166.609 101228.453 101332.711 101404.781 101417.305 101421.984 102036.508 102517.008 102738.211 103113.930 103689.625 103697.297 103700.031 103885.477 104000.023 104055.273 104105.492 104256.766 104341.422 104555.086 104623.289 104828.859 104942.438 105025.562 105167.992 105421.766 105481.430 105482.594 105534.617 105541.805 105675.188 105825.391 106015.992 106037.359 106082.805 106353.484 106376.156 106448.914 106643.172 106699.859 
query 1 nn's (77037, 87036): 5552416 (78513) 1909131 (86406) 1745130 (81239) 1503119 (86342) 4456023 (81807) 7409966 (77482) 8223991 (85939) 1410399 (79450) 3200275 (77568) 1015812 (81428) 9460541 (85631) 3733744 (80018) 109736 (83008) 8811964 (78982) 8880895 (85935) 8899541 (77302) 5796685 (85349) 7066298 (82075) 9329945 (82932) 3419918 (85008) 6363708 (86935) 5838578 (80325) 5113286 (82655) 3483770 (77125) 2901807 (85802) 9900713 (80753) 8757781 (78436) 2773940 (83061) 6861763 (79255) 1358210 (82366) 5682634 (83480) 4317853 (78238) 8549337 (81124) 9594077 (86656) 2442767 (79429) 801963 (83162) 3595041 (81789) 509915 (81217) 1329486 (82222) 4565789 (86269) 4558935 (86467) 5481254 (81714) 6639650 (81288) 1886034 (78747) 9220661 (83515) 4058523 (78300) 4007564 (84162) 4811463 (85249) 9015685 (78130) 5424055 (81172) 1208441 (84977) 296036 (85169) 9429619 (85840) 5425346 (81306) 8838862 (78806) 767180 (81326) 6679899 (77613) 7452672 (82219) 3170445 (78292) 4010699 (83940) 2765204 (81025) 3975668 (85506) 2742397 (82912) 5248280 (85367) 5250239 (85491) 9746886 (82707) 1444668 (86471) 1053993 (82403) 2244611 (77270) 7580269 (82450) 3791268 (86621) 2947507 (82636) 897493 (82032) 1960490 (78133) 6979261 (79319) 942523 (78136) 5404107 (84823) 3471626 (85969) 5666656 (80815) 8933398 (79317) 4792264 (81640) 2133762 (86360) 5607232 (77189) 856712 (84619) 7513389 (84168) 3485540 (77677) 4777818 (77360) 6225217 (80943) 5893264 (83994) 4794829 (84782) 8831397 (79591) 6873043 (81307) 5939038 (85011) 9187378 (86336) 35158 (85547) 4207398 (82539) 549555 (85447) 5863707 (83737) 6628228 (80202) 5445050 (83956) 
     dis: 	43100.453 51780.211 54724.656 58268.090 59082.324 60185.367 61373.090 63334.691 63545.773 64018.613 64888.977 65405.785 65654.898 66050.352 67408.750 67919.445 68110.531 69143.375 70520.227 70721.625 70727.273 71329.109 72222.039 72451.688 72654.219 72773.375 72921.297 72966.102 73483.211 73869.562 74250.023 74608.180 74871.078 74948.227 75668.836 75900.125 75914.617 76615.023 76801.734 76962.383 77058.266 77271.422 77474.773 77651.422 78416.070 79474.508 79516.711 80130.133 80246.969 80474.008 80643.719 81152.469 81239.383 81312.336 81808.484 81819.578 82313.281 82319.297 82664.750 83167.102 83318.609 83434.703 83622.922 83720.062 83779.203 83953.562 84260.883 84527.727 84620.180 84662.352 84673.664 84721.852 84852.578 85147.359 85280.422 85305.102 85461.453 85485.930 85637.508 85740.406 85780.227 85871.141 86185.859 86226.016 86360.195 86504.320 86581.641 86808.953 86916.930 86942.906 87182.148 87322.844 87418.750 87717.414 87931.453 88177.078 88281.391 88538.578 88736.055 88764.250 
query 2 nn's (55705, 65704): 237844 (57153) 8132849 (63316) 9068473 (62147) 8455929 (59448) 8863268 (55928) 1329974 (65153) 4555038 (63166) 8563094 (58325) 1080573 (56490) 6114289 (59111) 5596868 (58496) 8333106 (61471) 2723946 (57827) 9384590 (59693) 4542872 (61400) 8075681 (59224) 1366265 (58751) 4647083 (61889) 1795636 (58821) 3224964 (61887) 5228926 (56641) 5520814 (57891) 29358 (65481) 4497755 (65054) 1613547 (58741) 2523582 (58820) 6247603 (63801) 8084717 (62575) 4703041 (58856) 3860058 (61774) 2461335 (62859) 4743122 (61891) 6208823 (61767) 9431634 (57575) 283793 (56625) 2764590 (56554) 9982250 (57564) 8383671 (61008) 245248 (61481) 6553074 (59575) 7221663 (60629) 1015153 (56733) 7464135 (57113) 2721821 (58910) 5270485 (63229) 9212023 (59032) 2352405 (59041) 4299983 (57114) 6222847 (56154) 7975982 (61676) 8394381 (64969) 76377 (63606) 2244705 (58840) 6406251 (59215) 6226545 (59478) 4987842 (57904) 6152369 (64329) 8122567 (57529) 6357699 (63160) 3827773 (62270) 1066001 (63825) 3624966 (62785) 7355393 (56388) 6666491 (61086) 2840967 (57257) 3533275 (55965) 3997474 (62368) 9104995 (58205) 3197452 (58358) 6748317 (60845) 2431439 (56507) 1028045 (55897) 5460075 (59062) 3929420 (56271) 1054373 (65016) 5613968 (62690) 1335888 (62883) 2274902 (63478) 328367 (62475) 6239723 (56765) 8094334 (57908) 1645367 (60290) 9525394 (63890) 2152591 (58845) 3898551 (58432) 3630206 (58644) 4694949 (57791) 6656323 (57112) 4995236 (64978) 8290351 (59651) 1616852 (60282) 6449252 (65478) 2556892 (63994) 6609144 (62547) 2453435 (60658) 5585764 (63492) 9337599 (61263) 6844041 (65680) 4485029 (57906) 3552763 (61317) 
     dis: 	49548.199 50812.102 52297.547 53160.984 53200.441 55037.547 55131.336 55985.078 56108.410 56887.383 57440.262 57879.695 58295.070 58704.016 59112.977 59267.797 59401.836 59791.035 59905.707 60371.652 60762.941 61578.500 61684.824 62007.723 62050.496 62081.379 62796.402 62804.035 63190.219 63448.477 63754.176 63804.355 63975.785 64149.547 64269.680 65230.160 65459.625 65472.145 65590.922 65795.031 65834.188 65865.836 66022.977 66172.883 66231.945 66575.953 67301.969 67586.945 67621.531 67681.320 67698.391 67930.008 68135.680 68360.711 68398.727 68423.391 68435.938 68474.578 68522.016 68603.242 68756.375 68828.055 68909.086 69102.602 69428.047 69619.375 69921.273 70186.320 70196.562 70444.023 70585.266 70705.031 70862.023 70874.836 70953.500 71083.562 71193.625 71350.906 71373.430 71381.469 71403.875 71450.320 71542.781 71742.773 71928.703 72033.242 72203.922 72232.125 72313.453 72362.562 72399.062 72490.539 72516.672 72665.656 72823.625 72933.508 72977.547 72978.125 72998.695 73015.102 
query 3 nn's (68256, 78255): 6411621 (75479) 4246457 (73056) 1514080 (69970) 9577990 (76369) 8051314 (74322) 179529 (69049) 9603354 (76938) 9625994 (68515) 7463079 (77126) 4983026 (77570) 1061321 (74643) 578322 (76455) 3252978 (77827) 3379947 (69911) 9332155 (77339) 7745448 (77965) 4824483 (76626) 4537205 (69605) 4856979 (75280) 9706597 (74482) 4899384 (72017) 4258600 (71620) 2311118 (74542) 5566648 (76538) 6934608 (78112) 2941694 (75342) 5758654 (75285) 9833335 (77885) 5110678 (76661) 3877232 (75132) 115823 (73565) 3523917 (69249) 2256506 (68295) 4491781 (76846) 6943685 (74006) 8959954 (71809) 6091433 (73224) 5147194 (72622) 3965061 (75682) 1787200 (69230) 8157747 (69658) 1096237 (78243) 1961581 (78022) 5498749 (76453) 6252048 (74147) 116302 (75981) 9604675 (71943) 4104803 (73729) 4338667 (76290) 4933042 (77577) 434846 (75860) 6662913 (70602) 7887517 (75786) 7018328 (77497) 2960857 (72083) 957097 (68545) 2050399 (70248) 8198543 (69740) 8532848 (73219) 9081529 (71677) 5330122 (76348) 3610014 (69045) 650123 (74647) 6306650 (70227) 4664026 (76358) 5429548 (77215) 3547401 (70131) 6089729 (74507) 8663753 (69694) 3004616 (77242) 6901252 (69639) 617732 (74005) 8267830 (72849) 7865409 (71914) 3284716 (71856) 6141330 (71761) 675474 (72788) 2139674 (71194) 2789396 (77393) 5520378 (71660) 848098 (76205) 424664 (69813) 1850642 (68351) 9512018 (69878) 5623544 (73074) 3925959 (76081) 8538918 (76447) 9083030 (74195) 6156871 (73592) 6342790 (75860) 5577884 (76925) 899264 (69740) 7276573 (72528) 4825798 (71816) 7966182 (78001) 3013029 (68711) 2411446 (71039) 2827173 (74629) 2567122 (76314) 9211610 (72496) 
     dis: 	5902.099 6979.414 7147.744 7293.963 7644.766 7678.588 7740.505 7834.597 8295.193 8295.535 8583.214 8834.267 8986.323 9468.079 9912.546 10057.097 10189.954 10275.820 10523.812 10571.801 10671.150 10725.127 10767.311 10858.838 10925.508 10976.805 11019.648 11035.778 11093.441 11166.746 11236.592 11250.336 11325.521 11390.666 11483.820 11572.733 11616.510 11779.773 11833.770 12153.367 12194.686 12220.906 12239.745 12375.732 12435.280 12449.914 12523.508 12545.867 12565.034 12644.866 12773.463 12912.408 12969.443 13068.729 13294.934 13297.147 13393.824 13451.581 13490.021 13521.894 13673.107 13755.936 13764.632 13797.488 13948.451 14027.814 14124.117 14126.686 14186.250 14304.643 14501.382 14511.928 14599.467 14606.385 14643.466 14689.307 14891.082 14910.460 14916.356 14933.408 15141.490 15163.597 15195.853 15226.975 15239.857 15380.092 15536.158 15654.681 15741.795 15744.565 15837.763 15885.715 15996.841 16035.794 16106.490 16108.341 16150.433 16168.363 16196.684 16202.090 
query 4 nn's (32860, 42859): 6578584 (38818) 6357047 (37869) 5257851 (42550) 417315 (38580) 2721988 (37884) 330880 (34126) 2528505 (42180) 2178583 (39724) 933705 (35471) 8843847 (34786) 6132133 (35938) 8325663 (40558) 6152391 (40418) 9825567 (40718) 5862862 (37162) 8065643 (36769) 4230287 (36808) 4337818 (33817) 5120358 (33605) 280740 (38932) 3410167 (32971) 7990209 (38607) 9531307 (34185) 9790527 (41350) 6525822 (37594) 6372520 (34410) 2056959 (38303) 7407009 (40502) 2830882 (36519) 9714306 (39091) 6144797 (39025) 3548353 (40181) 807422 (38021) 3794831 (33894) 6873460 (35359) 6782214 (33165) 4459462 (36716) 2103327 (40889) 8010433 (34732) 162221 (41158) 7903043 (41211) 1560188 (42476) 1264959 (36521) 5157552 (38554) 2210403 (40609) 9267963 (37810) 4774816 (37364) 6010697 (34323) 9328485 (40636) 8289158 (38174) 340641 (42390) 6452645 (36228) 8174936 (37704) 9210551 (36746) 4095590 (38853) 9643339 (33215) 8739214 (36797) 3309263 (42323) 5014278 (41569) 5838359 (40306) 4001463 (34256) 1758956 (39430) 7060253 (36014) 7896012 (36997) 1726676 (39158) 1788187 (39123) 2056024 (36905) 3674029 (41980) 2073213 (39449) 3319722 (39849) 1556962 (38706) 6250164 (41165) 6599238 (37961) 5312325 (39140) 3792281 (39741) 6405547 (40684) 3280473 (37833) 1135787 (42543) 304058 (40413) 5293856 (40010) 4378743 (42543) 8965116 (36945) 4085919 (37563) 2013105 (38690) 8740361 (35536) 4849656 (42597) 8217856 (36442) 2256766 (33773) 4108794 (39456) 9990402 (36931) 5402879 (42853) 4272484 (35448) 8005922 (36734) 6934890 (36598) 6649356 (35385) 5032081 (37499) 3700714 (41674) 4730541 (39168) 2225794 (35791) 9917942 (38300) 
     dis: 	81669.555 90920.555 92153.133 94757.172 95979.406 97856.062 98820.750 100842.891 101860.641 102156.984 102914.062 102919.219 103865.922 104094.398 105508.234 105522.000 105666.258 106120.047 106958.578 107752.234 108321.141 108776.570 109568.625 109694.250 109705.188 109840.164 110003.297 110122.672 110388.297 110582.328 110724.242 111441.594 111957.141 112432.453 112493.609 113601.125 114008.438 114054.844 114184.766 114665.781 114766.609 114906.172 114981.766 115226.734 115292.836 115513.766 115669.344 115873.336 116121.961 116526.914 116798.344 117082.430 117128.609 117253.703 117732.359 117788.883 117835.508 118124.766 118179.297 118309.797 118519.859 118862.641 119081.484 119281.359 119460.680 119568.914 120004.906 120050.305 120089.484 120156.016 120230.297 120484.797 120850.656 120960.344 121018.547 121789.109 121943.500 122033.289 122073.156 122189.203 122204.945 122246.906 122820.922 122832.289 123407.625 123622.164 123929.781 123945.969 124337.656 125195.250 125305.055 125428.281 125581.930 125733.250 125780.773 125870.359 125889.609 126061.188 126097.766 126177.078 
[ 91.763s ] *** Query time: 17.000
qps: 588.233
 *** ivfpq recall 
ivfpq get 500016 postive res from 1000000 results, recall@100:0.500
recall dist(10% per bucket): 0.002 0.047 0.152 0.193 0.169 0.128 0.098 0.074 0.054 0.077 0.007 
finished ivfpq index examples
[ 91.810s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 10 128"
	User time (seconds): 87.64
	System time (seconds): 4.42
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:32.07
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3041188
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1452864
	Voluntary context switches: 1
	Involuntary context switches: 129
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 04:25
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.704s ] Loaded metadata, 10000000 attr's found
[ 0.704s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.707s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.708s ] Loaded 10000 sift10M queries
[ 0.777s ] Loaded ground truth, gt_size: 100
[ 0.777s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.515s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 84.301s ] Query results (vector ids, then distances):
query 0 nn's (66811, 67810): 8403027 (67450) 2260181 (67765) 8710437 (67666) 3843925 (67076) 8845691 (66999) 4929785 (67064) 2762041 (67060) 8423848 (67281) 9927783 (66921) 9221841 (67314) 1311600 (67177) 7658530 (66926) 767289 (66900) 3711488 (67440) 4982206 (67602) 706303 (67672) 4501381 (67793) 4539548 (67183) 3625275 (67611) 1886682 (67114) 6520747 (67447) 250312 (66899) 9039408 (67195) 3457826 (66961) 9306062 (67438) 4389160 (66970) 18535 (66927) 9852432 (66979) 8975896 (66958) 7693531 (67395) 6357246 (67287) 6238151 (67428) 2562404 (67775) 2783148 (66950) 7456961 (67301) 104722 (66926) 5337148 (66822) 743346 (66934) 4650227 (67804) 9616339 (66845) 9538742 (67583) 5600748 (66919) 4210525 (67788) 5415702 (67676) 8250626 (67070) 4151973 (67328) 1157872 (67420) 7637177 (67347) 4700106 (67594) 9360005 (67644) 340562 (67651) 9361586 (67441) 5709001 (67027) 4829576 (67252) 3785986 (67233) 9630996 (67294) 467560 (67157) 3518066 (67181) 952229 (67513) 549169 (67625) 3209957 (67012) 885063 (67004) 5298202 (66906) 7207097 (67053) 4423710 (67024) 3588331 (67050) 9979657 (67182) 1257894 (67770) 7119510 (67222) 1596881 (67474) 9076546 (66918) 2090994 (67783) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	87306.641 90429.758 91551.016 98294.875 99611.234 102278.859 103438.945 106850.883 109940.672 110552.281 112029.375 113847.969 114035.156 115886.430 119802.578 120326.375 120335.266 120672.875 120923.922 121598.516 121611.109 122720.195 123462.438 123581.531 124254.656 125120.805 126078.141 127344.883 129235.688 130441.477 133074.875 133913.906 135317.141 136199.578 137168.438 137191.062 138224.734 140367.312 140966.688 142217.547 143106.016 143388.781 144008.953 144033.891 144087.719 144407.219 144750.766 144884.562 145051.469 145572.531 145623.031 146975.641 149163.969 149923.266 150595.219 150966.844 153572.547 155920.938 157721.219 158091.594 158547.406 160866.281 164155.000 164428.656 170221.844 170411.875 172570.094 176396.500 177403.797 180444.578 183883.188 185481.812 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (80229, 81228): 5838578 (80325) 9900713 (80753) 8549337 (81124) 509915 (81217) 5424055 (81172) 2765204 (81025) 5666656 (80815) 6225217 (80943) 7853731 (80509) 7581274 (81100) 3620796 (80258) 2674497 (80311) 6067204 (80454) 8180678 (81075) 6983565 (80270) 6408 (80621) 6451481 (81107) 8150421 (80634) 4278462 (80257) 9211101 (80695) 9654343 (80841) 8470707 (81161) 4947700 (80294) 2509938 (80645) 189701 (80601) 6602250 (80967) 3860320 (80802) 6328935 (80742) 3711993 (81021) 8160407 (80307) 3076896 (80572) 1937820 (80433) 6098453 (80771) 7237585 (81187) 7321457 (80397) 3013284 (80866) 6916361 (80547) 9158405 (80888) 5389454 (80602) 1430358 (80447) 7693476 (80604) 4846117 (80349) 4330020 (81157) 2890061 (80643) 3721911 (80649) 9692286 (80904) 3044559 (81001) 7171650 (80744) 1874483 (81191) 8960072 (80339) 8179286 (80270) 4790558 (80996) 4428883 (81080) 2067613 (80537) 8555513 (80411) 4949573 (80877) 2727392 (81111) 8972875 (80459) 6288238 (80436) 9255370 (80927) 9980241 (80746) 2457152 (80485) 9911532 (80471) 7455627 (80900) 7049014 (81097) 7732994 (80293) 4986081 (80892) 4479479 (80699) 6094824 (80362) 4336064 (80766) 3034676 (81227) 843053 (80658) 6740815 (80478) 351560 (80795) 6113033 (80717) 8972450 (80471) 5281210 (81109) 9380131 (81000) 7098428 (81121) 2890046 (80515) 3315939 (80528) 5326469 (80849) 9811902 (80942) 797169 (81024) 4898554 (80717) 2493855 (80441) 3514023 (80319) 9576594 (80877) 29618 (80483) 9844829 (80807) 3909317 (80768) 5362261 (80281) 3145646 (81173) 5195003 (80657) 2546369 (80756) 4247246 (81118) 7364531 (80985) 2096404 (81212) -1 (0) -1 (0) 
     dis: 	71329.109 72773.375 74871.078 76615.023 80474.008 83318.609 85637.508 86808.953 88839.875 91341.586 92054.188 92606.406 93748.648 96376.062 98314.859 98450.859 99954.516 100888.383 101969.055 103001.141 104059.258 105115.406 105348.844 105868.305 105995.703 106134.844 107689.172 108761.141 109272.086 110484.953 111346.406 111635.773 114529.578 114950.234 116190.125 116303.008 118880.188 119211.469 120155.781 121466.578 122189.031 123137.133 124173.250 124656.586 125640.609 126001.375 126271.406 126500.750 127363.547 128294.875 128611.984 128749.125 129048.414 129060.852 129315.250 129627.000 130097.797 130302.852 130830.719 132395.641 133978.453 134324.594 134447.312 134702.750 135675.875 135690.359 136407.375 136610.109 139066.328 139631.219 140874.344 141195.703 143154.188 143908.562 145436.219 145514.938 145813.078 145905.250 146055.062 146219.344 146300.594 147115.156 147253.281 147465.219 149501.531 151615.359 152339.641 153505.969 153936.000 154422.266 159085.594 160028.734 160224.938 164124.172 164830.891 164847.062 166722.000 201679.250 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (89717, 90716): 4112561 (89860) 5709226 (90258) 86206 (89955) 5043393 (90355) 3582852 (90144) 7004103 (89868) 5907913 (89721) 9827814 (90252) 6150520 (90003) 2323619 (90250) 4129975 (89746) 7446969 (89822) 5908251 (89799) 3636755 (89788) 8861125 (90024) 7058647 (89879) 7728486 (90223) 5567501 (90541) 3303937 (90116) 1965354 (89728) 6951173 (90307) 8637335 (90531) 2029499 (89844) 6327565 (90575) 2480763 (90160) 2292676 (90516) 5958397 (90515) 408310 (90594) 6365848 (90386) 6120025 (90333) 6943812 (90269) 7477725 (89973) 1827599 (90653) 3508578 (90663) 8706885 (89869) 5636380 (89943) 8481694 (90702) 2714137 (90468) 5109076 (90437) 7867803 (90253) 2444634 (89724) 848795 (90274) 9862593 (90584) 7469245 (89717) 8975218 (90058) 2671700 (89998) 1313565 (90078) 8540515 (90189) 3323036 (90508) 5851037 (90449) 500754 (90355) 5613321 (90392) 6667477 (90324) 6449232 (89888) 275759 (90063) 9679058 (89941) 7644897 (90022) 7069191 (89904) 7827965 (89770) 452819 (90275) 2806669 (90645) 7701751 (89808) 5436411 (90596) 2038657 (89863) 4874524 (90015) 2552056 (90670) 5114777 (90033) 5294383 (90681) 5701240 (90027) 300313 (90505) 3875501 (90713) 8482881 (89818) 1892604 (90333) 2364643 (90361) 2939555 (90394) 4069336 (90215) 9377433 (90560) 6826954 (90372) 6946459 (90361) 3146508 (90635) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	61422.031 61483.203 62039.676 68369.547 73942.625 74665.031 75412.406 77794.844 78144.219 79834.641 80146.258 80856.875 81017.289 81355.664 82590.156 82672.836 82894.812 83108.031 83858.453 84465.281 85141.375 85568.883 85808.469 85836.406 85882.031 86762.453 86932.969 87845.844 88458.219 89800.344 89989.562 90270.367 90449.016 90479.336 90636.211 91765.281 91972.719 93102.969 93220.836 93861.609 94900.578 94905.625 95193.055 95293.406 95652.438 96774.094 96948.688 97259.719 98711.031 99071.141 101299.344 102616.336 103356.250 103772.234 104390.117 104624.953 105542.141 105766.469 107528.281 107904.141 109267.922 109440.625 109773.719 115195.672 115735.156 115921.188 116616.938 116732.281 117529.250 120268.367 121662.625 122776.492 123640.281 124549.062 126204.633 127066.117 131596.531 132403.344 142419.562 154174.797 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (6838, 7837): 840086 (7034) 6281603 (7047) 1180726 (6952) 7890747 (7446) 9231939 (6869) 493857 (7268) 8089617 (7268) 8618960 (7556) 8701088 (6988) 907443 (6923) 4498186 (6839) 3917528 (7833) 9526471 (7592) 232753 (7204) 3094610 (7202) 5548322 (6881) 2009002 (6908) 5466233 (7407) 3647654 (7077) 7210863 (7612) 8404341 (7090) 9245688 (7071) 9140968 (7271) 639753 (7377) 1022275 (7634) 7287289 (7361) 606674 (7758) 6081816 (7748) 5354276 (7506) 6046972 (7747) 4299939 (7534) 9161719 (7320) 1554089 (7563) 4926732 (6976) 3692343 (7190) 2000232 (7446) 3779998 (7672) 5538121 (7042) 9778189 (7176) 538489 (7211) 8204406 (7043) 799918 (7655) 452242 (7405) 3615073 (7561) 816336 (7106) 8991739 (6849) 2753223 (7680) 9938976 (7500) 9464792 (7670) 1222837 (7829) 9597935 (7209) 2389755 (7562) 2253039 (7388) 4835206 (6992) 5002736 (7053) 3949103 (7673) 1181329 (7341) 4782467 (7355) 312316 (7641) 374214 (7199) 418466 (7776) 2231159 (6874) 2716133 (7694) 2478369 (7188) 4681538 (6949) 8253758 (7685) 5662712 (7477) 1740648 (7741) 5812024 (7260) 4555081 (7032) 5005936 (7563) 6293703 (7205) 1741308 (7298) 8617089 (7735) 1754916 (7239) 8281754 (7488) 2407955 (6930) 4181668 (7821) 23501 (7243) 7559101 (7433) 3651690 (7644) 6389619 (7158) 1909627 (7472) 9615381 (6884) 1595406 (7303) 9226270 (7773) 9250743 (7792) 2390977 (7266) 2913431 (6935) 2556725 (7758) 1120155 (7395) 3645698 (6840) 1462480 (6914) 3529843 (7248) 8728614 (7521) 1473337 (7487) 5293679 (6990) 7149900 (7361) 9667620 (7247) 9370871 (7618) 
     dis: 	9068.432 9226.581 11592.768 12349.147 13246.699 13534.274 13836.963 14789.070 15255.722 15923.056 15972.844 16081.310 16292.380 18428.893 18563.551 18840.000 19439.988 20272.957 20598.318 20898.105 21980.914 24158.219 24441.705 24471.453 24568.461 25016.432 25252.557 25628.879 26066.471 26154.783 26188.467 26309.291 26472.859 26633.217 26915.750 27503.555 27582.031 27760.695 27812.422 27853.783 28037.947 28139.279 28278.445 28376.678 28812.703 28939.164 29566.752 29596.668 29714.004 29852.074 29871.871 30020.934 30139.408 30211.461 30317.242 31158.961 31882.328 32013.695 32104.232 32183.188 32208.926 32612.352 32718.535 33013.938 33153.477 33244.504 33462.289 33650.367 33969.656 34230.301 34389.027 34421.180 34720.273 34913.031 35265.602 35271.043 35583.750 35631.734 35723.508 35878.398 36098.785 36287.949 36294.039 36338.941 36781.320 37620.262 37704.473 38594.000 38731.246 38903.512 39225.418 39692.586 40574.895 40886.238 40985.422 41227.406 41510.133 41551.453 42032.125 42355.219 
query 4 nn's (76228, 77227): 608851 (76588) 1271454 (76737) 9294532 (76726) 8562010 (77147) 6506698 (76701) 4003644 (77017) 1237322 (76824) 2182713 (76499) 7003764 (76601) 4225267 (76453) 5350180 (76996) 1202792 (76609) 4848526 (76772) 3044764 (76635) 6895571 (77227) 3341326 (76433) 628361 (77033) 3594766 (76618) 3297486 (77066) 2774988 (77073) 3682231 (77184) 4426498 (77225) 315476 (76477) 7327104 (76795) 2099653 (76861) 9892938 (77072) 1937473 (77059) 9353398 (77088) 654075 (76423) 3222108 (76970) 3277048 (76297) 7324598 (76896) 1489675 (76921) 4258566 (76267) 816657 (76422) 7264399 (76708) 4748108 (76669) 4858240 (76971) 3086583 (77078) 7076811 (76702) 4028543 (76869) 5945131 (76253) 9688162 (77013) 3276356 (77112) 7835352 (76444) 2278190 (77145) 6081592 (76403) 2543670 (76239) 1150908 (76732) 2127628 (77135) 9156526 (77028) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	111464.305 113503.672 114619.172 114949.727 117708.391 123828.000 124652.031 124903.000 126240.156 126822.812 127654.984 129902.930 130935.000 132292.578 133309.047 135195.422 137596.656 138571.062 138827.203 139024.391 139273.766 140196.344 140642.469 141103.031 141583.703 141944.531 144501.156 144943.844 144946.812 147916.344 147963.859 148268.766 153471.156 154026.250 154773.312 160546.656 161516.000 167606.438 168319.250 169313.922 177923.188 183082.312 184991.188 185889.266 186695.656 188714.672 191500.375 192802.281 202455.609 210031.031 223800.219 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 84.301s ] *** Query time: 13.973
qps: 715.672
 *** ivfpq recall 
ivfpq get 285170 postive res from 1000000 results, recall@100:0.285
recall dist(10% per bucket): 0.050 0.318 0.286 0.148 0.076 0.045 0.033 0.021 0.014 0.009 0.000 
finished ivfpq index examples
[ 84.347s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_100.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 10 128"
	User time (seconds): 80.83
	System time (seconds): 3.78
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:24.62
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3041188
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1226405
	Voluntary context switches: 2
	Involuntary context switches: 112
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 04:28
====================
START: running TEST_IVFPQ, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128
nprobe: 10
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.771s ] Loaded metadata, 10000000 attr's found
[ 0.771s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.774s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 0.775s ] Loaded 10000 sift10M queries
[ 0.849s ] Loaded ground truth, gt_size: 100
[ 0.849s ] Index Params -- d: 128, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.913s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 83.811s ] Query results (vector ids, then distances):
query 0 nn's (44843, 44942): 1609860 (44874) 6005033 (44913) 4441746 (44893) 8395367 (44860) 3941607 (44878) 3857088 (44896) 9276548 (44880) 1370582 (44857) 7452542 (44920) 8780214 (44898) 3382208 (44889) 8141426 (44864) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	98690.070 107976.781 108264.734 114474.594 123183.562 127904.781 132097.406 134294.875 141886.094 157369.359 159120.594 172737.078 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (42821, 42920): 7957648 (42897) 8453351 (42853) 4754171 (42830) 1565098 (42885) 4062412 (42832) 5498897 (42903) 2836390 (42856) 8245003 (42875) 4833893 (42841) 1654402 (42880) 1597520 (42916) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	81398.016 85152.828 85710.414 94464.375 95848.938 101654.062 106878.703 125860.922 127058.211 135567.656 150100.953 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (13165, 13264): 2858053 (13240) 4306175 (13182) 5121329 (13223) 3494307 (13167) 342160 (13197) 3380755 (13173) 5928403 (13190) 170142 (13196) 2399385 (13226) 4985003 (13238) 9317379 (13251) 1646316 (13177) 3582405 (13181) 5810762 (13260) 6000004 (13233) 7926346 (13207) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	63257.051 69785.609 70671.016 71208.359 73531.188 75943.695 85335.734 87669.445 93615.312 97143.312 97301.328 98008.141 98258.422 106658.438 129225.148 135161.812 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (25839, 25938): 6617844 (25931) 8283506 (25901) 5530477 (25921) 7342247 (25846) 7055827 (25927) 8659845 (25920) 5296853 (25897) 8028650 (25915) 4159403 (25842) 1409445 (25871) 4967338 (25910) 4749836 (25845) 1932613 (25863) 30150 (25870) 796634 (25850) 7629515 (25839) 1961500 (25870) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	20140.846 23899.230 23905.592 27705.129 32127.055 38122.438 39694.273 41444.648 41836.758 46541.406 51463.664 58573.211 60094.945 63332.484 63546.984 65154.969 72437.742 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (45629, 45728): 2160380 (45685) 1253413 (45668) 3124161 (45639) 625529 (45723) 619740 (45674) 2098355 (45685) 8354165 (45727) 2788136 (45671) 9209147 (45667) 7658211 (45635) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	100780.898 102885.422 112926.922 124023.289 125715.203 133111.125 140306.953 149201.734 167142.438 168935.938 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 83.811s ] *** Query time: 12.874
qps: 776.761
 *** ivfpq recall 
ivfpq get 74344 postive res from 1000000 results, recall@100:0.074
recall dist(10% per bucket): 0.758 0.213 0.027 0.002 0.000 0.000 0.000 0.000 0.000 0.000 0.000 
finished ivfpq index examples
[ 83.853s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_100.json /mnt/data/mocheng/dataset/sift10m/ivfpq/index/index_ivfpq_sel_1_100000_random_128 10 128"
	User time (seconds): 81.91
	System time (seconds): 2.20
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:24.12
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 3039496
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 774223
	Voluntary context switches: 0
	Involuntary context switches: 769
	Swaps: 0
	File system inputs: 0
	File system outputs: 64
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
