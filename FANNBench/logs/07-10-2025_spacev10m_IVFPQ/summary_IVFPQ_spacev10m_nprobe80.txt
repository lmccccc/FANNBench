Start time: 18:44
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50
nprobe: 80
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.753s ] Loaded metadata, 10000000 attr's found
[ 0.753s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.791s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.804s ] Loaded 10000 spacev10m queries
[ 0.881s ] Loaded ground truth, gt_size: 100
[ 0.881s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.188s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 109.572s ] Query results (vector ids, then distances):
query 0 nn's (40616, 90615): 1352077 (75218) 1300400 (68247) 525784 (86118) 606211 (46345) 1781760 (80354) 7509422 (86182) 290760 (73276) 1714233 (65633) 6583311 (47922) 8021837 (54227) 1536208 (61981) 3082748 (43400) 6313468 (56256) 9148464 (61499) 1200517 (72426) 5072935 (77579) 4779084 (83453) 8997960 (41694) 2382485 (52524) 38473 (46733) 8538301 (43948) 3881211 (73037) 7007393 (50612) 8807530 (78073) 4617714 (57477) 4279856 (62524) 3873794 (79667) 2037978 (67204) 613770 (82162) 8242233 (84764) 6547416 (46965) 7305168 (83078) 2433318 (41182) 1751249 (61683) 9107614 (86696) 9600306 (74480) 8135809 (69250) 1858226 (61086) 8846971 (82553) 4066846 (76054) 511283 (44517) 7249395 (83840) 1947555 (46272) 2772718 (56124) 3828638 (68559) 5004916 (68288) 7922669 (47051) 9818783 (60214) 4254134 (79349) 4932580 (43903) 2807977 (72542) 244510 (41564) 4287666 (67511) 6616924 (53611) 4470364 (85079) 6240106 (75699) 4519081 (86868) 5950387 (51620) 7983463 (70761) 1168348 (90414) 8097566 (64961) 5236967 (71585) 9957153 (61862) 3249603 (76576) 1060668 (58280) 8563527 (86841) 8849839 (86592) 3636367 (55940) 8348201 (69358) 8341867 (72465) 5594224 (79134) 8066928 (80642) 7115332 (67947) 3611695 (77838) 9169598 (42707) 8725926 (63035) 6588206 (68541) 5320284 (64167) 5997165 (83594) 8279789 (85969) 1666 (84797) 488103 (55813) 5270820 (90509) 9576118 (47855) 6303532 (42119) 4715886 (84573) 841711 (89798) 1545295 (43724) 2578991 (84620) 4104937 (70750) 74334 (45086) 347710 (45599) 3371587 (42783) 399999 (85354) 6554307 (84494) 5454 (50127) 6487757 (87359) 7887947 (85619) 3815686 (47763) 3993234 (84762) 
     dis: 	3341.555 3558.984 5245.911 5260.997 5329.049 5638.839 6092.811 6122.817 6254.688 6361.337 6455.989 6519.620 6520.098 6571.315 6605.375 6881.313 6923.574 7085.572 7166.396 7284.152 7292.290 7292.523 7475.898 7484.152 7570.556 7668.837 7671.998 7770.476 7804.320 7835.928 7878.941 7930.551 7942.328 7959.359 8050.290 8104.739 8212.972 8219.131 8219.742 8229.662 8238.021 8262.152 8305.371 8399.892 8422.494 8430.933 8457.901 8475.640 8528.645 8562.139 8626.439 8641.404 8660.164 8676.185 8746.664 8759.140 8775.344 8870.273 8887.686 8977.087 9008.827 9013.942 9033.175 9036.808 9121.707 9164.880 9184.734 9228.418 9236.949 9237.871 9252.262 9352.732 9360.211 9364.410 9381.196 9383.501 9384.062 9386.525 9405.275 9416.560 9431.528 9450.677 9477.137 9504.428 9505.646 9541.047 9567.089 9567.345 9643.229 9677.152 9680.544 9690.054 9710.193 9714.494 9718.043 9740.641 9744.189 9756.121 9765.999 9781.269 
query 1 nn's (23827, 73826): 1027770 (59556) 3024255 (36040) 6716785 (66378) 3545414 (44593) 9408428 (33214) 6693881 (28141) 1087257 (62343) 3843020 (54844) 8596579 (66499) 6945939 (60753) 547651 (43364) 9149269 (64835) 913237 (31716) 2769394 (73340) 6631934 (28922) 128447 (33616) 1286599 (26580) 4208062 (72354) 2201796 (69121) 6202555 (55017) 4023729 (64682) 9559160 (42483) 5312590 (40431) 9311189 (41791) 6731249 (66690) 2915146 (70367) 2342379 (62400) 3823789 (35801) 1262717 (61544) 9844113 (25407) 5374088 (35711) 8084904 (26103) 7995495 (54964) 4764135 (25237) 3467889 (58051) 2483370 (43037) 7191660 (26554) 1641593 (25519) 413466 (45386) 4561316 (70089) 2054287 (52686) 5325898 (41793) 497310 (50087) 2400979 (32818) 6371568 (69524) 8598995 (49827) 7714223 (69827) 4375499 (45519) 9387768 (41292) 6528340 (69516) 8966861 (67736) 2677560 (29840) 2077395 (51965) 5833204 (39001) 8370535 (67881) 5888778 (50046) 8382701 (59388) 5427517 (49038) 7898285 (24857) 5559374 (57425) 6154560 (61480) 683232 (55159) 5116926 (36041) 1580619 (31013) 9198072 (44678) 6783786 (43516) 5553093 (62435) 3302437 (52859) 1259440 (29909) 919217 (70266) 6716625 (33472) 6218290 (52949) 7983026 (33895) 1237024 (67297) 4952577 (25638) 7896078 (66668) 8219055 (62699) 1996069 (44318) 9319596 (27166) 7869623 (52314) 9979859 (68285) 9619526 (31001) 7208440 (52535) 8300390 (42797) 540705 (69355) 7684675 (55889) 6481742 (59098) 6314594 (57421) 5054847 (35044) 4936167 (43277) 4090413 (48833) 4414583 (48880) 3510541 (68307) 3695413 (45102) 2233630 (36122) 5755448 (37848) 6305818 (73235) 1141657 (71758) 9780570 (56021) 9895581 (27864) 
     dis: 	4951.676 6388.603 7614.397 7656.533 8374.848 8396.801 8405.281 8588.030 8631.122 9122.433 9148.979 9182.754 9190.606 9206.575 9293.700 9352.754 9447.030 9504.778 9537.359 9605.584 9681.187 9757.467 9757.604 9801.692 9822.021 9825.850 9916.422 9917.418 9923.583 9930.988 9964.950 10011.231 10060.589 10105.922 10145.601 10164.323 10212.086 10240.245 10304.307 10321.362 10339.520 10373.654 10399.735 10437.386 10466.273 10489.525 10572.902 10576.850 10583.889 10616.024 10617.479 10662.205 10665.625 10688.308 10732.516 10743.326 10765.207 10779.470 10800.264 10805.812 10854.013 10861.438 10910.203 10964.443 10974.649 10983.195 10990.891 11002.873 11047.003 11071.188 11077.724 11087.094 11087.619 11131.253 11142.678 11143.221 11149.586 11183.882 11190.239 11198.503 11202.398 11241.274 11256.481 11274.488 11287.111 11319.307 11319.311 11323.146 11324.731 11328.901 11347.899 11373.731 11396.531 11401.885 11405.533 11426.594 11441.205 11445.806 11456.836 11466.925 
query 2 nn's (32197, 82196): 4574760 (37531) 5189301 (43405) 8005273 (37538) 4290437 (79182) 3524579 (49429) 8672246 (67919) 5932138 (71360) 8699363 (38066) 5193386 (58419) 5236859 (46044) 4710102 (57576) 9602743 (57407) 9746650 (51834) 6606573 (43048) 255402 (44796) 9561351 (80565) 9964310 (34221) 5423341 (53232) 1881509 (33275) 725252 (39756) 6525090 (79383) 6555137 (44687) 190238 (43187) 6688464 (74420) 1415377 (64630) 6212714 (75619) 7670329 (41226) 559883 (76998) 9485250 (57717) 3361974 (50158) 8077765 (45491) 323907 (52531) 5745884 (80255) 6672275 (66753) 1563468 (78550) 4808419 (69389) 6915696 (72395) 2153650 (81348) 9339955 (81335) 4195631 (70514) 7126935 (58871) 8558486 (51639) 6648184 (54160) 1063314 (41819) 2557172 (56410) 1585247 (63340) 8778642 (49223) 2940185 (68340) 3399987 (80703) 3995931 (55015) 3890438 (64578) 6451690 (52651) 7287401 (71226) 2655117 (60703) 9743895 (77420) 5771135 (63649) 7660022 (51133) 6665934 (70307) 3200028 (79067) 894483 (42165) 8719744 (57812) 7215858 (64367) 7037734 (33584) 1349042 (35055) 5597353 (43285) 6334408 (55203) 9436299 (64728) 2953283 (44130) 1358363 (38724) 3508271 (81187) 8672644 (53328) 9957421 (42896) 8900616 (75056) 1386408 (47799) 7111817 (32792) 512960 (66122) 6010182 (39169) 7634670 (39080) 5430287 (63495) 2353418 (78404) 555581 (63340) 1429376 (76814) 6295489 (45287) 3977031 (32341) 5257112 (37353) 3322631 (44067) 7443302 (76451) 1845312 (46681) 6561981 (81132) 3776514 (76962) 2168228 (46950) 5800932 (33089) 8060848 (58300) 3686996 (42102) 2732881 (61677) 5117458 (36304) 3641059 (44284) 9819304 (57396) 2822411 (58823) 5329091 (72615) 
     dis: 	3040.931 3396.189 4005.862 4578.350 4985.623 6359.330 6557.125 7260.264 7288.263 7407.258 8040.340 8071.849 8136.970 8262.561 8296.088 8343.189 8423.398 8789.828 8801.643 8807.467 8884.635 8921.063 8922.498 8953.350 8989.082 9043.457 9050.707 9108.366 9124.141 9172.170 9257.522 9447.551 9516.260 9573.036 9584.193 9720.494 9743.938 9786.212 9805.555 9839.009 9917.584 9980.059 10012.182 10031.868 10037.378 10063.442 10075.524 10102.149 10121.757 10195.256 10210.879 10277.791 10288.459 10298.174 10370.032 10392.124 10403.432 10416.560 10442.294 10565.965 10602.193 10638.784 10702.812 10705.393 10720.469 10784.173 10786.384 10818.419 10859.858 10871.000 10901.356 10908.032 10925.223 10925.584 10946.392 10971.548 10999.236 10999.327 11001.598 11004.789 11021.891 11061.310 11081.823 11118.609 11121.449 11141.714 11152.927 11153.200 11165.704 11167.684 11174.885 11182.323 11182.670 11201.961 11220.675 11231.130 11296.001 11331.410 11340.979 11346.439 
query 3 nn's (10631, 60630): 4286832 (17230) 1208824 (37041) 1165548 (45426) 1681561 (52434) 9732223 (41833) 7375372 (33987) 7371232 (47114) 7664306 (35020) 2187959 (22411) 1717763 (23291) 8694166 (43201) 2360519 (38478) 3188407 (24304) 8364431 (51130) 6027466 (55631) 4153275 (14312) 2272653 (58471) 4889443 (35759) 9157428 (59550) 391722 (24862) 1212415 (15580) 4251611 (29775) 9100185 (14479) 8232477 (31632) 9232458 (44812) 6542977 (17108) 1252765 (47853) 9892318 (23797) 4559449 (12184) 580826 (39121) 4298667 (37216) 8741259 (38437) 1074776 (60559) 920948 (51396) 5621855 (30749) 9775342 (51527) 6447414 (38986) 7010095 (49936) 8559924 (36620) 3626273 (24674) 7623822 (13051) 8821621 (32963) 9591320 (41043) 9444180 (43915) 5124721 (15599) 5962673 (33507) 9987911 (54998) 786015 (34456) 6654687 (18185) 514827 (17573) 4183705 (37136) 2019638 (38147) 5563393 (26978) 5687185 (12097) 5683960 (39084) 398589 (20960) 6546803 (58575) 2029271 (55651) 2851767 (31496) 5566014 (48193) 6424074 (11699) 9740574 (40063) 7110321 (51796) 3517824 (30137) 8669768 (45048) 1605226 (42484) 205735 (33156) 8427899 (40275) 7010252 (18474) 4316644 (36244) 7256503 (33019) 2182004 (53782) 5676630 (15975) 3378586 (41526) 6703969 (32159) 2343424 (17819) 3350710 (56592) 2348869 (59503) 2824029 (57859) 3071605 (13149) 6835770 (35415) 5677498 (44480) 8860902 (45806) 6492666 (13880) 264481 (34023) 3431426 (19293) 2838160 (25464) 5176976 (57430) 108033 (50132) 9760951 (35714) 662720 (44761) 3787993 (28927) 4342892 (15650) 188678 (31172) 9335946 (29064) 3266491 (40597) 9754021 (56599) 5497231 (59894) 382902 (29996) 5056650 (51741) 
     dis: 	4932.493 7559.416 7716.412 8533.997 8686.969 8843.779 9242.648 9402.558 9525.734 9582.531 9602.439 9903.758 9904.006 9940.529 9958.782 10013.597 10037.766 10077.080 10228.670 10241.127 10266.923 10275.444 10302.910 10312.023 10324.750 10344.720 10401.495 10434.219 10441.537 10493.101 10549.722 10581.117 10595.141 10603.974 10605.822 10613.974 10658.848 10669.358 10676.953 10705.795 10823.746 10869.390 10883.352 10908.412 10923.926 10965.323 10970.995 10984.865 11004.527 11043.848 11050.146 11060.566 11096.463 11116.825 11128.555 11146.557 11153.344 11197.729 11219.842 11234.869 11250.155 11276.945 11332.737 11363.012 11373.238 11406.383 11414.640 11419.137 11423.238 11446.023 11452.812 11469.518 11478.780 11508.087 11514.631 11516.638 11530.731 11533.907 11541.860 11548.719 11554.838 11555.451 11566.475 11596.868 11605.434 11618.774 11631.541 11648.897 11684.323 11721.332 11730.315 11782.334 11783.297 11790.985 11803.078 11809.736 11820.295 11838.703 11841.904 11877.770 
query 4 nn's (49705, 99704): 3987492 (98027) 3107282 (67009) 5744224 (51156) 9211260 (81222) 7373067 (53855) 6872756 (95706) 6279473 (68764) 9788862 (69419) 4015525 (99118) 6095172 (66470) 2038833 (53914) 9652129 (94239) 3526517 (65512) 9578545 (82305) 73290 (81611) 1587943 (87738) 9801790 (96454) 2279438 (92240) 9193832 (94777) 2320125 (78596) 1384227 (67752) 57144 (85498) 6782257 (61394) 5562283 (85264) 6001275 (76022) 6581013 (70513) 4738992 (53601) 9044829 (55243) 3073679 (52005) 2986049 (87137) 1994085 (74290) 1906000 (75700) 7511825 (79032) 6906799 (74949) 523134 (52660) 6557844 (93558) 3192757 (54312) 259750 (70161) 9240243 (51536) 8572491 (87817) 7814617 (76949) 6789739 (61948) 6836665 (78385) 349859 (89590) 1546917 (87929) 5685630 (55650) 8442744 (81630) 8359241 (79071) 1846444 (69689) 3598596 (93600) 8627902 (60097) 6685392 (77959) 9438625 (65756) 2795570 (51868) 8774147 (59338) 9832113 (87811) 6614912 (53050) 703166 (92189) 4734386 (57789) 1444782 (58902) 1995354 (73102) 980351 (73539) 1066421 (76598) 4942478 (95232) 9977617 (53087) 5506147 (91849) 4491189 (76562) 4637157 (81613) 1306176 (75097) 3032989 (71909) 9407510 (57340) 9614577 (73130) 8360636 (71934) 7146236 (94013) 8641215 (59349) 2473330 (71722) 9600067 (97955) 3506156 (72099) 5323762 (65230) 9639256 (70554) 3934821 (77812) 9765986 (76606) 569140 (91553) 1875114 (95741) 7637276 (80931) 7003644 (54071) 1930013 (94515) 2266290 (57733) 2337939 (52530) 4114673 (63946) 6549886 (63665) 3792530 (68743) 1071436 (56465) 1973506 (83520) 1111927 (56218) 7921516 (63604) 3299088 (88192) 5350870 (81572) 500157 (52742) 1060205 (76642) 
     dis: 	3856.535 5274.876 5305.862 5539.291 5785.402 6043.119 6100.910 6173.589 6211.677 6247.159 6320.849 6339.760 6349.282 6368.127 6373.673 6377.479 6436.075 6451.869 6453.242 6472.816 6480.089 6537.355 6537.949 6544.390 6547.302 6554.955 6555.948 6556.619 6563.512 6567.238 6580.791 6590.475 6627.546 6630.396 6672.447 6674.421 6692.482 6711.521 6726.776 6754.373 6760.582 6767.407 6774.033 6775.717 6776.958 6781.140 6792.439 6803.143 6811.975 6821.971 6833.338 6844.074 6851.883 6865.872 6874.407 6877.679 6878.524 6913.929 6914.599 6924.547 6938.980 6940.111 6940.821 6947.667 6954.715 6958.853 6974.124 6989.806 6995.933 6998.104 6999.322 7004.234 7006.054 7009.995 7026.451 7030.507 7040.643 7041.045 7042.726 7045.525 7047.373 7075.711 7081.312 7084.471 7098.359 7107.781 7110.679 7120.638 7122.761 7130.514 7137.918 7138.132 7139.023 7149.876 7149.925 7169.192 7177.181 7184.787 7186.653 7189.365 
[ 109.572s ] *** Query time: 44.370
qps: 225.380
 *** ivfpq recall 
ivfpq get 819887 postive res from 1000000 results, recall@100:0.820
recall dist(10% per bucket): 0.000 0.001 0.003 0.010 0.021 0.045 0.080 0.153 0.328 0.359 0.001 
finished ivfpq index examples
[ 109.605s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50 80 100"
	User time (seconds): 107.22
	System time (seconds): 1.32
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:49.71
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1290148
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 3
	Minor (reclaiming a frame) page faults: 715555
	Voluntary context switches: 761
	Involuntary context switches: 264
	Swaps: 0
	File system inputs: 57584
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 18:53
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50
nprobe: 80
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.709s ] Loaded metadata, 10000000 attr's found
[ 0.709s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.711s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.713s ] Loaded 10000 spacev10m queries
[ 0.781s ] Loaded ground truth, gt_size: 100
[ 0.781s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 1.891s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 85.929s ] Query results (vector ids, then distances):
query 0 nn's (40856, 50855): 606211 (46345) 6583311 (47922) 3082748 (43400) 8997960 (41694) 38473 (46733) 8538301 (43948) 7007393 (50612) 6547416 (46965) 2433318 (41182) 511283 (44517) 1947555 (46272) 7922669 (47051) 4932580 (43903) 244510 (41564) 9169598 (42707) 9576118 (47855) 6303532 (42119) 1545295 (43724) 74334 (45086) 347710 (45599) 3371587 (42783) 5454 (50127) 3815686 (47763) 7811790 (50102) 3178566 (41164) 2029623 (45395) 1288571 (45088) 2632800 (41462) 100232 (45360) 5661320 (49047) 4029747 (43158) 7703225 (42332) 6929262 (42738) 6549569 (43365) 516556 (48404) 1952371 (46531) 3586515 (42127) 6662255 (45091) 6015008 (47603) 1263541 (49264) 8814646 (49405) 4359261 (48997) 9284314 (44763) 8843034 (46356) 7043677 (41831) 9974866 (46574) 7930327 (47337) 9162838 (48173) 1334146 (42645) 5077862 (42243) 5215588 (45563) 8169597 (48830) 5949911 (48460) 7866226 (50660) 4227532 (49453) 1335591 (46968) 9374041 (42778) 4005082 (41331) 1072226 (46371) 7835815 (45025) 153018 (47876) 8692256 (46024) 3351466 (46513) 8887022 (45611) 4470760 (44169) 7223435 (46300) 5856450 (50598) 6592373 (48838) 3847526 (48670) 3956609 (44309) 9697052 (48012) 9563123 (47541) 6928163 (48147) 4644935 (46100) 5232970 (50382) 6254494 (50396) 1770486 (49880) 8300539 (47189) 5723965 (48318) 1494916 (41928) 7315046 (44033) 2294395 (45582) 865830 (47294) 6703971 (50490) 1304598 (46886) 7721266 (42914) 5106355 (43421) 3606930 (50817) 6219674 (46551) 2974295 (49283) 6847596 (50541) 7237202 (47079) 5011735 (49737) 7134019 (43250) 2061362 (48765) 8604707 (44282) 3000574 (48256) 5414760 (44534) 293504 (47359) 8202725 (50182) 
     dis: 	5260.997 6254.688 6519.620 7085.572 7284.152 7292.290 7475.898 7878.941 7942.328 8238.021 8305.371 8457.901 8562.139 8641.404 9381.196 9504.428 9505.646 9567.345 9680.544 9690.054 9710.193 9740.641 9765.999 9799.491 9875.965 9979.620 10125.771 10142.881 10162.145 10468.332 10605.559 10639.471 10644.826 10779.123 10829.137 10912.846 10918.918 10930.750 10974.671 10989.469 11002.890 11005.965 11008.246 11030.062 11058.409 11174.137 11192.293 11210.591 11249.475 11366.191 11476.748 11557.156 11558.159 11593.985 11616.247 11629.052 11649.732 11744.811 11758.348 11833.786 11981.565 12018.967 12051.834 12069.969 12125.754 12181.674 12188.192 12281.809 12332.262 12377.398 12379.368 12475.875 12641.979 12651.193 12675.994 12810.193 12977.080 13051.572 13055.076 13065.236 13135.829 13137.043 13163.697 13196.846 13210.570 13308.854 13318.364 13344.326 13403.679 13408.475 13426.404 13427.715 13447.517 13540.807 13547.568 13561.789 13591.234 13591.586 13611.586 13700.161 
query 1 nn's (25003, 35002): 9408428 (33214) 6693881 (28141) 913237 (31716) 6631934 (28922) 128447 (33616) 1286599 (26580) 9844113 (25407) 8084904 (26103) 4764135 (25237) 7191660 (26554) 1641593 (25519) 2400979 (32818) 2677560 (29840) 1580619 (31013) 1259440 (29909) 6716625 (33472) 7983026 (33895) 4952577 (25638) 9319596 (27166) 9619526 (31001) 9895581 (27864) 1010768 (32832) 9816629 (29872) 5616705 (26749) 6825634 (34589) 6984105 (30431) 3745827 (26193) 5667980 (26456) 6894603 (30698) 7268407 (33164) 6123033 (30064) 5025002 (28266) 4403537 (30334) 8605143 (32224) 2418190 (30774) 8313860 (27237) 4052065 (26798) 4444284 (29638) 2114720 (27014) 5229733 (33672) 1677470 (28044) 8431034 (29326) 3350122 (34862) 7853534 (28186) 3892957 (32671) 3761710 (25464) 1762221 (34381) 7584986 (29468) 2791612 (32495) 1824031 (26919) 9030241 (31642) 3502118 (28547) 4233253 (34954) 276903 (27774) 5993510 (28523) 5546102 (25312) 8112258 (29681) 7381370 (34199) 5161531 (30241) 539824 (34206) 8858217 (27282) 1863099 (25769) 8367418 (34221) 106949 (34898) 4085778 (28840) 6536469 (32386) 9537016 (26301) 2413303 (31844) 585173 (26431) 509025 (33013) 5064267 (33426) 7497777 (25404) 5444529 (27397) 4570408 (30976) 6888185 (29407) 8126210 (32883) 5400486 (29966) 5219432 (30034) 9880058 (32934) 6180007 (31307) 5123925 (30030) 3397657 (31176) 1473367 (25415) 8129769 (28908) 4896743 (30444) 1660893 (30277) 4002686 (31505) 8059150 (27089) 6704562 (34346) 509356 (30393) 3536767 (27816) 7841909 (33192) 8034043 (26323) 1799395 (25305) 7499767 (32322) 7967703 (29427) 897593 (34735) 452563 (26942) 4887323 (34830) 6264256 (26218) 
     dis: 	8374.848 8396.801 9190.606 9293.700 9352.754 9447.030 9930.988 10011.231 10105.922 10212.086 10240.245 10437.386 10662.205 10964.443 11047.003 11077.724 11087.619 11142.678 11190.239 11241.274 11466.925 11503.037 11517.520 11526.528 11560.654 11731.916 11752.013 11795.777 11801.319 11907.458 11917.565 11924.907 11939.963 11942.696 11944.668 11993.186 12076.197 12079.590 12132.781 12178.365 12184.633 12187.478 12237.509 12299.143 12299.871 12369.609 12374.411 12409.921 12456.062 12487.003 12534.035 12565.518 12597.652 12619.211 12625.094 12660.156 12662.411 12716.298 12770.161 12787.148 12809.998 12816.418 12848.644 12851.830 12859.669 12913.975 12918.007 12947.116 12974.951 13033.977 13046.267 13063.252 13100.658 13116.604 13128.266 13191.472 13200.570 13215.770 13243.243 13247.341 13247.748 13258.108 13268.404 13269.544 13273.104 13276.178 13276.765 13288.945 13298.832 13316.180 13320.791 13336.201 13344.268 13362.263 13383.908 13385.166 13421.775 13422.716 13428.317 13440.289 
query 2 nn's (52136, 62135): 5193386 (58419) 4710102 (57576) 9602743 (57407) 5423341 (53232) 9485250 (57717) 323907 (52531) 7126935 (58871) 6648184 (54160) 2557172 (56410) 3995931 (55015) 6451690 (52651) 2655117 (60703) 8719744 (57812) 6334408 (55203) 8672644 (53328) 8060848 (58300) 2732881 (61677) 9819304 (57396) 2822411 (58823) 2284689 (60389) 9117124 (55844) 2826478 (53769) 8118777 (53878) 9436821 (52252) 8553474 (54164) 1445118 (59573) 6256134 (53229) 7430287 (54464) 8584412 (52154) 7841564 (59049) 974463 (55906) 8053598 (54560) 3199638 (54669) 9613009 (59128) 6483343 (60017) 8492702 (55424) 2895724 (58490) 8628294 (54056) 6561491 (60260) 1599377 (56281) 5908619 (54797) 7101891 (55946) 6799372 (55481) 8805708 (53769) 9568973 (52222) 5394801 (53600) 7067471 (54769) 3767167 (54407) 2661006 (61124) 8270538 (52862) 6272121 (61696) 2938213 (60317) 6486439 (55115) 497985 (60637) 1897140 (54275) 3438561 (62031) 4035325 (52328) 3762208 (58839) 7377075 (58903) 3027160 (52497) 1418740 (59524) 3316694 (61981) 1979538 (61610) 8311897 (54795) 1745173 (52657) 4025610 (52373) 5747150 (57010) 7579941 (58916) 2062861 (54719) 4581941 (57344) 9085967 (53557) 3845752 (58732) 1981339 (58011) 7431148 (54916) 8780307 (56959) 8208625 (57447) 6680530 (52729) 4421821 (55836) 9408207 (60206) 2705469 (57463) 6612758 (61424) 8328180 (60670) 6987984 (52253) 2927516 (53751) 5754999 (57415) 8711849 (59964) 4806508 (53261) 3809587 (59587) 8202597 (57013) 6283101 (59691) 3909616 (58089) 7222957 (62063) 5900282 (58551) 1066595 (57964) 4060044 (59282) 6084444 (52823) 7142785 (53016) 4240113 (52874) 3742396 (52932) 5535212 (60366) 
     dis: 	7288.263 8040.340 8071.849 8789.828 9124.141 9447.551 9917.584 10012.182 10037.378 10195.256 10277.791 10298.174 10602.193 10784.173 10901.356 11182.670 11220.675 11331.410 11340.979 11397.279 11439.910 11466.683 11582.521 11608.063 11641.461 11661.485 11736.208 11739.817 11745.401 11876.736 11881.987 11885.845 11925.976 12010.532 12047.183 12053.118 12087.525 12140.730 12253.938 12285.831 12288.053 12295.460 12332.492 12334.305 12339.119 12371.369 12418.000 12437.941 12484.926 12493.312 12515.913 12593.814 12602.494 12660.612 12673.933 12674.829 12681.619 12725.672 12750.545 12774.601 12839.791 12841.830 12851.653 12856.777 12888.395 12900.182 12927.932 12954.048 12956.126 12967.326 12995.179 13006.562 13027.057 13043.167 13063.084 13068.576 13084.670 13088.266 13096.565 13099.588 13116.720 13139.332 13147.767 13168.972 13171.575 13209.119 13209.596 13230.578 13234.207 13234.525 13248.133 13272.731 13276.085 13283.759 13299.239 13304.320 13308.207 13325.614 13344.362 13372.361 
query 3 nn's (22672, 32671): 1717763 (23291) 3188407 (24304) 391722 (24862) 4251611 (29775) 8232477 (31632) 9892318 (23797) 5621855 (30749) 3626273 (24674) 5563393 (26978) 2851767 (31496) 3517824 (30137) 6703969 (32159) 2838160 (25464) 3787993 (28927) 188678 (31172) 9335946 (29064) 382902 (29996) 3554434 (25036) 9030244 (27086) 1174438 (25123) 899773 (23901) 5429466 (28066) 2047471 (29467) 928307 (26649) 348294 (30612) 7999457 (23329) 9768015 (27196) 5041302 (28077) 8281351 (26861) 6021023 (28888) 2262413 (27923) 4008866 (31551) 3640666 (29719) 2605021 (27817) 2540060 (25368) 9750958 (29512) 6370666 (26200) 6060979 (26718) 1064017 (27551) 6139929 (31601) 973000 (25306) 2024671 (25266) 6049067 (27212) 6723787 (22764) 6623327 (23063) 1763202 (24922) 4077495 (30934) 173114 (26788) 5492868 (22990) 8765050 (29452) 4891478 (24137) 1682348 (28974) 2406313 (31512) 2123002 (28494) 8768561 (27492) 8448447 (22710) 4777419 (25182) 1156062 (28000) 7713351 (26471) 5788714 (28807) 613079 (31456) 9076327 (26379) 1088105 (26342) 7005089 (26286) 7708121 (28744) 5089352 (23180) 2972885 (25046) 9061349 (29953) 2211024 (27903) 3228780 (23488) 6400458 (23700) 2212301 (28845) 7004651 (23583) 6799401 (27239) 5479426 (24290) 1348580 (28569) 3964129 (27723) 5542604 (30912) 7251101 (30664) 7775601 (25672) 8144622 (27706) 6370197 (23516) 3005444 (32252) 6806656 (24656) 997943 (26818) 7405196 (26565) 4392973 (26149) 3591152 (29962) 5621702 (29834) 1088112 (29730) 3315014 (31678) 9942674 (25583) 7747720 (27827) 4686380 (23122) 1548053 (27225) 4468346 (24802) 3177251 (26136) 5767332 (31357) 4094764 (23801) 6019139 (25044) 
     dis: 	9582.531 9904.006 10241.127 10275.444 10312.023 10434.219 10605.822 10705.795 11096.463 11219.842 11363.012 11514.631 11631.541 11782.334 11790.985 11803.078 11841.904 11948.590 12072.166 12079.988 12111.398 12194.070 12363.865 12459.809 12479.682 12483.482 12518.607 12520.254 12544.316 12548.488 12614.100 12650.149 12682.307 12691.202 12693.096 12704.875 12767.747 12799.215 12802.277 12825.279 12863.500 12894.533 12936.350 12941.477 12962.908 12974.404 13053.883 13068.133 13071.641 13118.481 13152.135 13165.745 13186.390 13208.830 13243.730 13305.453 13313.778 13319.609 13328.393 13338.748 13354.790 13356.305 13378.840 13420.084 13422.961 13426.676 13458.213 13482.760 13484.623 13532.418 13583.180 13587.830 13628.415 13632.099 13639.408 13640.541 13646.838 13692.166 13734.659 13735.945 13779.760 13814.892 13824.902 13829.521 13839.035 13839.764 13863.140 13872.504 13875.260 13880.865 13886.285 13898.627 13958.139 13994.834 14008.052 14014.133 14015.443 14023.607 14032.293 14059.479 
query 4 nn's (53667, 63666): 7373067 (53855) 2038833 (53914) 6782257 (61394) 9044829 (55243) 3192757 (54312) 6789739 (61948) 5685630 (55650) 8627902 (60097) 8774147 (59338) 4734386 (57789) 1444782 (58902) 9407510 (57340) 8641215 (59349) 7003644 (54071) 2266290 (57733) 6549886 (63665) 1071436 (56465) 1111927 (56218) 7921516 (63604) 6851242 (63477) 6680137 (61587) 2157254 (54534) 1674437 (53911) 7285106 (60945) 7650915 (63278) 3510502 (59384) 3154654 (58192) 1622397 (56749) 5627225 (58815) 7816576 (63230) 6592347 (55694) 6766851 (54351) 1549949 (59274) 1595830 (57396) 5521208 (62683) 6857077 (60175) 8426193 (60985) 316811 (62016) 8242802 (54527) 6321582 (55264) 5602950 (61681) 7700203 (62270) 7868398 (58238) 8738517 (63250) 9269367 (60752) 6297061 (58792) 70067 (60752) 7611705 (55031) 7333867 (56073) 6384236 (62728) 4796569 (56069) 3023515 (59919) 6865199 (53751) 8146928 (54038) 5634200 (62406) 294212 (55336) 3852825 (58478) 3932969 (59429) 6066370 (60300) 7759992 (61879) 9073069 (54706) 4293822 (53844) 2286717 (55703) 1993129 (58248) 7737218 (55024) 1842376 (62159) 3647636 (53672) 2091267 (61600) 8842571 (59976) 7830497 (57981) 2610442 (59083) 9151038 (61386) 1030972 (60461) 8986848 (63373) 5208937 (53689) 6797251 (62260) 3038853 (59560) 403008 (58606) 6148804 (59457) 2027548 (61260) 6311304 (61722) 3998687 (54863) 2950198 (55352) 9126043 (57149) 5378901 (57726) 2085742 (55021) 6788033 (55802) 7657646 (56973) 461309 (63195) 6369825 (63383) 1044047 (62379) 898651 (54084) 93980 (54430) 3713291 (55608) 7724487 (61219) 3661184 (58912) 1728977 (62455) 310911 (55903) 777128 (58555) 9667161 (61274) 
     dis: 	5785.402 6320.849 6537.949 6556.619 6692.482 6767.407 6781.140 6833.338 6874.407 6914.599 6924.547 6999.322 7026.451 7107.781 7120.638 7137.918 7139.023 7149.925 7169.192 7230.535 7236.926 7264.573 7270.813 7273.168 7305.452 7311.530 7317.777 7324.287 7335.834 7357.184 7364.437 7387.994 7422.197 7428.093 7429.016 7449.402 7523.908 7530.842 7534.931 7536.641 7547.197 7549.306 7550.273 7550.724 7569.806 7592.541 7592.712 7600.119 7602.966 7607.700 7610.224 7613.378 7648.682 7649.395 7661.394 7664.136 7666.274 7669.257 7678.920 7690.172 7696.136 7696.317 7698.755 7704.869 7709.521 7709.956 7711.152 7714.527 7721.006 7731.412 7734.844 7737.784 7738.020 7740.167 7743.210 7763.464 7764.035 7787.263 7810.893 7817.819 7824.582 7828.648 7828.745 7830.208 7845.170 7846.898 7848.806 7848.932 7851.930 7860.948 7863.419 7866.189 7869.830 7872.470 7883.902 7884.906 7889.248 7914.887 7915.513 7916.182 
[ 85.929s ] *** Query time: 24.425
qps: 409.423
 *** ivfpq recall 
ivfpq get 771134 postive res from 1000000 results, recall@100:0.771
recall dist(10% per bucket): 0.000 0.001 0.006 0.018 0.043 0.077 0.118 0.188 0.310 0.236 0.001 
finished ivfpq index examples
[ 85.958s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50 80 100"
	User time (seconds): 85.19
	System time (seconds): 0.84
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:26.03
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1290144
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 336497
	Voluntary context switches: 3
	Involuntary context switches: 125
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 19:00
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50
nprobe: 80
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.709s ] Loaded metadata, 10000000 attr's found
[ 0.709s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.711s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.713s ] Loaded 10000 spacev10m queries
[ 0.781s ] Loaded ground truth, gt_size: 100
[ 0.781s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 1.910s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 82.939s ] Query results (vector ids, then distances):
query 0 nn's (4494, 5493): 6149370 (4957) 2272371 (5258) 9641558 (4559) 7693645 (4921) 6166564 (4617) 841307 (4995) 2939481 (4939) 7587297 (4745) 8339032 (4998) 3403324 (5319) 6139591 (5168) 2525390 (4928) 2566361 (4712) 4088538 (4964) 150742 (5127) 6196667 (5272) 6208747 (5338) 3273060 (5238) 4861088 (4808) 5730962 (5149) 245188 (4931) 8322342 (4861) 6357713 (4900) 1529315 (5187) 6364026 (5108) 1752083 (4932) 8034974 (4666) 8615742 (5047) 627984 (4674) 3904491 (5060) 3968285 (5155) 15168 (4872) 6426108 (4564) 9716578 (4597) 8836676 (5053) 783846 (5148) 8965249 (5039) 2399518 (4790) 7347128 (5385) 7508287 (4527) 7478413 (4673) 1746537 (5031) 400067 (5283) 9115894 (5021) 1316769 (5428) 9883125 (4797) 9486671 (5148) 3870767 (5036) 4670369 (5407) 1376383 (5185) 2649815 (5232) 5157659 (4544) 3173329 (4809) 4934715 (5390) 8515624 (5139) 4068441 (5230) 6646974 (4849) 3554391 (4657) 6934825 (4903) 7531736 (5074) 7097930 (5467) 6407081 (5247) 3524296 (5389) 6722668 (4768) 1384494 (5339) 2251350 (5222) 5804262 (5274) 9695205 (5277) 1913520 (4635) 9227195 (5130) 7325433 (5269) 9668046 (4951) 9640027 (5252) 8593823 (5492) 3752323 (5310) 1902374 (4733) 4443467 (4843) 5211016 (4872) 7709005 (5479) 7422463 (4850) 5951048 (4772) 1844716 (5476) 7576537 (4989) 4270097 (4503) 9777119 (5346) 4229460 (5226) 6706404 (5203) 8638713 (5012) 1670278 (5138) 1342857 (4566) 9634434 (4810) 6680910 (4774) 5644301 (5330) 7961807 (5127) 8942704 (5234) 4814174 (4942) 7053294 (4851) 4733279 (5171) 1484446 (5468) 4853443 (4973) 
     dis: 	9798.878 12054.924 12493.771 12533.164 12733.529 12846.305 12904.840 13544.479 13701.008 14150.275 14561.832 14581.235 14607.027 14702.527 14753.767 15415.238 15586.957 15640.195 15787.797 16287.485 16341.658 16451.879 16501.572 16543.723 16606.281 16676.717 16693.609 16726.121 16794.680 16881.156 17036.498 17062.412 17065.252 17105.098 17388.146 17390.812 17434.941 17445.318 17468.561 17535.420 17551.562 17561.219 17565.301 17586.604 17608.775 17638.904 17678.430 17684.582 17691.748 17749.361 17809.145 17833.756 17851.889 17887.107 17946.037 17983.879 17987.477 17996.076 18051.500 18128.543 18136.139 18140.359 18196.324 18212.105 18281.090 18343.805 18405.369 18425.969 18458.807 18462.262 18504.820 18518.914 18524.719 18526.174 18538.904 18556.109 18599.014 18604.996 18665.426 18670.143 18671.301 18676.758 18693.293 18704.664 18720.391 18724.789 18730.225 18736.117 18768.459 18771.809 18780.502 18790.928 18791.223 18792.312 18814.236 18820.541 18856.562 18871.750 18918.348 18931.297 
query 1 nn's (37505, 38504): 5755448 (37848) 8391132 (38008) 5790200 (38489) 364702 (38495) 4994601 (38150) 7789051 (37871) 4358727 (38259) 9358072 (38328) 4114888 (38331) 4732664 (37565) 2765139 (38363) 4861613 (37909) 6240841 (38110) 3563306 (37529) 6208044 (38131) 639982 (37719) 2976175 (38112) 4415604 (38158) 4615489 (37755) 7032571 (38199) 1229887 (38343) 7880657 (38317) 6801383 (38265) 670596 (38129) 6907210 (37982) 8728963 (38317) 9171145 (37851) 5036152 (38170) 4027498 (37597) 8210644 (38465) 1933133 (38461) 1843759 (37817) 8917241 (38000) 8358627 (37518) 2740319 (37797) 5245088 (37994) 6367299 (37591) 4528258 (38060) 3788709 (37710) 4753113 (38039) 5040577 (37689) 109891 (37647) 823409 (38155) 9888370 (37911) 6378565 (37611) 524045 (37671) 1794630 (38119) 6230820 (38002) 4100706 (38207) 2694250 (38418) 7085672 (37652) 6499623 (38286) 4289767 (38061) 7304059 (38117) 108808 (38064) 4478910 (37676) 5670794 (37739) 9044463 (38492) 4812916 (38139) 1349249 (37982) 5201196 (37756) 8570886 (38453) 7917318 (37524) 5886948 (38261) 7131853 (37706) 6086754 (38286) 4250 (37804) 6757616 (38048) 4578075 (38113) 1937248 (37551) 5113336 (38098) 9663111 (37816) 2398531 (38230) 7108426 (38094) 6222294 (38021) 4630340 (37527) 1481769 (38157) 2690062 (38050) 8041312 (38450) 6524660 (37879) 9352541 (37932) 4634223 (38137) 2178472 (37667) 5243911 (37973) 4688912 (38223) 9954588 (37923) 6530591 (38228) 8736914 (37707) 9491356 (37983) 4734524 (38431) 2422906 (37773) 3469870 (37547) 7686719 (37676) 1993887 (38240) 2129769 (37882) 4780335 (37922) 88446 (37507) 1410647 (37563) 7318814 (37970) 9593538 (37961) 
     dis: 	11426.594 12473.098 12492.893 12603.713 12658.415 12730.018 13636.898 13708.863 13773.801 13819.439 13844.566 13910.509 13929.611 13942.811 14143.109 14226.758 14373.215 14479.299 14487.771 14493.567 14541.311 14550.328 14560.338 14654.891 14715.773 14735.466 14870.311 14911.161 15047.216 15095.600 15166.029 15193.696 15263.908 15276.163 15391.277 15465.813 15469.155 15471.151 15500.477 15520.889 15527.941 15573.527 15584.400 15608.072 15649.060 15658.129 15680.029 15693.840 15704.193 15706.791 15709.391 15713.867 15777.058 15785.598 15803.924 15805.825 15807.887 15875.885 15878.333 15893.827 15927.577 15959.321 15969.379 15988.991 16011.150 16012.902 16032.749 16064.494 16081.494 16115.745 16180.334 16182.973 16196.388 16261.401 16265.178 16268.471 16325.254 16329.568 16336.802 16345.502 16365.824 16422.262 16442.156 16448.625 16457.975 16475.098 16494.236 16506.521 16512.336 16548.578 16563.906 16572.104 16572.328 16622.473 16628.094 16647.359 16720.723 16729.053 16739.502 16740.805 
query 2 nn's (17888, 18887): 2882757 (18506) 2768752 (18434) 5798651 (18171) 7060335 (18263) 192071 (18322) 6489161 (18260) 4001654 (18856) 3343989 (18166) 5811483 (17911) 2280297 (17981) 651373 (18369) 3852413 (18339) 8865121 (18145) 5957745 (18686) 8034017 (18651) 3373676 (18058) 7253171 (18873) 7090551 (18836) 7376385 (18103) 2366170 (18194) 7021660 (18633) 4850757 (18188) 7915555 (18591) 2301421 (18209) 7729974 (18311) 535923 (17960) 2871547 (18852) 6844852 (18247) 7959685 (18166) 3354445 (18294) 6155614 (18411) 1242605 (18866) 9513895 (18319) 8124614 (18842) 6099914 (18549) 9257406 (18439) 9121467 (18362) 2798853 (18054) 4084749 (18416) 4168146 (17986) 7993234 (18796) 8216340 (18735) 6831898 (18423) 8118220 (18779) 2610786 (18456) 3478200 (18692) 4645409 (18131) 7087180 (18459) 2022735 (18043) 1159882 (18164) 4351754 (17967) 2755618 (18188) 9764458 (18731) 6440774 (18309) 1257528 (18649) 6014912 (18801) 328693 (18319) 6719330 (18884) 3210352 (18754) 2144918 (18365) 6348515 (18868) 4062808 (18328) 2353254 (18646) 3847683 (17973) 5498829 (18185) 1575118 (17900) 5675374 (18834) 1807516 (18655) 1872743 (17892) 7546509 (18640) 5252999 (18257) 1451724 (18117) 521025 (17968) 423854 (18148) 561999 (18339) 7973961 (17890) 9809312 (18289) 1726439 (18402) 6795459 (18393) 1568546 (18732) 1749914 (18513) 8803395 (18138) 9040459 (18707) 1417759 (18062) 7848619 (18855) 8682410 (18187) 8887626 (18028) 425961 (18681) 1812234 (18300) 6316079 (18371) 8450870 (18163) 1849326 (18771) 6001570 (18556) 2297371 (18110) 17700 (18015) 4053717 (18551) 4942578 (18746) 3310586 (18687) 3981037 (18672) 8538536 (18041) 
     dis: 	7310.578 7765.161 8973.196 10603.062 10740.497 10855.636 11099.745 12097.129 12251.521 12744.539 12809.358 12865.800 12885.077 12979.390 13219.167 13413.440 13441.815 13694.683 13712.449 13805.781 13850.803 13853.723 13863.379 14310.873 14492.113 14498.542 14504.794 14534.771 14745.304 14749.432 14869.102 14912.559 14930.679 14983.092 15015.619 15018.246 15023.899 15025.492 15042.459 15240.839 15308.611 15334.504 15356.469 15366.541 15388.982 15522.923 15532.011 15566.464 15604.097 15686.846 15714.650 15720.794 15774.735 15780.250 15906.570 15956.373 16004.740 16021.561 16069.877 16094.474 16094.556 16103.304 16151.041 16155.992 16173.097 16193.068 16227.803 16239.611 16258.182 16271.496 16299.761 16338.971 16348.809 16381.387 16393.973 16400.465 16408.486 16431.066 16431.240 16493.170 16517.223 16578.670 16582.812 16645.598 16662.922 16670.285 16680.352 16745.762 16746.184 16771.572 16776.883 16812.887 16848.381 16865.744 16868.129 16895.455 16916.117 16953.957 16985.201 17005.441 
query 3 nn's (11109, 12108): 5687185 (12097) 6424074 (11699) 561416 (11821) 8459637 (11541) 7578623 (11167) 6204802 (12016) 3969193 (11781) 1473665 (11327) 3061123 (12077) 5285822 (11716) 6557504 (11784) 2424648 (11129) 9894410 (11400) 8609160 (11466) 859638 (11189) 3438424 (12046) 8046548 (11685) 3528080 (11991) 3349733 (11782) 7937205 (11170) 1207121 (11869) 9473281 (11500) 3845490 (11792) 2418 (11477) 6580755 (12024) 6207318 (11695) 9980326 (11676) 7457955 (11218) 3296769 (11156) 3658156 (11292) 1391692 (11422) 8777265 (11489) 4527794 (11179) 3827663 (11401) 1355807 (11753) 6270653 (11527) 8045253 (11132) 1558429 (11370) 4399301 (11404) 5697552 (11833) 1720982 (11766) 3524748 (11652) 7068813 (11667) 2103040 (11258) 3044944 (11199) 7394495 (12102) 106710 (11544) 2485086 (12063) 300101 (11362) 6285460 (11957) 9322635 (12003) 3716063 (12017) 4296225 (11450) 500961 (11582) 2747568 (11181) 6542973 (11384) 8572087 (11961) 9247213 (11230) 3446242 (11722) 863791 (11996) 502582 (12035) 8229538 (11134) 8442772 (11259) 8770715 (11908) 313153 (11244) 7841862 (11935) 357124 (11836) 1578969 (12088) 9597095 (11205) 8365091 (11200) 3781202 (12070) 6310340 (11188) 1229591 (11247) 9745702 (11582) 7864659 (11316) 6479843 (11116) 4861923 (11731) 8468245 (11967) 1036874 (11701) 7712598 (11697) 118002 (11570) 839209 (11280) 475241 (11666) 5943575 (12071) 4576135 (11662) 8829817 (11456) 423927 (11946) 1121715 (11145) 6618231 (11721) 7981322 (11811) 3898728 (11851) 1458121 (11908) 5082953 (11536) 7870994 (11514) 1266467 (11754) 8952131 (11609) 4832617 (11529) 5677572 (11384) 9886733 (12101) 693868 (11820) 
     dis: 	11116.825 11250.155 12338.418 12692.926 13211.240 13397.504 13399.977 13630.539 14052.097 14108.133 14374.701 14440.910 14461.210 14641.500 14685.266 14910.617 15203.667 15272.559 15416.559 15453.418 15489.773 15633.387 15667.447 15846.430 15928.021 16038.312 16043.142 16087.432 16140.246 16215.281 16219.829 16236.095 16248.896 16254.475 16277.252 16304.126 16309.753 16329.072 16392.908 16451.021 16490.551 16521.498 16521.615 16546.684 16634.312 16662.227 16668.898 16708.916 16749.824 16783.168 16787.941 16806.119 16851.887 16862.668 16872.262 16872.830 16873.564 16882.832 16895.422 16898.842 16998.232 17007.322 17019.395 17033.781 17051.367 17068.230 17075.074 17090.926 17094.195 17104.441 17156.607 17159.480 17250.340 17269.553 17270.312 17271.248 17306.672 17352.725 17379.336 17408.871 17428.322 17437.438 17473.691 17490.021 17510.301 17534.098 17537.254 17565.211 17569.562 17607.875 17618.910 17644.559 17674.961 17724.203 17725.262 17759.557 17784.168 17798.572 17805.531 17810.414 
query 4 nn's (17141, 18140): 4786845 (17889) 1240644 (17247) 9087049 (17548) 2074283 (17512) 3841914 (17951) 7484886 (18002) 5340795 (18047) 5552942 (18053) 4968254 (17907) 5448676 (17561) 1182722 (17534) 7059516 (17975) 7743549 (17817) 5952960 (17439) 5408770 (18066) 6343329 (17916) 4669420 (17261) 572088 (17996) 4503313 (18105) 3892859 (17532) 7372708 (17985) 2689415 (17797) 1957699 (17304) 4739773 (17265) 8170734 (17334) 9956611 (17998) 3332968 (17475) 1800522 (17230) 9113620 (17739) 8499942 (17237) 6998246 (18012) 8328253 (18073) 9430662 (18108) 4132826 (17535) 1076381 (18061) 5809169 (17709) 9480493 (17158) 4953007 (17793) 7098793 (17232) 3549241 (17577) 6394839 (17766) 7015372 (17258) 7046889 (17920) 4218934 (17996) 5043830 (18056) 3942502 (17302) 2007382 (17240) 6008225 (17631) 8166060 (17686) 8587230 (17611) 3985403 (17886) 7784434 (18099) 9205137 (18071) 5131103 (17173) 3956337 (17619) 5945988 (17306) 1586369 (17650) 3667927 (17950) 3157036 (17841) 4748406 (17554) 8128592 (18013) 8788237 (17176) 5319826 (17943) 9073627 (17569) 1544528 (17207) 5340663 (17696) 6422945 (17477) 6181259 (18009) 9987571 (17515) 5034204 (17945) 3620394 (17853) 2423134 (17664) 8624967 (17145) 6351082 (17159) 5912532 (17314) 2872613 (17421) 8365252 (18100) 1093395 (17312) 1668655 (17378) 4141135 (17986) 3407033 (17625) 8207107 (17811) 9336686 (17668) 6038403 (17269) 9484368 (17369) 1809054 (17615) 3404541 (17889) 9052124 (17391) 2829412 (17845) 9552806 (17352) 4154143 (17789) 8667449 (17831) 9469586 (17607) 3910668 (17967) 9232278 (17182) 547402 (17439) 7215081 (18109) 2814834 (17875) 2187988 (17418) 97489 (17969) 
     dis: 	6837.784 7031.828 7609.336 7635.956 7778.329 7790.116 7876.323 7929.324 8023.536 8050.260 8093.765 8109.356 8171.970 8216.152 8236.769 8320.229 8379.596 8401.981 8418.167 8423.534 8440.092 8441.498 8446.510 8481.046 8486.976 8489.768 8499.567 8520.534 8546.977 8547.896 8552.867 8557.512 8567.120 8577.743 8599.787 8604.575 8607.911 8650.067 8652.560 8670.935 8695.349 8729.997 8735.621 8748.105 8783.832 8786.463 8787.891 8799.692 8828.809 8836.928 8841.417 8843.493 8844.771 8855.006 8864.446 8890.777 8912.990 8915.387 8922.517 8926.401 8958.492 8994.290 8996.463 9001.017 9002.477 9003.900 9010.322 9021.633 9041.795 9054.353 9057.012 9063.853 9072.073 9094.867 9106.395 9115.277 9159.662 9218.842 9219.289 9221.727 9222.780 9224.417 9230.443 9267.092 9267.400 9278.125 9279.833 9284.454 9292.532 9293.024 9302.215 9322.148 9323.956 9333.281 9336.519 9385.761 9386.742 9389.756 9402.677 9412.172 
[ 82.940s ] *** Query time: 20.628
qps: 484.772
 *** ivfpq recall 
ivfpq get 583785 postive res from 1000000 results, recall@100:0.584
recall dist(10% per bucket): 0.004 0.017 0.051 0.102 0.139 0.175 0.200 0.178 0.113 0.021 0.000 
finished ivfpq index examples
[ 82.968s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50 80 100"
	User time (seconds): 82.16
	System time (seconds): 0.90
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:23.07
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1290148
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 336566
	Voluntary context switches: 7
	Involuntary context switches: 61
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 19:07
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50
nprobe: 80
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.706s ] Loaded metadata, 10000000 attr's found
[ 0.706s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.708s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.709s ] Loaded 10000 spacev10m queries
[ 0.778s ] Loaded ground truth, gt_size: 100
[ 0.778s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 1.910s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 82.256s ] Query results (vector ids, then distances):
query 0 nn's (15274, 15373): 5769046 (15300) 4702781 (15290) 6782267 (15338) 6529736 (15348) 2811379 (15348) 3136033 (15361) 2613614 (15336) 3748027 (15328) 9613984 (15340) 2587473 (15360) 3551799 (15283) 8390415 (15322) 4844108 (15303) 6326141 (15354) 96301 (15366) 6158267 (15274) 8338567 (15349) 1165574 (15344) 4600213 (15286) 957167 (15341) 9762541 (15350) 6077085 (15368) 1327589 (15283) 1267139 (15361) 5800953 (15343) 6505790 (15332) 1737888 (15321) 6111149 (15335) 7834720 (15298) 8010253 (15367) 7727099 (15285) 7595765 (15323) 2303898 (15351) 5127842 (15332) 9142221 (15299) 861550 (15274) 8671510 (15279) 4935727 (15341) 9793293 (15296) 7890267 (15317) 4021627 (15310) 3291206 (15322) 9758155 (15355) 5516711 (15286) 3934596 (15331) 1378468 (15327) 964585 (15324) 8927309 (15329) 1359933 (15333) 4775691 (15325) 3574281 (15353) 3400629 (15356) 1328269 (15324) 5228709 (15311) 866519 (15301) 7843820 (15340) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	9339.131 15215.113 16816.945 17311.945 17420.047 18252.387 18273.387 18782.104 18791.568 18910.916 19103.678 19263.395 19265.426 19388.576 19517.539 19628.861 19763.754 19840.508 19851.156 19928.773 20097.297 20120.453 20137.666 20275.039 20773.234 20835.379 20955.672 20971.133 21196.023 21437.498 21529.926 21588.785 21623.387 21678.242 21968.488 22003.592 22034.219 22062.762 22092.930 22111.021 22506.121 22634.578 22681.395 22758.820 22823.299 22930.562 23365.590 23743.422 23974.184 24149.256 24282.672 24672.180 25023.695 25083.170 25306.975 25618.684 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (47455, 47554): 7518689 (47475) 3240786 (47517) 8895531 (47457) 3080191 (47543) 2850999 (47531) 3740147 (47481) 574370 (47461) 3666769 (47493) 6556975 (47552) 9083689 (47518) 1317365 (47500) 8423100 (47537) 3269594 (47508) 1228897 (47509) 3907001 (47544) 9859005 (47529) 6230475 (47521) 9481705 (47506) 9160332 (47537) 3142662 (47495) 6244229 (47536) 8911677 (47545) 8765017 (47518) 5870345 (47519) 5556519 (47522) 9856906 (47517) 6289233 (47483) 5913383 (47551) 1020870 (47459) 6757325 (47462) 9685648 (47552) 120023 (47531) 4899547 (47529) 7093434 (47534) 2932629 (47539) 1763533 (47509) 8676319 (47518) 2469688 (47489) 2873330 (47550) 3688086 (47508) 3807835 (47469) 3899845 (47549) 1006106 (47460) 1519677 (47548) 9300683 (47506) 2369391 (47526) 5846031 (47551) 6100108 (47481) 9538881 (47499) 6197092 (47510) 9138535 (47465) 136752 (47515) 3057797 (47481) 9644693 (47515) 7290152 (47541) 251445 (47520) 4424192 (47477) 8831076 (47472) 5887195 (47533) 2920716 (47509) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	14099.950 14212.223 16183.473 16455.492 16681.650 17301.135 17408.818 17409.320 17449.270 17534.174 17704.596 17735.289 18026.918 18168.609 18329.492 18678.832 18855.707 19126.598 19306.457 19313.738 19343.176 19344.180 19449.574 19479.648 19496.766 19674.586 19814.465 19855.908 20014.070 20064.512 20114.871 20133.484 20261.922 20330.863 20392.414 20611.469 20648.779 20704.877 20712.094 20869.641 20959.465 20972.609 20979.611 21044.609 21105.158 21453.875 22108.512 22294.756 22483.488 22490.215 22589.082 22829.346 22880.023 23202.879 23241.688 23318.545 23851.633 24026.377 24661.779 26155.809 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (2622, 2721): 9318566 (2630) 2863448 (2661) 3213761 (2637) 6508399 (2700) 1562829 (2650) 3947897 (2715) 6188348 (2714) 7156576 (2627) 603741 (2706) 1450249 (2664) 2012904 (2667) 8551579 (2675) 9842230 (2651) 4379399 (2654) 9211374 (2665) 4895774 (2720) 4129370 (2713) 5291649 (2634) 9247478 (2654) 357863 (2628) 6769266 (2705) 6655578 (2660) 4575981 (2714) 3834377 (2642) 9959253 (2634) 7466090 (2694) 4771178 (2648) 4530787 (2704) 3762066 (2660) 596585 (2721) 4527394 (2660) 6412664 (2685) 432611 (2622) 1440560 (2712) 3084856 (2648) 3953662 (2661) 2850375 (2683) 6743980 (2714) 3349613 (2656) 7981041 (2666) 1086837 (2667) 2828688 (2669) 1381207 (2625) 1431711 (2672) 576767 (2659) 5884245 (2674) 5579211 (2721) 7042081 (2626) 6049978 (2668) 3420096 (2626) 5921780 (2688) 5913666 (2657) 4920203 (2630) 6641091 (2643) 7547795 (2627) 8582813 (2712) 6452459 (2673) 1789446 (2642) 3884693 (2635) 6394426 (2694) 1944199 (2702) 2075251 (2651) 9732879 (2696) 5557702 (2721) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	13562.081 13782.050 14350.572 14386.454 14651.077 15156.483 15834.489 16035.408 16076.041 16442.000 16816.576 16872.578 17080.482 17225.369 17783.393 18000.113 18055.904 18145.430 18369.141 18380.277 18429.227 18520.842 18562.625 18585.781 18612.781 18629.336 18758.924 19127.133 19138.635 19291.629 19313.500 19386.961 19617.326 19843.539 20062.314 20081.059 20159.738 20452.842 20487.219 20514.984 20565.150 20744.762 20754.176 20784.680 20826.887 20863.547 21076.680 21121.504 21181.369 21226.660 21422.945 21693.355 21761.809 21877.510 21903.617 22488.953 22566.191 22899.477 22936.984 23314.117 23613.570 23639.602 25732.695 26495.756 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (73957, 74056): 6689609 (74003) 4050481 (73978) 3760026 (74053) 3150044 (74030) 5661120 (74004) 1038480 (73987) 2140224 (74017) 1231887 (74000) 7040076 (74003) 1522104 (74017) 608080 (74011) 5926856 (74007) 5158953 (74037) 1295766 (73963) 270230 (74014) 3419845 (74032) 2363052 (74006) 112118 (73999) 2493938 (73994) 2738197 (74010) 3337087 (73976) 2418408 (73959) 4557796 (74050) 4602173 (73999) 6893529 (74042) 1208483 (73960) 8834181 (73998) 4028221 (73995) 1272602 (74025) 9513790 (74013) 6408508 (74015) 2184794 (73972) 1551703 (74043) 8712900 (74016) 7378928 (74044) 5895424 (74052) 8056100 (73971) 5711814 (73978) 3552370 (73985) 768839 (74040) 2085779 (74011) 7487195 (74017) 1775072 (74001) 8196663 (73960) 6698872 (74004) 8473483 (73970) 7830893 (73976) 9468808 (73991) 9948098 (73979) 4465740 (74013) 1505101 (73963) 8666767 (74028) 6097151 (74041) 5443878 (74031) 7365465 (74023) 219792 (74047) 1853588 (74014) 9839537 (74055) 2760070 (74028) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	11728.946 14037.242 15498.991 15767.667 16288.726 16447.516 16518.201 16656.152 16932.016 17354.135 17599.316 17670.463 18095.520 18108.602 18302.703 18353.840 18833.930 18913.010 18960.578 19000.947 19035.652 19078.441 19195.137 19425.191 19449.564 19571.160 19655.506 19953.301 19956.094 20091.521 20237.781 20632.963 20644.654 20798.197 20840.023 20869.107 21121.768 21272.441 21474.865 21557.611 21637.619 21870.641 21880.508 22077.855 22086.285 22150.602 22298.793 22548.801 22582.350 22642.020 22671.102 23421.537 23536.102 23874.438 24230.586 24690.445 25478.680 26879.816 26944.547 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (58381, 58480): 3852825 (58478) 4103136 (58443) 6808813 (58381) 1006805 (58478) 1999660 (58444) 9684351 (58456) 8984060 (58471) 3871589 (58382) 4043065 (58399) 3410881 (58453) 9486504 (58430) 2844441 (58409) 9438822 (58381) 7018664 (58405) 4577042 (58462) 4871077 (58416) 506296 (58452) 7471879 (58429) 7897965 (58462) 2581296 (58449) 2836723 (58441) 5351891 (58468) 7175636 (58386) 7873700 (58381) 7970406 (58449) 280818 (58457) 2623305 (58399) 8604267 (58432) 7200685 (58419) 4903173 (58424) 4193284 (58424) 2776676 (58423) 8025306 (58442) 7306397 (58464) 3739120 (58440) 5934608 (58423) 7655145 (58457) 232975 (58477) 7750032 (58388) 6230684 (58470) 3477063 (58448) 451234 (58463) 3766603 (58453) 5032668 (58441) 7694305 (58415) 9024654 (58435) 1708512 (58442) 1862933 (58456) 4804278 (58410) 4599974 (58460) 532679 (58442) 8865132 (58446) 738546 (58389) 7601166 (58399) 3735183 (58464) 1331626 (58428) 2236718 (58400) 795254 (58406) 8092324 (58400) 9378371 (58406) 5862871 (58444) 3348493 (58467) 9161490 (58448) 6405434 (58428) 4300658 (58425) 5549494 (58390) 7339652 (58385) 9971731 (58432) 1247304 (58421) 703909 (58417) 2554536 (58409) 3191176 (58401) 2166870 (58464) 4322552 (58385) 5506248 (58427) 2438409 (58461) 8017355 (58427) 1928332 (58392) 1117390 (58442) 1639804 (58453) 1791487 (58449) 3297892 (58454) 5549220 (58443) 3674007 (58438) 475345 (58432) 1462270 (58452) 393162 (58454) 6234904 (58382) 7856569 (58384) 1936214 (58435) 8092659 (58473) 1539322 (58396) 4229268 (58465) 4580715 (58393) 536253 (58475) 3041825 (58438) 2767828 (58428) 7038593 (58431) 4103177 (58418) 4896301 (58425) 
     dis: 	7666.274 8303.525 8356.072 8514.808 8689.705 9137.789 9156.240 9166.632 9487.299 9702.754 9725.132 9756.242 9941.781 9960.879 10004.821 10092.391 10122.804 10159.336 10174.402 10262.664 10324.385 10533.966 10616.693 10626.384 10639.189 10644.453 10656.230 10670.904 10747.031 10828.466 10861.677 10895.729 10956.779 10996.303 11000.032 11025.108 11080.420 11096.655 11185.795 11295.604 11295.768 11328.815 11339.267 11343.238 11356.607 11356.832 11493.465 11500.953 11577.639 11582.986 11616.529 11641.876 11715.372 11758.791 11811.732 11813.998 11818.159 11829.336 12024.131 12068.365 12082.850 12179.414 12181.202 12187.955 12267.271 12271.143 12326.786 12411.770 12514.372 12560.668 12592.115 12598.139 12679.477 12793.834 12934.984 12974.115 12987.188 13034.751 13086.350 13206.975 13275.258 13275.404 13276.281 13322.954 13436.914 13533.523 13568.041 13639.091 13771.730 13795.982 13934.170 13934.579 14002.289 14394.435 14399.480 14483.962 14553.639 14922.934 15126.804 15209.152 
[ 82.256s ] *** Query time: 19.978
qps: 500.560
 *** ivfpq recall 
ivfpq get 264437 postive res from 1000000 results, recall@100:0.264
recall dist(10% per bucket): 0.054 0.210 0.344 0.283 0.095 0.012 0.001 0.000 0.000 0.000 0.000 
finished ivfpq index examples
[ 82.285s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50 80 100"
	User time (seconds): 81.49
	System time (seconds): 0.89
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:22.39
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1290148
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 336514
	Voluntary context switches: 2
	Involuntary context switches: 59
	Swaps: 0
	File system inputs: 0
	File system outputs: 56
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
