Start time: 18:44
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50
nprobe: 20
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.762s ] Loaded metadata, 10000000 attr's found
[ 0.762s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.791s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.804s ] Loaded 10000 spacev10m queries
[ 0.877s ] Loaded ground truth, gt_size: 100
[ 0.877s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.187s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 78.444s ] Query results (vector ids, then distances):
query 0 nn's (40616, 90615): 1352077 (75218) 1300400 (68247) 525784 (86118) 606211 (46345) 1781760 (80354) 7509422 (86182) 290760 (73276) 1714233 (65633) 6583311 (47922) 8021837 (54227) 1536208 (61981) 3082748 (43400) 6313468 (56256) 9148464 (61499) 1200517 (72426) 5072935 (77579) 4779084 (83453) 8997960 (41694) 2382485 (52524) 38473 (46733) 8538301 (43948) 3881211 (73037) 7007393 (50612) 8807530 (78073) 4617714 (57477) 4279856 (62524) 3873794 (79667) 2037978 (67204) 613770 (82162) 8242233 (84764) 6547416 (46965) 7305168 (83078) 2433318 (41182) 1751249 (61683) 9107614 (86696) 9600306 (74480) 8135809 (69250) 1858226 (61086) 8846971 (82553) 4066846 (76054) 511283 (44517) 7249395 (83840) 1947555 (46272) 2772718 (56124) 3828638 (68559) 5004916 (68288) 7922669 (47051) 9818783 (60214) 4254134 (79349) 4932580 (43903) 2807977 (72542) 244510 (41564) 4287666 (67511) 6616924 (53611) 4470364 (85079) 6240106 (75699) 4519081 (86868) 5950387 (51620) 7983463 (70761) 1168348 (90414) 8097566 (64961) 5236967 (71585) 9957153 (61862) 3249603 (76576) 1060668 (58280) 8563527 (86841) 8849839 (86592) 3636367 (55940) 8348201 (69358) 8341867 (72465) 5594224 (79134) 8066928 (80642) 7115332 (67947) 3611695 (77838) 9169598 (42707) 8725926 (63035) 6588206 (68541) 5320284 (64167) 5997165 (83594) 8279789 (85969) 1666 (84797) 488103 (55813) 5270820 (90509) 9576118 (47855) 6303532 (42119) 4715886 (84573) 841711 (89798) 1545295 (43724) 2578991 (84620) 4104937 (70750) 74334 (45086) 347710 (45599) 3371587 (42783) 6554307 (84494) 5454 (50127) 6487757 (87359) 7887947 (85619) 3815686 (47763) 3993234 (84762) 694286 (59145) 
     dis: 	3341.555 3558.984 5245.911 5260.997 5329.049 5638.839 6092.811 6122.817 6254.688 6361.337 6455.989 6519.620 6520.098 6571.315 6605.375 6881.313 6923.574 7085.572 7166.396 7284.152 7292.290 7292.523 7475.898 7484.152 7570.556 7668.837 7671.998 7770.476 7804.320 7835.928 7878.941 7930.551 7942.328 7959.359 8050.290 8104.739 8212.972 8219.131 8219.742 8229.662 8238.021 8262.152 8305.371 8399.892 8422.494 8430.933 8457.901 8475.640 8528.645 8562.139 8626.439 8641.404 8660.164 8676.185 8746.664 8759.140 8775.344 8870.273 8887.686 8977.087 9008.827 9013.942 9033.175 9036.808 9121.707 9164.880 9184.734 9228.418 9236.949 9237.871 9252.262 9352.732 9360.211 9364.410 9381.196 9383.501 9384.062 9386.525 9405.275 9416.560 9431.528 9450.677 9477.137 9504.428 9505.646 9541.047 9567.089 9567.345 9643.229 9677.152 9680.544 9690.054 9710.193 9718.043 9740.641 9744.189 9756.121 9765.999 9781.269 9784.512 
query 1 nn's (23827, 73826): 1027770 (59556) 3024255 (36040) 6716785 (66378) 3545414 (44593) 6693881 (28141) 1087257 (62343) 3843020 (54844) 8596579 (66499) 547651 (43364) 9149269 (64835) 913237 (31716) 2769394 (73340) 6631934 (28922) 128447 (33616) 1286599 (26580) 4208062 (72354) 2201796 (69121) 6202555 (55017) 4023729 (64682) 9559160 (42483) 5312590 (40431) 9311189 (41791) 2342379 (62400) 3823789 (35801) 1262717 (61544) 5374088 (35711) 8084904 (26103) 7995495 (54964) 4764135 (25237) 3467889 (58051) 2483370 (43037) 7191660 (26554) 1641593 (25519) 4561316 (70089) 2054287 (52686) 5325898 (41793) 497310 (50087) 2400979 (32818) 6371568 (69524) 8598995 (49827) 7714223 (69827) 9387768 (41292) 6528340 (69516) 2677560 (29840) 2077395 (51965) 5833204 (39001) 8370535 (67881) 8382701 (59388) 5427517 (49038) 7898285 (24857) 5559374 (57425) 683232 (55159) 5116926 (36041) 1580619 (31013) 9198072 (44678) 6783786 (43516) 5553093 (62435) 3302437 (52859) 1259440 (29909) 919217 (70266) 6218290 (52949) 7983026 (33895) 4952577 (25638) 7896078 (66668) 8219055 (62699) 1996069 (44318) 9319596 (27166) 9979859 (68285) 9619526 (31001) 7208440 (52535) 8300390 (42797) 7684675 (55889) 6481742 (59098) 5054847 (35044) 4936167 (43277) 4414583 (48880) 3510541 (68307) 3695413 (45102) 2233630 (36122) 5755448 (37848) 6305818 (73235) 1141657 (71758) 9780570 (56021) 1010768 (32832) 1175501 (62271) 7430809 (48977) 3940736 (39136) 9816629 (29872) 9378086 (41297) 6825634 (34589) 1532818 (39179) 6255602 (46010) 5611981 (54386) 4333009 (47559) 658603 (24877) 5347257 (45047) 5821964 (57069) 8680758 (39515) 8829523 (62588) 2781736 (49412) 
     dis: 	4951.676 6388.603 7614.397 7656.533 8396.801 8405.281 8588.030 8631.122 9148.979 9182.754 9190.606 9206.575 9293.700 9352.754 9447.030 9504.778 9537.359 9605.584 9681.187 9757.467 9757.604 9801.692 9916.422 9917.418 9923.583 9964.950 10011.231 10060.589 10105.922 10145.601 10164.323 10212.086 10240.245 10321.362 10339.520 10373.654 10399.735 10437.386 10466.273 10489.525 10572.902 10583.889 10616.024 10662.205 10665.625 10688.308 10732.516 10765.207 10779.470 10800.264 10805.812 10861.438 10910.203 10964.443 10974.649 10983.195 10990.891 11002.873 11047.003 11071.188 11087.094 11087.619 11142.678 11143.221 11149.586 11183.882 11190.239 11202.398 11241.274 11256.481 11274.488 11319.307 11319.311 11324.731 11328.901 11373.731 11396.531 11401.885 11405.533 11426.594 11441.205 11445.806 11456.836 11503.037 11506.643 11513.305 11514.986 11517.520 11553.311 11560.654 11569.689 11622.009 11624.008 11632.678 11642.646 11643.614 11649.334 11665.165 11688.594 11697.951 
query 2 nn's (32197, 82196): 4574760 (37531) 5189301 (43405) 8005273 (37538) 4290437 (79182) 3524579 (49429) 8672246 (67919) 5932138 (71360) 8699363 (38066) 5193386 (58419) 5236859 (46044) 4710102 (57576) 9602743 (57407) 9746650 (51834) 6606573 (43048) 9561351 (80565) 9964310 (34221) 5423341 (53232) 1881509 (33275) 725252 (39756) 6525090 (79383) 6555137 (44687) 190238 (43187) 6688464 (74420) 6212714 (75619) 7670329 (41226) 559883 (76998) 9485250 (57717) 3361974 (50158) 323907 (52531) 6672275 (66753) 1563468 (78550) 4808419 (69389) 6915696 (72395) 2153650 (81348) 9339955 (81335) 7126935 (58871) 8558486 (51639) 6648184 (54160) 2557172 (56410) 3399987 (80703) 3890438 (64578) 6451690 (52651) 2655117 (60703) 9743895 (77420) 5771135 (63649) 894483 (42165) 8719744 (57812) 7037734 (33584) 5597353 (43285) 6334408 (55203) 9436299 (64728) 2953283 (44130) 1358363 (38724) 3508271 (81187) 8672644 (53328) 1386408 (47799) 7111817 (32792) 512960 (66122) 6010182 (39169) 7634670 (39080) 5430287 (63495) 2353418 (78404) 555581 (63340) 6295489 (45287) 3977031 (32341) 5257112 (37353) 3322631 (44067) 7443302 (76451) 1845312 (46681) 6561981 (81132) 3776514 (76962) 5800932 (33089) 8060848 (58300) 3686996 (42102) 2732881 (61677) 5117458 (36304) 3641059 (44284) 125926 (65492) 349510 (48539) 3989900 (43812) 7444447 (81824) 4470455 (51798) 4972945 (63439) 5943431 (69746) 4080834 (71977) 9117124 (55844) 2826478 (53769) 2708723 (80888) 7643282 (52135) 2354559 (50802) 608312 (37286) 2594487 (39018) 150041 (71853) 8953965 (70649) 951709 (73040) 3485543 (79714) 4732579 (69871) 3542525 (68936) 4011639 (72992) 8118777 (53878) 
     dis: 	3040.931 3396.189 4005.862 4578.350 4985.623 6359.330 6557.125 7260.264 7288.263 7407.258 8040.340 8071.849 8136.970 8262.561 8343.189 8423.398 8789.828 8801.643 8807.467 8884.635 8921.063 8922.498 8953.350 9043.457 9050.707 9108.366 9124.141 9172.170 9447.551 9573.036 9584.193 9720.494 9743.938 9786.212 9805.555 9917.584 9980.059 10012.182 10037.378 10121.757 10210.879 10277.791 10298.174 10370.032 10392.124 10565.965 10602.193 10702.812 10720.469 10784.173 10786.384 10818.419 10859.858 10871.000 10901.356 10925.584 10946.392 10971.548 10999.236 10999.327 11001.598 11004.789 11021.891 11081.823 11118.609 11121.449 11141.714 11152.927 11153.200 11165.704 11167.684 11182.323 11182.670 11201.961 11220.675 11231.130 11296.001 11368.227 11377.294 11381.695 11385.029 11398.680 11405.870 11407.836 11420.622 11439.910 11466.683 11492.853 11502.423 11513.658 11520.730 11522.168 11529.615 11536.425 11536.722 11551.382 11556.123 11560.019 11580.558 11582.521 
query 3 nn's (10631, 60630): 4286832 (17230) 1208824 (37041) 1165548 (45426) 1681561 (52434) 9732223 (41833) 7375372 (33987) 7371232 (47114) 7664306 (35020) 2187959 (22411) 1717763 (23291) 8694166 (43201) 2360519 (38478) 3188407 (24304) 8364431 (51130) 4153275 (14312) 2272653 (58471) 4889443 (35759) 9157428 (59550) 391722 (24862) 1212415 (15580) 4251611 (29775) 9100185 (14479) 9232458 (44812) 6542977 (17108) 1252765 (47853) 9892318 (23797) 4559449 (12184) 580826 (39121) 4298667 (37216) 8741259 (38437) 1074776 (60559) 920948 (51396) 5621855 (30749) 9775342 (51527) 6447414 (38986) 8559924 (36620) 3626273 (24674) 7623822 (13051) 8821621 (32963) 9591320 (41043) 9444180 (43915) 5124721 (15599) 5962673 (33507) 9987911 (54998) 786015 (34456) 6654687 (18185) 514827 (17573) 4183705 (37136) 2019638 (38147) 5563393 (26978) 5687185 (12097) 5683960 (39084) 398589 (20960) 6546803 (58575) 2029271 (55651) 2851767 (31496) 5566014 (48193) 9740574 (40063) 7110321 (51796) 3517824 (30137) 8669768 (45048) 1605226 (42484) 205735 (33156) 8427899 (40275) 7010252 (18474) 4316644 (36244) 7256503 (33019) 2182004 (53782) 5676630 (15975) 3378586 (41526) 6703969 (32159) 3350710 (56592) 2348869 (59503) 2824029 (57859) 3071605 (13149) 6835770 (35415) 5677498 (44480) 8860902 (45806) 6492666 (13880) 264481 (34023) 3431426 (19293) 2838160 (25464) 5176976 (57430) 108033 (50132) 9760951 (35714) 662720 (44761) 3787993 (28927) 4342892 (15650) 188678 (31172) 9335946 (29064) 3266491 (40597) 9754021 (56599) 5497231 (59894) 382902 (29996) 5056650 (51741) 3279722 (58517) 756034 (16298) 7639060 (47762) 9469428 (55808) 3758348 (33117) 
     dis: 	4932.493 7559.416 7716.412 8533.997 8686.969 8843.779 9242.648 9402.558 9525.734 9582.531 9602.439 9903.758 9904.006 9940.529 10013.597 10037.766 10077.080 10228.670 10241.127 10266.923 10275.444 10302.910 10324.750 10344.720 10401.495 10434.219 10441.537 10493.101 10549.722 10581.117 10595.141 10603.974 10605.822 10613.974 10658.848 10676.953 10705.795 10823.746 10869.390 10883.352 10908.412 10923.926 10965.323 10970.995 10984.865 11004.527 11043.848 11050.146 11060.566 11096.463 11116.825 11128.555 11146.557 11153.344 11197.729 11219.842 11234.869 11276.945 11332.737 11363.012 11373.238 11406.383 11414.640 11419.137 11423.238 11446.023 11452.812 11469.518 11478.780 11508.087 11514.631 11530.731 11533.907 11541.860 11548.719 11554.838 11555.451 11566.475 11596.868 11605.434 11618.774 11631.541 11648.897 11684.323 11721.332 11730.315 11782.334 11783.297 11790.985 11803.078 11809.736 11820.295 11838.703 11841.904 11877.770 11881.330 11885.672 11888.877 11901.706 11908.882 
query 4 nn's (49705, 99704): 3987492 (98027) 5744224 (51156) 9211260 (81222) 6872756 (95706) 6279473 (68764) 9788862 (69419) 4015525 (99118) 6095172 (66470) 2038833 (53914) 9652129 (94239) 9578545 (82305) 73290 (81611) 1587943 (87738) 9801790 (96454) 2279438 (92240) 9193832 (94777) 2320125 (78596) 1384227 (67752) 57144 (85498) 5562283 (85264) 6001275 (76022) 6581013 (70513) 4738992 (53601) 9044829 (55243) 3073679 (52005) 2986049 (87137) 7511825 (79032) 6906799 (74949) 523134 (52660) 3192757 (54312) 9240243 (51536) 8572491 (87817) 6836665 (78385) 349859 (89590) 1546917 (87929) 5685630 (55650) 8442744 (81630) 3598596 (93600) 8627902 (60097) 6685392 (77959) 9438625 (65756) 2795570 (51868) 9832113 (87811) 6614912 (53050) 703166 (92189) 4734386 (57789) 1444782 (58902) 980351 (73539) 1066421 (76598) 4942478 (95232) 9977617 (53087) 5506147 (91849) 4491189 (76562) 4637157 (81613) 3032989 (71909) 8360636 (71934) 7146236 (94013) 8641215 (59349) 2473330 (71722) 9600067 (97955) 3934821 (77812) 9765986 (76606) 569140 (91553) 7637276 (80931) 2337939 (52530) 6549886 (63665) 3792530 (68743) 1111927 (56218) 7921516 (63604) 3299088 (88192) 5350870 (81572) 500157 (52742) 1060205 (76642) 5123136 (78947) 6297263 (78517) 6851242 (63477) 4314613 (93971) 2533286 (79374) 6680137 (61587) 4795941 (93349) 1497764 (74386) 2353911 (64105) 2157254 (54534) 1718685 (89463) 1674437 (53911) 5520029 (86887) 7841648 (78034) 4159743 (98542) 7476660 (51667) 7650915 (63278) 3510502 (59384) 5509171 (50067) 3154654 (58192) 1622397 (56749) 7878577 (69673) 5627225 (58815) 9134626 (83623) 5903947 (78991) 728488 (76844) 1360707 (85906) 
     dis: 	3856.535 5305.862 5539.291 6043.119 6100.910 6173.589 6211.677 6247.159 6320.849 6339.760 6368.127 6373.673 6377.479 6436.075 6451.869 6453.242 6472.816 6480.089 6537.355 6544.390 6547.302 6554.955 6555.948 6556.619 6563.512 6567.238 6627.546 6630.396 6672.447 6692.482 6726.776 6754.373 6774.033 6775.717 6776.958 6781.140 6792.439 6821.971 6833.338 6844.074 6851.883 6865.872 6877.679 6878.524 6913.929 6914.599 6924.547 6940.111 6940.821 6947.667 6954.715 6958.853 6974.124 6989.806 6998.104 7006.054 7009.995 7026.451 7030.507 7040.643 7047.373 7075.711 7081.312 7098.359 7122.761 7137.918 7138.132 7149.925 7169.192 7177.181 7184.787 7186.653 7189.365 7190.633 7224.686 7230.535 7232.089 7233.758 7236.926 7240.208 7243.624 7262.839 7264.573 7264.637 7270.813 7284.271 7291.545 7298.745 7300.887 7305.452 7311.530 7315.059 7317.777 7324.287 7326.167 7335.834 7339.573 7339.956 7341.993 7344.697 
[ 78.445s ] *** Query time: 15.984
qps: 625.625
 *** ivfpq recall 
ivfpq get 703519 postive res from 1000000 results, recall@100:0.704
recall dist(10% per bucket): 0.002 0.013 0.034 0.054 0.080 0.099 0.124 0.160 0.238 0.195 0.001 
finished ivfpq index examples
[ 78.474s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_50000_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_50000_1_100000_random_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50 20 100"
	User time (seconds): 76.39
	System time (seconds): 1.05
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:18.59
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1289124
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 410998
	Voluntary context switches: 699
	Involuntary context switches: 119
	Swaps: 0
	File system inputs: 14424
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 18:53
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50
nprobe: 20
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.709s ] Loaded metadata, 10000000 attr's found
[ 0.709s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.712s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.713s ] Loaded 10000 spacev10m queries
[ 0.782s ] Loaded ground truth, gt_size: 100
[ 0.782s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 1.890s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 72.210s ] Query results (vector ids, then distances):
query 0 nn's (40856, 50855): 606211 (46345) 6583311 (47922) 3082748 (43400) 8997960 (41694) 38473 (46733) 8538301 (43948) 7007393 (50612) 6547416 (46965) 2433318 (41182) 511283 (44517) 1947555 (46272) 7922669 (47051) 4932580 (43903) 244510 (41564) 9169598 (42707) 9576118 (47855) 6303532 (42119) 1545295 (43724) 74334 (45086) 347710 (45599) 3371587 (42783) 5454 (50127) 3815686 (47763) 7811790 (50102) 3178566 (41164) 2029623 (45395) 1288571 (45088) 2632800 (41462) 100232 (45360) 5661320 (49047) 4029747 (43158) 7703225 (42332) 6929262 (42738) 6549569 (43365) 516556 (48404) 1952371 (46531) 3586515 (42127) 6662255 (45091) 6015008 (47603) 1263541 (49264) 8814646 (49405) 4359261 (48997) 9284314 (44763) 8843034 (46356) 7043677 (41831) 9974866 (46574) 7930327 (47337) 9162838 (48173) 1334146 (42645) 5215588 (45563) 8169597 (48830) 5949911 (48460) 7866226 (50660) 4227532 (49453) 1335591 (46968) 9374041 (42778) 4005082 (41331) 1072226 (46371) 7835815 (45025) 8692256 (46024) 3351466 (46513) 8887022 (45611) 4470760 (44169) 7223435 (46300) 6592373 (48838) 3847526 (48670) 3956609 (44309) 9563123 (47541) 6928163 (48147) 4644935 (46100) 5232970 (50382) 6254494 (50396) 1770486 (49880) 8300539 (47189) 5723965 (48318) 1494916 (41928) 7315046 (44033) 2294395 (45582) 865830 (47294) 6703971 (50490) 1304598 (46886) 7721266 (42914) 3606930 (50817) 6219674 (46551) 6847596 (50541) 7237202 (47079) 7134019 (43250) 2061362 (48765) 8604707 (44282) 3000574 (48256) 5414760 (44534) 293504 (47359) 2536601 (46572) 4283450 (44096) 1776676 (45295) 5898204 (46586) 853398 (48546) 1886642 (48605) 6606765 (45282) 6985298 (46936) 
     dis: 	5260.997 6254.688 6519.620 7085.572 7284.152 7292.290 7475.898 7878.941 7942.328 8238.021 8305.371 8457.901 8562.139 8641.404 9381.196 9504.428 9505.646 9567.345 9680.544 9690.054 9710.193 9740.641 9765.999 9799.491 9875.965 9979.620 10125.771 10142.881 10162.145 10468.332 10605.559 10639.471 10644.826 10779.123 10829.137 10912.846 10918.918 10930.750 10974.671 10989.469 11002.890 11005.965 11008.246 11030.062 11058.409 11174.137 11192.293 11210.591 11249.475 11476.748 11557.156 11558.159 11593.985 11616.247 11629.052 11649.732 11744.811 11758.348 11833.786 12018.967 12051.834 12069.969 12125.754 12181.674 12281.809 12332.262 12377.398 12475.875 12641.979 12651.193 12675.994 12810.193 12977.080 13051.572 13055.076 13065.236 13135.829 13137.043 13163.697 13196.846 13210.570 13308.854 13344.326 13403.679 13426.404 13427.715 13540.807 13547.568 13561.789 13591.234 13591.586 13611.586 13745.201 13764.795 13769.000 13792.221 13819.626 13882.570 13898.130 13934.840 
query 1 nn's (25003, 35002): 6693881 (28141) 913237 (31716) 6631934 (28922) 128447 (33616) 1286599 (26580) 8084904 (26103) 4764135 (25237) 7191660 (26554) 1641593 (25519) 2400979 (32818) 2677560 (29840) 1580619 (31013) 1259440 (29909) 7983026 (33895) 4952577 (25638) 9319596 (27166) 9619526 (31001) 1010768 (32832) 9816629 (29872) 6825634 (34589) 6984105 (30431) 6894603 (30698) 4403537 (30334) 8605143 (32224) 8313860 (27237) 4444284 (29638) 2114720 (27014) 8431034 (29326) 7853534 (28186) 3892957 (32671) 3761710 (25464) 1762221 (34381) 7584986 (29468) 2791612 (32495) 9030241 (31642) 3502118 (28547) 4233253 (34954) 276903 (27774) 5993510 (28523) 5546102 (25312) 8112258 (29681) 5161531 (30241) 8858217 (27282) 1863099 (25769) 106949 (34898) 6536469 (32386) 2413303 (31844) 585173 (26431) 509025 (33013) 5064267 (33426) 7497777 (25404) 5444529 (27397) 6888185 (29407) 5219432 (30034) 9880058 (32934) 6180007 (31307) 5123925 (30030) 8129769 (28908) 4002686 (31505) 6704562 (34346) 7841909 (33192) 8034043 (26323) 452563 (26942) 6264256 (26218) 1707306 (25534) 5135644 (25853) 7847812 (33643) 1815724 (26232) 6889844 (32899) 5260673 (29121) 6562926 (34378) 575143 (26962) 8161839 (27932) 7947913 (25087) 4332264 (34035) 264101 (28800) 8865308 (31821) 195020 (29820) 4739877 (28974) 4389309 (34959) 921290 (29685) 7422498 (27247) 3935248 (30773) 3789630 (33797) 9771805 (31214) 7023451 (25277) 2543279 (33801) 9727721 (29117) 3146219 (34952) 9713427 (32386) 5278749 (31124) 1793360 (28434) 8932572 (27426) 464487 (26851) 5932403 (29482) 1333430 (29060) 5090800 (29191) 7439865 (29690) 2349245 (31033) 3074010 (34040) 
     dis: 	8396.801 9190.606 9293.700 9352.754 9447.030 10011.231 10105.922 10212.086 10240.245 10437.386 10662.205 10964.443 11047.003 11087.619 11142.678 11190.239 11241.274 11503.037 11517.520 11560.654 11731.916 11801.319 11939.963 11942.696 11993.186 12079.590 12132.781 12187.478 12299.143 12299.871 12369.609 12374.411 12409.921 12456.062 12534.035 12565.518 12597.652 12619.211 12625.094 12660.156 12662.411 12770.161 12809.998 12816.418 12851.830 12913.975 12947.116 12974.951 13033.977 13046.267 13063.252 13100.658 13128.266 13215.770 13243.243 13247.341 13247.748 13269.544 13276.765 13298.832 13336.201 13344.268 13422.716 13440.289 13446.234 13479.273 13501.859 13528.805 13718.508 13732.558 13737.074 13868.494 13893.543 13909.951 13915.246 13952.701 13957.001 13963.932 13966.928 13981.205 14001.236 14005.385 14048.867 14083.481 14103.891 14119.661 14148.660 14164.331 14175.699 14179.534 14209.766 14214.147 14215.850 14252.316 14276.758 14319.479 14351.266 14357.060 14382.205 14390.149 
query 2 nn's (52136, 62135): 5193386 (58419) 4710102 (57576) 9602743 (57407) 5423341 (53232) 9485250 (57717) 323907 (52531) 7126935 (58871) 6648184 (54160) 2557172 (56410) 6451690 (52651) 2655117 (60703) 8719744 (57812) 6334408 (55203) 8672644 (53328) 8060848 (58300) 2732881 (61677) 9117124 (55844) 2826478 (53769) 8118777 (53878) 8553474 (54164) 1445118 (59573) 6256134 (53229) 7430287 (54464) 8584412 (52154) 7841564 (59049) 974463 (55906) 8053598 (54560) 3199638 (54669) 9613009 (59128) 6483343 (60017) 2895724 (58490) 8628294 (54056) 6561491 (60260) 1599377 (56281) 5908619 (54797) 6799372 (55481) 8805708 (53769) 9568973 (52222) 5394801 (53600) 7067471 (54769) 3767167 (54407) 2661006 (61124) 8270538 (52862) 2938213 (60317) 1897140 (54275) 3762208 (58839) 7377075 (58903) 3027160 (52497) 1418740 (59524) 3316694 (61981) 8311897 (54795) 1745173 (52657) 4025610 (52373) 5747150 (57010) 7579941 (58916) 2062861 (54719) 9085967 (53557) 3845752 (58732) 1981339 (58011) 8780307 (56959) 6680530 (52729) 4421821 (55836) 9408207 (60206) 6612758 (61424) 8328180 (60670) 6987984 (52253) 8711849 (59964) 4806508 (53261) 3809587 (59587) 8202597 (57013) 6283101 (59691) 3909616 (58089) 7222957 (62063) 1066595 (57964) 4060044 (59282) 6084444 (52823) 7142785 (53016) 5535212 (60366) 6597541 (60314) 7031128 (54775) 2258667 (56862) 9235576 (54568) 2229481 (56763) 4467020 (56571) 1682089 (60505) 6822296 (52825) 9398400 (54388) 8891325 (58368) 4086084 (52367) 9289271 (59134) 6902515 (54472) 6068090 (56917) 5639939 (61737) 4262419 (53170) 7269892 (54416) 5947050 (55139) 3675927 (62128) 8514063 (55910) 6198584 (60893) 4961527 (61665) 
     dis: 	7288.263 8040.340 8071.849 8789.828 9124.141 9447.551 9917.584 10012.182 10037.378 10277.791 10298.174 10602.193 10784.173 10901.356 11182.670 11220.675 11439.910 11466.683 11582.521 11641.461 11661.485 11736.208 11739.817 11745.401 11876.736 11881.987 11885.845 11925.976 12010.532 12047.183 12087.525 12140.730 12253.938 12285.831 12288.053 12332.492 12334.305 12339.119 12371.369 12418.000 12437.941 12484.926 12493.312 12593.814 12673.933 12725.672 12750.545 12774.601 12839.791 12841.830 12856.777 12888.395 12900.182 12927.932 12954.048 12956.126 12995.179 13006.562 13027.057 13063.084 13084.670 13088.266 13096.565 13116.720 13139.332 13147.767 13209.119 13209.596 13230.578 13234.207 13234.525 13248.133 13272.731 13283.759 13299.239 13304.320 13308.207 13372.361 13379.415 13401.369 13403.362 13430.478 13439.743 13471.828 13482.548 13493.875 13578.695 13588.883 13591.582 13592.426 13593.500 13632.359 13653.582 13656.274 13659.521 13662.982 13665.424 13665.567 13665.937 13666.572 
query 3 nn's (22672, 32671): 1717763 (23291) 3188407 (24304) 391722 (24862) 4251611 (29775) 9892318 (23797) 5621855 (30749) 3626273 (24674) 5563393 (26978) 2851767 (31496) 3517824 (30137) 6703969 (32159) 2838160 (25464) 3787993 (28927) 188678 (31172) 9335946 (29064) 382902 (29996) 3554434 (25036) 9030244 (27086) 1174438 (25123) 899773 (23901) 5429466 (28066) 2047471 (29467) 928307 (26649) 348294 (30612) 7999457 (23329) 9768015 (27196) 5041302 (28077) 8281351 (26861) 2262413 (27923) 3640666 (29719) 2605021 (27817) 2540060 (25368) 9750958 (29512) 6060979 (26718) 6139929 (31601) 973000 (25306) 2024671 (25266) 6049067 (27212) 6723787 (22764) 6623327 (23063) 1763202 (24922) 4077495 (30934) 173114 (26788) 5492868 (22990) 1682348 (28974) 2406313 (31512) 2123002 (28494) 8768561 (27492) 8448447 (22710) 1156062 (28000) 7713351 (26471) 5788714 (28807) 613079 (31456) 9076327 (26379) 1088105 (26342) 7005089 (26286) 7708121 (28744) 5089352 (23180) 2972885 (25046) 9061349 (29953) 2211024 (27903) 3228780 (23488) 6400458 (23700) 2212301 (28845) 6799401 (27239) 5479426 (24290) 1348580 (28569) 3964129 (27723) 5542604 (30912) 7251101 (30664) 7775601 (25672) 6370197 (23516) 3005444 (32252) 6806656 (24656) 997943 (26818) 7405196 (26565) 4392973 (26149) 3591152 (29962) 5621702 (29834) 3315014 (31678) 9942674 (25583) 7747720 (27827) 4686380 (23122) 1548053 (27225) 3177251 (26136) 4094764 (23801) 6019139 (25044) 6870454 (28954) 5250140 (26634) 1314875 (31819) 6865812 (25074) 881949 (32250) 8081952 (28309) 7470103 (25661) 2155588 (29033) 4266774 (22944) 6618862 (24044) 8654535 (26180) 5844016 (27491) 965689 (31785) 
     dis: 	9582.531 9904.006 10241.127 10275.444 10434.219 10605.822 10705.795 11096.463 11219.842 11363.012 11514.631 11631.541 11782.334 11790.985 11803.078 11841.904 11948.590 12072.166 12079.988 12111.398 12194.070 12363.865 12459.809 12479.682 12483.482 12518.607 12520.254 12544.316 12614.100 12682.307 12691.202 12693.096 12704.875 12799.215 12825.279 12863.500 12894.533 12936.350 12941.477 12962.908 12974.404 13053.883 13068.133 13071.641 13165.745 13186.390 13208.830 13243.730 13305.453 13319.609 13328.393 13338.748 13354.790 13356.305 13378.840 13420.084 13422.961 13426.676 13458.213 13482.760 13484.623 13532.418 13583.180 13587.830 13632.099 13639.408 13640.541 13646.838 13692.166 13734.659 13735.945 13814.892 13824.902 13829.521 13839.035 13839.764 13863.140 13872.504 13875.260 13886.285 13898.627 13958.139 13994.834 14008.052 14015.443 14032.293 14059.479 14061.696 14074.377 14161.323 14168.754 14201.191 14313.551 14314.820 14322.328 14348.461 14352.283 14361.369 14366.973 14417.094 
query 4 nn's (53667, 63666): 2038833 (53914) 9044829 (55243) 3192757 (54312) 5685630 (55650) 8627902 (60097) 4734386 (57789) 1444782 (58902) 8641215 (59349) 6549886 (63665) 1111927 (56218) 7921516 (63604) 6851242 (63477) 6680137 (61587) 2157254 (54534) 1674437 (53911) 7650915 (63278) 3510502 (59384) 3154654 (58192) 1622397 (56749) 5627225 (58815) 6592347 (55694) 6766851 (54351) 1549949 (59274) 1595830 (57396) 6857077 (60175) 316811 (62016) 5602950 (61681) 7868398 (58238) 7611705 (55031) 6865199 (53751) 3932969 (59429) 9073069 (54706) 1993129 (58248) 7737218 (55024) 1842376 (62159) 9151038 (61386) 1030972 (60461) 8986848 (63373) 5208937 (53689) 6797251 (62260) 3038853 (59560) 6311304 (61722) 2950198 (55352) 9126043 (57149) 6788033 (55802) 7657646 (56973) 461309 (63195) 7724487 (61219) 3661184 (58912) 310911 (55903) 777128 (58555) 9464897 (57327) 3803266 (60060) 8482818 (58069) 6485682 (59957) 1882345 (56296) 5784602 (59746) 9612883 (62024) 630722 (63436) 7968142 (60479) 303769 (57852) 8057249 (54214) 8534601 (57591) 4689913 (62759) 9323917 (59260) 4686065 (55588) 1878810 (61897) 1305842 (59374) 1134962 (56445) 2338568 (54791) 5486731 (60943) 174351 (61472) 4697608 (58193) 4639297 (56135) 1893583 (53727) 5904626 (54014) 7830086 (62024) 5168059 (56510) 8851335 (61985) 347569 (54618) 3330891 (56590) 3199881 (53772) 1441979 (57647) 3891986 (55882) 1128316 (54610) 6602079 (58992) 6866552 (60660) 8709164 (59694) 3706627 (58686) 5804964 (62245) 6427252 (58087) 7584170 (62825) 3908403 (57408) 2780058 (59160) 5325327 (62959) 3145751 (61404) 5013221 (58901) 4103136 (58443) 68762 (55149) 8218228 (58092) 
     dis: 	6320.849 6556.619 6692.482 6781.140 6833.338 6914.599 6924.547 7026.451 7137.918 7149.925 7169.192 7230.535 7236.926 7264.573 7270.813 7305.452 7311.530 7317.777 7324.287 7335.834 7364.437 7387.994 7422.197 7428.093 7449.402 7530.842 7547.197 7550.273 7600.119 7648.682 7669.257 7696.136 7704.869 7709.521 7709.956 7737.784 7738.020 7740.167 7743.210 7763.464 7764.035 7824.582 7828.745 7830.208 7848.806 7848.932 7851.930 7883.902 7884.906 7914.887 7915.513 7917.750 7919.125 7919.673 7933.083 7935.306 7938.458 7944.797 7954.405 7957.862 7963.991 7967.370 7987.099 7988.014 7994.346 8009.717 8010.370 8015.021 8044.909 8047.445 8070.662 8073.233 8090.130 8098.340 8100.451 8115.540 8122.702 8125.742 8158.141 8171.016 8176.589 8181.971 8191.631 8196.896 8200.631 8213.140 8217.490 8219.758 8244.146 8246.504 8258.672 8264.579 8267.296 8279.809 8282.979 8286.621 8298.175 8303.525 8309.920 8312.440 
[ 72.211s ] *** Query time: 11.009
qps: 908.371
 *** ivfpq recall 
ivfpq get 609118 postive res from 1000000 results, recall@100:0.609
recall dist(10% per bucket): 0.005 0.030 0.064 0.096 0.116 0.132 0.151 0.162 0.163 0.080 0.001 
finished ivfpq index examples
[ 72.240s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_10000_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_10000_1_100000_random_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50 20 100"
	User time (seconds): 71.52
	System time (seconds): 0.79
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:12.31
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1289116
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 336555
	Voluntary context switches: 2
	Involuntary context switches: 74
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 19:00
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50
nprobe: 20
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.710s ] Loaded metadata, 10000000 attr's found
[ 0.710s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.713s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.714s ] Loaded 10000 spacev10m queries
[ 0.783s ] Loaded ground truth, gt_size: 100
[ 0.783s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 1.893s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 68.845s ] Query results (vector ids, then distances):
query 0 nn's (4494, 5493): 6149370 (4957) 2272371 (5258) 9641558 (4559) 7693645 (4921) 6166564 (4617) 841307 (4995) 2939481 (4939) 7587297 (4745) 8339032 (4998) 3403324 (5319) 6139591 (5168) 2566361 (4712) 150742 (5127) 6208747 (5338) 3273060 (5238) 5730962 (5149) 245188 (4931) 1752083 (4932) 8034974 (4666) 3904491 (5060) 15168 (4872) 6426108 (4564) 7508287 (4527) 400067 (5283) 9115894 (5021) 1316769 (5428) 9883125 (4797) 5157659 (4544) 4934715 (5390) 4068441 (5230) 6646974 (4849) 7097930 (5467) 6407081 (5247) 3524296 (5389) 5804262 (5274) 9695205 (5277) 1913520 (4635) 7325433 (5269) 4443467 (4843) 7961807 (5127) 7053294 (4851) 4733279 (5171) 1484446 (5468) 4853443 (4973) 4465480 (5279) 5485015 (5387) 6460788 (4593) 8158251 (5430) 4177374 (4531) 138988 (4718) 5494466 (5260) 1877690 (5252) 6540796 (5332) 1251755 (5192) 8214964 (4627) 2699375 (4600) 6023443 (4639) 3079105 (4821) 543006 (5033) 3809723 (4939) 1832759 (5193) 4380990 (4685) 6745936 (4705) 7651251 (5432) 6976452 (5357) 3200273 (4849) 1422422 (4953) 7369685 (4719) 9700926 (5127) 2508084 (5427) 9558489 (5386) 6474031 (5207) 304796 (5255) 4306737 (5332) 2874993 (4744) 3994031 (5321) 3350072 (4552) 9285695 (5237) 759791 (5093) 6459718 (4894) 9067633 (5303) 6628424 (4766) 6051532 (5087) 6453847 (4814) 5512181 (5354) 5790147 (5463) 1572541 (4995) 7793084 (5051) 9397261 (4758) 7084312 (4636) 7516890 (4773) 1131019 (5416) 1968220 (5238) 4001954 (4870) 8188145 (4598) 6058276 (4518) 1267137 (5144) 5164885 (4801) 2631658 (5448) 9642588 (4523) 
     dis: 	9798.878 12054.924 12493.771 12533.164 12733.529 12846.305 12904.840 13544.479 13701.008 14150.275 14561.832 14607.027 14753.767 15586.957 15640.195 16287.485 16341.658 16676.717 16693.609 16881.156 17062.412 17065.252 17535.420 17565.301 17586.604 17608.775 17638.904 17833.756 17887.107 17983.879 17987.477 18136.139 18140.359 18196.324 18405.369 18425.969 18458.807 18504.820 18599.014 18792.312 18856.562 18871.750 18918.348 18931.297 18962.875 19013.562 19054.529 19087.605 19181.352 19299.684 19315.424 19322.918 19485.496 19543.998 19690.842 19760.678 19794.887 19939.885 19956.385 19985.795 20004.961 20074.180 20111.119 20145.445 20177.873 20209.613 20408.469 20446.949 20529.758 20563.984 20614.281 20712.809 20726.637 20749.896 20751.887 20766.590 20797.641 21020.578 21085.115 21130.164 21142.719 21155.908 21161.012 21222.996 21299.387 21308.076 21392.641 21491.574 21534.754 21537.424 21609.977 21662.535 21778.000 21787.498 21835.465 21880.426 21890.371 21977.953 22055.004 22057.510 
query 1 nn's (37505, 38504): 5755448 (37848) 8391132 (38008) 5790200 (38489) 364702 (38495) 4994601 (38150) 7789051 (37871) 4358727 (38259) 9358072 (38328) 4114888 (38331) 4732664 (37565) 2765139 (38363) 6240841 (38110) 3563306 (37529) 639982 (37719) 4415604 (38158) 4615489 (37755) 7880657 (38317) 670596 (38129) 8728963 (38317) 5036152 (38170) 4027498 (37597) 8210644 (38465) 8917241 (38000) 8358627 (37518) 5245088 (37994) 3788709 (37710) 4753113 (38039) 109891 (37647) 823409 (38155) 9888370 (37911) 2694250 (38418) 7085672 (37652) 4289767 (38061) 7304059 (38117) 4478910 (37676) 5670794 (37739) 9044463 (38492) 7917318 (37524) 7131853 (37706) 1937248 (37551) 9663111 (37816) 2398531 (38230) 7108426 (38094) 4630340 (37527) 2690062 (38050) 6524660 (37879) 9352541 (37932) 4634223 (38137) 2178472 (37667) 5243911 (37973) 9491356 (37983) 4734524 (38431) 2422906 (37773) 7686719 (37676) 2129769 (37882) 4780335 (37922) 88446 (37507) 1410647 (37563) 9274241 (38403) 138083 (38124) 772881 (37676) 7414362 (38277) 476144 (37647) 3870251 (37884) 9313787 (38493) 8831506 (37563) 5159489 (38108) 9316683 (38219) 3486081 (38421) 2917129 (38003) 260408 (38459) 9460190 (38281) 8941050 (38435) 9403397 (38188) 8776866 (38438) 7905804 (38193) 71190 (37844) 4458480 (38306) 1654254 (38125) 5851350 (38241) 4243247 (38012) 2046201 (37757) 4332978 (38362) 7653685 (37890) 4590576 (38423) 6624298 (37794) 227335 (38333) 754509 (38499) 1457164 (37594) 1298018 (37680) 2187362 (38162) 2472745 (37745) 3061915 (37659) 5298267 (38074) 1925097 (37878) 7425414 (38489) 7747008 (37633) 5441211 (37919) 324928 (38313) 1692108 (37618) 
     dis: 	11426.594 12473.098 12492.893 12603.713 12658.415 12730.018 13636.898 13708.863 13773.801 13819.439 13844.566 13929.611 13942.811 14226.758 14479.299 14487.771 14550.328 14654.891 14735.466 14911.161 15047.216 15095.600 15263.908 15276.163 15465.813 15500.477 15520.889 15573.527 15584.400 15608.072 15706.791 15709.391 15777.058 15785.598 15805.825 15807.887 15875.885 15969.379 16011.150 16115.745 16182.973 16196.388 16261.401 16268.471 16329.568 16345.502 16365.824 16422.262 16442.156 16448.625 16512.336 16548.578 16563.906 16572.328 16628.094 16647.359 16720.723 16729.053 16742.258 16768.133 16826.531 17020.480 17029.332 17030.914 17167.195 17173.809 17260.035 17279.361 17309.504 17351.076 17397.824 17527.562 17532.465 17622.650 17632.209 17646.602 17789.949 17894.822 18053.873 18141.871 18150.957 18154.484 18173.520 18180.379 18253.090 18259.277 18295.883 18297.912 18299.523 18335.869 18413.477 18531.645 18546.994 18607.738 18650.305 18718.117 18839.607 18905.930 18942.404 19085.938 
query 2 nn's (17888, 18887): 2768752 (18434) 5798651 (18171) 7060335 (18263) 192071 (18322) 6489161 (18260) 4001654 (18856) 3343989 (18166) 5811483 (17911) 2280297 (17981) 651373 (18369) 3852413 (18339) 8865121 (18145) 5957745 (18686) 8034017 (18651) 7253171 (18873) 7090551 (18836) 4850757 (18188) 7915555 (18591) 2301421 (18209) 7729974 (18311) 2871547 (18852) 7959685 (18166) 3354445 (18294) 6155614 (18411) 1242605 (18866) 9513895 (18319) 8124614 (18842) 9257406 (18439) 2798853 (18054) 4084749 (18416) 4168146 (17986) 7993234 (18796) 8216340 (18735) 8118220 (18779) 3478200 (18692) 4645409 (18131) 7087180 (18459) 2022735 (18043) 1159882 (18164) 4351754 (17967) 9764458 (18731) 6440774 (18309) 6014912 (18801) 328693 (18319) 6719330 (18884) 3210352 (18754) 4062808 (18328) 2353254 (18646) 3847683 (17973) 1807516 (18655) 5252999 (18257) 1451724 (18117) 521025 (17968) 9809312 (18289) 1568546 (18732) 8803395 (18138) 1417759 (18062) 1812234 (18300) 17700 (18015) 8538536 (18041) 6076793 (17984) 2288705 (18218) 2282018 (18280) 6906720 (18060) 9643905 (18665) 1397546 (18324) 2275994 (18794) 7695962 (18227) 6445735 (18159) 8858677 (18534) 8156704 (18434) 4316218 (18749) 1112963 (18661) 6615239 (18703) 8347553 (18035) 2902473 (18276) 1188015 (18171) 8782225 (18753) 4764058 (18725) 1670182 (18637) 3194909 (18136) 2763507 (18618) 9566282 (18581) 202700 (18157) 3136118 (18110) 4875151 (18758) 2260891 (18130) 6886817 (18881) 7088639 (18612) 3651432 (18180) 8748784 (18433) 5106735 (18582) 4934134 (18530) 8227454 (17996) 5504217 (18191) 3702210 (17999) 6277108 (18788) 4251618 (18531) 7915933 (17895) 4225790 (18815) 
     dis: 	7765.161 8973.196 10603.062 10740.497 10855.636 11099.745 12097.129 12251.521 12744.539 12809.358 12865.800 12885.077 12979.390 13219.167 13441.815 13694.683 13853.723 13863.379 14310.873 14492.113 14504.794 14745.304 14749.432 14869.102 14912.559 14930.679 14983.092 15018.246 15025.492 15042.459 15240.839 15308.611 15334.504 15366.541 15522.923 15532.011 15566.464 15604.097 15686.846 15714.650 15774.735 15780.250 15956.373 16004.740 16021.561 16069.877 16103.304 16151.041 16155.992 16239.611 16299.761 16338.971 16348.809 16408.486 16493.170 16578.670 16645.598 16746.184 16868.129 17005.441 17021.031 17037.541 17090.592 17101.975 17213.588 17252.379 17288.426 17332.215 17405.074 17409.730 17418.840 17430.848 17446.455 17486.688 17548.760 17553.629 17593.871 17820.258 17849.840 17920.629 17942.605 17975.758 17994.010 17994.465 18079.510 18132.062 18150.102 18212.229 18265.637 18280.684 18289.945 18475.561 18574.953 18696.227 18740.877 18802.100 18831.836 18930.000 18954.855 18967.664 
query 3 nn's (11109, 12108): 5687185 (12097) 561416 (11821) 8459637 (11541) 7578623 (11167) 6204802 (12016) 3969193 (11781) 1473665 (11327) 3061123 (12077) 5285822 (11716) 6557504 (11784) 8609160 (11466) 859638 (11189) 8046548 (11685) 3528080 (11991) 7937205 (11170) 9473281 (11500) 3845490 (11792) 2418 (11477) 6580755 (12024) 6207318 (11695) 3658156 (11292) 3827663 (11401) 6270653 (11527) 5697552 (11833) 1720982 (11766) 3044944 (11199) 106710 (11544) 2485086 (12063) 300101 (11362) 9322635 (12003) 3716063 (12017) 500961 (11582) 6542973 (11384) 9247213 (11230) 8442772 (11259) 313153 (11244) 7841862 (11935) 9597095 (11205) 9745702 (11582) 8468245 (11967) 839209 (11280) 5943575 (12071) 4576135 (11662) 8829817 (11456) 423927 (11946) 1121715 (11145) 3898728 (11851) 5082953 (11536) 5677572 (11384) 693868 (11820) 1735300 (12073) 5270777 (11785) 6791297 (11958) 4958495 (11480) 5676973 (11453) 6886053 (11431) 644446 (11983) 8501834 (11755) 3650696 (11368) 7930829 (12070) 8388346 (11215) 5372876 (11699) 1335359 (11475) 7578461 (11447) 782304 (11526) 8206659 (11584) 7727866 (11408) 9917340 (11411) 5630520 (11340) 4919996 (11349) 1745901 (11176) 6122181 (11582) 7770925 (11989) 6426440 (11165) 896402 (11853) 1691269 (11584) 9710764 (11643) 3263251 (11520) 997005 (11822) 2102364 (11586) 8361712 (11190) 7189912 (11123) 6703993 (12095) 4939073 (11942) 4251811 (11368) 1394564 (12064) 9284725 (11226) 1468800 (11381) 6390470 (11329) 5174581 (11594) 1394957 (11333) 1297399 (11188) 7860679 (11319) 3559139 (11159) 8973327 (11665) 7259851 (11217) 9242035 (12073) 7644768 (12095) 157138 (11497) 317175 (11967) 
     dis: 	11116.825 12338.418 12692.926 13211.240 13397.504 13399.977 13630.539 14052.097 14108.133 14374.701 14641.500 14685.266 15203.667 15272.559 15453.418 15633.387 15667.447 15846.430 15928.021 16038.312 16215.281 16254.475 16304.126 16451.021 16490.551 16634.312 16668.898 16708.916 16749.824 16787.941 16806.119 16862.668 16872.830 16882.832 17019.395 17051.367 17068.230 17094.195 17269.553 17352.725 17437.438 17490.021 17510.301 17534.098 17537.254 17565.211 17618.910 17674.961 17798.572 17810.414 17838.449 17874.930 17898.832 17935.602 17946.611 18031.980 18169.221 18182.914 18209.092 18244.918 18328.254 18377.109 18416.047 18466.971 18481.301 18553.707 18593.887 18607.094 18615.178 18652.844 18741.023 18787.555 18845.410 18909.604 18910.877 18917.844 18942.520 18949.328 18961.768 18975.203 19005.799 19109.680 19116.434 19186.473 19213.221 19260.844 19370.416 19378.035 19432.271 19480.746 19483.947 19502.656 19618.223 19620.234 19677.031 19686.842 19694.230 19703.406 19714.328 19802.922 
query 4 nn's (17141, 18140): 4786845 (17889) 1240644 (17247) 2074283 (17512) 5552942 (18053) 7743549 (17817) 5408770 (18066) 6343329 (17916) 572088 (17996) 7372708 (17985) 2689415 (17797) 4739773 (17265) 8170734 (17334) 1800522 (17230) 8499942 (17237) 6998246 (18012) 1076381 (18061) 3549241 (17577) 7015372 (17258) 7046889 (17920) 2007382 (17240) 5131103 (17173) 6422945 (17477) 6181259 (18009) 9987571 (17515) 3620394 (17853) 2423134 (17664) 5912532 (17314) 2872613 (17421) 9484368 (17369) 1809054 (17615) 9552806 (17352) 9232278 (17182) 547402 (17439) 2187988 (17418) 97489 (17969) 1173692 (17857) 715126 (17934) 8257799 (18011) 2983599 (17778) 8601968 (17731) 2580119 (17508) 8478728 (17986) 952921 (17473) 898766 (18051) 7867115 (17297) 5486926 (18079) 8769694 (17553) 2211642 (17704) 2558410 (17470) 4844080 (18020) 8124740 (18081) 1567002 (17404) 8558683 (17970) 6949871 (17792) 3522636 (17522) 6494213 (17937) 9271812 (17319) 5410968 (18014) 3741113 (17750) 4332977 (17875) 9371327 (17719) 4083979 (17257) 1380782 (17243) 5790346 (17329) 9130595 (18014) 8046309 (17859) 8397189 (17707) 2602997 (17192) 1509296 (17924) 297068 (17221) 9047364 (17841) 5683968 (17437) 2698356 (17174) 6763179 (17264) 5841195 (17831) 7353382 (17168) 81123 (17508) 3371631 (17984) 9322486 (17624) 2765879 (18067) 7051611 (17250) 4931340 (17649) 4072451 (17944) 3321502 (17494) 2938648 (18014) 2068120 (18090) 5560379 (17793) 3679319 (17931) 7888831 (17442) 6533312 (17161) 9583371 (17974) 7205817 (17488) 2427399 (17553) 4210256 (17838) 2447982 (17740) 2931295 (17744) 650719 (17992) 2151074 (17897) 4844893 (17208) 9064950 (17857) 
     dis: 	6837.784 7031.828 7635.956 7929.324 8171.970 8236.769 8320.229 8401.981 8440.092 8441.498 8481.046 8486.976 8520.534 8547.896 8552.867 8599.787 8670.935 8729.997 8735.621 8787.891 8855.006 9010.322 9021.633 9041.795 9057.012 9063.853 9106.395 9115.277 9267.400 9278.125 9293.024 9336.519 9385.761 9402.677 9412.172 9415.277 9467.119 9540.780 9542.510 9546.854 9551.800 9585.881 9588.240 9600.518 9636.039 9638.535 9662.474 9676.966 9683.702 9691.723 9721.178 9726.601 9781.668 9819.971 9864.245 9865.728 9894.039 9894.831 9904.650 9909.934 9976.702 9982.264 9995.168 10026.326 10049.092 10105.869 10113.666 10138.592 10140.113 10143.203 10197.390 10200.825 10202.022 10209.264 10241.290 10243.697 10256.963 10265.799 10269.057 10291.940 10293.170 10300.416 10310.098 10354.094 10372.566 10379.809 10397.825 10406.790 10424.702 10430.719 10430.782 10493.910 10544.893 10554.801 10588.393 10605.629 10623.285 10627.904 10665.729 10698.553 
[ 68.845s ] *** Query time: 9.133
qps: 1094.966
 *** ivfpq recall 
ivfpq get 349116 postive res from 1000000 results, recall@100:0.349
recall dist(10% per bucket): 0.043 0.147 0.206 0.220 0.191 0.118 0.054 0.015 0.004 0.001 0.000 
finished ivfpq index examples
[ 68.874s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_1000_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_1000_1_100000_random_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50 20 100"
	User time (seconds): 68.12
	System time (seconds): 0.81
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:08.94
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1290148
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 336497
	Voluntary context switches: 1
	Involuntary context switches: 156
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 19:07
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_100.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50
nprobe: 20
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.707s ] Loaded metadata, 10000000 attr's found
[ 0.707s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.709s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.710s ] Loaded 10000 spacev10m queries
[ 0.779s ] Loaded ground truth, gt_size: 100
[ 0.779s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 1.911s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 72.011s ] Query results (vector ids, then distances):
query 0 nn's (15274, 15373): 5769046 (15300) 4702781 (15290) 6529736 (15348) 2613614 (15336) 3748027 (15328) 6326141 (15354) 6158267 (15274) 9762541 (15350) 6077085 (15368) 6111149 (15335) 9142221 (15299) 9758155 (15355) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	9339.131 15215.113 17311.945 18273.387 18782.104 19388.576 19628.861 20097.297 20120.453 20971.133 21968.488 22681.395 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (47455, 47554): 7518689 (47475) 3080191 (47543) 6244229 (47536) 1020870 (47459) 2932629 (47539) 8831076 (47472) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	14099.950 16455.492 19343.176 20014.070 20392.414 24026.377 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (2622, 2721): 3213761 (2637) 6508399 (2700) 603741 (2706) 2012904 (2667) 9842230 (2651) 4895774 (2720) 357863 (2628) 4575981 (2714) 6743980 (2714) 1431711 (2672) 5579211 (2721) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	14350.572 14386.454 16076.041 16816.576 17080.482 18000.113 18380.277 18562.625 20452.842 20784.680 21076.680 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (73957, 74056): 6689609 (74003) 4050481 (73978) 3150044 (74030) 5661120 (74004) 2140224 (74017) 1231887 (74000) 1295766 (73963) 9513790 (74013) 6698872 (74004) 219792 (74047) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	11728.946 14037.242 15767.667 16288.726 16518.201 16656.152 18108.602 20091.521 22086.285 24690.445 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (58381, 58480): 4103136 (58443) 1999660 (58444) 9684351 (58456) 3871589 (58382) 4043065 (58399) 7018664 (58405) 4871077 (58416) 7897965 (58462) 7970406 (58449) 2623305 (58399) 8604267 (58432) 7200685 (58419) 4193284 (58424) 8025306 (58442) 7306397 (58464) 6230684 (58470) 7694305 (58415) 9024654 (58435) 1708512 (58442) 4599974 (58460) 532679 (58442) 7601166 (58399) 795254 (58406) 8092324 (58400) 3348493 (58467) 6405434 (58428) 4300658 (58425) 7339652 (58385) 703909 (58417) 8017355 (58427) 1462270 (58452) 393162 (58454) 896784 (58415) 2234032 (58471) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	8303.525 8689.705 9137.789 9166.632 9487.299 9960.879 10092.391 10174.402 10639.189 10656.230 10670.904 10747.031 10861.677 10956.779 10996.303 11295.604 11356.607 11356.832 11493.465 11582.986 11616.529 11758.791 11829.336 12024.131 12179.414 12187.955 12267.271 12326.786 12560.668 12987.188 13533.523 13568.041 15939.019 16619.770 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 72.011s ] *** Query time: 9.675
qps: 1033.565
 *** ivfpq recall 
ivfpq get 100587 postive res from 1000000 results, recall@100:0.101
recall dist(10% per bucket): 0.480 0.487 0.033 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 
finished ivfpq index examples
[ 72.040s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 100 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/qrangesel_100_1_100000_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_100000_random/sif_gt_sel_100_1_100000_random_100.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_100000_random_50 20 100"
	User time (seconds): 71.30
	System time (seconds): 0.84
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:12.14
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1289124
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 336528
	Voluntary context switches: 2
	Involuntary context switches: 57
	Swaps: 0
	File system inputs: 0
	File system outputs: 72
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
