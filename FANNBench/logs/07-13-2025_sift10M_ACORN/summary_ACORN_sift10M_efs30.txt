Start time: 04:11
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift10M
N: 10000000
gamma: 25
M: 40
M_beta: 64
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json
index file: /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_2_100000_random_M40_ga25_Mb64
ef_search: 30 
dim: 128
metadata or vector loaded from json, size: 20000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 2.210s ] Loaded metadata, 20000000 attr's found
[ 2.210s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 2.214s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
metadata or vector loaded from json, size: 40000
loaded query attributes from: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
[ 2.217s ] Loaded 10000 sift10M queries
metadata or vector loaded from json, size: 1000000
loaded gt from: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json
[ 2.343s ] Loaded ground truth, gt_size: 100
[ 2.343s ] Index Params -- d: 128, M: 40, N: 10000000, gamma: 25
--ACORN index created
acorn size: 5985260000, memory: 10705.242MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 9999555 nodes
level 1 : 249955 nodes
level 2 : 6212 nodes
level 3 : 140 nodes
level 4 : 3 nodes
level 5 : 0 nodes
Total edge:10255865
Average degree per layer:1709310.833
node size:10000000
Average degree:149.631
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 25.889s ] Searching the 100 nearest neighbors of 10000 vectors in the index, efsearch 30
selectivity: 0.500
[ 595.042s ] Query results (vector ids, then distances):
query 0 nn's (6, 15386, 98713): 4160485 (6, 75840) 4738758 (6, 62037) 7293718 (6, 46327) 4538400 (6, 82045) 1020562 (6, 35855) 238649 (6, 89673) 9536881 (6, 67672) 9485971 (6, 68407) 7866119 (6, 74143) 9313115 (6, 38104) 77153 (6, 92241) 7164607 (6, 98353) 9925949 (6, 83292) 888010 (6, 89770) 5770330 (6, 31693) 8435256 (6, 19169) 2549151 (6, 55782) 9251169 (6, 27202) 5643020 (6, 54360) 1892471 (6, 50102) 419470 (6, 90141) 3255720 (6, 63008) 5520369 (6, 15713) 5710919 (6, 63861) 4326493 (6, 83717) 9409479 (6, 35326) 7974670 (6, 61959) 1642205 (6, 89554) 5831094 (6, 92274) 674077 (6, 43009) 8428377 (6, 96100) 6019325 (6, 86380) 392808 (6, 16290) 6871531 (6, 26675) 1203246 (6, 40158) 2707047 (6, 84931) 6328993 (6, 68905) 8039506 (6, 73870) 3517425 (6, 36130) 5835685 (6, 32204) 447965 (6, 76901) 2986000 (6, 89977) 839586 (6, 92605) 46468 (6, 38500) 9906463 (6, 17021) 6799000 (6, 35117) 7842689 (6, 63484) 5228659 (6, 22228) 7455148 (6, 61833) 5376243 (6, 80878) 3435228 (6, 81391) 1059921 (6, 43946) 1249067 (6, 38034) 7895839 (6, 60842) 7263957 (6, 62660) 2692614 (6, 59275) 476293 (6, 98031) 3094752 (6, 94405) 4698776 (6, 50473) 8838842 (6, 54025) 5072607 (6, 19349) 8610630 (6, 38917) 6889946 (6, 94728) 6425728 (6, 86237) 4624202 (6, 30437) 9299823 (6, 38249) 8898051 (6, 52188) 4321174 (6, 66991) 6436545 (6, 41848) 1246201 (6, 63087) 6494656 (6, 71688) 3366295 (6, 23833) 5116632 (6, 48638) 7187330 (6, 43121) 7718082 (6, 55506) 3390335 (6, 22945) 5577977 (6, 81061) 3128137 (6, 92087) 8615059 (6, 79282) 5327123 (6, 46834) 1313755 (6, 38912) 2478200 (6, 25956) 2294828 (6, 63695) 8329174 (6, 21261) 8744580 (6, 33457) 1136638 (6, 60638) 3955364 (6, 42544) 229081 (6, 23890) 6587413 (6, 79993) 2226989 (6, 97747) 1700324 (6, 87879) 9422333 (6, 97213) 8837113 (6, 25444) 5731847 (6, 32093) 1456323 (6, 88935) 151474 (6, 57087) 9172556 (6, 63078) 1433064 (6, 70579) 9110844 (6, 18085) 972308 (6, 42180) 
     dis: 	65950.000 74463.000 75573.000 76603.000 76767.000 77858.000 78206.000 78877.000 79448.000 79682.000 79964.000 80358.000 80660.000 80692.000 81243.000 81799.000 81827.000 81847.000 82000.000 82386.000 82431.000 82432.000 82492.000 82540.000 82567.000 82688.000 82693.000 82832.000 83049.000 83152.000 83232.000 83269.000 83552.000 84002.000 84353.000 84571.000 85322.000 85538.000 85597.000 85597.000 85625.000 85736.000 85800.000 85831.000 85842.000 85915.000 85925.000 85928.000 85963.000 85985.000 86005.000 86093.000 86100.000 86379.000 86743.000 86817.000 86891.000 86958.000 87100.000 87152.000 87272.000 87333.000 87451.000 87485.000 87536.000 87542.000 87602.000 87857.000 88420.000 88442.000 88566.000 88619.000 88809.000 88825.000 89162.000 89178.000 89184.000 89237.000 89325.000 89388.000 89399.000 89521.000 89633.000 90050.000 90061.000 90165.000 90337.000 90370.000 90668.000 90815.000 90914.000 90926.000 90932.000 91008.000 91069.000 91159.000 91199.000 91201.000 91248.000 91349.000 
query 1 nn's (6, 9087, 92417): 8449497 (6, 34983) 5552416 (6, 36365) 285986 (6, 75309) 4234271 (6, 67974) 2253711 (6, 37325) 4907604 (6, 25976) 1273419 (6, 33104) 7501440 (6, 14746) 1263214 (6, 88792) 9492445 (6, 12447) 8349375 (6, 22458) 9219153 (6, 58629) 3645374 (6, 90675) 1909131 (6, 54169) 6265610 (6, 87893) 5271910 (6, 41655) 7917424 (6, 90499) 9009284 (6, 67244) 371485 (6, 17413) 7343838 (6, 74913) 6378991 (6, 21879) 2993914 (6, 68602) 4702839 (6, 59837) 1346170 (6, 41296) 5589386 (6, 29204) 9015118 (6, 87716) 5008572 (6, 56537) 375999 (6, 89946) 296178 (6, 11477) 3324707 (6, 81184) 4809706 (6, 36811) 8646169 (6, 68725) 4757479 (6, 22324) 3786289 (6, 65499) 5516040 (6, 28998) 9815150 (6, 42238) 1784776 (6, 25331) 1350904 (6, 35417) 7031326 (6, 30204) 3050119 (6, 46972) 7342014 (6, 80693) 895436 (6, 74449) 5313986 (6, 26429) 1503119 (6, 38818) 741761 (6, 59044) 3665630 (6, 61393) 3872079 (6, 21033) 4493346 (6, 28840) 4512099 (6, 15894) 1461697 (6, 49246) 8440112 (6, 14227) 8984166 (6, 75605) 6087695 (6, 67694) 6986308 (6, 59303) 9913606 (6, 80400) 7315015 (6, 84354) 4500982 (6, 37756) 7672903 (6, 92226) 963644 (6, 20039) 8401639 (6, 60800) 8457342 (6, 79112) 6630533 (6, 53185) 2235415 (6, 59225) 5226515 (6, 26779) 4009753 (6, 84717) 3083636 (6, 72718) 7968009 (6, 31114) 8518091 (6, 42790) 4357659 (6, 12067) 5254261 (6, 65510) 5700748 (6, 75823) 3200275 (6, 28242) 3891904 (6, 29200) 7513620 (6, 48002) 491814 (6, 82945) 1410399 (6, 56069) 9388703 (6, 77438) 735668 (6, 16787) 4960102 (6, 30149) 5869072 (6, 9606) 6383821 (6, 21570) 8743749 (6, 12308) 7512095 (6, 73608) 7807906 (6, 27943) 1012664 (6, 81675) 4539661 (6, 43236) 4572312 (6, 44945) 7610510 (6, 45769) 8346283 (6, 22589) 6780375 (6, 33013) 9591804 (6, 46494) 8488585 (6, 17527) 8041031 (6, 92148) 6566369 (6, 44887) 2744457 (6, 89461) 7502105 (6, 21781) 2380099 (6, 42842) 727506 (6, 77622) 8899541 (6, 37709) 1143880 (6, 30029) 
     dis: 	32633.000 42944.000 43778.000 44439.000 45140.000 46066.000 46522.000 46910.000 47608.000 48691.000 49997.000 50730.000 50948.000 51310.000 51836.000 52252.000 52837.000 52935.000 54431.000 54601.000 54869.000 55326.000 55982.000 56324.000 56410.000 56457.000 56506.000 56619.000 57313.000 57508.000 57512.000 57703.000 57734.000 57771.000 57779.000 57793.000 57917.000 57960.000 58257.000 58502.000 58531.000 59156.000 59169.000 59550.000 59621.000 59901.000 59947.000 59949.000 60127.000 60324.000 60340.000 60632.000 60873.000 60913.000 60931.000 61093.000 61176.000 62051.000 62305.000 62462.000 62505.000 62563.000 62601.000 62693.000 62791.000 62992.000 63272.000 63533.000 63824.000 63867.000 63955.000 64056.000 64165.000 64180.000 64377.000 64505.000 64556.000 64597.000 64813.000 64890.000 64958.000 65073.000 65166.000 65184.000 65547.000 65629.000 65693.000 65923.000 65936.000 66097.000 66141.000 66231.000 66353.000 66363.000 66538.000 66544.000 66545.000 66893.000 66896.000 66921.000 
query 2 nn's (6, 3328, 86670): 3900297 (6, 83217) 4588082 (6, 31606) 8667807 (6, 80757) 237844 (6, 23653) 5982237 (6, 65005) 4480383 (6, 54571) 3493381 (6, 18042) 6296252 (6, 24163) 2795236 (6, 16996) 5637368 (6, 73018) 7500565 (6, 8859) 4457160 (6, 76374) 8510786 (6, 60842) 9410320 (6, 64533) 5988705 (6, 15181) 4154052 (6, 79109) 7654217 (6, 42044) 2994193 (6, 15692) 8923155 (6, 7071) 3832486 (6, 80444) 1198061 (6, 86515) 271911 (6, 44151) 1229611 (6, 85215) 9362419 (6, 16946) 9541874 (6, 78932) 1784913 (6, 45241) 4519717 (6, 40697) 4021389 (6, 21907) 419195 (6, 52999) 8563094 (6, 80394) 9790465 (6, 35494) 3795529 (6, 21617) 4973399 (6, 65418) 8198272 (6, 72364) 6347813 (6, 24884) 6114289 (6, 79310) 49352 (6, 52474) 7685482 (6, 10668) 8070798 (6, 76147) 9910009 (6, 10346) 141025 (6, 29704) 5631784 (6, 32640) 5596868 (6, 30597) 4861540 (6, 67691) 1463083 (6, 61154) 1878319 (6, 47080) 3567890 (6, 52657) 2723946 (6, 45580) 1956474 (6, 55102) 4418406 (6, 9501) 4713533 (6, 77619) 8913430 (6, 65744) 4283746 (6, 59831) 1297680 (6, 45188) 4542872 (6, 70231) 9906560 (6, 47924) 9384590 (6, 26735) 8801441 (6, 53336) 9724885 (6, 32424) 2247452 (6, 23492) 2383566 (6, 67183) 1700496 (6, 44695) 8476333 (6, 6657) 2407252 (6, 46696) 5879779 (6, 29152) 1758192 (6, 15169) 7194949 (6, 19975) 5488746 (6, 51482) 2262090 (6, 60953) 5834114 (6, 68309) 4111853 (6, 33726) 9650562 (6, 29241) 6511526 (6, 66264) 8607006 (6, 4482) 3923684 (6, 21946) 2016764 (6, 70399) 4824470 (6, 60977) 9442629 (6, 53808) 2036301 (6, 74354) 4427139 (6, 5171) 3028 (6, 13272) 1688252 (6, 45076) 8064263 (6, 10971) 5709226 (6, 25299) 4112561 (6, 38258) 4083557 (6, 69006) 5407857 (6, 57461) 5684221 (6, 63216) 2327550 (6, 41546) 7794718 (6, 5750) 6123597 (6, 30443) 5054841 (6, 74548) 2653893 (6, 51912) 6757010 (6, 27912) 9375728 (6, 50466) 1281556 (6, 58932) 871001 (6, 22322) 6300888 (6, 16945) 6839423 (6, 59704) 666623 (6, 68413) 
     dis: 	43033.000 47637.000 47988.000 49294.000 50144.000 50702.000 51043.000 51071.000 51181.000 51405.000 51634.000 51795.000 52273.000 52939.000 53001.000 53029.000 53106.000 53360.000 54025.000 54273.000 54288.000 54365.000 54404.000 54496.000 54558.000 54759.000 55350.000 55907.000 55957.000 55995.000 56197.000 56262.000 56343.000 56416.000 56449.000 56627.000 56721.000 57176.000 57245.000 57310.000 57318.000 57398.000 57613.000 57716.000 57848.000 58055.000 58195.000 58328.000 58484.000 58485.000 58526.000 58788.000 58925.000 58977.000 58989.000 58993.000 59021.000 59135.000 59587.000 59600.000 59644.000 59681.000 59745.000 59815.000 59823.000 59887.000 60055.000 60058.000 60066.000 60114.000 60183.000 60272.000 60574.000 60587.000 60631.000 60789.000 60874.000 60938.000 60983.000 61111.000 61140.000 61144.000 61267.000 61273.000 61277.000 61321.000 61472.000 61535.000 61587.000 61626.000 61666.000 61717.000 61764.000 61808.000 61926.000 61977.000 61978.000 62035.000 62059.000 62098.000 
query 3 nn's (6, 14596, 97918): 980813 (6, 71799) 1527942 (6, 63601) 2205832 (6, 88191) 4147780 (6, 81935) 6151275 (6, 35885) 8410503 (6, 21539) 7269483 (6, 65758) 3643741 (6, 16392) 1985932 (6, 29948) 5124856 (6, 21115) 1417424 (6, 44675) 6411621 (6, 75418) 2892348 (6, 17177) 4904828 (6, 90172) 1124016 (6, 73832) 9010353 (6, 72511) 5224964 (6, 83012) 8649378 (6, 68639) 1911911 (6, 37348) 2218358 (6, 72770) 1344917 (6, 87616) 4890579 (6, 38501) 1739894 (6, 46666) 8501071 (6, 67768) 4246457 (6, 40977) 4486659 (6, 58126) 5716081 (6, 23527) 1514080 (6, 74319) 692217 (6, 48752) 9019201 (6, 61521) 9577990 (6, 43595) 7301436 (6, 90494) 290433 (6, 69934) 1590183 (6, 94432) 2630576 (6, 57868) 9257537 (6, 60208) 9925791 (6, 15173) 5755561 (6, 37222) 8051314 (6, 72057) 5381241 (6, 63826) 192312 (6, 54361) 879082 (6, 25842) 179529 (6, 54770) 9654367 (6, 58332) 2112048 (6, 94604) 9625994 (6, 73697) 9517308 (6, 55668) 9444290 (6, 76600) 9754475 (6, 84687) 7691560 (6, 91438) 9335193 (6, 23002) 1028926 (6, 22482) 9981635 (6, 86230) 1326424 (6, 65471) 5777538 (6, 42963) 7119531 (6, 86784) 222255 (6, 43651) 3421950 (6, 21530) 7614050 (6, 96453) 1502235 (6, 81373) 422848 (6, 15295) 6045699 (6, 92637) 8344580 (6, 46316) 1061321 (6, 32170) 8660300 (6, 17947) 3607435 (6, 42471) 8688385 (6, 69473) 8702151 (6, 27446) 4503222 (6, 80612) 5293699 (6, 91667) 6697954 (6, 46859) 7583501 (6, 89112) 8643637 (6, 60122) 840086 (6, 38327) 4372662 (6, 67651) 6346885 (6, 44856) 6281603 (6, 97704) 8323731 (6, 54958) 3828353 (6, 97118) 3704240 (6, 23884) 7747974 (6, 16438) 8556892 (6, 76889) 5181700 (6, 85910) 1217378 (6, 29565) 449169 (6, 96745) 82034 (6, 30145) 1229577 (6, 87073) 5663020 (6, 79607) 3195943 (6, 64854) 3080406 (6, 70341) 9701282 (6, 49995) 1604878 (6, 49371) 618359 (6, 24852) 2842840 (6, 17161) 240857 (6, 86618) 9102009 (6, 33306) 6734945 (6, 43438) 4540202 (6, 89365) 2305251 (6, 54398) 940098 (6, 78790) 
     dis: 	4296.000 4309.000 4343.000 4550.000 4602.000 4817.000 4894.000 5279.000 5371.000 5492.000 5643.000 5998.000 6047.000 6194.000 6290.000 6311.000 6378.000 6468.000 6655.000 6693.000 6747.000 6771.000 6845.000 6973.000 6981.000 7021.000 7160.000 7171.000 7226.000 7233.000 7282.000 7394.000 7438.000 7460.000 7486.000 7531.000 7580.000 7587.000 7644.000 7666.000 7673.000 7688.000 7708.000 7746.000 7792.000 7825.000 7861.000 8042.000 8058.000 8087.000 8123.000 8228.000 8230.000 8268.000 8322.000 8362.000 8395.000 8402.000 8407.000 8414.000 8500.000 8590.000 8594.000 8608.000 8650.000 8714.000 8797.000 8809.000 8850.000 8860.000 8912.000 8939.000 8954.000 9013.000 9063.000 9153.000 9157.000 9177.000 9207.000 9212.000 9230.000 9235.000 9404.000 9510.000 9576.000 9581.000 9736.000 9763.000 9774.000 9786.000 9808.000 9946.000 9990.000 9997.000 10000.000 10018.000 10027.000 10060.000 10084.000 10110.000 
query 4 nn's (6, 1537, 84881): 7091990 (6, 39499) 5493369 (6, 76459) 3389697 (6, 55907) 6062843 (6, 18553) 6388463 (6, 27537) 3220361 (6, 51022) 7724095 (6, 64271) 4366121 (6, 16172) 7358946 (6, 21627) 7423926 (6, 77977) 3832333 (6, 59123) 39005 (6, 62188) 5708200 (6, 63590) 8630333 (6, 17180) 7455536 (6, 18226) 2989150 (6, 34854) 3405146 (6, 82722) 8493266 (6, 26629) 2045614 (6, 55556) 8515169 (6, 77181) 4399052 (6, 73619) 7907570 (6, 68006) 5729760 (6, 9406) 992395 (6, 48895) 1804833 (6, 34533) 330819 (6, 48267) 2617346 (6, 35760) 1784595 (6, 38281) 9493047 (6, 76865) 3882262 (6, 27678) 5126636 (6, 2816) 3803911 (6, 66493) 7069107 (6, 42234) 7223142 (6, 49842) 718421 (6, 33536) 6562890 (6, 16377) 3903546 (6, 51990) 9036622 (6, 18691) 6887757 (6, 76420) 1127203 (6, 12198) 9167103 (6, 35510) 2840566 (6, 15038) 5147412 (6, 20119) 282088 (6, 13264) 8295863 (6, 76375) 6030505 (6, 77387) 8305984 (6, 31043) 2085966 (6, 77261) 5295225 (6, 24889) 2161200 (6, 37062) 3355354 (6, 13349) 6135063 (6, 21975) 4191964 (6, 58715) 7360489 (6, 2199) 1250383 (6, 80981) 8093343 (6, 19413) 1321308 (6, 72004) 3995772 (6, 41708) 9264780 (6, 54598) 417877 (6, 33615) 3157713 (6, 14146) 1919553 (6, 72310) 3851046 (6, 55796) 1323172 (6, 30988) 1313706 (6, 7873) 6132133 (6, 75028) 1983315 (6, 9815) 1863408 (6, 69517) 6847867 (6, 51762) 6255199 (6, 2960) 4977102 (6, 49853) 1715676 (6, 84843) 1396997 (6, 73336) 79640 (6, 44302) 3383336 (6, 22311) 8910057 (6, 51830) 6516336 (6, 39877) 6719732 (6, 55014) 5556795 (6, 53837) 8831262 (6, 46132) 3087017 (6, 28411) 4122433 (6, 17466) 8302848 (6, 22812) 7492188 (6, 26820) 9894175 (6, 35806) 9114314 (6, 35523) 3968696 (6, 83855) 2623383 (6, 29592) 7421527 (6, 8306) 937296 (6, 54757) 8973949 (6, 34965) 1843507 (6, 10135) 9738278 (6, 19409) 3546857 (6, 2899) 2724195 (6, 40391) 784320 (6, 24003) 4900336 (6, 34216) 4056392 (6, 11151) 4691018 (6, 55392) 1551319 (6, 71073) 
     dis: 	77167.000 81626.000 84350.000 84746.000 86061.000 86625.000 86698.000 86842.000 87070.000 87152.000 87409.000 87925.000 88206.000 88437.000 90981.000 91566.000 92174.000 94291.000 94445.000 94897.000 95276.000 95354.000 95543.000 96611.000 97117.000 97440.000 97472.000 97615.000 97659.000 97696.000 98026.000 98148.000 98237.000 98488.000 98664.000 98695.000 98840.000 98947.000 99053.000 99086.000 99304.000 99749.000 99873.000 99960.000 100041.000 100072.000 100152.000 100170.000 100324.000 100676.000 100874.000 101026.000 101463.000 101655.000 101863.000 101889.000 101955.000 102184.000 102259.000 102300.000 102357.000 102402.000 102565.000 102719.000 102894.000 102961.000 103032.000 103283.000 103309.000 103490.000 103636.000 103852.000 104148.000 104207.000 104331.000 104345.000 104476.000 104483.000 104485.000 104498.000 104669.000 104690.000 104754.000 104783.000 104785.000 104787.000 104790.000 104984.000 105019.000 105248.000 105336.000 105415.000 105465.000 105506.000 105652.000 105805.000 105858.000 105894.000 106004.000 106039.000 
[ 595.042s ] *** Query time: 24.260
qps: 412.206
 *** acorn recall 
efs:30
acorn get 726769 postive res from 1000000 results, recall@100:0.727
recall dist(10% per bucket): 0.001 0.001 0.006 0.023 0.068 0.123 0.184 0.197 0.206 0.181 0.008 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[595.073s] Timing results for search of k=100 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 0
n3 (number distance comps at level 0): 22396241
ndis: 0
nreorder: 0
average distance computations per query: 2239.624
[ 595.073s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query_arbi sift10M 10000000 25 40 64 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_2_100000_random_M40_ga25_Mb64 30 128"
	User time (seconds): 566.48
	System time (seconds): 17.98
	Percent of CPU this job got: 98%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 9:56.18
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 17053736
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 5957471
	Voluntary context switches: 34135
	Involuntary context switches: 938
	Swaps: 0
	File system inputs: 1569840
	File system outputs: 48
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 05:13
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift10M
N: 10000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_10.json
index file: /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_2_100000_random_M40_ga25_Mb64
ef_search: 30 
dim: 128
metadata or vector loaded from json, size: 20000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 2.261s ] Loaded metadata, 20000000 attr's found
[ 2.261s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 2.265s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
metadata or vector loaded from json, size: 40000
loaded query attributes from: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
[ 2.269s ] Loaded 10000 sift10M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_10.json
[ 2.280s ] Loaded ground truth, gt_size: 10
[ 2.280s ] Index Params -- d: 128, M: 40, N: 10000000, gamma: 25
--ACORN index created
acorn size: 5985260000, memory: 10705.242MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 9999555 nodes
level 1 : 249955 nodes
level 2 : 6212 nodes
level 3 : 140 nodes
level 4 : 3 nodes
level 5 : 0 nodes
Total edge:10255865
Average degree per layer:1709310.833
node size:10000000
Average degree:149.631
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 12.413s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 30
selectivity: 0.500
[ 586.572s ] Query results (vector ids, then distances):
query 0 nn's (6, 15386, 98713): 4738758 (6, 62037) 4538400 (6, 82045) 1020562 (6, 35855) 238649 (6, 89673) 9536881 (6, 67672) 9485971 (6, 68407) 7866119 (6, 74143) 77153 (6, 92241) 7164607 (6, 98353) 9925949 (6, 83292) 
     dis: 	74463.000 76603.000 76767.000 77858.000 78206.000 78877.000 79448.000 79964.000 80358.000 80660.000 
query 1 nn's (6, 9087, 92417): 8449497 (6, 34983) 5552416 (6, 36365) 285986 (6, 75309) 4234271 (6, 67974) 2253711 (6, 37325) 4907604 (6, 25976) 1273419 (6, 33104) 7501440 (6, 14746) 1263214 (6, 88792) 9492445 (6, 12447) 
     dis: 	32633.000 42944.000 43778.000 44439.000 45140.000 46066.000 46522.000 46910.000 47608.000 48691.000 
query 2 nn's (6, 3328, 86670): 3900297 (6, 83217) 4588082 (6, 31606) 8667807 (6, 80757) 237844 (6, 23653) 5982237 (6, 65005) 4480383 (6, 54571) 3493381 (6, 18042) 6296252 (6, 24163) 2795236 (6, 16996) 5637368 (6, 73018) 
     dis: 	43033.000 47637.000 47988.000 49294.000 50144.000 50702.000 51043.000 51071.000 51181.000 51405.000 
query 3 nn's (6, 14596, 97918): 980813 (6, 71799) 1527942 (6, 63601) 2205832 (6, 88191) 4147780 (6, 81935) 6151275 (6, 35885) 8410503 (6, 21539) 7269483 (6, 65758) 3643741 (6, 16392) 1985932 (6, 29948) 5124856 (6, 21115) 
     dis: 	4296.000 4309.000 4343.000 4550.000 4602.000 4817.000 4894.000 5279.000 5371.000 5492.000 
query 4 nn's (6, 1537, 84881): 7091990 (6, 39499) 5493369 (6, 76459) 3389697 (6, 55907) 3220361 (6, 51022) 7724095 (6, 64271) 4366121 (6, 16172) 7423926 (6, 77977) 5708200 (6, 63590) 8630333 (6, 17180) 7455536 (6, 18226) 
     dis: 	77167.000 81626.000 84350.000 86625.000 86698.000 86842.000 87152.000 88206.000 88437.000 90981.000 
[ 586.572s ] *** Query time: 27.587
qps: 362.487
 *** acorn recall 
efs:30
acorn get 79241 postive res from 100000 results, recall@10:0.792
recall dist(10% per bucket): 0.008 0.008 0.013 0.023 0.040 0.057 0.079 0.112 0.149 0.195 0.318 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[586.573s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 18658630
ndis: 0
nreorder: 0
average distance computations per query: 1865.863
[ 586.573s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query_arbi sift10M 10000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_10.json /mnt/data/mocheng/dataset/sift10m/acorn/index/index_acorn_sel_2_100000_random_M40_ga25_Mb64 30 128"
	User time (seconds): 569.27
	System time (seconds): 18.66
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 9:48.00
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 17037140
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 6337151
	Voluntary context switches: 1
	Involuntary context switches: 1892
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
