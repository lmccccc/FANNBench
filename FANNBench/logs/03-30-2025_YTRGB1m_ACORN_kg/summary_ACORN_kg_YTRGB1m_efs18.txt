Start time: 03:09
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: YTRGB1m
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_1_1_100000_real.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_1_1_100000_real_10.json
index file: /mnt/data/mocheng/dataset/youtube1m/acorn_kg/index/index_acorn_kg_sel_1_100000_real_M40_ga25_Mb64
ef_search: 18 
dim: 1024
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
[ 0.111s ] Loaded metadata, 1000000 attr's found
[ 0.111s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.136s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_1_1_100000_real.json
[ 0.138s ] Loaded 10000 YTRGB1m queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_1_1_100000_real_10.json
[ 0.149s ] Loaded ground truth, gt_size: 10
[ 0.149s ] Index Params -- d: 1024, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 4488.358MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999945 nodes
level 1 : 24953 nodes
level 2 : 619 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025534
Average degree per layer:170922.333
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 4.098s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 18
selectivity: 1.000
[ 24.013s ] Query results (vector ids, then distances):
query 0 nn's (419): 48714 (3285) 980214 (3358) 418474 (20587) 599702 (5849) 70519 (23994) 802406 (24540) 34525 (9417) 457861 (2688) 616256 (8455) 208021 (3671) 
     dis: 	88.391 88.567 88.657 89.420 89.759 90.070 92.406 92.534 92.667 92.745 
query 1 nn's (2147483647): 230459 (3753) 302746 (1711) 470075 (50266) 963956 (172687) 497306 (2143) 187245 (13126) 630027 (57668) 320776 (61674) 819134 (10714) 853723 (9251) 
     dis: 	49.807 50.920 51.472 53.192 53.385 53.556 53.659 53.817 54.079 54.131 
query 2 nn's (419): 423205 (2778) 326896 (12024) 531527 (2028) 435470 (4103) 871743 (6917) 225875 (3761) 947479 (1436) 633590 (2353) 308085 (1462) 528201 (3388) 
     dis: 	132.517 135.169 135.263 135.721 136.001 136.506 137.157 137.396 137.761 137.993 
query 3 nn's (2147483647): 343722 (6668) 683491 (5347) 916832 (59789) 496154 (4954) 998487 (4202) 365062 (85401) 14572 (5342) 29840 (338351) 189077 (1403) 64796 (11224) 
     dis: 	183.787 185.168 185.433 187.193 187.557 187.595 187.699 187.943 188.005 188.479 
query 4 nn's (419): 571087 (1208) 225091 (7937) 147783 (2216) 57647 (18715) 510649 (1486) 627245 (2499) 69833 (1935) 105472 (3869) 277825 (54571) 7499 (50345) 
     dis: 	251.902 253.222 254.227 255.072 256.405 258.355 258.981 259.206 259.561 259.918 
[ 24.013s ] *** Query time: 13.372
qps: 747.827
 *** acorn recall 
efs:18
acorn get 48704 postive res from 100000 results, recall@10:0.487
recall dist(10% per bucket): 0.248 0.061 0.052 0.051 0.055 0.056 0.059 0.070 0.086 0.102 0.160 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[24.014s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 8748588
ndis: 0
nreorder: 0
average distance computations per query: 874.859
[ 24.014s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query YTRGB1m 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_1_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_1_1_100000_real_10.json /mnt/data/mocheng/dataset/youtube1m/acorn_kg/index/index_acorn_kg_sel_1_100000_real_M40_ga25_Mb64 18 1024"
	User time (seconds): 20.16
	System time (seconds): 4.16
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:24.32
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 5248232
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1322206
	Voluntary context switches: 1
	Involuntary context switches: 50
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:15
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: YTRGB1m
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_6_1_100000_real.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_6_1_100000_real_10.json
index file: /mnt/data/mocheng/dataset/youtube1m/acorn_kg/index/index_acorn_kg_sel_1_100000_real_M40_ga25_Mb64
ef_search: 18 
dim: 1024
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
[ 0.116s ] Loaded metadata, 1000000 attr's found
[ 0.116s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.140s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_6_1_100000_real.json
[ 0.143s ] Loaded 10000 YTRGB1m queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_6_1_100000_real_10.json
[ 0.154s ] Loaded ground truth, gt_size: 10
[ 0.154s ] Index Params -- d: 1024, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 4488.358MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999945 nodes
level 1 : 24953 nodes
level 2 : 619 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025534
Average degree per layer:170922.333
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 3.875s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 18
selectivity: 0.500
[ 66.496s ] Query results (vector ids, then distances):
query 0 nn's (1267): 48714 (3285) 980214 (3358) 916929 (1333) 457861 (2688) 208021 (3671) 673940 (1914) 19514 (1726) 958384 (5794) 953921 (1591) 437459 (5473) 
     dis: 	88.391 88.567 91.724 92.534 92.745 94.137 94.944 95.874 96.544 96.570 
query 1 nn's (6842): 230459 (3753) 302746 (1711) 497306 (2143) 506689 (8264) 853723 (9251) 138086 (2308) 373852 (9446) 326679 (7296) 358433 (2215) 689633 (2134) 
     dis: 	49.807 50.920 53.385 53.409 54.131 54.328 54.349 54.387 54.582 54.671 
query 2 nn's (1660): 423205 (2778) 531527 (2028) 435470 (4103) 871743 (6917) 225875 (3761) 633590 (2353) 528201 (3388) 509845 (3059) 666817 (7868) 979613 (2315) 
     dis: 	132.517 135.263 135.721 136.001 136.506 137.396 137.993 139.068 139.336 139.364 
query 3 nn's (9508): 136177 (7299) 260825 (20057) 647424 (64537) 762909 (16388) 343722 (6668) 750794 (13264) 683491 (5347) 433245 (14738) 916832 (59789) 106987 (74575) 
     dis: 	181.359 183.437 183.476 183.497 183.787 184.733 185.168 185.319 185.433 186.271 
query 4 nn's (1724): 719380 (6117) 690285 (9682) 950887 (3058) 461345 (2800) 89809 (2923) 62933 (5287) 969735 (4636) 27286 (4314) 565522 (19123) 693282 (5409) 
     dis: 	56.225 63.143 66.157 71.556 72.466 75.294 75.616 76.658 79.761 79.911 
[ 66.496s ] *** Query time: 13.446
qps: 743.741
 *** acorn recall 
efs:18
acorn get 54177 postive res from 100000 results, recall@10:0.542
recall dist(10% per bucket): 0.197 0.052 0.048 0.052 0.056 0.057 0.065 0.076 0.088 0.114 0.196 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[66.496s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 8314602
ndis: 0
nreorder: 0
average distance computations per query: 831.460
[ 66.496s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query YTRGB1m 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_6_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_6_1_100000_real_10.json /mnt/data/mocheng/dataset/youtube1m/acorn_kg/index/index_acorn_kg_sel_1_100000_real_M40_ga25_Mb64 18 1024"
	User time (seconds): 62.59
	System time (seconds): 4.16
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:06.76
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 5248228
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1322201
	Voluntary context switches: 1
	Involuntary context switches: 74
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:22
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: YTRGB1m
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_10.json
index file: /mnt/data/mocheng/dataset/youtube1m/acorn_kg/index/index_acorn_kg_sel_1_100000_real_M40_ga25_Mb64
ef_search: 18 
dim: 1024
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
[ 0.111s ] Loaded metadata, 1000000 attr's found
[ 0.111s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.136s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json
[ 0.138s ] Loaded 10000 YTRGB1m queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_10.json
[ 0.149s ] Loaded ground truth, gt_size: 10
[ 0.149s ] Index Params -- d: 1024, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 4488.358MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999945 nodes
level 1 : 24953 nodes
level 2 : 619 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025534
Average degree per layer:170922.333
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 3.863s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 18
selectivity: 0.100
[ 54.666s ] Query results (vector ids, then distances):
query 0 nn's (38855): 737273 (113404) 469118 (94608) 99619 (56529) 952701 (51288) 973705 (48354) 945815 (121035) 315673 (136096) 863882 (51634) 95475 (62765) 405113 (58331) 
     dis: 	91.199 92.759 92.927 93.375 95.349 95.953 96.081 96.189 96.407 96.994 
query 1 nn's (139269): 411735 (20503) 380703 (20612) 833378 (33326) 431933 (31516) 360005 (30819) 365136 (35560) 731008 (26372) 146981 (27559) 466827 (32372) 667959 (22694) 
     dis: 	55.105 55.684 56.307 56.479 56.682 57.351 57.361 57.848 59.323 59.359 
query 2 nn's (18169): 435470 (4103) 76351 (5317) 44203 (5374) 473207 (5280) 604626 (4097) 907166 (5172) 142229 (4776) 290643 (5230) 867372 (5230) 423023 (5239) 
     dis: 	135.721 141.252 141.655 141.696 141.867 142.668 142.683 143.368 143.368 143.631 
query 3 nn's (37472): 608874 (2611) 871467 (2996) 717608 (2612) 523139 (2339) 258253 (2335) 849185 (2837) 509845 (3059) 101897 (2384) 633590 (2353) 858706 (2801) 
     dis: 	177.477 185.836 185.953 186.303 186.954 188.542 188.699 189.435 189.866 189.974 
query 4 nn's (4082): 565522 (19123) 343865 (20909) 272496 (18617) 864885 (19198) 302474 (17449) 4088 (17006) 275060 (16756) 552830 (32019) 386301 (20767) 751020 (27082) 
     dis: 	79.761 93.190 93.270 95.693 102.008 107.351 108.890 112.116 112.985 115.876 
[ 54.666s ] *** Query time: 11.573
qps: 864.073
 *** acorn recall 
efs:18
acorn get 76584 postive res from 100000 results, recall@10:0.766
recall dist(10% per bucket): 0.052 0.015 0.020 0.024 0.028 0.043 0.059 0.090 0.133 0.199 0.336 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[54.666s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 6430277
ndis: 0
nreorder: 0
average distance computations per query: 643.028
[ 54.666s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query YTRGB1m 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_10.json /mnt/data/mocheng/dataset/youtube1m/acorn_kg/index/index_acorn_kg_sel_1_100000_real_M40_ga25_Mb64 18 1024"
	User time (seconds): 50.82
	System time (seconds): 4.10
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:54.93
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 5248232
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1322206
	Voluntary context switches: 1
	Involuntary context switches: 58
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 03:29
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: YTRGB1m
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_19_1_100000_real.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_19_1_100000_real_10.json
index file: /mnt/data/mocheng/dataset/youtube1m/acorn_kg/index/index_acorn_kg_sel_1_100000_real_M40_ga25_Mb64
ef_search: 18 
dim: 1024
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
[ 0.117s ] Loaded metadata, 1000000 attr's found
[ 0.117s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.141s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_19_1_100000_real.json
[ 0.143s ] Loaded 10000 YTRGB1m queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_19_1_100000_real_10.json
[ 0.153s ] Loaded ground truth, gt_size: 10
[ 0.153s ] Index Params -- d: 1024, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 4488.358MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999945 nodes
level 1 : 24953 nodes
level 2 : 619 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025534
Average degree per layer:170922.333
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 3.921s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 18
selectivity: 0.010
[ 40.904s ] Query results (vector ids, then distances):
query 0 nn's (1256): 510683 (1260) 776796 (1294) 857336 (1283) 242809 (1257) 847206 (1263) 700953 (1275) 972394 (1286) 639138 (1269) 301718 (1269) 733053 (1301) 
     dis: 	92.935 94.695 97.720 103.930 104.201 105.218 106.113 106.326 106.469 106.762 
query 1 nn's (1308): 853723 (9251) 289226 (9045) 899467 (9013) 146952 (9262) 67855 (9144) 189649 (9182) 39208 (9268) 867373 (8991) 726010 (9250) 345668 (8887) 
     dis: 	54.131 60.343 61.078 63.427 67.867 68.242 68.813 69.328 70.427 71.223 
query 2 nn's (8869): 476128 (1903) 620703 (1905) 109689 (1883) 891387 (1904) 159822 (1884) 862477 (1910) 236569 (1884) 735131 (1904) 281526 (1904) 248211 (1901) 
     dis: 	141.927 148.201 148.236 148.591 149.309 150.065 150.578 151.225 152.555 152.762 
query 3 nn's (9273): 132271 (4037) 963521 (4034) 749227 (3925) 45286 (4023) 150035 (3961) 439875 (4008) 254201 (3976) 894457 (4012) 100035 (4013) 262313 (3922) 
     dis: 	188.555 191.211 192.834 193.914 194.914 195.939 195.990 197.183 197.744 198.364 
query 4 nn's (1883): 266702 (6225) 619953 (6242) 82323 (6199) 246790 (6322) 477947 (6220) 782564 (6196) 291473 (6438) 792679 (6323) 764005 (6327) 29305 (6296) 
     dis: 	89.644 132.251 142.849 154.143 180.409 187.850 194.887 208.133 239.071 244.726 
[ 40.904s ] *** Query time: 5.407
qps: 1849.397
 *** acorn recall 
efs:18
acorn get 56730 postive res from 100000 results, recall@10:0.567
recall dist(10% per bucket): 0.107 0.041 0.044 0.059 0.070 0.090 0.114 0.131 0.141 0.125 0.079 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[40.905s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 1493923
ndis: 0
nreorder: 0
average distance computations per query: 149.392
[ 40.905s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query YTRGB1m 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_19_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_19_1_100000_real_10.json /mnt/data/mocheng/dataset/youtube1m/acorn_kg/index/index_acorn_kg_sel_1_100000_real_M40_ga25_Mb64 18 1024"
	User time (seconds): 37.10
	System time (seconds): 4.07
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:41.17
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 5248228
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1322202
	Voluntary context switches: 1
	Involuntary context switches: 55
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 06:38
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: YTRGB1m
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_1_1_100000_real.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_1_1_100000_real_10.json
index file: /mnt/data/mocheng/dataset/youtube1m/acorn_kg/index/index_acorn_kg_sel_1_100000_real_M40_ga25_Mb64
ef_search: 18 
dim: 1024
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
[ 0.118s ] Loaded metadata, 1000000 attr's found
[ 0.118s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.142s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_1_1_100000_real.json
[ 0.144s ] Loaded 10000 YTRGB1m queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_1_1_100000_real_10.json
[ 0.156s ] Loaded ground truth, gt_size: 10
[ 0.156s ] Index Params -- d: 1024, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 4488.358MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999924 nodes
level 1 : 24952 nodes
level 2 : 621 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025514
Average degree per layer:170919.000
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 4.192s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 18
selectivity: 1.000
[ 23.769s ] Query results (vector ids, then distances):
query 0 nn's (419): 48714 (3285) 980214 (3358) 418474 (20587) 599702 (5849) 70519 (23994) 802406 (24540) 906365 (23766) 34525 (9417) 938806 (9507) 457861 (2688) 
     dis: 	88.391 88.567 88.657 89.420 89.759 90.070 91.972 92.406 92.426 92.534 
query 1 nn's (2147483647): 230459 (3753) 302746 (1711) 470075 (50266) 963956 (172687) 497306 (2143) 506689 (8264) 187245 (13126) 630027 (57668) 320776 (61674) 819134 (10714) 
     dis: 	49.807 50.920 51.472 53.192 53.385 53.409 53.556 53.659 53.817 54.079 
query 2 nn's (419): 423205 (2778) 326896 (12024) 531527 (2028) 435470 (4103) 871743 (6917) 225875 (3761) 947479 (1436) 633590 (2353) 308085 (1462) 528201 (3388) 
     dis: 	132.517 135.169 135.263 135.721 136.001 136.506 137.157 137.396 137.761 137.993 
query 3 nn's (2147483647): 343722 (6668) 683491 (5347) 916832 (59789) 496154 (4954) 998487 (4202) 365062 (85401) 14572 (5342) 29840 (338351) 189077 (1403) 64796 (11224) 
     dis: 	183.787 185.168 185.433 187.193 187.557 187.595 187.699 187.943 188.005 188.479 
query 4 nn's (419): 314093 (1560) 719380 (6117) 458697 (2101) 690285 (9682) 950887 (3058) 895955 (2776) 461345 (2800) 89809 (2923) 829463 (54915) 729225 (2208) 
     dis: 	52.671 56.225 59.060 63.143 66.157 68.052 71.556 72.466 74.037 74.353 
[ 23.769s ] *** Query time: 13.203
qps: 757.388
 *** acorn recall 
efs:18
acorn get 48711 postive res from 100000 results, recall@10:0.487
recall dist(10% per bucket): 0.247 0.062 0.050 0.053 0.057 0.054 0.057 0.072 0.085 0.103 0.160 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[23.770s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 8705668
ndis: 0
nreorder: 0
average distance computations per query: 870.567
[ 23.770s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query YTRGB1m 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_1_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_1_1_100000_real_10.json /mnt/data/mocheng/dataset/youtube1m/acorn_kg/index/index_acorn_kg_sel_1_100000_real_M40_ga25_Mb64 18 1024"
	User time (seconds): 19.81
	System time (seconds): 4.28
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:24.09
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 5248224
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1322204
	Voluntary context switches: 1
	Involuntary context switches: 33
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 06:44
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: YTRGB1m
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_6_1_100000_real.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_6_1_100000_real_10.json
index file: /mnt/data/mocheng/dataset/youtube1m/acorn_kg/index/index_acorn_kg_sel_1_100000_real_M40_ga25_Mb64
ef_search: 18 
dim: 1024
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
[ 0.117s ] Loaded metadata, 1000000 attr's found
[ 0.117s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.141s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_6_1_100000_real.json
[ 0.143s ] Loaded 10000 YTRGB1m queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_6_1_100000_real_10.json
[ 0.154s ] Loaded ground truth, gt_size: 10
[ 0.154s ] Index Params -- d: 1024, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 4488.358MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999924 nodes
level 1 : 24952 nodes
level 2 : 621 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025514
Average degree per layer:170919.000
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 3.896s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 18
selectivity: 0.500
[ 66.895s ] Query results (vector ids, then distances):
query 0 nn's (1267): 986245 (2438) 984621 (1376) 48714 (3285) 662806 (3695) 599702 (5849) 86717 (1938) 499361 (1578) 457861 (2688) 745412 (2410) 366566 (2645) 
     dis: 	82.411 86.047 88.391 88.756 89.420 92.056 92.143 92.534 92.912 92.933 
query 1 nn's (6842): 230459 (3753) 302746 (1711) 497306 (2143) 506689 (8264) 853723 (9251) 138086 (2308) 373852 (9446) 326679 (7296) 358433 (2215) 689633 (2134) 
     dis: 	49.807 50.920 53.385 53.409 54.131 54.328 54.349 54.387 54.582 54.671 
query 2 nn's (1660): 423205 (2778) 531527 (2028) 435470 (4103) 871743 (6917) 225875 (3761) 633590 (2353) 528201 (3388) 509845 (3059) 666817 (7868) 979613 (2315) 
     dis: 	132.517 135.263 135.721 136.001 136.506 137.396 137.993 139.068 139.336 139.364 
query 3 nn's (9508): 136177 (7299) 260825 (20057) 647424 (64537) 762909 (16388) 343722 (6668) 976180 (4922) 750794 (13264) 683491 (5347) 827077 (15838) 433245 (14738) 
     dis: 	181.359 183.437 183.476 183.497 183.787 184.638 184.733 185.168 185.228 185.319 
query 4 nn's (1724): 719380 (6117) 690285 (9682) 950887 (3058) 461345 (2800) 89809 (2923) 62933 (5287) 969735 (4636) 27286 (4314) 565522 (19123) 693282 (5409) 
     dis: 	56.225 63.143 66.157 71.556 72.466 75.294 75.616 76.658 79.761 79.911 
[ 66.896s ] *** Query time: 13.710
qps: 729.376
 *** acorn recall 
efs:18
acorn get 54707 postive res from 100000 results, recall@10:0.547
recall dist(10% per bucket): 0.189 0.052 0.051 0.054 0.052 0.057 0.067 0.077 0.088 0.116 0.198 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[66.896s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 8365024
ndis: 0
nreorder: 0
average distance computations per query: 836.502
[ 66.896s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query YTRGB1m 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_6_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_6_1_100000_real_10.json /mnt/data/mocheng/dataset/youtube1m/acorn_kg/index/index_acorn_kg_sel_1_100000_real_M40_ga25_Mb64 18 1024"
	User time (seconds): 62.88
	System time (seconds): 4.30
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:07.20
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 5248232
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1322205
	Voluntary context switches: 1
	Involuntary context switches: 132
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 06:52
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: YTRGB1m
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_10.json
index file: /mnt/data/mocheng/dataset/youtube1m/acorn_kg/index/index_acorn_kg_sel_1_100000_real_M40_ga25_Mb64
ef_search: 18 
dim: 1024
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
[ 0.112s ] Loaded metadata, 1000000 attr's found
[ 0.112s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.137s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json
[ 0.139s ] Loaded 10000 YTRGB1m queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_10.json
[ 0.150s ] Loaded ground truth, gt_size: 10
[ 0.150s ] Index Params -- d: 1024, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 4488.358MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999924 nodes
level 1 : 24952 nodes
level 2 : 621 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025514
Average degree per layer:170919.000
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 3.644s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 18
selectivity: 0.100
[ 54.929s ] Query results (vector ids, then distances):
query 0 nn's (38855): 737273 (113404) 469118 (94608) 99619 (56529) 952701 (51288) 973705 (48354) 945815 (121035) 315673 (136096) 95475 (62765) 405113 (58331) 886648 (67332) 
     dis: 	91.199 92.759 92.927 93.375 95.349 95.953 96.081 96.407 96.994 97.387 
query 1 nn's (139269): 411735 (20503) 380703 (20612) 833378 (33326) 431933 (31516) 360005 (30819) 365136 (35560) 731008 (26372) 146981 (27559) 466827 (32372) 667959 (22694) 
     dis: 	55.105 55.684 56.307 56.479 56.682 57.351 57.361 57.848 59.323 59.359 
query 2 nn's (18169): 435470 (4103) 76351 (5317) 44203 (5374) 473207 (5280) 604626 (4097) 907166 (5172) 142229 (4776) 290643 (5230) 867372 (5230) 423023 (5239) 
     dis: 	135.721 141.252 141.655 141.696 141.867 142.668 142.683 143.368 143.368 143.631 
query 3 nn's (37472): 608874 (2611) 871467 (2996) 717608 (2612) 523139 (2339) 312252 (2292) 258253 (2335) 849185 (2837) 509845 (3059) 101897 (2384) 633590 (2353) 
     dis: 	177.477 185.836 185.953 186.303 186.915 186.954 188.542 188.699 189.435 189.866 
query 4 nn's (4082): 565522 (19123) 343865 (20909) 272496 (18617) 864885 (19198) 302474 (17449) 4088 (17006) 275060 (16756) 552830 (32019) 386301 (20767) 751020 (27082) 
     dis: 	79.761 93.190 93.270 95.693 102.008 107.351 108.890 112.116 112.985 115.876 
[ 54.929s ] *** Query time: 12.053
qps: 829.690
 *** acorn recall 
efs:18
acorn get 77055 postive res from 100000 results, recall@10:0.771
recall dist(10% per bucket): 0.049 0.015 0.018 0.025 0.030 0.042 0.062 0.085 0.132 0.197 0.345 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[54.930s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 6440580
ndis: 0
nreorder: 0
average distance computations per query: 644.058
[ 54.930s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query YTRGB1m 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_10.json /mnt/data/mocheng/dataset/youtube1m/acorn_kg/index/index_acorn_kg_sel_1_100000_real_M40_ga25_Mb64 18 1024"
	User time (seconds): 51.39
	System time (seconds): 3.77
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:55.17
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 5248228
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1322203
	Voluntary context switches: 1
	Involuntary context switches: 57
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 06:59
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: YTRGB1m
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_19_1_100000_real.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_19_1_100000_real_10.json
index file: /mnt/data/mocheng/dataset/youtube1m/acorn_kg/index/index_acorn_kg_sel_1_100000_real_M40_ga25_Mb64
ef_search: 18 
dim: 1024
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
[ 0.118s ] Loaded metadata, 1000000 attr's found
[ 0.118s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.144s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_19_1_100000_real.json
[ 0.146s ] Loaded 10000 YTRGB1m queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_19_1_100000_real_10.json
[ 0.158s ] Loaded ground truth, gt_size: 10
[ 0.158s ] Index Params -- d: 1024, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 4488.358MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999924 nodes
level 1 : 24952 nodes
level 2 : 621 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025514
Average degree per layer:170919.000
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 3.919s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 18
selectivity: 0.010
[ 41.158s ] Query results (vector ids, then distances):
query 0 nn's (1256): 776796 (1294) 857336 (1283) 242809 (1257) 847206 (1263) 700953 (1275) 972394 (1286) 639138 (1269) 301718 (1269) 379533 (1299) 159150 (1263) 
     dis: 	94.695 97.720 103.930 104.201 105.218 106.113 106.326 106.469 106.652 106.730 
query 1 nn's (1308): 853723 (9251) 289226 (9045) 899467 (9013) 146952 (9262) 67855 (9144) 189649 (9182) 39208 (9268) 867373 (8991) 928143 (9135) 726010 (9250) 
     dis: 	54.131 60.343 61.078 63.427 67.867 68.242 68.813 69.328 70.383 70.427 
query 2 nn's (8869): 476128 (1903) 620703 (1905) 109689 (1883) 891387 (1904) 159822 (1884) 862477 (1910) 236569 (1884) 735131 (1904) 388982 (1936) 281526 (1904) 
     dis: 	141.927 148.201 148.236 148.591 149.309 150.065 150.578 151.225 151.890 152.555 
query 3 nn's (9273): 132271 (4037) 442774 (4006) 963521 (4034) 749227 (3925) 509548 (3996) 45286 (4023) 150035 (3961) 439875 (4008) 254201 (3976) 894457 (4012) 
     dis: 	188.555 190.689 191.211 192.834 193.549 193.914 194.914 195.939 195.990 197.183 
query 4 nn's (1883): 782564 (6196) 764005 (6327) 29305 (6296) 504337 (6229) 915528 (6361) 941276 (6323) 660733 (6349) 905926 (6294) 180708 (6416) 891127 (6208) 
     dis: 	187.850 239.071 244.726 248.798 266.525 268.872 274.259 274.625 274.825 274.828 
[ 41.158s ] *** Query time: 5.862
qps: 1705.840
 *** acorn recall 
efs:18
acorn get 57196 postive res from 100000 results, recall@10:0.572
recall dist(10% per bucket): 0.099 0.040 0.047 0.059 0.069 0.093 0.116 0.131 0.137 0.131 0.077 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[41.159s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 1507105
ndis: 0
nreorder: 0
average distance computations per query: 150.710
[ 41.159s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query YTRGB1m 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_19_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_19_1_100000_real_10.json /mnt/data/mocheng/dataset/youtube1m/acorn_kg/index/index_acorn_kg_sel_1_100000_real_M40_ga25_Mb64 18 1024"
	User time (seconds): 37.48
	System time (seconds): 3.88
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:41.37
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 5248232
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1322228
	Voluntary context switches: 1
	Involuntary context switches: 44
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
