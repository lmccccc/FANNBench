Start time: 01:10
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_1_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_1_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn_rng/index/index_acorn_rng_sel_1_100000_random_M40_ga25_Mb64
ef_search: 40 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.119s ] Loaded metadata, 1000000 attr's found
[ 0.119s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.122s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_1_1_100000_random.json
[ 0.124s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_1_1_100000_random_10.json
[ 0.135s ] Loaded ground truth, gt_size: 10
[ 0.135s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999866 nodes
level 1 : 24954 nodes
level 2 : 623 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025460
Average degree per layer:170910.000
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 1.418s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 40
selectivity: 1.000
[ 16.354s ] Query results (vector ids, then distances):
query 0 nn's (0): 934876 (53869) 561813 (53399) 435345 (13245) 701258 (91836) 455537 (43430) 872728 (83109) 36538 (18957) 562594 (3595) 908244 (14748) 600499 (26496) 
     dis: 	55091.000 59531.000 68247.000 69844.000 71441.000 71861.000 73344.000 73537.000 73581.000 73793.000 
query 1 nn's (99999): 413247 (7980) 413071 (11343) 706838 (53491) 880592 (63723) 249062 (99560) 400194 (72614) 942339 (10893) 880462 (92267) 941776 (30953) 586780 (27265) 
     dis: 	51187.000 52570.000 54813.000 54987.000 55586.000 55595.000 56239.000 56396.000 57646.000 58246.000 
query 2 nn's (0): 408764 (31334) 408462 (425) 408855 (32493) 861882 (27530) 406324 (32343) 551743 (33025) 861530 (56311) 402106 (50542) 239766 (93904) 823095 (14201) 
     dis: 	31091.000 33608.000 34104.000 35704.000 36225.000 36325.000 36348.000 36458.000 36631.000 37621.000 
query 3 nn's (99999): 970797 (5891) 125539 (74431) 48044 (508) 191115 (47718) 889039 (20126) 546470 (78768) 123985 (89956) 546496 (92992) 207768 (50377) 831905 (69772) 
     dis: 	30510.000 30863.000 32777.000 34876.000 34909.000 35734.000 36107.000 36113.000 36229.000 36624.000 
query 4 nn's (0): 340871 (90794) 748397 (73907) 748193 (929) 716433 (11276) 112586 (36075) 107281 (31173) 416604 (3386) 371420 (16088) 368246 (46926) 279082 (5819) 
     dis: 	45914.000 47367.000 48151.000 52559.000 53980.000 54643.000 55814.000 56914.000 57046.000 57527.000 
[ 16.354s ] *** Query time: 8.266
qps: 1209.770
 *** acorn recall 
efs:40
acorn get 83786 postive res from 100000 results, recall@10:0.838
recall dist(10% per bucket): 0.015 0.003 0.004 0.007 0.018 0.031 0.056 0.096 0.167 0.251 0.352 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[16.355s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 21961302
ndis: 0
nreorder: 0
average distance computations per query: 2196.130
[ 16.355s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_1_1_100000_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_1_1_100000_random_10.json /mnt/data/mocheng/dataset/sift/acorn_rng/index/index_acorn_rng_sel_1_100000_random_M40_ga25_Mb64 40 128"
	User time (seconds): 15.16
	System time (seconds): 1.30
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:16.47
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1713372
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 438453
	Voluntary context switches: 1
	Involuntary context switches: 24
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:12
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_6_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_6_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn_rng/index/index_acorn_rng_sel_1_100000_random_M40_ga25_Mb64
ef_search: 40 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.112s ] Loaded metadata, 1000000 attr's found
[ 0.112s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.115s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_6_1_100000_random.json
[ 0.117s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_6_1_100000_random_10.json
[ 0.128s ] Loaded ground truth, gt_size: 10
[ 0.128s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999866 nodes
level 1 : 24954 nodes
level 2 : 623 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025460
Average degree per layer:170910.000
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 1.330s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 40
selectivity: 0.500
[ 60.117s ] Query results (vector ids, then distances):
query 0 nn's (4505): 932085 (42754) 934876 (53869) 561813 (53399) 695756 (11947) 435345 (13245) 455537 (43430) 36538 (18957) 908244 (14748) 600499 (26496) 893601 (41930) 
     dis: 	54229.000 55091.000 59531.000 67010.000 68247.000 71441.000 73344.000 73581.000 73793.000 74016.000 
query 1 nn's (54525): 706838 (53491) 941776 (30953) 833054 (59141) 208391 (39143) 20845 (21962) 948375 (14124) 517238 (56134) 974985 (42999) 480949 (62453) 974930 (27350) 
     dis: 	54813.000 57646.000 58464.000 59679.000 60053.000 60673.000 61274.000 61333.000 62997.000 63227.000 
query 2 nn's (12928): 406273 (55905) 861530 (56311) 402106 (50542) 900097 (41094) 431595 (79889) 527380 (78344) 104247 (88705) 905339 (56197) 69035 (47498) 62269 (62394) 
     dis: 	36048.000 36348.000 36458.000 38137.000 38236.000 38696.000 39230.000 39308.000 39400.000 39826.000 
query 3 nn's (62924): 191115 (47718) 889039 (20126) 207768 (50377) 190621 (37768) 993773 (57660) 907380 (52955) 899013 (50320) 546122 (37936) 914682 (25724) 546766 (15072) 
     dis: 	34876.000 34909.000 36229.000 38013.000 39153.000 39157.000 39632.000 39639.000 39692.000 39814.000 
query 4 nn's (40010): 112586 (36075) 107281 (31173) 371420 (16088) 368246 (46926) 340288 (14916) 175407 (26540) 403978 (60499) 549505 (51790) 79424 (45166) 956898 (19902) 
     dis: 	53980.000 54643.000 56914.000 57046.000 57968.000 58065.000 59193.000 59638.000 59956.000 61167.000 
[ 60.117s ] *** Query time: 9.561
qps: 1045.923
 *** acorn recall 
efs:40
acorn get 90199 postive res from 100000 results, recall@10:0.902
recall dist(10% per bucket): 0.012 0.001 0.002 0.003 0.007 0.013 0.026 0.055 0.114 0.217 0.551 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[60.118s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 20529245
ndis: 0
nreorder: 0
average distance computations per query: 2052.924
[ 60.118s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_6_1_100000_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_6_1_100000_random_10.json /mnt/data/mocheng/dataset/sift/acorn_rng/index/index_acorn_rng_sel_1_100000_random_M40_ga25_Mb64 40 128"
	User time (seconds): 58.25
	System time (seconds): 1.98
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:00.25
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1713380
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 600338
	Voluntary context switches: 1
	Involuntary context switches: 64
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:16
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_10_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_10_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn_rng/index/index_acorn_rng_sel_1_100000_random_M40_ga25_Mb64
ef_search: 40 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.113s ] Loaded metadata, 1000000 attr's found
[ 0.113s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.117s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_10_1_100000_random.json
[ 0.119s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_10_1_100000_random_10.json
[ 0.130s ] Loaded ground truth, gt_size: 10
[ 0.130s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999866 nodes
level 1 : 24954 nodes
level 2 : 623 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025460
Average degree per layer:170910.000
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 1.347s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 40
selectivity: 0.100
[ 49.150s ] Query results (vector ids, then distances):
query 0 nn's (33855): 932085 (42754) 455537 (43430) 893601 (41930) 843384 (36567) 391655 (34540) 860056 (43900) 556209 (42632) 923811 (42907) 806773 (37821) 294458 (39891) 
     dis: 	54229.000 71441.000 74016.000 77588.000 80749.000 82023.000 82121.000 82505.000 82672.000 83604.000 
query 1 nn's (43906): 249062 (99560) 880462 (92267) 849742 (91756) 183334 (92969) 517923 (92443) 976547 (91386) 541805 (98317) 239335 (98545) 250786 (98577) 956542 (92363) 
     dis: 	55586.000 56396.000 59323.000 61076.000 61150.000 61167.000 62878.000 63331.000 63393.000 64382.000 
query 2 nn's (89820): 406273 (55905) 861530 (56311) 402106 (50542) 905339 (56197) 678042 (50731) 55587 (50149) 695462 (58176) 869379 (52490) 57338 (48875) 467531 (53319) 
     dis: 	36048.000 36348.000 36458.000 39308.000 39953.000 40694.000 40907.000 41020.000 41524.000 41931.000 
query 3 nn's (99844): 831905 (69772) 832999 (69815) 885741 (73745) 191905 (65872) 852354 (67988) 919489 (67713) 768705 (73846) 832895 (66131) 14185 (69143) 969106 (72678) 
     dis: 	36624.000 36743.000 39790.000 39999.000 41638.000 42320.000 42781.000 43228.000 43633.000 45038.000 
query 4 nn's (48441): 340871 (90794) 175336 (86619) 566738 (92715) 592673 (88557) 292815 (87893) 405342 (90370) 108621 (93560) 58849 (90413) 787394 (85953) 385912 (92378) 
     dis: 	45914.000 48199.000 62898.000 65053.000 65771.000 69072.000 69253.000 70321.000 71112.000 71239.000 
[ 49.150s ] *** Query time: 8.669
qps: 1153.576
 *** acorn recall 
efs:40
acorn get 94510 postive res from 100000 results, recall@10:0.945
recall dist(10% per bucket): 0.006 0.001 0.000 0.000 0.001 0.003 0.010 0.025 0.071 0.197 0.685 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[49.150s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 15546080
ndis: 0
nreorder: 0
average distance computations per query: 1554.608
[ 49.150s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_10_1_100000_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_10_1_100000_random_10.json /mnt/data/mocheng/dataset/sift/acorn_rng/index/index_acorn_rng_sel_1_100000_random_M40_ga25_Mb64 40 128"
	User time (seconds): 47.91
	System time (seconds): 1.34
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:49.25
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1713380
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 438456
	Voluntary context switches: 1
	Involuntary context switches: 57
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:20
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_19_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_19_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn_rng/index/index_acorn_rng_sel_1_100000_random_M40_ga25_Mb64
ef_search: 40 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.119s ] Loaded metadata, 1000000 attr's found
[ 0.119s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.122s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_19_1_100000_random.json
[ 0.124s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_19_1_100000_random_10.json
[ 0.135s ] Loaded ground truth, gt_size: 10
[ 0.135s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999866 nodes
level 1 : 24954 nodes
level 2 : 623 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025460
Average degree per layer:170910.000
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 1.303s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 40
selectivity: 0.010
[ 40.048s ] Query results (vector ids, then distances):
query 0 nn's (31029): 628450 (31902) 701108 (31230) 671081 (31928) 516029 (31948) 564111 (31591) 99209 (31650) 831353 (31113) 75640 (32023) 69381 (31412) 299388 (31473) 
     dis: 	87440.000 90354.000 94918.000 97519.000 97737.000 98541.000 99987.000 100675.000 100892.000 101066.000 
query 1 nn's (32025): 753843 (69964) 832999 (69815) 266892 (70134) 633361 (70436) 71458 (69914) 210891 (69951) 71975 (70064) 997571 (70215) 658966 (70223) 831905 (69772) 
     dis: 	69765.000 72509.000 73508.000 77049.000 77100.000 78007.000 78107.000 80698.000 82307.000 82594.000 
query 2 nn's (69641): 55587 (50149) 55454 (49353) 86859 (49477) 435662 (50027) 845877 (49297) 521104 (49306) 218770 (49635) 240727 (49206) 282010 (49431) 296954 (49961) 
     dis: 	40694.000 45168.000 51847.000 53523.000 54648.000 54724.000 57838.000 59377.000 59413.000 59923.000 
query 3 nn's (70645): 42305 (24982) 852660 (24597) 971659 (24975) 909521 (24261) 102155 (24624) 930243 (24903) 868397 (24281) 996923 (24224) 560763 (24777) 787570 (24337) 
     dis: 	45228.000 53010.000 53300.000 58050.000 60207.000 60312.000 60356.000 61343.000 62308.000 63175.000 
query 4 nn's (49148): 242102 (45406) 496866 (45956) 187872 (45631) 619010 (45377) 702957 (45759) 694761 (45911) 264863 (45377) 365354 (45554) 686348 (45603) 281512 (45353) 
     dis: 	66712.000 69270.000 71763.000 74594.000 76682.000 81780.000 84043.000 84356.000 85044.000 85264.000 
[ 40.048s ] *** Query time: 7.363
qps: 1358.098
 *** acorn recall 
efs:40
acorn get 76392 postive res from 100000 results, recall@10:0.764
recall dist(10% per bucket): 0.106 0.007 0.008 0.009 0.012 0.023 0.044 0.078 0.133 0.242 0.337 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[40.049s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 3765798
ndis: 0
nreorder: 0
average distance computations per query: 376.580
[ 40.049s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_19_1_100000_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_19_1_100000_random_10.json /mnt/data/mocheng/dataset/sift/acorn_rng/index/index_acorn_rng_sel_1_100000_random_M40_ga25_Mb64 40 128"
	User time (seconds): 38.88
	System time (seconds): 1.27
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:40.16
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1713380
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 438453
	Voluntary context switches: 1
	Involuntary context switches: 53
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 02:09
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_1_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_1_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn_rng/index/index_acorn_rng_sel_1_100000_random_M40_ga25_Mb64
ef_search: 40 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.124s ] Loaded metadata, 1000000 attr's found
[ 0.124s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.127s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_1_1_100000_random.json
[ 0.129s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_1_1_100000_random_10.json
[ 0.140s ] Loaded ground truth, gt_size: 10
[ 0.140s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999860 nodes
level 1 : 24955 nodes
level 2 : 623 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025455
Average degree per layer:170909.167
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 1.378s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 40
selectivity: 1.000
[ 13.737s ] Query results (vector ids, then distances):
query 0 nn's (0): 932085 (42754) 934876 (53869) 561813 (53399) 706771 (7476) 695756 (11947) 701258 (91836) 455537 (43430) 872728 (83109) 36538 (18957) 562594 (3595) 
     dis: 	54229.000 55091.000 59531.000 65697.000 67010.000 69844.000 71441.000 71861.000 73344.000 73537.000 
query 1 nn's (99999): 413247 (7980) 413071 (11343) 706838 (53491) 880592 (63723) 249062 (99560) 942339 (10893) 987636 (84532) 941776 (30953) 833054 (59141) 248426 (69041) 
     dis: 	51187.000 52570.000 54813.000 54987.000 55586.000 56239.000 56785.000 57646.000 58464.000 58741.000 
query 2 nn's (0): 669835 (34295) 408764 (31334) 408462 (425) 408855 (32493) 551661 (23915) 861882 (27530) 406273 (55905) 406324 (32343) 551743 (33025) 861530 (56311) 
     dis: 	30792.000 31091.000 33608.000 34104.000 34698.000 35704.000 36048.000 36225.000 36325.000 36348.000 
query 3 nn's (99999): 970797 (5891) 125539 (74431) 48044 (508) 191115 (47718) 889039 (20126) 546470 (78768) 123985 (89956) 546496 (92992) 207768 (50377) 831905 (69772) 
     dis: 	30510.000 30863.000 32777.000 34876.000 34909.000 35734.000 36107.000 36113.000 36229.000 36624.000 
query 4 nn's (0): 340871 (90794) 748397 (73907) 748193 (929) 175336 (86619) 716433 (11276) 112586 (36075) 107281 (31173) 416604 (3386) 371420 (16088) 368246 (46926) 
     dis: 	45914.000 47367.000 48151.000 48199.000 52559.000 53980.000 54643.000 55814.000 56914.000 57046.000 
[ 13.737s ] *** Query time: 5.445
qps: 1836.540
 *** acorn recall 
efs:40
acorn get 92324 postive res from 100000 results, recall@10:0.923
recall dist(10% per bucket): 0.000 0.000 0.000 0.001 0.004 0.010 0.025 0.052 0.102 0.214 0.590 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[13.738s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 13441246
ndis: 0
nreorder: 0
average distance computations per query: 1344.125
[ 13.738s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_1_1_100000_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_1_1_100000_random_10.json /mnt/data/mocheng/dataset/sift/acorn_rng/index/index_acorn_rng_sel_1_100000_random_M40_ga25_Mb64 40 128"
	User time (seconds): 12.57
	System time (seconds): 1.26
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:13.84
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1713376
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 438453
	Voluntary context switches: 1
	Involuntary context switches: 32
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 02:11
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_6_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_6_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn_rng/index/index_acorn_rng_sel_1_100000_random_M40_ga25_Mb64
ef_search: 40 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.114s ] Loaded metadata, 1000000 attr's found
[ 0.114s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.117s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_6_1_100000_random.json
[ 0.119s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_6_1_100000_random_10.json
[ 0.130s ] Loaded ground truth, gt_size: 10
[ 0.130s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999860 nodes
level 1 : 24955 nodes
level 2 : 623 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025455
Average degree per layer:170909.167
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 1.285s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 40
selectivity: 0.500
[ 54.310s ] Query results (vector ids, then distances):
query 0 nn's (4505): 932085 (42754) 934876 (53869) 561813 (53399) 695756 (11947) 435345 (13245) 455537 (43430) 908244 (14748) 600499 (26496) 893601 (41930) 746931 (4663) 
     dis: 	54229.000 55091.000 59531.000 67010.000 68247.000 71441.000 73581.000 73793.000 74016.000 75554.000 
query 1 nn's (54525): 20845 (21962) 480949 (62453) 522078 (41141) 543219 (33930) 957556 (24212) 522482 (41356) 913887 (57094) 411149 (33920) 908803 (32024) 913942 (31293) 
     dis: 	60053.000 62997.000 63234.000 63302.000 64360.000 64822.000 64851.000 65267.000 65419.000 65508.000 
query 2 nn's (12928): 861530 (56311) 402106 (50542) 431595 (79889) 527380 (78344) 905339 (56197) 62269 (62394) 678042 (50731) 736302 (81713) 55587 (50149) 695462 (58176) 
     dis: 	36348.000 36458.000 38236.000 38696.000 39308.000 39826.000 39953.000 40215.000 40694.000 40907.000 
query 3 nn's (62924): 191115 (47718) 889039 (20126) 207768 (50377) 190621 (37768) 993773 (57660) 907380 (52955) 899013 (50320) 546122 (37936) 914682 (25724) 546766 (15072) 
     dis: 	34876.000 34909.000 36229.000 38013.000 39153.000 39157.000 39632.000 39639.000 39692.000 39814.000 
query 4 nn's (40010): 112586 (36075) 107281 (31173) 371420 (16088) 368246 (46926) 340288 (14916) 175407 (26540) 953387 (32930) 403978 (60499) 549505 (51790) 79424 (45166) 
     dis: 	53980.000 54643.000 56914.000 57046.000 57968.000 58065.000 58065.000 59193.000 59638.000 59956.000 
[ 54.310s ] *** Query time: 4.215
qps: 2372.409
 *** acorn recall 
efs:40
acorn get 80688 postive res from 100000 results, recall@10:0.807
recall dist(10% per bucket): 0.001 0.002 0.006 0.014 0.025 0.052 0.084 0.128 0.184 0.248 0.255 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[54.311s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 9021584
ndis: 0
nreorder: 0
average distance computations per query: 902.158
[ 54.311s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_6_1_100000_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_6_1_100000_random_10.json /mnt/data/mocheng/dataset/sift/acorn_rng/index/index_acorn_rng_sel_1_100000_random_M40_ga25_Mb64 40 128"
	User time (seconds): 53.11
	System time (seconds): 1.28
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:54.40
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1713384
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 438914
	Voluntary context switches: 1
	Involuntary context switches: 67
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 02:14
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_10_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_10_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn_rng/index/index_acorn_rng_sel_1_100000_random_M40_ga25_Mb64
ef_search: 40 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.244s ] Loaded metadata, 1000000 attr's found
[ 0.244s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.247s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_10_1_100000_random.json
[ 0.250s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_10_1_100000_random_10.json
[ 0.261s ] Loaded ground truth, gt_size: 10
[ 0.261s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999860 nodes
level 1 : 24955 nodes
level 2 : 623 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025455
Average degree per layer:170909.167
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 1.378s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 40
selectivity: 0.100
[ 43.206s ] Query results (vector ids, then distances):
query 0 nn's (33855): 132708 (39366) 446051 (38693) 910318 (35636) 277833 (36435) 556767 (41774) 163581 (38646) 639394 (35937) 582715 (37139) 556187 (42052) 556872 (38867) 
     dis: 	239594.000 245516.000 246053.000 247352.000 249587.000 250671.000 251666.000 252475.000 257913.000 258133.000 
query 1 nn's (43906): 956542 (92363) 207435 (95980) 469962 (91629) 73189 (95268) 966674 (94083) 874754 (94152) 595915 (91551) 886998 (99406) 485452 (91133) 424188 (98916) 
     dis: 	64382.000 64749.000 68256.000 70206.000 70672.000 75669.000 75978.000 76349.000 79881.000 80486.000 
query 2 nn's (89820): 402106 (50542) 57338 (48875) 104121 (49126) 979710 (52286) 684869 (54730) 414022 (56016) 414106 (52611) 709027 (53808) 809210 (54961) 791912 (58362) 
     dis: 	36458.000 41524.000 43289.000 51014.000 51385.000 53030.000 53411.000 53444.000 55503.000 56035.000 
query 3 nn's (99844): 831905 (69772) 832999 (69815) 885741 (73745) 852354 (67988) 768705 (73846) 832895 (66131) 885881 (69414) 637250 (70254) 207085 (70341) 807529 (66418) 
     dis: 	36624.000 36743.000 39790.000 41638.000 42781.000 43228.000 45096.000 45557.000 47730.000 48288.000 
query 4 nn's (48441): 175336 (86619) 803100 (94653) 607536 (92596) 153534 (85183) 525001 (88836) 193016 (87258) 271832 (86405) 400135 (86295) 603326 (86022) 86526 (90115) 
     dis: 	48199.000 70627.000 72597.000 75285.000 75812.000 76140.000 76140.000 77524.000 79238.000 79975.000 
[ 43.206s ] *** Query time: 2.768
qps: 3613.196
 *** acorn recall 
efs:40
acorn get 28860 postive res from 100000 results, recall@10:0.289
recall dist(10% per bucket): 0.301 0.099 0.105 0.100 0.106 0.093 0.074 0.060 0.036 0.020 0.005 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[43.207s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 4104067
ndis: 0
nreorder: 0
average distance computations per query: 410.407
[ 43.207s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_10_1_100000_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_10_1_100000_random_10.json /mnt/data/mocheng/dataset/sift/acorn_rng/index/index_acorn_rng_sel_1_100000_random_M40_ga25_Mb64 40 128"
	User time (seconds): 42.10
	System time (seconds): 1.23
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:43.33
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1713380
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 438453
	Voluntary context switches: 1
	Involuntary context switches: 70
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 02:16
====================
START: running TEST_ACORN for hnsw, sift data --

dataset: sift1M
N: 1000000
gamma: 25
M: 40
M_beta: 64
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_19_1_100000_random.json
gt file: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_19_1_100000_random_10.json
index file: /mnt/data/mocheng/dataset/sift/acorn_rng/index/index_acorn_rng_sel_1_100000_random_M40_ga25_Mb64
ef_search: 40 
dim: 128
metadata or vector loaded from json, size: 1000000
loaded base attributes from:/mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json
[ 0.113s ] Loaded metadata, 1000000 attr's found
[ 0.114s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 0.117s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift/sift_query.fvecs
metadata or vector loaded from json, size: 20000
loaded query attributes from: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_19_1_100000_random.json
[ 0.119s ] Loaded 10000 sift1M queries
metadata or vector loaded from json, size: 100000
loaded gt from: /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_19_1_100000_random_10.json
[ 0.130s ] Loaded ground truth, gt_size: 10
[ 0.130s ] Index Params -- d: 128, M: 40, N: 1000000, gamma: 25
--ACORN index created
acorn size: 598384000, memory: 1070.389MB
====================================
============ ACORN INDEX =============
====================================
METADATA VEC for number nodes per level
level 0 : 999860 nodes
level 1 : 24955 nodes
level 2 : 623 nodes
level 3 : 16 nodes
level 4 : 1 nodes
level 5 : 0 nodes
Total edge:1025455
Average degree per layer:170909.167
node size:1000000
Average degree:149.596
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== ACORN INDEX ====================
[ 1.326s ] Searching the 10 nearest neighbors of 10000 vectors in the index, efsearch 40
selectivity: 0.010
[ 33.255s ] Query results (vector ids, then distances):
query 0 nn's (31029): 0 (16107) 802954 (31303) 1 (62895) 2 (87256) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	378949.000 393881.000 399470.000 410871.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (32025): 941772 (70127) 1 (62895) 0 (16107) 834869 (70504) 2 (87256) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	361909.000 368058.000 372753.000 376883.000 389803.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (69641): 2 (87256) 0 (16107) 1 (62895) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	126023.000 136143.000 154554.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (70645): 1 (62895) 0 (16107) 2 (87256) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	425360.000 429605.000 454657.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (49148): 0 (16107) 2 (87256) 1 (62895) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	130890.000 145638.000 195053.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 33.255s ] *** Query time: 0.836
qps: 11956.162
 *** acorn recall 
efs:40
acorn get 64 postive res from 100000 results, recall@10:0.001
recall dist(10% per bucket): 0.995 0.004 0.001 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 
finished hybrid index examples
============= ACORN QUERY PROFILING STATS =============
[33.256s] Timing results for search of k=10 nearest neighbors of nq=10000 vectors in the index
n1: 10000
n2: 10000
n3 (number distance comps at level 0): 262507
ndis: 0
nreorder: 0
average distance computations per query: 26.251
[ 33.256s ] -----DONE-----
	Command being timed: "../ACORN/build/demos/acorn_query sift1M 1000000 25 40 64 10 1 /mnt/data/mocheng/dataset/sift/sift_base.fvecs /mnt/data/mocheng/dataset/sift/sift_query.fvecs /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/attr_sel_1_100000_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/qrangesel_19_1_100000_random.json /mnt/data/mocheng/dataset/sift/label/sel_1_100000_random/sif_gt_sel_19_1_100000_random_10.json /mnt/data/mocheng/dataset/sift/acorn_rng/index/index_acorn_rng_sel_1_100000_random_M40_ga25_Mb64 40 128"
	User time (seconds): 32.08
	System time (seconds): 1.27
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:33.36
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1713376
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 438471
	Voluntary context switches: 2
	Involuntary context switches: 49
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
