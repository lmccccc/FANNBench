Start time: 01:35
dataset: sift1M
N: 1000000
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json
query range file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json
ground truth file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json
K: 10
nprobe: 300
collection name: collection_sift1M_sel_1_8_random
collection  collection_sift1M_sel_1_8_random  exists
collection size: data: ["{'count(*)': 1000000}"] 
query d: 128
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 10
ids shape: 10000 10
gt shape: (10000, 10)
milvus get  30958  postive res from  100000  results, recall@ 10 : 0.30958
recall dist(10\% per bucket):  [3.440e-02 1.312e-01 2.155e-01 2.416e-01 1.894e-01 1.098e-01 5.230e-02
 1.900e-02 5.900e-03 8.000e-04 1.000e-04]
10000  queries cost: 89.58586597442627 , qps: 111.62475119517917
Start time: 02:28
dataset: sift1M
N: 1000000
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json
query range file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json
ground truth file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json
K: 10
nprobe: 300
collection name: collection_sift1M_sel_1_8_random
collection  collection_sift1M_sel_1_8_random  exists
collection size: data: ["{'count(*)': 1000000}"] 
query d: 128
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 10
ids shape: 10000 10
gt shape: (10000, 10)
milvus get  30958  postive res from  100000  results, recall@ 10 : 0.30958
recall dist(10\% per bucket):  [3.440e-02 1.312e-01 2.155e-01 2.416e-01 1.894e-01 1.098e-01 5.230e-02
 1.900e-02 5.900e-03 8.000e-04 1.000e-04]
10000  queries cost: 132.13002371788025 , qps: 75.68302584544809
Start time: 04:06
dataset: sift1M
N: 1000000
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json
query range file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json
ground truth file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json
K: 10
nprobe: 300
collection name: collection_sift1M_sel_1_8_random
collection  collection_sift1M_sel_1_8_random  exists
collection size: data: ["{'count(*)': 1000000}"] 
query d: 128
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 10
ids shape: 10000 10
gt shape: (10000, 10)
milvus get  38232  postive res from  100000  results, recall@ 10 : 0.38232
recall dist(10\% per bucket):  [0.0216 0.0904 0.1729 0.2182 0.1841 0.1317 0.0751 0.0397 0.0207 0.0126
 0.033 ]
10000  queries cost: 79.61834335327148 , qps: 125.59919710498603
Start time: 04:18
dataset: sift1M
N: 1000000
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json
query range file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json
ground truth file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json
K: 10
nprobe: 300
collection name: collection_sift1M_sel_1_8_random
collection  collection_sift1M_sel_1_8_random  exists
collection size: data: ["{'count(*)': 1000000}"] 
query d: 128
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 10
ids shape: 10000 10
gt shape: (10000, 10)
milvus get  64981  postive res from  100000  results, recall@ 10 : 0.64981
recall dist(10\% per bucket):  [0.0175 0.0558 0.1085 0.1225 0.1034 0.0579 0.0283 0.0112 0.0073 0.0279
 0.4597]
10000  queries cost: 113.91968822479248 , qps: 87.78113911501812
Start time: 04:53
  File "utils/pymilvus_ivfpq.py", line 74
    replica_number=1ï¼Œ
                    ^
SyntaxError: invalid character in identifier
Start time: 04:53
dataset: sift1M
N: 1000000
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json
query range file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json
ground truth file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json
K: 10
nprobe: 300
collection name: collection_sift1M_sel_1_8_random
collection  collection_sift1M_sel_1_8_random  exists
collection size: data: ["{'count(*)': 1000000}"] 
query d: 128
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 10
RPC error: [search], <MilvusException: (code=201, message=fail to search on QueryNode 5: partition not loaded[partition=[454033563711968280]])>, <Time:{'RPC start': '2024-11-23 20:55:36.495038', 'RPC error': '2024-11-23 20:55:37.101054'}>
Failed to search collection: collection_sift1M_sel_1_8_random
Traceback (most recent call last):
  File "utils/pymilvus_ivfpq.py", line 183, in <module>
    res = client.search(
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/milvus_client/milvus_client.py", line 336, in search
    raise ex from ex
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/milvus_client/milvus_client.py", line 322, in search
    res = conn.search(
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/decorators.py", line 148, in handler
    raise e from e
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/decorators.py", line 144, in handler
    return func(*args, **kwargs)
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/decorators.py", line 183, in handler
    return func(self, *args, **kwargs)
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/decorators.py", line 123, in handler
    raise e from e
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/decorators.py", line 87, in handler
    return func(*args, **kwargs)
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/client/grpc_handler.py", line 800, in search
    return self._execute_search(request, timeout, round_decimal=round_decimal, **kwargs)
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/client/grpc_handler.py", line 741, in _execute_search
    raise e from e
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/client/grpc_handler.py", line 734, in _execute_search
    check_status(response.status)
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/client/utils.py", line 63, in check_status
    raise MilvusException(status.code, status.reason, status.error_code)
pymilvus.exceptions.MilvusException: <MilvusException: (code=201, message=fail to search on QueryNode 5: partition not loaded[partition=[454033563711968280]])>
Start time: 05:14
dataset: sift1M
N: 1000000
dataset file: /mnt/data/mocheng/dataset/sift/sift_base.fvecs
query file: /mnt/data/mocheng/dataset/sift/sift_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/attr_sel_1_8_random.json
query range file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/qrangesel_1_8_random.json
ground truth file: /mnt/data/mocheng/dataset/sift/sel_1_8_random/sif_gt_10.json
K: 10
nprobe: 300
collection name: collection_sift1M_sel_1_8_random
collection  collection_sift1M_sel_1_8_random  exists
collection size: data: ["{'count(*)': 1000000}"] 
query d: 128
get query szie: 10000
get range cnt: 10000
ngt= 10000  nq= 10000  k= 10
RPC error: [search], <MilvusException: (code=500, message=fail to search on QueryNode 5: channel not found[channel=by-dev-rootcoord-dml_8_454033563714175257v0])>, <Time:{'RPC start': '2024-11-23 21:17:48.700613', 'RPC error': '2024-11-23 21:17:49.305223'}>
Failed to search collection: collection_sift1M_sel_1_8_random
Traceback (most recent call last):
  File "utils/pymilvus_ivfpq.py", line 188, in <module>
    res = client.search(
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/milvus_client/milvus_client.py", line 336, in search
    raise ex from ex
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/milvus_client/milvus_client.py", line 322, in search
    res = conn.search(
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/decorators.py", line 148, in handler
    raise e from e
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/decorators.py", line 144, in handler
    return func(*args, **kwargs)
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/decorators.py", line 183, in handler
    return func(self, *args, **kwargs)
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/decorators.py", line 123, in handler
    raise e from e
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/decorators.py", line 87, in handler
    return func(*args, **kwargs)
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/client/grpc_handler.py", line 800, in search
    return self._execute_search(request, timeout, round_decimal=round_decimal, **kwargs)
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/client/grpc_handler.py", line 741, in _execute_search
    raise e from e
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/client/grpc_handler.py", line 734, in _execute_search
    check_status(response.status)
  File "/home/mocheng/anaconda3/envs/py38/lib/python3.8/site-packages/pymilvus/client/utils.py", line 63, in check_status
    raise MilvusException(status.code, status.reason, status.error_code)
pymilvus.exceptions.MilvusException: <MilvusException: (code=500, message=fail to search on QueryNode 5: channel not found[channel=by-dev-rootcoord-dml_8_454033563714175257v0])>
