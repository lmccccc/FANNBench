Start time: 06:13
====================
START: running TEST_IVFPQ, sift data --

dataset: YTRGB1m
N: 1000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_6_1_100000_real.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_6_1_100000_real_100.json
index file: /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_100000_real_512
nprobe: 10
dim: 1024
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
[ 0.071s ] Loaded metadata, 1000000 attr's found
[ 0.071s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.093s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
[ 0.095s ] Loaded 10000 YTRGB1m queries
[ 0.162s ] Loaded ground truth, gt_size: 100
[ 0.162s ] Index Params -- d: 1024, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.807s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 128.070s ] Query results (vector ids, then distances):
query 0 nn's (1267, 6842): 984621 (1376) 333483 (3213) 521249 (5304) 980214 (3358) 662806 (3695) 599702 (5849) 680375 (6632) 499361 (1578) 86717 (1938) 457861 (2688) 550823 (2306) 336603 (4871) 208021 (3671) 506665 (1558) 366566 (2645) 673940 (1914) 745412 (2410) 492327 (6667) 451807 (5018) 496578 (6234) 776796 (1294) 19514 (1726) 327418 (1759) 991479 (1889) 958384 (5794) 634590 (1960) 785594 (2179) 202136 (1684) 913246 (5761) 956829 (1988) 148116 (5722) 373440 (2001) 953921 (1591) 437459 (5473) 392724 (6459) 126306 (3063) 403197 (2974) 736474 (2699) 928790 (1921) 857336 (1283) 907457 (1493) 767101 (6697) 151446 (2812) 23924 (6546) 361766 (5902) 267332 (6586) 97757 (2971) 852385 (2320) 966722 (2387) 528429 (2461) 497267 (6181) 696449 (3411) 606062 (4154) 854843 (5388) 566237 (3220) 736154 (3441) 617300 (3148) 842440 (3523) 196808 (1502) 218663 (3791) 14572 (5342) 907166 (5172) 546302 (2102) 314104 (1435) 98367 (3848) 692591 (1529) 68812 (2869) 399500 (3028) 877336 (1807) 745278 (3309) 752039 (3266) 921897 (1925) 509736 (2170) 44918 (2661) 799896 (1352) 798630 (2446) 532465 (4866) 228636 (1659) 424122 (5216) 509845 (3059) 829762 (1972) 797209 (6428) 287255 (5789) 811631 (5789) 358065 (2201) 286299 (3905) 905926 (6294) 79495 (1635) 958034 (3367) 68653 (2930) 572163 (6324) 897422 (6453) 699839 (3716) 160171 (5805) 637198 (3359) 386531 (3860) 154713 (3135) 343722 (6668) 715282 (1394) 232096 (2988) 
     dis: 	86.210 87.254 87.767 88.761 88.823 89.936 91.264 91.365 91.501 92.292 92.322 92.911 92.918 93.173 93.342 93.666 93.757 94.155 94.545 94.621 94.734 94.778 95.207 95.370 95.452 96.114 96.214 96.385 96.561 96.729 96.738 96.795 96.838 96.839 96.975 97.020 97.051 97.314 97.381 97.523 97.569 97.603 97.731 97.880 97.977 98.023 98.072 98.278 98.407 98.446 98.481 98.622 98.630 98.632 98.662 98.688 98.727 98.732 98.756 98.778 98.843 98.936 99.012 99.049 99.055 99.094 99.139 99.231 99.247 99.332 99.353 99.506 99.519 99.542 99.561 99.580 99.595 99.651 99.665 99.685 99.701 99.705 99.711 99.711 99.813 99.816 99.832 99.834 99.937 99.944 100.042 100.076 100.084 100.117 100.257 100.276 100.284 100.289 100.414 100.441 
query 1 nn's (1660, 9508): 230459 (3753) 302746 (1711) 497306 (2143) 506689 (8264) 326679 (7296) 373852 (9446) 138086 (2308) 689633 (2134) 853723 (9251) 358433 (2215) 848578 (5045) 867145 (3477) 212675 (2980) 545680 (1765) 586453 (3477) 641093 (5191) 30000 (2697) 724711 (1975) 997428 (4777) 762596 (3982) 383855 (3706) 546146 (8226) 641020 (3337) 267568 (3482) 941312 (1688) 997115 (3442) 209172 (2572) 558172 (8694) 499809 (2891) 203058 (8499) 400581 (4261) 30138 (3354) 878354 (7441) 301766 (6986) 854843 (5388) 463893 (3965) 316563 (4749) 908662 (3242) 422255 (6055) 821906 (7164) 302319 (2950) 855336 (3986) 455764 (8077) 672148 (3991) 145755 (1979) 289226 (9045) 899467 (9013) 554657 (2471) 519648 (4122) 633004 (1721) 325785 (3140) 427979 (4299) 889441 (3943) 978444 (1877) 776677 (1806) 23747 (7099) 28365 (5180) 880286 (3001) 806534 (5392) 385515 (4630) 499646 (3877) 832537 (1673) 380657 (4109) 844413 (4109) 114503 (3851) 340079 (2293) 322796 (4504) 927330 (4340) 535625 (8224) 178309 (2848) 890430 (4922) 788358 (2146) 970271 (3147) 35170 (2701) 343722 (6668) 14572 (5342) 849697 (2919) 749825 (4399) 980092 (4306) 652195 (4535) 581825 (7549) 840311 (6928) 532093 (7187) 536636 (3230) 521080 (3037) 570629 (7848) 504375 (4741) 707130 (2333) 625297 (2032) 462868 (5450) 835729 (6482) 547512 (1950) 401052 (4664) 748796 (3573) 606832 (6411) 262305 (4464) 146952 (9262) 424166 (9291) 637198 (3359) 535343 (8320) 
     dis: 	49.831 51.008 53.331 53.655 54.367 54.368 54.587 54.597 54.805 54.909 55.132 55.472 55.485 55.560 55.847 56.852 56.864 57.093 57.401 57.622 57.739 57.762 57.876 58.641 58.683 58.775 59.039 59.124 59.274 59.282 59.339 59.544 59.695 59.849 59.912 59.916 59.934 60.054 60.216 60.221 60.364 60.444 60.617 60.735 60.741 60.768 60.808 60.848 61.075 61.091 61.290 61.319 61.362 61.387 61.609 61.661 61.732 61.775 61.787 61.793 61.822 61.932 61.985 61.985 62.257 62.291 62.346 62.350 62.507 62.518 62.531 62.609 62.635 62.655 62.768 62.783 62.993 63.042 63.151 63.163 63.250 63.315 63.383 63.455 63.479 63.539 63.555 63.555 63.562 63.580 63.589 63.596 63.632 63.659 63.692 63.780 63.799 63.802 63.805 63.857 
query 2 nn's (1724, 10052): 423205 (2778) 435470 (4103) 225875 (3761) 871743 (6917) 633590 (2353) 528201 (3388) 666817 (7868) 509845 (3059) 979613 (2315) 667162 (2608) 795823 (2418) 698610 (9525) 44203 (5374) 37850 (3810) 677717 (2098) 76351 (5317) 476128 (1903) 604626 (4097) 223022 (8146) 572163 (6324) 383560 (6198) 236892 (2433) 142229 (4776) 907166 (5172) 290643 (5230) 867372 (5230) 443951 (7383) 630882 (3507) 823721 (6753) 812421 (2111) 39208 (9268) 949063 (4593) 423023 (5239) 641427 (3362) 386531 (3860) 932640 (2080) 65926 (9241) 81314 (2350) 969746 (1756) 320908 (1817) 782560 (4366) 851559 (2393) 970371 (1827) 732994 (2449) 946688 (4582) 519648 (4122) 50122 (5663) 519970 (2215) 356703 (3859) 597155 (4822) 353253 (6420) 497144 (4142) 707130 (2333) 831224 (2491) 254396 (3142) 146952 (9262) 849697 (2919) 244227 (4078) 985228 (7900) 885167 (3033) 680642 (2588) 963167 (4050) 84539 (5643) 741618 (9016) 184588 (5632) 345118 (3063) 294714 (6377) 900209 (8837) 546302 (2102) 522587 (3682) 534146 (4691) 907513 (2254) 605288 (3308) 956829 (1988) 658912 (2588) 863223 (2470) 328799 (5567) 270729 (7283) 68812 (2869) 735266 (3301) 564154 (6410) 899160 (2387) 343114 (4609) 763020 (3231) 305326 (5264) 819590 (4135) 109689 (1883) 408274 (6114) 236295 (9051) 750203 (2703) 446219 (2095) 968757 (6707) 9254 (8845) 358307 (1757) 648719 (3519) 492545 (8644) 369868 (7047) 609316 (2674) 932543 (4118) 781678 (4994) 
     dis: 	132.170 135.861 136.024 136.185 137.888 138.475 139.238 139.289 139.297 139.829 139.880 140.599 141.173 141.360 141.424 141.597 141.677 141.773 141.856 142.265 142.335 142.428 142.705 142.743 142.837 142.837 142.895 143.000 143.048 143.165 143.291 143.362 143.382 143.872 143.931 144.011 144.097 144.145 144.199 144.495 144.595 144.660 144.905 144.976 144.988 145.018 145.061 145.170 145.180 145.197 145.252 145.368 145.384 145.415 145.452 145.459 145.474 145.572 145.606 145.631 145.669 145.673 145.709 145.751 145.826 145.834 145.886 145.925 146.041 146.078 146.195 146.218 146.292 146.313 146.352 146.372 146.402 146.561 146.655 146.690 146.717 146.720 146.753 146.989 146.997 147.025 147.077 147.177 147.211 147.248 147.268 147.274 147.283 147.302 147.309 147.370 147.394 147.395 147.522 147.539 
query 3 nn's (4411, 96384): 462979 (19619) 505074 (5015) 26879 (21558) 551084 (19440) 99295 (12875) 759272 (73427) 469561 (27078) 14703 (35001) 979326 (37641) 954742 (18664) 198287 (90515) 295339 (60291) 669483 (8365) 440840 (6170) 263195 (22042) 178166 (29626) 997286 (51186) 136177 (7299) 762909 (16388) 260825 (20057) 343722 (6668) 542275 (26603) 647424 (64537) 750794 (13264) 863647 (22357) 878957 (4648) 688852 (63424) 431502 (46125) 916832 (59789) 433245 (14738) 346681 (54490) 159269 (17223) 683491 (5347) 13341 (17517) 827077 (15838) 550872 (55957) 20352 (87234) 942390 (43613) 106987 (74575) 496154 (4954) 350197 (9517) 605960 (10890) 371257 (9041) 447077 (55154) 665690 (52020) 939051 (8340) 14572 (5342) 968556 (8873) 365062 (85401) 430803 (4709) 679824 (4571) 242590 (9493) 888936 (11998) 360005 (30819) 46589 (85872) 808082 (65464) 980968 (17438) 64796 (11224) 369664 (71930) 289356 (16886) 488731 (28745) 855530 (6327) 257989 (47732) 616256 (8455) 426874 (31024) 237251 (7053) 470530 (5116) 420277 (75695) 829520 (16678) 826248 (14343) 861784 (7063) 588086 (13515) 877698 (29252) 489829 (4529) 764097 (4529) 179696 (22798) 263846 (6652) 25654 (19438) 835969 (32497) 242694 (12691) 549981 (10918) 75419 (9765) 346637 (5254) 95475 (62765) 251977 (6370) 831892 (7646) 488682 (17594) 492607 (33506) 909386 (4633) 501456 (13653) 115719 (10728) 753624 (12135) 576402 (7184) 521248 (7371) 369868 (7047) 807589 (18042) 978931 (13810) 233180 (42722) 782913 (6006) 475263 (6112) 
     dis: 	141.575 146.462 158.751 163.064 167.177 168.081 169.393 171.598 172.729 172.955 174.082 175.802 176.954 179.295 179.594 180.152 180.158 181.309 183.091 183.172 183.875 183.925 184.068 184.691 184.895 185.050 185.201 185.260 185.316 185.317 185.404 185.520 185.562 185.764 185.798 185.883 186.333 186.530 186.748 186.765 186.784 186.845 187.061 187.104 187.229 187.351 187.646 187.756 187.838 187.877 188.006 188.079 188.100 188.176 188.191 188.370 188.398 188.465 188.631 188.716 188.876 188.967 188.970 188.981 189.011 189.029 189.037 189.168 189.203 189.294 189.380 189.484 189.485 189.502 189.502 189.525 189.552 189.591 189.721 189.778 189.802 189.803 189.877 189.896 189.971 189.987 190.101 190.312 190.360 190.361 190.427 190.440 190.536 190.703 190.714 190.802 190.832 190.947 190.949 191.038 
query 4 nn's (2797, 24298): 719380 (6117) 690285 (9682) 950887 (3058) 461345 (2800) 89809 (2923) 62933 (5287) 969735 (4636) 27286 (4314) 693282 (5409) 47460 (3919) 565522 (19123) 273627 (2842) 644921 (5913) 959418 (5913) 815136 (7725) 615031 (3284) 188274 (7640) 111408 (14080) 266702 (6225) 272857 (3951) 170938 (11027) 272496 (18617) 559665 (12525) 343865 (20909) 226676 (4119) 135954 (4746) 15399 (6715) 983374 (10478) 864885 (19198) 258251 (3855) 739152 (5705) 455363 (3320) 209754 (10381) 86342 (3736) 661394 (2815) 6454 (3445) 786745 (4533) 874168 (15510) 276912 (14988) 721826 (4048) 302474 (17449) 382982 (4717) 757368 (5521) 663997 (3070) 385674 (10284) 404547 (4920) 497393 (11477) 229832 (9081) 70344 (4839) 36993 (3549) 395213 (5480) 584795 (10383) 912472 (12400) 498294 (3128) 257393 (4241) 4088 (17006) 275060 (16756) 586210 (2841) 827290 (13481) 418523 (6069) 935609 (15982) 333654 (6917) 386301 (20767) 974457 (7853) 480782 (3981) 775952 (2986) 544230 (3556) 274883 (5325) 502520 (6040) 190353 (15609) 728440 (3870) 256494 (3107) 972938 (2894) 634282 (3479) 176390 (3343) 128627 (3185) 355417 (18277) 696717 (6458) 751330 (3112) 116068 (16968) 289163 (4384) 448311 (5539) 571909 (3511) 609376 (15945) 293069 (18042) 700992 (8185) 474720 (9053) 190638 (10576) 610034 (2998) 347553 (5121) 617093 (10582) 407673 (2970) 921753 (4200) 337667 (11728) 982288 (7738) 491474 (10606) 308421 (15078) 634836 (3597) 234841 (7108) 707209 (7532) 
     dis: 	56.317 63.089 64.936 71.730 72.849 75.124 75.612 76.685 79.577 80.047 80.127 82.340 86.006 86.006 87.351 89.308 89.321 89.597 90.226 90.389 92.614 92.690 92.988 92.989 95.048 95.115 95.784 95.976 96.042 96.925 97.002 97.041 97.720 98.165 98.170 98.813 99.530 100.047 100.252 100.255 101.753 102.057 102.149 102.185 103.428 103.524 104.470 104.802 104.877 105.016 105.531 105.706 106.228 106.247 106.414 106.514 107.556 108.624 109.067 109.560 110.390 111.192 111.313 111.498 111.660 113.200 114.513 115.064 115.134 115.367 115.846 116.050 116.684 116.778 116.880 116.994 117.811 118.209 118.615 120.226 121.316 121.547 121.562 121.814 121.824 121.901 122.526 122.576 122.938 123.036 123.260 124.158 125.266 125.363 125.482 125.768 126.838 126.920 127.752 128.389 
[ 128.070s ] *** Query time: 118.684
qps: 84.258
 *** ivfpq recall 
ivfpq get 793372 postive res from 1000000 results, recall@100:0.793
recall dist(10% per bucket): 0.001 0.002 0.007 0.016 0.037 0.066 0.107 0.182 0.257 0.319 0.006 
finished ivfpq index examples
[ 128.113s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query YTRGB1m 1000000 100 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_6_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_6_1_100000_real_100.json /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_100000_real_512 10 1024"
	User time (seconds): 125.00
	System time (seconds): 2.52
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 2:08.31
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2649352
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 959224
	Voluntary context switches: 2057
	Involuntary context switches: 188
	Swaps: 0
	File system inputs: 107120
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 07:31
====================
START: running TEST_IVFPQ, sift data --

dataset: YTRGB1m
N: 1000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_100.json
index file: /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_100000_real_512
nprobe: 10
dim: 1024
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
[ 0.072s ] Loaded metadata, 1000000 attr's found
[ 0.072s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.095s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
[ 0.097s ] Loaded 10000 YTRGB1m queries
[ 0.163s ] Loaded ground truth, gt_size: 100
[ 0.163s ] Index Params -- d: 1024, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.063s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 59.960s ] Query results (vector ids, then distances):
query 0 nn's (38855, 139269): 239994 (69257) 469118 (94608) 99619 (56529) 952701 (51288) 315673 (136096) 945815 (121035) 863882 (51634) 95475 (62765) 886648 (67332) 687363 (84946) 961694 (52597) 177205 (64270) 845691 (132967) 777637 (45828) 621002 (95283) 38549 (71441) 168854 (102701) 365062 (85401) 332465 (69390) 591405 (48860) 783265 (56491) 685636 (67940) 17042 (58961) 368761 (70667) 811112 (41659) 408568 (66362) 606206 (106200) 697156 (59339) 194751 (87459) 6650 (46141) 174909 (45797) 235320 (114655) 153464 (47465) 331219 (43651) 45401 (61365) 291869 (60821) 369664 (71930) 791360 (97375) 233180 (42722) 228654 (49919) 159479 (134177) 126870 (78337) 263305 (75650) 388639 (81171) 2220 (114060) 611212 (107273) 73121 (50434) 788030 (131709) 382175 (58821) 64977 (103226) 788908 (60014) 894725 (60014) 401781 (130927) 233174 (52402) 926276 (84589) 926927 (41279) 990950 (60583) 973665 (51005) 23262 (46295) 792564 (39634) 668769 (103579) 303105 (72726) 874351 (106381) 401826 (85550) 337939 (39492) 916832 (59789) 124476 (62846) 233803 (62680) 129184 (99656) 789868 (115348) 191081 (66293) 368711 (84197) 833219 (54275) 574717 (83547) 767612 (108997) 510532 (136372) 65646 (41980) 13730 (41086) 640604 (128834) 42210 (44076) 803492 (41158) 83981 (45687) 948491 (40136) 840279 (93361) 49196 (51658) 210707 (132554) 969334 (97488) 359940 (42210) 623826 (77627) 129754 (48261) 197241 (135209) 792258 (67108) 552221 (79861) 564137 (96284) 485284 (41292) 946913 (72892) 818574 (137400) 138764 (63968) 887033 (106190) 821790 (43725) 
     dis: 	90.137 92.977 93.172 94.077 95.783 95.924 96.295 96.783 97.352 97.353 97.557 97.856 97.870 98.065 98.108 98.346 98.425 98.461 98.517 98.634 98.849 99.540 99.615 99.731 99.838 99.996 100.045 100.078 100.349 100.519 100.541 100.848 100.888 100.908 101.162 101.211 101.262 101.333 101.385 101.639 101.733 101.766 101.780 101.819 101.922 102.029 102.036 102.068 102.093 102.144 102.187 102.187 102.230 102.240 102.308 102.314 102.323 102.466 102.517 102.528 102.598 102.699 102.708 102.719 102.728 102.813 102.892 103.100 103.119 103.161 103.172 103.234 103.260 103.326 103.386 103.392 103.410 103.429 103.497 103.607 103.618 103.648 103.701 103.844 103.872 103.890 103.902 103.943 103.949 103.978 103.997 104.009 104.056 104.120 104.185 104.205 104.209 104.273 104.312 104.364 
query 1 nn's (18169, 37472): 411735 (20503) 380703 (20612) 833378 (33326) 431933 (31516) 360005 (30819) 365136 (35560) 731008 (26372) 146981 (27559) 667959 (22694) 466827 (32372) 341272 (33974) 295338 (23441) 19864 (27480) 68977 (18686) 179696 (22798) 3603 (31109) 192956 (31543) 47728 (27849) 491892 (34050) 726691 (25268) 118351 (25619) 946883 (28688) 233078 (29116) 52602 (19685) 150833 (37196) 598416 (21098) 16765 (20200) 477114 (30008) 912768 (18376) 500782 (33541) 543197 (20634) 51398 (19663) 974111 (22166) 771649 (21020) 942583 (30751) 821644 (27446) 194780 (19444) 687142 (33212) 264943 (28664) 115350 (19329) 821801 (31766) 741615 (34604) 213076 (29082) 527178 (31646) 230172 (33504) 954116 (18258) 940537 (24263) 511634 (29803) 448322 (30878) 751844 (28760) 555984 (31852) 359643 (34794) 152541 (22903) 211104 (30694) 436716 (21905) 465103 (21069) 228240 (22018) 912701 (22126) 132155 (26583) 290862 (23931) 96578 (31995) 376974 (27778) 293139 (23353) 269360 (19243) 495200 (20824) 966842 (22445) 697711 (18272) 427621 (32279) 881118 (24072) 651655 (31045) 982904 (25503) 957981 (32888) 383249 (32617) 168692 (29115) 816510 (22437) 356370 (27771) 750013 (21049) 150740 (19844) 184289 (36069) 102411 (33855) 422419 (36615) 117525 (30703) 203528 (24114) 427862 (19135) 981996 (21641) 637701 (22823) 618817 (21439) 304169 (24025) 178299 (35235) 20535 (20397) 984013 (18208) 855115 (30634) 207241 (20673) 487226 (19131) 455847 (33445) 440572 (20704) 157863 (32552) 649523 (32552) 488353 (22405) 842541 (33185) 
     dis: 	55.039 56.146 56.410 56.413 56.910 57.500 57.544 57.854 59.137 59.274 59.282 59.753 59.880 59.950 60.021 60.313 60.534 60.709 60.795 61.477 61.621 61.679 62.063 62.158 62.297 62.388 62.523 62.606 63.063 63.293 63.329 63.428 63.655 63.705 63.852 63.857 63.923 63.996 64.179 64.442 64.542 64.559 64.733 64.742 64.945 64.949 65.027 65.101 65.348 65.410 65.444 65.503 65.525 65.676 65.691 65.711 66.013 66.047 66.065 66.080 66.132 66.209 66.419 66.651 66.686 66.690 66.811 66.841 66.912 67.203 67.423 67.465 67.544 67.560 67.771 67.861 67.887 67.915 67.994 68.003 68.017 68.105 68.171 68.177 68.197 68.203 68.348 68.444 68.473 68.491 68.508 68.612 68.833 68.873 68.893 68.957 69.105 69.105 69.129 69.192 
query 2 nn's (4082, 5859): 435470 (4103) 44203 (5374) 76351 (5317) 604626 (4097) 142229 (4776) 907166 (5172) 290643 (5230) 867372 (5230) 949063 (4593) 423023 (5239) 782560 (4366) 946688 (4582) 519648 (4122) 50122 (5663) 597155 (4822) 497144 (4142) 84539 (5643) 184588 (5632) 534146 (4691) 328799 (5567) 343114 (4609) 305326 (5264) 819590 (4135) 932543 (4118) 781678 (4994) 71259 (5747) 377529 (4688) 554135 (4709) 277446 (5024) 679824 (4571) 455055 (5828) 436932 (5555) 712602 (4487) 433589 (5709) 569017 (4765) 998487 (4202) 17420 (5022) 167374 (5739) 821004 (4963) 449792 (5825) 947106 (4774) 854843 (5388) 247261 (5397) 201823 (5838) 392694 (4216) 806534 (5392) 816913 (4756) 601030 (5333) 366114 (5339) 863861 (4786) 262305 (4464) 692734 (4603) 966288 (5792) 815597 (5254) 92151 (4564) 884995 (5701) 199535 (5018) 499626 (4172) 455276 (4218) 124155 (4140) 12794 (4229) 667159 (5758) 148699 (4782) 551602 (4317) 629834 (5751) 437459 (5473) 470530 (5116) 773744 (4459) 432424 (5134) 676264 (4336) 532465 (4866) 558132 (5707) 882530 (4430) 784785 (4733) 397553 (5115) 909566 (4479) 160171 (5805) 597346 (4542) 28673 (5333) 544354 (4961) 927330 (4340) 258599 (5339) 784717 (4535) 534055 (4120) 186275 (4406) 306392 (4612) 130066 (4554) 285773 (5796) 925764 (4862) 202908 (4271) 335122 (4561) 359987 (5430) 909386 (4633) 275340 (4940) 427824 (5753) 445092 (4221) 430189 (4867) 222962 (4628) 996864 (4590) 527491 (5579) 
     dis: 	135.861 141.173 141.597 141.773 142.705 142.743 142.837 142.837 143.362 143.382 144.595 144.988 145.018 145.061 145.197 145.368 145.709 145.826 146.195 146.402 146.753 146.997 147.025 147.522 147.539 147.768 147.931 148.199 148.362 148.601 148.857 149.305 149.430 149.479 149.555 149.618 149.682 149.735 149.940 149.968 150.282 150.298 150.469 150.475 150.795 150.904 150.938 151.011 151.104 151.220 151.243 151.245 151.269 151.275 151.363 151.364 151.379 151.462 151.523 151.530 151.563 151.782 151.798 151.898 152.120 152.135 152.149 152.153 152.181 152.263 152.317 152.326 152.557 152.580 152.609 152.654 152.656 152.659 152.673 152.685 152.745 152.854 152.854 152.856 152.903 152.968 152.980 153.065 153.170 153.190 153.215 153.243 153.245 153.364 153.468 153.542 153.602 153.636 153.691 153.736 
query 3 nn's (2262, 3092): 608874 (2611) 976442 (2579) 717608 (2612) 117658 (2990) 871467 (2996) 523139 (2339) 312252 (2292) 258253 (2335) 849185 (2837) 509845 (3059) 633590 (2353) 858706 (2801) 849697 (2919) 101897 (2384) 966722 (2387) 707130 (2333) 712956 (2338) 30000 (2697) 798630 (2446) 399100 (3047) 675438 (2277) 737025 (2790) 771511 (2736) 352736 (2415) 817369 (2332) 918714 (2641) 267098 (2969) 411099 (2779) 243530 (2935) 831224 (2491) 590966 (2778) 613643 (2330) 291162 (3074) 351541 (2355) 656478 (2421) 292249 (2445) 178428 (2642) 119905 (2323) 192949 (3016) 684080 (2336) 145583 (2266) 956822 (2719) 405398 (2319) 247033 (2415) 212398 (2966) 588414 (2601) 665817 (2828) 544996 (2330) 288929 (2357) 715925 (2919) 673637 (2388) 391106 (2415) 746075 (2776) 593711 (2913) 546094 (2656) 135134 (2878) 825275 (2492) 230304 (2882) 977854 (2973) 596276 (2602) 451866 (2646) 629155 (2420) 600906 (2573) 3917 (2319) 778502 (2518) 677320 (2505) 596303 (2414) 377220 (2698) 478079 (2873) 44918 (2661) 244054 (2381) 554657 (2471) 561081 (2585) 438951 (2922) 200470 (2419) 809743 (2365) 501231 (2838) 315960 (2305) 959823 (2462) 125126 (2501) 925084 (2995) 949836 (3012) 323837 (2773) 526775 (2716) 431382 (3013) 411219 (2633) 547760 (2874) 822302 (2991) 970365 (2766) 518782 (2469) 564515 (2469) 863223 (2470) 741934 (3067) 627005 (2706) 829255 (2695) 849406 (2917) 979403 (2654) 612251 (2721) 151262 (2660) 87782 (2861) 
     dis: 	178.360 179.473 185.475 185.975 186.270 186.709 186.987 187.493 187.802 188.707 190.067 190.271 190.292 190.478 191.104 191.628 191.866 192.082 192.225 192.261 192.331 192.333 192.493 192.650 192.909 193.232 193.607 193.666 193.750 193.763 193.792 193.914 194.202 194.317 194.489 194.526 194.672 194.742 194.746 194.918 194.967 194.994 195.010 195.022 195.108 195.269 195.313 195.436 195.556 195.572 195.578 195.593 195.593 195.608 195.790 195.834 195.860 195.921 195.936 195.941 195.945 195.999 196.000 196.021 196.132 196.154 196.208 196.223 196.233 196.258 196.297 196.307 196.360 196.440 196.493 196.550 196.561 196.562 196.608 196.610 196.672 196.727 196.768 196.857 196.890 196.917 197.015 197.131 197.197 197.280 197.280 197.653 197.661 197.754 197.802 197.813 197.828 197.851 197.880 197.885 
query 4 nn's (16428, 32488): 565522 (19123) 272496 (18617) 343865 (20909) 864885 (19198) 302474 (17449) 4088 (17006) 275060 (16756) 386301 (20767) 552830 (32019) 751020 (27082) 355417 (18277) 116068 (16968) 293069 (18042) 447832 (18420) 670582 (19694) 364055 (30344) 215246 (16692) 43472 (19642) 461668 (22573) 433585 (22578) 135006 (19823) 80632 (30566) 402419 (17404) 482871 (31752) 116975 (28540) 873208 (30361) 969231 (24228) 563483 (25877) 78554 (27618) 431001 (21575) 290057 (16747) 761157 (16912) 874283 (25622) 153984 (18166) 852896 (18166) 304444 (21816) 827661 (20637) 556246 (19761) 142006 (17347) 146341 (20254) 619492 (19283) 543121 (25639) 131389 (19666) 105162 (26458) 435332 (25272) 623593 (18134) 488630 (30984) 694298 (30373) 114004 (18093) 577821 (23826) 440098 (25974) 73333 (20837) 383160 (23668) 466567 (17987) 588204 (17716) 463932 (22282) 684777 (27160) 201818 (30510) 746526 (18730) 659552 (24079) 583217 (23326) 401818 (27173) 824409 (19732) 617543 (26822) 436165 (18592) 283216 (17793) 829421 (19896) 145611 (26976) 782966 (30959) 924570 (24774) 525452 (19269) 46598 (20264) 217696 (21238) 969077 (27187) 453886 (28478) 485218 (31412) 33722 (17246) 656479 (16617) 97457 (17664) 698442 (17769) 412572 (17029) 587484 (25411) 147278 (22121) 63478 (21455) 14463 (29424) 222797 (17731) 827553 (19558) 602474 (17660) 744692 (17067) 150392 (26107) 287066 (21894) 331288 (21606) 822401 (26342) 592893 (18577) 762346 (27676) 869202 (31454) 153362 (27003) 863762 (31874) 870983 (23558) 874034 (17571) 
     dis: 	80.127 92.690 92.989 96.042 101.753 106.514 107.556 111.313 111.314 115.838 117.811 120.226 121.824 130.960 134.430 135.570 136.884 141.185 143.077 144.273 149.027 157.235 157.561 158.811 159.442 162.727 162.979 165.497 167.246 168.598 171.324 174.346 174.653 175.729 175.729 177.226 179.604 182.521 183.854 184.331 185.842 186.911 188.118 190.571 190.605 192.663 195.975 197.104 198.121 200.571 200.735 201.808 202.008 202.907 203.944 205.785 205.856 207.020 207.197 208.223 208.408 208.734 208.774 209.242 209.703 209.928 210.107 210.479 210.805 212.499 213.676 213.740 214.181 214.423 215.314 215.319 215.909 216.310 218.551 218.985 220.326 221.034 222.234 222.842 224.043 225.079 225.140 225.927 226.934 227.885 229.935 230.302 231.608 232.273 232.884 233.473 234.152 234.646 234.689 234.974 
[ 59.961s ] *** Query time: 50.742
qps: 197.074
 *** ivfpq recall 
ivfpq get 651079 postive res from 1000000 results, recall@100:0.651
recall dist(10% per bucket): 0.005 0.017 0.041 0.071 0.099 0.123 0.171 0.208 0.147 0.117 0.002 
finished ivfpq index examples
[ 60.004s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query YTRGB1m 1000000 100 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_10_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_10_1_100000_real_100.json /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_100000_real_512 10 1024"
	User time (seconds): 57.63
	System time (seconds): 2.61
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:00.25
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2651048
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 946750
	Voluntary context switches: 1
	Involuntary context switches: 87
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 08:18
====================
START: running TEST_IVFPQ, sift data --

dataset: YTRGB1m
N: 1000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_19_1_100000_real.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_19_1_100000_real_100.json
index file: /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_100000_real_512
nprobe: 10
dim: 1024
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
[ 0.072s ] Loaded metadata, 1000000 attr's found
[ 0.072s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.095s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
[ 0.097s ] Loaded 10000 YTRGB1m queries
[ 0.163s ] Loaded ground truth, gt_size: 100
[ 0.163s ] Index Params -- d: 1024, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.019s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 42.651s ] Query results (vector ids, then distances):
query 0 nn's (1256, 1308): 510683 (1260) 776796 (1294) 857336 (1283) 847206 (1263) 700953 (1275) 972394 (1286) 733053 (1301) 379533 (1299) 639138 (1269) 301718 (1269) 56583 (1283) 229020 (1291) 829395 (1274) 159150 (1263) 420516 (1299) 606451 (1307) 215200 (1268) 182728 (1271) 794785 (1256) 315869 (1307) 361566 (1306) 141740 (1282) 160071 (1291) 836015 (1291) 278662 (1259) 879227 (1306) 875860 (1292) 194228 (1279) 653204 (1279) 926732 (1292) 953026 (1286) 333171 (1257) 154156 (1279) 862540 (1275) 318062 (1276) 320703 (1278) 182236 (1285) 768865 (1283) 523923 (1292) 462882 (1300) 495533 (1277) 611202 (1281) 914998 (1285) 381235 (1256) 23595 (1264) 722020 (1269) 630048 (1306) 803931 (1273) 632272 (1277) 133980 (1272) 573198 (1273) 869725 (1256) 962051 (1269) 835796 (1295) 84468 (1268) 810589 (1298) 849317 (1277) 461082 (1289) 96086 (1262) 394184 (1287) 807802 (1272) 447955 (1270) 832076 (1274) 691789 (1297) 108089 (1257) 779311 (1305) 835655 (1265) 218326 (1298) 85201 (1279) 353907 (1296) 48327 (1285) 696495 (1276) 649048 (1277) 234978 (1306) 199698 (1259) 24079 (1298) 320060 (1303) 123040 (1305) 41894 (1283) 436483 (1284) 64885 (1306) 805749 (1266) 212071 (1296) 220173 (1280) 515930 (1279) 331608 (1287) 563760 (1257) 880211 (1260) 250377 (1258) 634489 (1263) 497784 (1262) 263275 (1261) 201729 (1298) 160144 (1274) 496651 (1296) 804574 (1261) 241570 (1292) 759409 (1297) 296263 (1258) 973687 (1292) 
     dis: 	93.188 94.734 97.523 104.037 105.066 106.228 106.396 106.440 106.450 106.791 106.819 106.944 106.975 107.385 107.879 108.201 108.217 108.407 108.529 108.749 108.825 109.301 109.318 109.568 109.591 109.677 109.707 109.848 109.848 110.021 110.056 110.266 110.451 111.390 111.797 111.881 112.209 112.246 112.333 112.381 112.603 112.638 112.717 112.957 113.192 113.643 113.850 113.944 114.100 114.210 114.227 114.648 114.715 115.071 115.099 115.376 115.479 115.669 115.809 116.155 116.494 116.512 116.815 116.882 116.953 117.320 117.343 117.374 117.424 117.628 118.070 118.793 118.939 119.001 119.044 119.315 119.462 119.622 119.670 119.830 119.989 120.083 120.206 120.380 120.483 120.543 120.592 120.690 120.697 120.808 120.839 120.913 121.047 121.171 121.198 121.394 121.493 121.786 121.946 122.123 
query 1 nn's (8869, 9273): 853723 (9251) 289226 (9045) 899467 (9013) 146952 (9262) 67855 (9144) 39208 (9268) 867373 (8991) 928143 (9135) 726010 (9250) 702321 (9107) 345668 (8887) 265730 (8953) 737956 (9075) 795421 (9264) 392719 (9089) 325834 (8902) 43518 (9029) 741618 (9016) 578001 (9044) 263000 (9087) 274948 (9007) 580894 (9169) 401044 (8931) 656356 (9142) 693979 (9204) 594690 (8898) 397018 (9120) 980524 (9078) 304295 (8982) 569486 (8879) 702455 (8906) 723029 (9119) 464381 (9023) 440798 (9058) 766449 (8953) 986470 (9013) 778242 (9262) 815891 (9044) 101835 (8954) 362263 (9136) 909568 (9011) 808815 (8869) 877737 (9147) 831590 (8887) 556934 (9157) 219625 (9221) 745866 (9027) 840389 (9037) 344918 (9070) 190061 (9233) 673523 (9218) 182940 (9206) 548566 (8931) 527838 (8989) 744164 (8892) 744325 (9203) 770891 (9132) 485527 (9188) 78751 (9067) 775527 (9121) 968105 (9196) 369857 (8973) 45964 (8943) 819661 (8881) 442271 (8896) 326649 (8978) 321822 (9212) 306689 (9030) 259860 (8947) 298742 (9012) 6184 (9073) 992304 (9208) 872044 (8970) 556385 (9164) 968556 (8873) 167787 (9189) 505415 (9078) 861151 (9036) 128948 (9159) 866852 (9015) 596074 (9022) 949971 (9086) 694762 (9093) 688825 (8920) 300995 (8927) 293077 (9087) 162632 (9173) 879828 (9019) 546545 (9264) 150818 (9046) 363316 (8988) 179173 (9172) 625298 (9018) 960075 (9025) 681981 (9063) 14101 (9054) 888043 (8925) 957846 (9039) 10145 (9260) 499002 (9199) 
     dis: 	54.805 60.768 60.808 63.799 67.509 68.960 69.549 70.174 70.205 70.406 70.796 72.563 72.585 72.873 73.232 74.283 74.381 74.522 75.193 75.413 75.431 75.571 76.418 76.500 76.590 77.208 77.273 77.539 77.859 77.966 77.978 78.152 78.177 78.245 78.316 78.523 78.556 78.695 79.140 79.393 79.556 79.662 79.737 80.210 80.341 80.477 80.537 80.711 80.999 81.284 81.589 81.873 82.047 82.286 82.343 82.541 82.692 82.779 82.792 82.969 83.046 83.116 83.201 83.244 83.265 83.289 83.303 83.463 83.466 83.490 83.517 83.529 83.546 83.695 83.826 83.992 84.183 84.199 84.238 84.343 84.361 84.591 84.609 84.939 85.124 85.162 85.222 85.294 85.398 85.411 85.457 85.948 86.001 86.131 86.148 86.155 86.277 86.297 86.366 86.403 
query 2 nn's (1883, 1943): 476128 (1903) 109689 (1883) 891387 (1904) 620703 (1905) 862477 (1910) 236569 (1884) 248211 (1901) 281526 (1904) 351493 (1942) 388982 (1936) 664838 (1924) 568504 (1943) 394811 (1884) 120594 (1902) 887486 (1915) 842479 (1892) 962748 (1916) 276750 (1909) 568894 (1933) 385389 (1925) 377971 (1930) 172282 (1943) 886493 (1884) 569901 (1900) 729778 (1903) 461650 (1901) 631530 (1915) 907274 (1892) 943205 (1925) 921897 (1925) 300758 (1937) 572466 (1936) 508787 (1936) 872014 (1884) 876959 (1912) 673940 (1914) 219219 (1903) 461376 (1901) 600566 (1922) 363293 (1922) 737596 (1884) 787030 (1928) 32251 (1925) 396103 (1930) 430012 (1918) 193390 (1927) 196435 (1902) 275132 (1891) 552833 (1926) 178027 (1927) 445316 (1883) 650567 (1934) 351008 (1943) 313970 (1890) 405769 (1922) 11931 (1898) 13366 (1900) 958919 (1911) 63497 (1925) 977093 (1885) 783177 (1893) 298309 (1904) 123675 (1901) 173908 (1931) 10287 (1934) 984518 (1890) 156480 (1936) 624728 (1938) 584739 (1919) 212353 (1915) 813680 (1902) 316891 (1886) 159652 (1887) 432922 (1935) 437489 (1899) 972417 (1912) 649704 (1942) 873566 (1904) 837665 (1912) 911537 (1907) 116511 (1906) 601264 (1890) 183515 (1883) 795242 (1932) 853600 (1898) 726317 (1922) 480411 (1940) 97866 (1934) 293057 (1919) 772473 (1884) 610625 (1899) 165953 (1891) 934518 (1934) 849112 (1937) 600998 (1889) 965787 (1885) 16285 (1909) 315624 (1911) 706035 (1899) 402786 (1932) 
     dis: 	141.677 147.077 148.218 148.829 149.541 150.175 152.473 152.729 152.989 153.348 154.589 154.858 155.347 155.929 157.070 158.131 158.266 158.306 158.566 158.694 159.312 159.608 159.759 159.995 160.043 160.138 160.225 160.447 160.486 160.563 160.959 161.102 161.103 162.230 162.461 162.784 162.903 162.911 163.277 163.407 163.468 163.501 163.502 163.725 164.173 164.312 164.736 164.915 164.975 165.032 165.067 165.147 165.249 165.254 165.482 165.544 165.690 165.880 165.902 166.499 167.250 167.261 167.270 167.431 167.581 167.584 167.639 167.848 167.855 167.860 167.989 168.026 168.234 168.341 168.440 168.762 168.789 168.876 168.885 169.240 169.334 169.372 169.459 169.650 169.668 170.314 170.536 170.646 170.674 170.677 171.134 171.365 171.467 171.610 171.653 171.807 172.148 172.256 172.514 172.662 
query 3 nn's (3917, 4053): 132271 (4037) 442774 (4006) 963521 (4034) 387378 (4031) 749227 (3925) 509548 (3996) 150035 (3961) 193941 (4006) 254201 (3976) 439875 (4008) 894457 (4012) 763202 (4013) 100035 (4013) 184514 (4030) 186735 (4010) 673145 (3991) 188560 (4007) 573373 (3988) 854265 (4011) 448197 (3977) 186394 (3987) 616161 (3931) 683694 (3999) 454508 (3990) 793733 (4001) 80874 (4027) 963167 (4050) 762596 (3982) 408900 (3941) 169575 (4014) 672148 (3991) 566623 (3978) 920741 (3924) 892529 (3940) 243387 (3918) 688011 (3942) 815661 (4009) 828985 (3947) 304402 (3937) 789040 (4008) 1781 (4036) 240345 (3947) 953713 (4030) 200583 (3981) 277196 (3991) 688411 (3957) 932093 (4035) 749325 (3977) 299576 (3972) 756979 (3998) 986745 (3980) 380611 (3950) 197687 (3943) 353112 (3977) 114735 (3969) 61132 (3966) 202750 (3952) 445146 (3947) 190165 (3927) 555305 (4010) 177679 (4041) 449643 (4015) 306998 (3936) 175244 (3918) 457911 (3988) 207315 (4043) 774230 (3967) 991047 (3959) 666743 (4015) 165130 (4013) 83923 (3963) 125293 (3917) 42956 (3938) 688428 (3920) 930378 (3976) 78487 (3918) 490171 (3934) 642279 (4021) 235470 (3967) 966171 (3967) 769309 (3918) 120707 (3942) 964806 (3978) 722351 (3933) 303906 (4041) 17208 (3920) 278429 (3937) 848218 (4031) 880408 (4020) 897545 (3919) 614785 (3963) 648042 (3955) 353082 (3958) 294715 (3918) 459820 (4001) 257243 (4053) 555657 (4020) 51082 (4025) 277543 (3961) 567552 (4038) 
     dis: 	187.925 190.734 191.221 192.116 193.027 194.005 194.874 195.605 196.230 196.294 197.679 198.626 198.835 199.152 199.268 199.926 199.937 200.099 200.641 200.671 200.769 201.567 201.589 202.189 202.284 202.537 202.605 202.656 203.452 203.904 204.172 204.257 204.345 204.470 204.471 204.503 204.715 204.781 204.784 205.072 205.112 205.234 205.515 205.635 205.639 205.970 206.046 206.237 206.548 207.116 207.251 207.295 207.591 207.782 207.860 207.862 207.891 208.238 208.722 208.938 209.096 209.326 209.330 209.380 209.410 209.495 209.512 210.238 210.454 211.266 211.480 211.523 212.012 212.452 212.606 212.998 213.144 213.319 213.656 213.656 213.886 213.921 213.934 213.992 214.300 214.698 214.724 214.827 215.008 215.012 215.114 215.225 215.349 215.356 215.723 215.986 216.232 216.257 216.348 216.384 
query 4 nn's (6195, 6441): 266702 (6225) 619953 (6242) 82323 (6199) 246790 (6322) 477947 (6220) 133257 (6213) 782564 (6196) 291473 (6438) 59582 (6274) 792679 (6323) 276639 (6406) 931967 (6363) 139246 (6440) 764005 (6327) 783975 (6274) 123181 (6420) 29305 (6296) 504337 (6229) 648541 (6350) 941276 (6323) 836700 (6401) 980928 (6233) 737881 (6313) 793115 (6413) 982708 (6298) 641475 (6318) 578736 (6389) 485008 (6259) 927378 (6220) 601749 (6347) 718843 (6405) 892220 (6374) 30101 (6250) 716989 (6258) 820525 (6384) 636540 (6385) 265537 (6414) 474208 (6197) 238058 (6207) 900872 (6418) 853637 (6404) 288778 (6210) 545877 (6364) 780837 (6266) 929499 (6292) 460502 (6301) 793572 (6411) 315772 (6295) 329894 (6294) 735354 (6199) 523363 (6391) 853421 (6416) 112321 (6371) 451611 (6236) 334448 (6419) 298984 (6398) 75831 (6407) 573502 (6327) 179743 (6247) 425932 (6297) 332053 (6408) 55633 (6227) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	90.226 130.873 142.727 155.996 178.434 183.105 188.907 192.092 205.062 206.018 212.166 220.777 236.270 237.346 241.847 243.739 244.145 249.850 264.654 267.757 272.818 276.834 278.535 281.819 283.792 290.149 294.373 307.487 309.289 311.067 314.599 318.121 324.665 331.196 332.320 333.516 335.282 337.213 340.871 341.415 341.595 343.471 345.188 346.812 361.584 362.365 365.541 370.665 378.644 381.996 388.803 389.590 409.280 411.369 417.018 422.636 426.219 460.834 533.979 578.392 599.183 700.159 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 42.652s ] *** Query time: 34.036
qps: 293.807
 *** ivfpq recall 
ivfpq get 348336 postive res from 1000000 results, recall@100:0.348
recall dist(10% per bucket): 0.085 0.163 0.174 0.155 0.170 0.162 0.073 0.016 0.003 0.000 0.000 
finished ivfpq index examples
[ 42.681s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query YTRGB1m 1000000 100 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_19_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_19_1_100000_real_100.json /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_100000_real_512 10 1024"
	User time (seconds): 41.40
	System time (seconds): 1.52
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:42.93
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2649456
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 690315
	Voluntary context switches: 1
	Involuntary context switches: 64
	Swaps: 0
	File system inputs: 0
	File system outputs: 40
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 08:35
====================
START: running TEST_IVFPQ, sift data --

dataset: YTRGB1m
N: 1000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs
query file: /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
attr file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
qrange file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_20_1_100000_real.json
gt file: /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_20_1_100000_real_100.json
index file: /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_100000_real_512
nprobe: 10
dim: 1024
loaded base attributes from:/mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json
[ 0.072s ] Loaded metadata, 1000000 attr's found
[ 0.072s ] Loading query vectors and attributes
query vecs data loaded, with dim: 1024, nb=10000
[ 0.095s ] Loaded query vectors from /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs
[ 0.096s ] Loaded 10000 YTRGB1m queries
[ 0.162s ] Loaded ground truth, gt_size: 100
[ 0.162s ] Index Params -- d: 1024, N: 1000000
 load index size: 1000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 3.020s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 41.478s ] Query results (vector ids, then distances):
query 0 nn's (2164, 2171): 509736 (2170) 528865 (2166) 512323 (2165) 81848 (2170) 398882 (2170) 388781 (2169) 648810 (2170) 378593 (2166) 108427 (2170) 902707 (2165) 537894 (2165) 823116 (2171) 2976 (2164) 97592 (2170) 395898 (2171) 992348 (2165) 815425 (2168) 130531 (2165) 632680 (2171) 922386 (2166) 115136 (2170) 111540 (2171) 954240 (2171) 964165 (2170) 193689 (2167) 64591 (2171) 54596 (2171) 316904 (2170) 223351 (2164) 843139 (2168) 472799 (2170) 859669 (2169) 1615 (2164) 730059 (2165) 837193 (2170) 673398 (2167) 966669 (2167) 312288 (2167) 109065 (2171) 192317 (2168) 513891 (2168) 837803 (2170) 778030 (2168) 338342 (2170) 278389 (2167) 405542 (2166) 331338 (2167) 122231 (2165) 900394 (2171) 421038 (2168) 275251 (2171) 639893 (2164) 720247 (2171) 644075 (2164) 652658 (2170) 427219 (2167) 385654 (2166) 531461 (2168) 677266 (2171) 410269 (2169) 380392 (2165) 889431 (2164) 291273 (2164) 735471 (2168) 922364 (2168) 865013 (2170) 515886 (2166) 515659 (2167) 59098 (2169) 35347 (2166) 259029 (2164) 867025 (2169) 529333 (2170) 431726 (2166) 616344 (2165) 601254 (2164) 343473 (2166) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	99.519 103.648 103.922 107.518 107.888 110.776 115.326 115.576 116.070 116.235 116.237 117.126 117.465 120.536 125.018 125.057 126.976 128.328 129.253 129.972 130.057 130.932 131.711 132.205 133.169 133.819 135.378 136.266 136.331 136.957 138.073 138.975 139.267 143.302 144.417 145.002 146.257 146.295 146.311 146.526 146.526 147.469 147.497 147.789 148.052 149.886 150.573 151.696 152.683 153.011 153.686 156.843 156.953 157.347 159.287 159.385 160.861 164.753 164.768 166.264 167.893 168.175 171.405 173.795 173.795 177.907 184.983 186.741 188.363 197.076 203.378 215.575 217.729 235.086 246.369 396.501 399.278 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 1 nn's (4231, 4245): 304826 (4245) 210350 (4235) 189071 (4233) 658033 (4235) 744431 (4241) 846901 (4242) 225187 (4243) 284592 (4233) 919607 (4232) 710087 (4242) 522720 (4244) 800799 (4232) 767588 (4240) 112588 (4233) 610824 (4237) 68713 (4243) 519163 (4235) 828478 (4243) 310396 (4243) 893932 (4240) 571430 (4239) 797714 (4236) 57708 (4232) 354387 (4240) 535974 (4244) 633074 (4240) 187931 (4240) 679552 (4231) 527927 (4240) 473863 (4234) 945233 (4241) 597094 (4237) 311652 (4241) 16534 (4242) 801039 (4241) 892797 (4233) 298637 (4234) 467630 (4231) 714038 (4242) 842453 (4242) 223941 (4235) 819131 (4234) 720494 (4242) 52466 (4243) 468746 (4241) 354894 (4235) 21548 (4242) 814523 (4240) 786109 (4232) 436055 (4237) 960538 (4233) 238916 (4245) 892824 (4244) 570504 (4239) 393549 (4231) 774638 (4245) 244415 (4240) 558605 (4241) 248931 (4233) 532436 (4236) 551541 (4243) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	68.192 69.679 74.070 80.432 81.798 82.324 83.021 83.120 85.584 87.201 87.400 90.143 90.788 96.162 97.506 97.609 97.965 98.970 100.612 100.834 101.151 101.257 102.138 107.510 108.736 108.800 110.257 110.910 111.194 114.500 115.004 117.005 117.564 119.648 122.204 123.088 123.915 124.825 127.978 128.097 133.048 133.324 134.077 135.159 137.546 139.847 141.897 142.934 152.262 165.915 181.738 194.096 194.109 213.164 217.701 314.623 334.157 365.782 391.744 411.298 511.569 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 2 nn's (24551, 24732): 361874 (24693) 532907 (24577) 613335 (24721) 302628 (24597) 868382 (24602) 262437 (24692) 92276 (24700) 85078 (24687) 613280 (24729) 779108 (24701) 426135 (24645) 662819 (24697) 279515 (24730) 374517 (24627) 793657 (24665) 406148 (24655) 74394 (24732) 310586 (24629) 515643 (24629) 177313 (24727) 943915 (24695) 54327 (24628) 254252 (24708) 817906 (24653) 92495 (24556) 974927 (24679) 552831 (24662) 910793 (24610) 485388 (24722) 924367 (24679) 977556 (24634) 252399 (24672) 447480 (24616) 659942 (24650) 571076 (24586) 372762 (24624) 890049 (24655) 28145 (24653) 866029 (24570) 945214 (24604) 101621 (24676) 990632 (24632) 442948 (24680) 799067 (24585) 677786 (24666) 70281 (24613) 89285 (24628) 891149 (24646) 694053 (24690) 789208 (24668) 360405 (24648) 624040 (24576) 128657 (24628) 446171 (24585) 87001 (24664) 756033 (24670) 900968 (24641) 575589 (24699) 100500 (24637) 317091 (24622) 471392 (24601) 333916 (24680) 98834 (24644) 472926 (24659) 56534 (24578) 671991 (24609) 632450 (24561) 19459 (24699) 129805 (24594) 439636 (24723) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	152.719 159.653 160.395 162.329 165.441 165.650 165.762 166.606 166.616 169.853 170.237 174.774 175.590 176.488 179.280 179.507 180.614 184.234 184.234 186.037 188.079 189.487 191.603 192.288 193.272 193.684 196.698 198.604 200.989 204.486 204.915 206.107 206.150 206.410 206.818 207.783 208.554 209.669 210.222 210.553 212.556 212.601 215.014 215.649 216.786 218.540 220.338 221.230 224.896 225.324 229.682 231.177 233.188 239.304 250.527 253.898 263.262 270.177 276.097 278.072 281.246 282.955 283.056 289.443 322.938 356.185 492.816 608.306 616.250 676.021 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (2590, 2598): 720674 (2598) 845672 (2591) 163097 (2595) 892843 (2597) 877687 (2593) 224194 (2591) 376476 (2596) 535962 (2593) 96500 (2597) 998134 (2597) 97861 (2592) 410403 (2597) 922097 (2595) 309147 (2596) 360945 (2596) 901634 (2592) 609095 (2591) 863184 (2590) 763671 (2591) 494053 (2597) 499279 (2598) 568891 (2596) 173725 (2593) 367371 (2592) 95754 (2597) 531092 (2595) 802333 (2595) 942320 (2590) 878154 (2592) 731692 (2597) 921474 (2596) 638685 (2591) 960 (2590) 735877 (2595) 460070 (2592) 186123 (2595) 692499 (2594) 350097 (2591) 170268 (2593) 647647 (2590) 337891 (2595) 354200 (2590) 428962 (2592) 929355 (2592) 28058 (2595) 639632 (2594) 635817 (2594) 990510 (2597) 288786 (2593) 118194 (2595) 345781 (2592) 381398 (2592) 907454 (2594) 309329 (2594) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	198.832 198.924 202.539 207.202 209.691 209.981 210.733 211.451 212.438 214.012 214.978 215.821 217.718 220.239 221.012 225.065 227.006 227.561 229.018 232.018 234.218 235.858 237.718 238.037 238.074 240.529 246.577 250.026 252.166 253.952 261.407 263.156 263.645 266.735 273.899 280.720 290.474 301.293 309.610 312.328 319.391 329.996 343.612 351.899 367.601 370.848 377.715 440.228 453.983 479.255 509.636 545.745 577.806 671.901 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (5249, 5268): 297194 (5257) 995312 (5250) 389230 (5249) 280710 (5250) 180704 (5255) 339135 (5260) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	163.554 185.673 270.119 311.706 372.756 429.976 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 41.478s ] *** Query time: 32.379
qps: 308.838
 *** ivfpq recall 
ivfpq get 152478 postive res from 1000000 results, recall@100:0.152
recall dist(10% per bucket): 0.364 0.285 0.250 0.093 0.007 0.000 0.000 0.000 0.000 0.000 0.000 
finished ivfpq index examples
[ 41.507s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query YTRGB1m 1000000 100 1 /mnt/data/mocheng/dataset/youtube1m/rgb.fvecs /mnt/data/mocheng/dataset/youtube1m/rgb_query.fvecs /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/attr_sel_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/qrangesel_20_1_100000_real.json /mnt/data/mocheng/dataset/youtube1m/label/sel_1_100000_real/sif_gt_sel_20_1_100000_real_100.json /mnt/data/mocheng/dataset/youtube1m/ivfpq/index/index_ivfpq_sel_1_100000_real_512 10 1024"
	User time (seconds): 40.25
	System time (seconds): 1.43
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:41.68
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2651044
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 661459
	Voluntary context switches: 1
	Involuntary context switches: 54
	Swaps: 0
	File system inputs: 0
	File system outputs: 56
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
