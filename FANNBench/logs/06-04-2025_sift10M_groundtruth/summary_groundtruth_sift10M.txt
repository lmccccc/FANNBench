

===============================================================================================================
START: generating groundtruth

N: 10000000
dataset: /mnt/data/mocheng/dataset/sift2/sift10m.fvecs
attr: /mnt/data/mocheng/dataset/sift2/label/sel_1_500_random/attr_sel_1_500_random.json
query: /mnt/data/mocheng/dataset/sift2/sift10m_query.fvecs
qrange: /mnt/data/mocheng/dataset/sift2/label/sel_1_500_random/qrangesel_1_1_500_random_6.json
output: /mnt/data/mocheng/dataset/sift2/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_10.json
topk: 10
dim: 128
start
[3.018 s] Loaded dataset, size=10000000, dim=128
[3.687 s] Loaded attr, size=10000000
[3.687 s] Loading query vectors and attributes
query vecs data loaded, with dim: 128, size=10000
[3.690 s] Loaded query vectors
[3.691 s] Loaded 10000 queries
====================Vectors====================

[57.240 s] Loading database
data loaded, with dim: 128, nb=10000000
[57.240 s] Indexing database, size 10000000*128 from max 10000000
[59.532 s] Adding the vectors to the index
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
====================INDEX====================
[59.729 s] Searching the 10 nearest neighbors of 10000 vectors in the index
here1
nn and dis size: 100000 100000
[295.129 s] Query results (vector ids, then distances):
query 0, qrange [6, 6]
      nns 0 id:4160485 attr:6 dis:65950
      nns 1 id:7364551 attr:6 dis:72592
      nns 2 id:7293718 attr:6 dis:75573
      nns 3 id:6346833 attr:6 dis:76136
      nns 4 id:4538400 attr:6 dis:76603
      nns 5 id:1020562 attr:6 dis:76767
      nns 6 id:7077742 attr:6 dis:76934
      nns 7 id:5423931 attr:6 dis:77145
      nns 8 id:2213388 attr:6 dis:78558
      nns 9 id:788117 attr:6 dis:78653

query 1, qrange [6, 6]
      nns 0 id:8449497 attr:6 dis:32633
      nns 1 id:2253711 attr:6 dis:45140
      nns 2 id:4907604 attr:6 dis:46066
      nns 3 id:1273419 attr:6 dis:46522
      nns 4 id:1233453 attr:6 dis:48662
      nns 5 id:9219153 attr:6 dis:50730
      nns 6 id:469965 attr:6 dis:50753
      nns 7 id:3645374 attr:6 dis:50948
      nns 8 id:9958454 attr:6 dis:51055
      nns 9 id:3309105 attr:6 dis:51760

query 2, qrange [6, 6]
      nns 0 id:9710602 attr:6 dis:40495
      nns 1 id:5055964 attr:6 dis:42316
      nns 2 id:4588082 attr:6 dis:47637
      nns 3 id:1931585 attr:6 dis:48317
      nns 4 id:289025 attr:6 dis:48416
      nns 5 id:237844 attr:6 dis:49294
      nns 6 id:199400 attr:6 dis:49395
      nns 7 id:5982237 attr:6 dis:50144
      nns 8 id:4791170 attr:6 dis:50576
      nns 9 id:9262583 attr:6 dis:50601

query 3, qrange [6, 6]
      nns 0 id:4083199 attr:6 dis:3910
      nns 1 id:980813 attr:6 dis:4296
      nns 2 id:1527942 attr:6 dis:4309
      nns 3 id:4147780 attr:6 dis:4550
      nns 4 id:6151275 attr:6 dis:4602
      nns 5 id:8410503 attr:6 dis:4817
      nns 6 id:7269483 attr:6 dis:4894
      nns 7 id:2965607 attr:6 dis:5013
      nns 8 id:7301932 attr:6 dis:5240
      nns 9 id:3643741 attr:6 dis:5279

query 4, qrange [6, 6]
      nns 0 id:5493369 attr:6 dis:81626
      nns 1 id:7963557 attr:6 dis:82038
      nns 2 id:1751938 attr:6 dis:84283
      nns 3 id:3389697 attr:6 dis:84350
      nns 4 id:1141817 attr:6 dis:85933
      nns 5 id:1149636 attr:6 dis:85940
      nns 6 id:4119530 attr:6 dis:86120
      nns 7 id:2524726 attr:6 dis:86290
      nns 8 id:1530216 attr:6 dis:86529
      nns 9 id:3220361 attr:6 dis:86625

[295.130 s] *** Query time: 235.400458
qps:42.4808
cmp per query:10000000
recall: 1 of course
sel distribution: 0 0 0 0 1 0 0 0 0 0 0 
selectivity: 0.49996
finished base index examples
====================WRITING====================
==================WRITING DONE=================
[295.138 s] -----DONE-----
	Command being timed: "../faiss/build/demos/generate_groundtruth 10000000 /mnt/data/mocheng/dataset/sift2/sift10m.fvecs /mnt/data/mocheng/dataset/sift2/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/sift2/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift2/label/sel_1_500_random/qrangesel_1_1_500_random_6.json /mnt/data/mocheng/dataset/sift2/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_10.json 10 128"
	User time (seconds): 13770.31
	System time (seconds): 14843.73
	Percent of CPU this job got: 9685%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 4:55.42
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 10132480
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 444347385
	Voluntary context switches: 1529752
	Involuntary context switches: 954477
	Swaps: 0
	File system inputs: 0
	File system outputs: 1792
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
