Start time: 03:49
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 100
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000
ef_search: 40
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.355s ] Loaded metadata, 10000000 attr's found
[ 1.355s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.358s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 1.360s ] Loaded 10000 sift10M queries
[ 1.431s ] Loaded ground truth, gt_size: 100
[ 1.431s ] Index Params -- d: 128, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.486s ] Searching the 100 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 552.490s ] Query results (vector ids, then distances):
query 0 nn's (6, 15386, 98713): 4160485 (6, 75840) 6141318 (6, 37070) 1160663 (6, 33030) 4738758 (6, 62037) 7293718 (6, 46327) 7077742 (6, 75183) 9536881 (6, 67672) 8191903 (6, 40651) 9485971 (6, 68407) 7866119 (6, 74143) 2375126 (6, 33561) 2923944 (6, 73475) 8076858 (6, 83183) 7164607 (6, 98353) 9925949 (6, 83292) 888010 (6, 89770) 2078396 (6, 69539) 8435256 (6, 19169) 2549151 (6, 55782) 9251169 (6, 27202) 5643020 (6, 54360) 5520369 (6, 15713) 5710919 (6, 63861) 4326493 (6, 83717) 7974670 (6, 61959) 674077 (6, 43009) 9534078 (6, 38666) 6019325 (6, 86380) 6871531 (6, 26675) 1203246 (6, 40158) 2707047 (6, 84931) 7459877 (6, 82475) 7011791 (6, 71074) 6328993 (6, 68905) 5368660 (6, 68710) 8039506 (6, 73870) 3517425 (6, 36130) 447965 (6, 76901) 2986000 (6, 89977) 9906463 (6, 17021) 6799000 (6, 35117) 7842689 (6, 63484) 7455148 (6, 61833) 5376243 (6, 80878) 3435228 (6, 81391) 1249067 (6, 38034) 5128198 (6, 36549) 1891236 (6, 53938) 7895839 (6, 60842) 5187160 (6, 17308) 4627859 (6, 79569) 2692614 (6, 59275) 476293 (6, 98031) 5356206 (6, 49471) 3094752 (6, 94405) 1698351 (6, 90365) 4698776 (6, 50473) 4271011 (6, 37884) 8610630 (6, 38917) 8446671 (6, 55027) 8898051 (6, 52188) 3409110 (6, 50516) 5600358 (6, 55389) 628292 (6, 27639) 6751758 (6, 86378) 6865307 (6, 70109) 6436545 (6, 41848) 9119595 (6, 92234) 8423092 (6, 91874) 7148793 (6, 19763) 5116632 (6, 48638) 9400319 (6, 41086) 1029845 (6, 46681) 3390335 (6, 22945) 8615059 (6, 79282) 6323597 (6, 54660) 5327123 (6, 46834) 1963518 (6, 55791) 1313755 (6, 38912) 2478200 (6, 25956) 3149007 (6, 23517) 7580460 (6, 90201) 1313109 (6, 76826) 4143439 (6, 24107) 8329174 (6, 21261) 8744580 (6, 33457) 2958251 (6, 76009) 9562895 (6, 38188) 418327 (6, 77648) 1508937 (6, 44516) 6587413 (6, 79993) 5731847 (6, 32093) 2711819 (6, 35369) 1456323 (6, 88935) 1788379 (6, 92932) 1433064 (6, 70579) 9110844 (6, 18085) 7868501 (6, 49604) 6238928 (6, 52088) 4591857 (6, 85963) 
     dis: 	65950.000 73183.000 74292.000 74463.000 75573.000 76934.000 78206.000 78749.000 78877.000 79448.000 79929.000 79984.000 80223.000 80358.000 80660.000 80692.000 81711.000 81799.000 81827.000 81847.000 82000.000 82492.000 82540.000 82567.000 82693.000 83152.000 83197.000 83269.000 84002.000 84353.000 84571.000 84945.000 85235.000 85322.000 85365.000 85538.000 85597.000 85625.000 85736.000 85842.000 85915.000 85925.000 85963.000 85985.000 86005.000 86100.000 86198.000 86203.000 86379.000 86549.000 86576.000 86817.000 86891.000 86902.000 86958.000 87049.000 87100.000 87297.000 87333.000 87510.000 87602.000 87631.000 87654.000 87982.000 88186.000 88343.000 88420.000 88442.000 88743.000 88746.000 88809.000 88882.000 88900.000 89178.000 89325.000 89347.000 89388.000 89392.000 89399.000 89521.000 89695.000 89720.000 89869.000 89883.000 90050.000 90061.000 90064.000 90141.000 90275.000 90535.000 90668.000 91008.000 91016.000 91069.000 91071.000 91201.000 91248.000 91451.000 91486.000 91494.000 
query 1 nn's (6, 9087, 92417): 8449497 (6, 34983) 5552416 (6, 36365) 285986 (6, 75309) 4234271 (6, 67974) 2253711 (6, 37325) 4907604 (6, 25976) 1273419 (6, 33104) 7501440 (6, 14746) 1263214 (6, 88792) 9492445 (6, 12447) 8349375 (6, 22458) 9219153 (6, 58629) 3645374 (6, 90675) 1909131 (6, 54169) 6265610 (6, 87893) 5271910 (6, 41655) 7917424 (6, 90499) 9009284 (6, 67244) 371485 (6, 17413) 7343838 (6, 74913) 6378991 (6, 21879) 2993914 (6, 68602) 4702839 (6, 59837) 1346170 (6, 41296) 9015118 (6, 87716) 5008572 (6, 56537) 375999 (6, 89946) 296178 (6, 11477) 3324707 (6, 81184) 4809706 (6, 36811) 4757479 (6, 22324) 3786289 (6, 65499) 5516040 (6, 28998) 9815150 (6, 42238) 1784776 (6, 25331) 1350904 (6, 35417) 8175356 (6, 55361) 7342014 (6, 80693) 895436 (6, 74449) 5313986 (6, 26429) 1000577 (6, 77635) 1503119 (6, 38818) 741761 (6, 59044) 8704684 (6, 12621) 3665630 (6, 61393) 3872079 (6, 21033) 4512099 (6, 15894) 1461697 (6, 49246) 8440112 (6, 14227) 8984166 (6, 75605) 6087695 (6, 67694) 6986308 (6, 59303) 9913606 (6, 80400) 7315015 (6, 84354) 4500982 (6, 37756) 4364584 (6, 36673) 7672903 (6, 92226) 963644 (6, 20039) 8401639 (6, 60800) 8457342 (6, 79112) 6630533 (6, 53185) 2235415 (6, 59225) 5226515 (6, 26779) 4009753 (6, 84717) 3083636 (6, 72718) 7968009 (6, 31114) 8518091 (6, 42790) 4357659 (6, 12067) 5254261 (6, 65510) 5700748 (6, 75823) 3200275 (6, 28242) 3891904 (6, 29200) 7513620 (6, 48002) 491814 (6, 82945) 1410399 (6, 56069) 9388703 (6, 77438) 5307850 (6, 49892) 4960102 (6, 30149) 5869072 (6, 9606) 6383821 (6, 21570) 8743749 (6, 12308) 7512095 (6, 73608) 7807906 (6, 27943) 298308 (6, 49221) 4539661 (6, 43236) 4572312 (6, 44945) 8346283 (6, 22589) 9591804 (6, 46494) 8488585 (6, 17527) 8041031 (6, 92148) 6566369 (6, 44887) 2744457 (6, 89461) 7502105 (6, 21781) 2380099 (6, 42842) 727506 (6, 77622) 8899541 (6, 37709) 1143880 (6, 30029) 549221 (6, 87675) 7664952 (6, 62828) 7480585 (6, 64977) 
     dis: 	32633.000 42944.000 43778.000 44439.000 45140.000 46066.000 46522.000 46910.000 47608.000 48691.000 49997.000 50730.000 50948.000 51310.000 51836.000 52252.000 52837.000 52935.000 54431.000 54601.000 54869.000 55326.000 55982.000 56324.000 56457.000 56506.000 56619.000 57313.000 57508.000 57512.000 57734.000 57771.000 57779.000 57793.000 57917.000 57960.000 58298.000 58531.000 59156.000 59169.000 59284.000 59550.000 59621.000 59872.000 59901.000 59947.000 60127.000 60324.000 60340.000 60632.000 60873.000 60913.000 60931.000 61093.000 61176.000 61385.000 62051.000 62305.000 62462.000 62505.000 62563.000 62601.000 62693.000 62791.000 62992.000 63272.000 63533.000 63824.000 63867.000 63955.000 64056.000 64165.000 64180.000 64377.000 64505.000 64556.000 64772.000 64813.000 64890.000 64958.000 65073.000 65166.000 65184.000 65450.000 65629.000 65693.000 65936.000 66141.000 66231.000 66353.000 66363.000 66538.000 66544.000 66545.000 66893.000 66896.000 66921.000 66940.000 67496.000 67500.000 
query 2 nn's (6, 3328, 86670): 3900297 (6, 83217) 4588082 (6, 31606) 8667807 (6, 80757) 289025 (6, 80462) 237844 (6, 23653) 5982237 (6, 65005) 4480383 (6, 54571) 3493381 (6, 18042) 6296252 (6, 24163) 2795236 (6, 16996) 5637368 (6, 73018) 7500565 (6, 8859) 4457160 (6, 76374) 8510786 (6, 60842) 436139 (6, 33563) 9410320 (6, 64533) 5988705 (6, 15181) 4154052 (6, 79109) 7654217 (6, 42044) 2994193 (6, 15692) 8923155 (6, 7071) 3832486 (6, 80444) 1198061 (6, 86515) 271911 (6, 44151) 1229611 (6, 85215) 9362419 (6, 16946) 1784913 (6, 45241) 4347605 (6, 48929) 4555038 (6, 33581) 4519717 (6, 40697) 3724739 (6, 52270) 4021389 (6, 21907) 419195 (6, 52999) 8563094 (6, 80394) 9790465 (6, 35494) 3795529 (6, 21617) 3293173 (6, 29731) 4973399 (6, 65418) 8198272 (6, 72364) 6114289 (6, 79310) 49352 (6, 52474) 3061201 (6, 66871) 8070798 (6, 76147) 9910009 (6, 10346) 141025 (6, 29704) 5631784 (6, 32640) 6290196 (6, 69104) 5596868 (6, 30597) 4861540 (6, 67691) 1463083 (6, 61154) 1878319 (6, 47080) 3567890 (6, 52657) 2723946 (6, 45580) 1956474 (6, 55102) 4713533 (6, 77619) 4135242 (6, 86442) 8913430 (6, 65744) 4283746 (6, 59831) 764856 (6, 14327) 1297680 (6, 45188) 4542872 (6, 70231) 9906560 (6, 47924) 8801441 (6, 53336) 2800256 (6, 17090) 9302830 (6, 26290) 9724885 (6, 32424) 2247452 (6, 23492) 1700496 (6, 44695) 8476333 (6, 6657) 2407252 (6, 46696) 5879779 (6, 29152) 1758192 (6, 15169) 2262090 (6, 60953) 6848307 (6, 75942) 9650562 (6, 29241) 483758 (6, 37924) 6511526 (6, 66264) 8607006 (6, 4482) 3923684 (6, 21946) 9235536 (6, 77548) 6202123 (6, 12066) 4848879 (6, 44113) 2016764 (6, 70399) 4824470 (6, 60977) 9442629 (6, 53808) 2036301 (6, 74354) 6238112 (6, 29177) 1688252 (6, 45076) 4926809 (6, 31036) 8064263 (6, 10971) 5709226 (6, 25299) 4112561 (6, 38258) 4083557 (6, 69006) 5407857 (6, 57461) 5684221 (6, 63216) 182187 (6, 10286) 2327550 (6, 41546) 5054841 (6, 74548) 2653893 (6, 51912) 5088938 (6, 5821) 
     dis: 	43033.000 47637.000 47988.000 48416.000 49294.000 50144.000 50702.000 51043.000 51071.000 51181.000 51405.000 51634.000 51795.000 52273.000 52554.000 52939.000 53001.000 53029.000 53106.000 53360.000 54025.000 54273.000 54288.000 54365.000 54404.000 54496.000 54759.000 54968.000 55225.000 55350.000 55376.000 55907.000 55957.000 55995.000 56197.000 56262.000 56269.000 56343.000 56416.000 56627.000 56721.000 56977.000 57245.000 57310.000 57318.000 57398.000 57466.000 57613.000 57716.000 57848.000 58055.000 58195.000 58328.000 58484.000 58526.000 58766.000 58788.000 58925.000 58933.000 58977.000 58989.000 58993.000 59135.000 59276.000 59365.000 59587.000 59600.000 59681.000 59745.000 59815.000 59823.000 59887.000 60066.000 60122.000 60272.000 60413.000 60574.000 60587.000 60631.000 60677.000 60696.000 60775.000 60789.000 60874.000 60938.000 60983.000 61128.000 61144.000 61155.000 61267.000 61273.000 61277.000 61321.000 61472.000 61535.000 61548.000 61587.000 61717.000 61764.000 61905.000 
query 3 nn's (6, 14596, 97918): 980813 (6, 71799) 1527942 (6, 63601) 2205832 (6, 88191) 4147780 (6, 81935) 6151275 (6, 35885) 8410503 (6, 21539) 7269483 (6, 65758) 3643741 (6, 16392) 1985932 (6, 29948) 5124856 (6, 21115) 1417424 (6, 44675) 6411621 (6, 75418) 2892348 (6, 17177) 4904828 (6, 90172) 1124016 (6, 73832) 9010353 (6, 72511) 5224964 (6, 83012) 8649378 (6, 68639) 1911911 (6, 37348) 2218358 (6, 72770) 1344917 (6, 87616) 4890579 (6, 38501) 1739894 (6, 46666) 8501071 (6, 67768) 4246457 (6, 40977) 4486659 (6, 58126) 5716081 (6, 23527) 1514080 (6, 74319) 692217 (6, 48752) 9019201 (6, 61521) 9577990 (6, 43595) 7301436 (6, 90494) 290433 (6, 69934) 1590183 (6, 94432) 2630576 (6, 57868) 9257537 (6, 60208) 9925791 (6, 15173) 8051314 (6, 72057) 5381241 (6, 63826) 192312 (6, 54361) 879082 (6, 25842) 179529 (6, 54770) 2112048 (6, 94604) 9625994 (6, 73697) 9517308 (6, 55668) 9444290 (6, 76600) 9754475 (6, 84687) 7691560 (6, 91438) 9335193 (6, 23002) 1028926 (6, 22482) 9981635 (6, 86230) 1326424 (6, 65471) 6317467 (6, 53185) 5777538 (6, 42963) 7119531 (6, 86784) 222255 (6, 43651) 3421950 (6, 21530) 7614050 (6, 96453) 1502235 (6, 81373) 422848 (6, 15295) 6045699 (6, 92637) 8344580 (6, 46316) 1061321 (6, 32170) 8660300 (6, 17947) 3607435 (6, 42471) 8702151 (6, 27446) 4503222 (6, 80612) 6697954 (6, 46859) 7583501 (6, 89112) 8643637 (6, 60122) 840086 (6, 38327) 4372662 (6, 67651) 6346885 (6, 44856) 6281603 (6, 97704) 8323731 (6, 54958) 3828353 (6, 97118) 7747974 (6, 16438) 8556892 (6, 76889) 5181700 (6, 85910) 449169 (6, 96745) 82034 (6, 30145) 1229577 (6, 87073) 5663020 (6, 79607) 3195943 (6, 64854) 3080406 (6, 70341) 9701282 (6, 49995) 1604878 (6, 49371) 618359 (6, 24852) 240857 (6, 86618) 9102009 (6, 33306) 6734945 (6, 43438) 4540202 (6, 89365) 2305251 (6, 54398) 8778387 (6, 43801) 1857506 (6, 14607) 8819093 (6, 15508) 1085693 (6, 42695) 5619818 (6, 40685) 4189992 (6, 18929) 7424313 (6, 67551) 
     dis: 	4296.000 4309.000 4343.000 4550.000 4602.000 4817.000 4894.000 5279.000 5371.000 5492.000 5643.000 5998.000 6047.000 6194.000 6290.000 6311.000 6378.000 6468.000 6655.000 6693.000 6747.000 6771.000 6845.000 6973.000 6981.000 7021.000 7160.000 7171.000 7226.000 7233.000 7282.000 7394.000 7438.000 7460.000 7486.000 7531.000 7580.000 7644.000 7666.000 7673.000 7688.000 7708.000 7792.000 7825.000 7861.000 8042.000 8058.000 8087.000 8123.000 8228.000 8230.000 8268.000 8312.000 8322.000 8362.000 8395.000 8402.000 8407.000 8414.000 8500.000 8590.000 8594.000 8608.000 8650.000 8714.000 8809.000 8850.000 8912.000 8939.000 8954.000 9013.000 9063.000 9153.000 9157.000 9177.000 9207.000 9230.000 9235.000 9404.000 9576.000 9581.000 9736.000 9763.000 9774.000 9786.000 9808.000 9946.000 9990.000 10000.000 10018.000 10027.000 10060.000 10084.000 10140.000 10226.000 10228.000 10238.000 10277.000 10287.000 10303.000 
query 4 nn's (6, 1537, 84881): 7091990 (6, 39499) 5493369 (6, 76459) 3389697 (6, 55907) 6062843 (6, 18553) 1149636 (6, 51923) 4119530 (6, 26763) 3220361 (6, 51022) 4366121 (6, 16172) 7423926 (6, 77977) 3832333 (6, 59123) 39005 (6, 62188) 5708200 (6, 63590) 1850409 (6, 1992) 8630333 (6, 17180) 3637016 (6, 65391) 5175563 (6, 53491) 2908498 (6, 27529) 2173144 (6, 26778) 6203168 (6, 10893) 3495449 (6, 11397) 2989150 (6, 34854) 9968572 (6, 16018) 5135489 (6, 40757) 4128605 (6, 18486) 9570381 (6, 30216) 5707536 (6, 4200) 6637386 (6, 65944) 8493266 (6, 26629) 3850790 (6, 67608) 7434343 (6, 60988) 149112 (6, 18763) 8838225 (6, 50400) 4901952 (6, 14130) 5729760 (6, 9406) 4374812 (6, 44149) 6630737 (6, 2732) 2288117 (6, 8684) 8296728 (6, 9580) 1804833 (6, 34533) 330819 (6, 48267) 6116720 (6, 31489) 1784595 (6, 38281) 3882262 (6, 27678) 1368878 (6, 55378) 9401433 (6, 36321) 5126636 (6, 2816) 797235 (6, 64523) 7069107 (6, 42234) 7223142 (6, 49842) 3903546 (6, 51990) 3789483 (6, 15167) 1257130 (6, 8359) 1127203 (6, 12198) 9167103 (6, 35510) 1953827 (6, 80025) 2840566 (6, 15038) 9432297 (6, 75454) 8295863 (6, 76375) 1355777 (6, 42626) 6030505 (6, 77387) 4800113 (6, 28655) 8639073 (6, 70562) 8305984 (6, 31043) 2085966 (6, 77261) 1508852 (6, 62203) 3287249 (6, 7959) 5295225 (6, 24889) 5923091 (6, 42526) 7998877 (6, 62954) 2780851 (6, 73376) 6135063 (6, 21975) 6770270 (6, 40226) 1591991 (6, 50868) 9369780 (6, 16782) 3632049 (6, 58208) 4041167 (6, 3268) 4788270 (6, 82003) 8303120 (6, 82608) 1250383 (6, 80981) 8093343 (6, 19413) 1321308 (6, 72004) 9661629 (6, 70166) 8524640 (6, 62626) 6430726 (6, 32820) 3995772 (6, 41708) 9264780 (6, 54598) 3553812 (6, 59373) 5284980 (6, 54223) 6652605 (6, 45494) 8510115 (6, 2466) 2780976 (6, 22537) 2610222 (6, 28440) 7362395 (6, 36238) 1313706 (6, 7873) 1983315 (6, 9815) 4566160 (6, 60414) 7283820 (6, 67202) 1863408 (6, 69517) 6847867 (6, 51762) 2061101 (6, 82483) 
     dis: 	77167.000 81626.000 84350.000 84746.000 85940.000 86120.000 86625.000 86842.000 87152.000 87409.000 87925.000 88206.000 88322.000 88437.000 88515.000 88607.000 88949.000 89811.000 89955.000 91051.000 91566.000 91743.000 92149.000 92212.000 92925.000 93074.000 93525.000 94291.000 94997.000 95017.000 95203.000 95449.000 95535.000 95543.000 96273.000 96446.000 96597.000 96677.000 97117.000 97440.000 97494.000 97615.000 97696.000 97773.000 97795.000 98026.000 98154.000 98237.000 98488.000 98840.000 98880.000 99016.000 99086.000 99304.000 99582.000 99749.000 99812.000 100041.000 100068.000 100072.000 100097.000 100127.000 100152.000 100170.000 100216.000 100312.000 100324.000 100555.000 100785.000 100963.000 101026.000 101255.000 101321.000 101519.000 101533.000 101630.000 101673.000 101836.000 101863.000 101889.000 101955.000 101977.000 102031.000 102182.000 102184.000 102259.000 102375.000 102453.000 102470.000 102691.000 102710.000 102739.000 102805.000 102894.000 103032.000 103056.000 103218.000 103283.000 103309.000 103326.000 
[ 552.490s ] *** Query time: 21.622
qps: 462.490
 *** HNSW recall 
HNSW get 748572 postive res from 1000000 results, recall@100:0.749
recall dist(10% per bucket): 0.000 0.000 0.000 0.002 0.014 0.074 0.212 0.318 0.308 0.072 0.000 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 0, average: 0.000
number of distances computed: 24223113, average: 2422.311
finished ivfpq index examples
[ 552.521s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query_arbi sift10M 10000000 100 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_100.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000 40 128"
	User time (seconds): 540.81
	System time (seconds): 12.51
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 9:13.33
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8417188
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 3679257
	Voluntary context switches: 1
	Involuntary context switches: 698
	Swaps: 0
	File system inputs: 0
	File system outputs: 48
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 04:29
====================
START: running TEST_HNSW, sift data --

dataset: sift10M
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs
query file: /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
attr file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
qrange file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json
gt file: /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_10.json
index file: /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000
ef_search: 40
dim: 128
loaded base attributes from:/mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json
[ 1.356s ] Loaded metadata, 10000000 attr's found
[ 1.356s ] Loading query vectors and attributes
query vecs data loaded, with dim: 128, nb=10000
[ 1.359s ] Loaded query vectors from /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs
[ 1.362s ] Loaded 10000 sift10M queries
[ 1.441s ] Loaded ground truth, gt_size: 10
[ 1.441s ] Index Params -- d: 128, N: 10000000
Total edge:200
Average degree:0.000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== HNSW INDEX ====================
[ 6.853s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 769.039s ] Query results (vector ids, then distances):
query 0 nn's (6, 15386, 98713): 4160485 (6, 75840) 6141318 (6, 37070) 1160663 (6, 33030) 4738758 (6, 62037) 7293718 (6, 46327) 7077742 (6, 75183) 9536881 (6, 67672) 8191903 (6, 40651) 9485971 (6, 68407) 7866119 (6, 74143) 
     dis: 	65950.000 73183.000 74292.000 74463.000 75573.000 76934.000 78206.000 78749.000 78877.000 79448.000 
query 1 nn's (6, 9087, 92417): 8449497 (6, 34983) 5552416 (6, 36365) 285986 (6, 75309) 4234271 (6, 67974) 2253711 (6, 37325) 4907604 (6, 25976) 1273419 (6, 33104) 7501440 (6, 14746) 1263214 (6, 88792) 9492445 (6, 12447) 
     dis: 	32633.000 42944.000 43778.000 44439.000 45140.000 46066.000 46522.000 46910.000 47608.000 48691.000 
query 2 nn's (6, 3328, 86670): 3900297 (6, 83217) 4588082 (6, 31606) 8667807 (6, 80757) 289025 (6, 80462) 237844 (6, 23653) 5982237 (6, 65005) 4480383 (6, 54571) 3493381 (6, 18042) 6296252 (6, 24163) 2795236 (6, 16996) 
     dis: 	43033.000 47637.000 47988.000 48416.000 49294.000 50144.000 50702.000 51043.000 51071.000 51181.000 
query 3 nn's (6, 14596, 97918): 980813 (6, 71799) 1527942 (6, 63601) 2205832 (6, 88191) 4147780 (6, 81935) 6151275 (6, 35885) 8410503 (6, 21539) 7269483 (6, 65758) 3643741 (6, 16392) 1985932 (6, 29948) 5124856 (6, 21115) 
     dis: 	4296.000 4309.000 4343.000 4550.000 4602.000 4817.000 4894.000 5279.000 5371.000 5492.000 
query 4 nn's (6, 1537, 84881): 7091990 (6, 39499) 5493369 (6, 76459) 3389697 (6, 55907) 6062843 (6, 18553) 1149636 (6, 51923) 4119530 (6, 26763) 3220361 (6, 51022) 4366121 (6, 16172) 7423926 (6, 77977) 3832333 (6, 59123) 
     dis: 	77167.000 81626.000 84350.000 84746.000 85940.000 86120.000 86625.000 86842.000 87152.000 87409.000 
[ 769.040s ] *** Query time: 30.187
qps: 331.264
 *** HNSW recall 
HNSW get 92920 postive res from 100000 results, recall@10:0.929
recall dist(10% per bucket): 0.000 0.000 0.000 0.001 0.002 0.006 0.018 0.045 0.106 0.241 0.581 
numbner of vectors searched: 10000, average: 1.000
number of queries for which the candidate list is exhasted: 10000, average: 1.000
number of distances computed: 24221077, average: 2422.108
finished ivfpq index examples
[ 769.043s ] -----DONE-----
	Command being timed: "../faiss/build/demos/hnsw_query_arbi sift10M 10000000 10 1 /mnt/data/mocheng/dataset/sift10m/sift10m.fvecs /mnt/data/mocheng/dataset/sift10m/sift10m_query.fvecs /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/attr_sel_2_100000_random.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/qrangesel_6_2_100000_random_6.json /mnt/data/mocheng/dataset/sift10m/label/sel_2_100000_random/sif_gt_sel_6_2_100000_random_6_10.json /mnt/data/mocheng/dataset/sift10m/hnsw/index/index_hnsw_sel_2_100000_random_40_1000 40 128"
	User time (seconds): 616.03
	System time (seconds): 16.60
	Percent of CPU this job got: 82%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 12:50.85
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 8399772
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 4315389
	Voluntary context switches: 5
	Involuntary context switches: 37162
	Swaps: 0
	File system inputs: 0
	File system outputs: 32
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
