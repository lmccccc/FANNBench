Start time: 23:53
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_50
nprobe: 10
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.751s ] Loaded metadata, 10000000 attr's found
[ 0.751s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.753s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.777s ] Loaded 10000 spacev10m queries
[ 0.801s ] Loaded ground truth, gt_size: 10
[ 0.801s ] Index Params -- d: 100, N: 10000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_50 for reading: No such file or directory
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_50 10 100"
	User time (seconds): 0.67
	System time (seconds): 0.06
	Percent of CPU this job got: 38%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:01.92
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 76708
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 27867
	Voluntary context switches: 12
	Involuntary context switches: 0
	Swaps: 0
	File system inputs: 0
	File system outputs: 0
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:53
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_50
nprobe: 10
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.704s ] Loaded metadata, 10000000 attr's found
[ 0.704s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.707s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.708s ] Loaded 10000 spacev10m queries
[ 0.747s ] Loaded ground truth, gt_size: 10
[ 0.747s ] Index Params -- d: 100, N: 10000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_50 for reading: No such file or directory
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_50 10 100"
	User time (seconds): 0.65
	System time (seconds): 0.07
	Percent of CPU this job got: 14%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:05.07
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 76356
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 27900
	Voluntary context switches: 11
	Involuntary context switches: 3
	Swaps: 0
	File system inputs: 0
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:08
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/attr_sel_1_500_random_10.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/sif_gt_sel_1_1_500_random_10_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_10_50
nprobe: 10
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/attr_sel_1_500_random_10.json
[ 0.719s ] Loaded metadata, 10000000 attr's found
[ 0.719s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.721s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.743s ] Loaded 10000 spacev10m queries
[ 0.771s ] Loaded ground truth, gt_size: 10
[ 0.771s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.648s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 71.292s ] Query results (vector ids, then distances):
query 0 nn's (10, 10): 1781760 (10) 3647719 (10) 3082748 (10) 2721656 (10) 6309057 (10) 1751249 (10) 1858226 (10) 4932580 (10) 6350337 (10) 8662145 (10) 
     dis: 	5329.049 5521.637 6519.620 6534.335 6627.021 7959.359 8219.131 8562.139 8903.426 9176.939 
query 1 nn's (10, 10): 4465136 (10) 3545414 (10) 9149269 (10) 2769394 (10) 1286599 (10) 3255981 (10) 5321556 (10) 6615436 (10) 7393346 (10) 6371568 (10) 
     dis: 	7626.125 7656.533 9182.754 9206.575 9447.030 9671.066 9964.785 10105.756 10387.763 10466.273 
query 2 nn's (10, 10): 8005273 (10) 5236859 (10) 6606573 (10) 1881509 (10) 2884416 (10) 1233143 (10) 7804752 (10) 2353418 (10) 349510 (10) 3989900 (10) 
     dis: 	4005.862 7407.258 8262.561 8801.643 8857.741 9278.067 9688.465 11004.789 11377.294 11381.695 
query 3 nn's (10, 10): 7481558 (10) 9732223 (10) 4150154 (10) 2360519 (10) 1370098 (10) 4153275 (10) 9793596 (10) 920948 (10) 3750288 (10) 4774185 (10) 
     dis: 	7873.033 8686.969 8712.388 9903.758 9939.917 10013.597 10574.636 10603.974 10847.521 10938.395 
query 4 nn's (10, 10): 4352168 (10) 4390138 (10) 3849231 (10) 2279438 (10) 57144 (10) 9044829 (10) 3073679 (10) 8608979 (10) 7511825 (10) 4698517 (10) 
     dis: 	5324.612 5889.110 6069.313 6451.869 6537.355 6556.619 6563.512 6584.656 6627.546 6937.604 
[ 71.292s ] *** Query time: 8.565
qps: 1167.547
 *** ivfpq recall 
ivfpq get 64807 postive res from 100000 results, recall@10:0.648
recall dist(10% per bucket): 0.015 0.029 0.052 0.061 0.079 0.092 0.105 0.128 0.164 0.191 0.083 
finished ivfpq index examples
[ 71.293s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/attr_sel_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/sif_gt_sel_1_1_500_random_10_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_10_50 10 100"
	User time (seconds): 69.80
	System time (seconds): 0.92
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:11.37
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1271716
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 332057
	Voluntary context switches: 2376
	Involuntary context switches: 54
	Swaps: 0
	File system inputs: 60640
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:11
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/attr_sel_1_500_random_19.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/sif_gt_sel_1_1_500_random_19_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_19_50
nprobe: 10
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/attr_sel_1_500_random_19.json
[ 0.727s ] Loaded metadata, 10000000 attr's found
[ 0.727s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.730s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.732s ] Loaded 10000 spacev10m queries
[ 0.741s ] Loaded ground truth, gt_size: 10
[ 0.741s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.514s ] Searching the 10 nearest neighbors of 10000 vectors in the index
Start time: 00:12
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 10
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.699s ] Loaded metadata, 10000000 attr's found
[ 0.699s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.702s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.703s ] Loaded 10000 spacev10m queries
[ 0.710s ] Loaded ground truth, gt_size: 10
[ 0.710s ] Index Params -- d: 100, N: 10000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 for reading: No such file or directory
Start time: 00:12
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 10
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.699s ] Loaded metadata, 10000000 attr's found
[ 0.699s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.702s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.703s ] Loaded 10000 spacev10m queries
[ 0.710s ] Loaded ground truth, gt_size: 10
[ 0.710s ] Index Params -- d: 100, N: 10000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 for reading: No such file or directory
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 10 100"
	User time (seconds): 0.65
	System time (seconds): 0.06
	Percent of CPU this job got: 100%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:00.71
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 76708
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 27866
	Voluntary context switches: 1
	Involuntary context switches: 3
	Swaps: 0
	File system inputs: 0
	File system outputs: 0
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 10 100"
	User time (seconds): 0.63
	System time (seconds): 0.07
	Percent of CPU this job got: 18%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:03.87
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 76708
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 27867
	Voluntary context switches: 3
	Involuntary context switches: 1
	Swaps: 0
	File system inputs: 0
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:42
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 10
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.871s ] Loaded metadata, 10000000 attr's found
[ 0.871s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.873s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.874s ] Loaded 10000 spacev10m queries
[ 0.882s ] Loaded ground truth, gt_size: 10
[ 0.882s ] Index Params -- d: 100, N: 10000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 for reading: No such file or directory
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 10 100"
	User time (seconds): 0.81
	System time (seconds): 0.07
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:00.88
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 76708
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 27933
	Voluntary context switches: 6
	Involuntary context switches: 2
	Swaps: 0
	File system inputs: 0
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:42
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 10
dim: 100
Start time: 00:42
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 10
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.814s ] Loaded metadata, 10000000 attr's found
[ 0.814s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.817s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.818s ] Loaded 10000 spacev10m queries
[ 0.826s ] Loaded ground truth, gt_size: 10
[ 0.826s ] Index Params -- d: 100, N: 10000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 for reading: No such file or directory
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 10 100"
	User time (seconds): 0.76
	System time (seconds): 0.07
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:00.83
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 74904
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 27868
	Voluntary context switches: 1
	Involuntary context switches: 4
	Swaps: 0
	File system inputs: 0
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.698s ] Loaded metadata, 10000000 attr's found
[ 0.698s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.700s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.701s ] Loaded 10000 spacev10m queries
[ 0.708s ] Loaded ground truth, gt_size: 10
[ 0.708s ] Index Params -- d: 100, N: 10000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 for reading: No such file or directory
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 10 100"
	User time (seconds): 0.64
	System time (seconds): 0.07
	Percent of CPU this job got: 100%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:00.71
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 76712
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 27870
	Voluntary context switches: 1
	Involuntary context switches: 2
	Swaps: 0
	File system inputs: 0
	File system outputs: 0
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:43
====================
START: running IVFPQ_INDEX_CONSTRUCTION, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 128
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
dim: 100
partition_size: 100
train file: /mnt/data/mocheng/dataset/spacev10m/train.fvecs
loaded base attributes, size:10000000
[ 0.718s ] Loaded attributions, 10000000 found
[ 0.718s ] Index Params -- d: 100, N: 10000000
ncentroids: 12649
====================Vectors====================

[ 0.719s ] Loading database
[ 3.299s ] Loaded base vectors from file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
data loaded, with dim: 100, N=10000000
[ 3.299s ] Indexing database, size 10000000*100 from max 10000000
[ 3.299s ] Adding the vectors to the index
train cost:0.237
index construction total cost:1272.037
[ 1272.038s ] Vectors added to  index
Index vectors added:10000000
====================Write Index================

[ 1276.113s ] Wrote ivbfpq index to file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
[1276.113 s] -----DONE-----
[ 1276.113s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_build spacev10m 10000000 10 128 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 100 100 /mnt/data/mocheng/dataset/spacev10m/train.fvecs"
	User time (seconds): 120007.61
	System time (seconds): 67.86
	Percent of CPU this job got: 9407%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 21:16.32
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 7110788
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 5165937
	Voluntary context switches: 8594104
	Involuntary context switches: 3602679
	Swaps: 0
	File system inputs: 0
	File system outputs: 2119672
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:04
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 10
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.701s ] Loaded metadata, 10000000 attr's found
[ 0.701s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.704s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.705s ] Loaded 10000 spacev10m queries
[ 0.712s ] Loaded ground truth, gt_size: 10
[ 0.712s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.905s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 74.041s ] Query results (vector ids, then distances):
query 0 nn's (10, 10): 4853416 (10) 7099403 (10) 1536208 (10) 1360571 (10) 7305168 (10) 3454073 (10) 3676917 (10) 1858226 (10) 4932580 (10) 1947126 (10) 
     dis: 	6414.133 6432.375 6566.185 7775.480 7796.184 8296.418 8401.078 8437.510 8644.477 8929.859 
query 1 nn's (10, 10): 8784659 (10) 2769394 (10) 5321556 (10) 4561316 (10) 2077395 (10) 5116926 (10) 6783786 (10) 3288493 (10) 4414583 (10) 4952577 (10) 
     dis: 	8765.226 9178.679 10238.240 10290.205 10990.313 11180.954 11190.893 11338.807 11380.984 11407.937 
query 2 nn's (10, 10): 4290437 (10) 3524579 (10) 2755608 (10) 2768752 (10) 4969561 (10) 5423341 (10) 7670329 (10) 1233143 (10) 6915696 (10) 6672275 (10) 
     dis: 	4542.042 5012.328 5151.526 7858.528 8062.667 8498.254 9207.074 9287.541 9814.024 9960.715 
query 3 nn's (10, 10): 7375372 (10) 8694166 (10) 4153275 (10) 1074776 (10) 9100185 (10) 9157428 (10) 5621855 (10) 8656601 (10) 1174052 (10) 6835770 (10) 
     dis: 	9178.121 9677.692 9891.278 10423.970 10469.760 10479.249 10713.815 10921.291 10968.396 11394.721 
query 4 nn's (10, 10): 9788862 (10) 3849231 (10) 3037959 (10) 7100626 (10) 449527 (10) 3195289 (10) 1444782 (10) 2337939 (10) 2473330 (10) 6738443 (10) 
     dis: 	6165.131 6168.659 6421.977 6724.251 6766.941 6787.833 6826.149 7043.858 7114.095 7120.815 
[ 74.041s ] *** Query time: 10.033
qps: 996.722
 *** ivfpq recall 
ivfpq get 66453 postive res from 100000 results, recall@10:0.665
recall dist(10% per bucket): 0.014 0.034 0.044 0.070 0.074 0.084 0.106 0.121 0.125 0.167 0.161 
finished ivfpq index examples
[ 74.042s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 10 100"
	User time (seconds): 72.64
	System time (seconds): 1.52
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:14.17
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2391972
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 612369
	Voluntary context switches: 4
	Involuntary context switches: 109
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:08
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 10
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.702s ] Loaded metadata, 10000000 attr's found
[ 0.702s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.705s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.706s ] Loaded 10000 spacev10m queries
[ 0.714s ] Loaded ground truth, gt_size: 10
[ 0.714s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.907s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 74.866s ] Query results (vector ids, then distances):
query 0 nn's (19, 19): 4279856 (19) 8341867 (19) 3665805 (19) 7367271 (19) 9931603 (19) 1637453 (19) 5746247 (19) 1770486 (19) 1372131 (19) 3697929 (19) 
     dis: 	7638.735 9558.711 11205.758 12684.057 12869.922 13166.826 13499.471 13583.150 14605.518 16203.963 
query 1 nn's (19, 19): 3010609 (19) 429713 (19) 4568459 (19) 8829523 (19) 110728 (19) 2929751 (19) 6863211 (19) 3144041 (19) 7198370 (19) 7947913 (19) 
     dis: 	8391.524 9736.995 11708.830 11799.709 12010.175 12892.762 13382.105 13498.253 13689.697 13856.448 
query 2 nn's (19, 19): 5535345 (19) 5031536 (19) 6084444 (19) 749169 (19) 8617679 (19) 6971757 (19) 5515036 (19) 1458865 (19) 8741529 (19) 9763181 (19) 
     dis: 	12024.223 12097.814 12947.198 12954.128 13331.361 13618.199 13641.347 13672.826 14088.777 14691.119 
query 3 nn's (19, 19): 8688374 (19) 312551 (19) 4281239 (19) 2035960 (19) 1088105 (19) 7449790 (19) 6105877 (19) 8097175 (19) 5461052 (19) 7491279 (19) 
     dis: 	9944.749 12468.111 12897.088 13140.541 13573.342 13839.975 13854.350 13899.174 14459.153 14490.075 
query 4 nn's (19, 19): 6836665 (19) 7921516 (19) 8954656 (19) 9329860 (19) 1335746 (19) 8639136 (19) 8349371 (19) 511177 (19) 2501959 (19) 2456896 (19) 
     dis: 	6851.380 7161.380 7577.691 8018.662 8082.827 8088.618 8194.400 8245.710 8257.182 8737.271 
[ 74.866s ] *** Query time: 10.262
qps: 974.494
 *** ivfpq recall 
ivfpq get 51060 postive res from 100000 results, recall@10:0.511
recall dist(10% per bucket): 0.034 0.073 0.092 0.109 0.113 0.123 0.121 0.111 0.102 0.079 0.043 
finished ivfpq index examples
[ 74.869s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 10 100"
	User time (seconds): 72.36
	System time (seconds): 2.69
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:15.06
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2391372
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 948854
	Voluntary context switches: 1
	Involuntary context switches: 77
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:11
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 10
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.702s ] Loaded metadata, 10000000 attr's found
[ 0.702s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.704s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.706s ] Loaded 10000 spacev10m queries
[ 0.713s ] Loaded ground truth, gt_size: 10
[ 0.713s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.887s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 73.834s ] Query results (vector ids, then distances):
query 0 nn's (20, 20): 6443191 (20) 4699240 (20) 7019431 (20) 4283885 (20) 5199441 (20) 6118204 (20) 8106894 (20) 3103688 (20) 1312779 (20) 8614447 (20) 
     dis: 	12183.217 12270.143 16160.129 17880.533 18672.984 19150.332 20739.059 21028.371 21345.340 22550.820 
query 1 nn's (20, 20): 9246122 (20) 662332 (20) 7923085 (20) 6779370 (20) 8815262 (20) 6230696 (20) 1811814 (20) 7525226 (20) 2469443 (20) -1 (0) 
     dis: 	13139.062 15359.936 16701.602 16707.025 18997.551 19525.199 19786.180 21262.564 21522.598 340282346638528859811704183484516925440.000 
query 2 nn's (20, 20): 3713444 (20) 8465646 (20) 328170 (20) 8979320 (20) 4791587 (20) 7809929 (20) 2315911 (20) -1 (0) -1 (0) -1 (0) 
     dis: 	11821.822 13209.668 15838.992 16158.321 17017.117 17800.916 21690.484 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 3 nn's (20, 20): 5023237 (20) 5515303 (20) 5321494 (20) 5843061 (20) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) -1 (0) 
     dis: 	15682.982 17505.180 17942.729 21503.227 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
query 4 nn's (20, 20): 2867132 (20) 3722920 (20) 5495283 (20) 5506381 (20) 9068103 (20) 4257297 (20) 2017142 (20) 8378677 (20) -1 (0) -1 (0) 
     dis: 	8795.764 9754.618 10073.567 11142.113 12717.703 14760.759 15323.579 16939.359 340282346638528859811704183484516925440.000 340282346638528859811704183484516925440.000 
[ 73.834s ] *** Query time: 9.145
qps: 1093.533
 *** ivfpq recall 
ivfpq get 24315 postive res from 100000 results, recall@10:0.243
recall dist(10% per bucket): 0.140 0.209 0.225 0.175 0.115 0.070 0.038 0.017 0.007 0.003 0.001 
finished ivfpq index examples
[ 73.835s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 10 100"
	User time (seconds): 72.49
	System time (seconds): 1.47
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:13.96
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2392996
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 2
	Minor (reclaiming a frame) page faults: 612308
	Voluntary context switches: 5
	Involuntary context switches: 95
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:27
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 10
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.704s ] Loaded metadata, 10000000 attr's found
[ 0.704s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.706s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.707s ] Loaded 10000 spacev10m queries
[ 0.715s ] Loaded ground truth, gt_size: 10
[ 0.715s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.872s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 74.271s ] Query results (vector ids, then distances):
query 0 nn's (6, 6): 4661794 (6) 1352077 (6) 1300400 (6) 2436347 (6) 425302 (6) 606211 (6) 1781760 (6) 3647719 (6) 9694965 (6) 8021837 (6) 
     dis: 	2984.658 3268.221 3451.792 5087.593 5217.498 5289.615 5431.436 5457.437 5935.341 6236.472 
query 1 nn's (6, 6): 3024255 (6) 4465136 (6) 6693881 (6) 1087257 (6) 547651 (6) 5778168 (6) 1739093 (6) 128447 (6) 913237 (6) 2201796 (6) 
     dis: 	6379.874 7832.273 8301.762 8504.258 9004.402 9105.973 9150.039 9356.089 9373.139 9564.128 
query 2 nn's (6, 6): 4574760 (6) 5189301 (6) 9191130 (6) 5932138 (6) 2966676 (6) 2096002 (6) 9602743 (6) 9561351 (6) 6606573 (6) 1881509 (6) 
     dis: 	3037.224 3383.687 6267.928 6957.796 7162.279 7653.282 8058.683 8304.261 8526.036 8710.794 
query 3 nn's (6, 6): 7481558 (6) 1208824 (6) 1153720 (6) 9922446 (6) 3092850 (6) 1681561 (6) 2871407 (6) 8906949 (6) 1866926 (6) 7371232 (6) 
     dis: 	7708.729 7734.653 8343.044 8379.474 8417.971 8437.070 8743.284 8931.419 9213.961 9248.313 
query 4 nn's (6, 6): 8316529 (6) 5624462 (6) 3987492 (6) 1706143 (6) 9970746 (6) 9323555 (6) 9211260 (6) 4390138 (6) 73290 (6) 9833382 (6) 
     dis: 	2200.067 3592.018 3754.258 4565.575 5232.411 5444.871 5811.854 5974.076 6270.180 6271.308 
[ 74.271s ] *** Query time: 13.076
qps: 764.763
 *** ivfpq recall 
ivfpq get 72002 postive res from 100000 results, recall@10:0.720
recall dist(10% per bucket): 0.012 0.023 0.037 0.053 0.058 0.067 0.087 0.107 0.129 0.196 0.232 
finished ivfpq index examples
[ 74.272s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 10 100"
	User time (seconds): 72.95
	System time (seconds): 1.44
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:14.40
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2392996
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 1
	Minor (reclaiming a frame) page faults: 612305
	Voluntary context switches: 2
	Involuntary context switches: 170
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
