Start time: 23:53
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_50
nprobe: 30
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.751s ] Loaded metadata, 10000000 attr's found
[ 0.751s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.754s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.777s ] Loaded 10000 spacev10m queries
[ 0.802s ] Loaded ground truth, gt_size: 10
[ 0.802s ] Index Params -- d: 100, N: 10000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_50 for reading: No such file or directory
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_50 30 100"
	User time (seconds): 0.66
	System time (seconds): 0.07
	Percent of CPU this job got: 24%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:02.95
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 76708
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 27870
	Voluntary context switches: 14
	Involuntary context switches: 1
	Swaps: 0
	File system inputs: 2048
	File system outputs: 0
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 23:53
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_50
nprobe: 30
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.702s ] Loaded metadata, 10000000 attr's found
[ 0.702s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.705s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.706s ] Loaded 10000 spacev10m queries
[ 0.745s ] Loaded ground truth, gt_size: 10
[ 0.745s ] Index Params -- d: 100, N: 10000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_50 for reading: No such file or directory
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_50 30 100"
	User time (seconds): 0.65
	System time (seconds): 0.06
	Percent of CPU this job got: 10%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:07.12
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 76708
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 27883
	Voluntary context switches: 7
	Involuntary context switches: 2
	Swaps: 0
	File system inputs: 544
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:08
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/attr_sel_1_500_random_10.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/sif_gt_sel_1_1_500_random_10_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_10_50
nprobe: 30
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/attr_sel_1_500_random_10.json
[ 0.714s ] Loaded metadata, 10000000 attr's found
[ 0.714s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.716s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.738s ] Loaded 10000 spacev10m queries
[ 0.766s ] Loaded ground truth, gt_size: 10
[ 0.766s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.566s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 72.712s ] Query results (vector ids, then distances):
query 0 nn's (10, 10): 1781760 (10) 3647719 (10) 3082748 (10) 2721656 (10) 6309057 (10) 1751249 (10) 1858226 (10) 4932580 (10) 6350337 (10) 8662145 (10) 
     dis: 	5329.049 5521.637 6519.620 6534.335 6627.021 7959.359 8219.131 8562.139 8903.426 9176.939 
query 1 nn's (10, 10): 4465136 (10) 3545414 (10) 9149269 (10) 2769394 (10) 1286599 (10) 3255981 (10) 5321556 (10) 6615436 (10) 7393346 (10) 6371568 (10) 
     dis: 	7626.125 7656.533 9182.754 9206.575 9447.030 9671.066 9964.785 10105.756 10387.763 10466.273 
query 2 nn's (10, 10): 8005273 (10) 5236859 (10) 6606573 (10) 1881509 (10) 2884416 (10) 1233143 (10) 7804752 (10) 5430287 (10) 2353418 (10) 349510 (10) 
     dis: 	4005.862 7407.258 8262.561 8801.643 8857.741 9278.067 9688.465 11001.598 11004.789 11377.294 
query 3 nn's (10, 10): 7481558 (10) 9732223 (10) 4150154 (10) 4000886 (10) 2360519 (10) 1370098 (10) 4153275 (10) 9793596 (10) 920948 (10) 3750288 (10) 
     dis: 	7873.033 8686.969 8712.388 8737.447 9903.758 9939.917 10013.597 10574.636 10603.974 10847.521 
query 4 nn's (10, 10): 9534901 (10) 4352168 (10) 4390138 (10) 3849231 (10) 9801790 (10) 2279438 (10) 57144 (10) 9044829 (10) 3073679 (10) 8608979 (10) 
     dis: 	5071.824 5324.612 5889.110 6069.313 6436.075 6451.869 6537.355 6556.619 6563.512 6584.656 
[ 72.712s ] *** Query time: 12.442
qps: 803.740
 *** ivfpq recall 
ivfpq get 74882 postive res from 100000 results, recall@10:0.749
recall dist(10% per bucket): 0.003 0.008 0.016 0.032 0.045 0.068 0.092 0.130 0.205 0.278 0.123 
finished ivfpq index examples
[ 72.713s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/attr_sel_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_10/sif_gt_sel_1_1_500_random_10_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_10_50 30 100"
	User time (seconds): 71.25
	System time (seconds): 0.91
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:12.79
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 1271716
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 332062
	Voluntary context switches: 2321
	Involuntary context switches: 52
	Swaps: 0
	File system inputs: 202544
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:11
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/attr_sel_1_500_random_19.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/sif_gt_sel_1_1_500_random_19_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_19_50
nprobe: 30
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random_19/attr_sel_1_500_random_19.json
[ 0.726s ] Loaded metadata, 10000000 attr's found
[ 0.726s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.729s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.731s ] Loaded 10000 spacev10m queries
[ 0.740s ] Loaded ground truth, gt_size: 10
[ 0.741s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.494s ] Searching the 10 nearest neighbors of 10000 vectors in the index
Start time: 00:12
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 30
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.700s ] Loaded metadata, 10000000 attr's found
[ 0.700s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.702s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.703s ] Loaded 10000 spacev10m queries
[ 0.711s ] Loaded ground truth, gt_size: 10
[ 0.711s ] Index Params -- d: 100, N: 10000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 for reading: No such file or directory
Start time: 00:12
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 30
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.696s ] Loaded metadata, 10000000 attr's found
[ 0.696s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.698s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.699s ] Loaded 10000 spacev10m queries
[ 0.706s ] Loaded ground truth, gt_size: 10
[ 0.706s ] Index Params -- d: 100, N: 10000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 for reading: No such file or directory
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 30 100"
	User time (seconds): 0.64
	System time (seconds): 0.06
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:00.71
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 76712
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 27866
	Voluntary context switches: 1
	Involuntary context switches: 2
	Swaps: 0
	File system inputs: 0
	File system outputs: 0
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 30 100"
	User time (seconds): 0.66
	System time (seconds): 0.05
	Percent of CPU this job got: 9%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:07.95
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 76712
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 27871
	Voluntary context switches: 3
	Involuntary context switches: 2
	Swaps: 0
	File system inputs: 0
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:42
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 30
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.699s ] Loaded metadata, 10000000 attr's found
[ 0.699s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.702s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.703s ] Loaded 10000 spacev10m queries
[ 0.711s ] Loaded ground truth, gt_size: 10
[ 0.711s ] Index Params -- d: 100, N: 10000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 for reading: No such file or directory
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 30 100"
	User time (seconds): 0.65
	System time (seconds): 0.06
	Percent of CPU this job got: 39%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:01.82
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 76708
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 27894
	Voluntary context switches: 4
	Involuntary context switches: 3
	Swaps: 0
	File system inputs: 0
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 00:42
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 30
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.710s ] Loaded metadata, 10000000 attr's found
[ 0.710s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.712s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.713s ] Loaded 10000 spacev10m queries
[ 0.721s ] Loaded ground truth, gt_size: 10
[ 0.721s ] Index Params -- d: 100, N: 10000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 for reading: No such file or directory
Start time: 00:42
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 30
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.698s ] Loaded metadata, 10000000 attr's found
[ 0.698s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.700s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.701s ] Loaded 10000 spacev10m queries
[ 0.709s ] Loaded ground truth, gt_size: 10
[ 0.709s ] Index Params -- d: 100, N: 10000000
terminate called after throwing an instance of 'faiss::FaissException'
  what():  Error in faiss::FileIOReader::FileIOReader(const char*) at /home/mocheng/code/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 for reading: No such file or directory
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 30 100"
	User time (seconds): 0.63
	System time (seconds): 0.08
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:00.71
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 76708
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 27864
	Voluntary context switches: 2
	Involuntary context switches: 3
	Swaps: 0
	File system inputs: 0
	File system outputs: 0
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Command terminated by signal 6
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 30 100"
	User time (seconds): 0.66
	System time (seconds): 0.05
	Percent of CPU this job got: 7%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:10.16
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 76712
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 27878
	Voluntary context switches: 3
	Involuntary context switches: 2
	Swaps: 0
	File system inputs: 0
	File system outputs: 8
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:04
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 30
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.701s ] Loaded metadata, 10000000 attr's found
[ 0.701s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.704s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.705s ] Loaded 10000 spacev10m queries
[ 0.712s ] Loaded ground truth, gt_size: 10
[ 0.712s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.944s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.100
[ 80.962s ] Query results (vector ids, then distances):
query 0 nn's (10, 10): 4853416 (10) 7099403 (10) 1536208 (10) 1360571 (10) 7305168 (10) 3454073 (10) 3676917 (10) 1858226 (10) 4932580 (10) 1947126 (10) 
     dis: 	6414.133 6432.375 6566.185 7775.480 7796.184 8296.418 8401.078 8437.510 8644.477 8929.859 
query 1 nn's (10, 10): 8784659 (10) 2769394 (10) 5321556 (10) 4561316 (10) 3193849 (10) 2077395 (10) 7928199 (10) 5116926 (10) 6783786 (10) 3288493 (10) 
     dis: 	8765.226 9178.679 10238.240 10290.205 10562.842 10990.313 11093.604 11180.954 11190.893 11338.807 
query 2 nn's (10, 10): 4290437 (10) 3524579 (10) 2755608 (10) 2768752 (10) 4969561 (10) 5423341 (10) 6688464 (10) 7670329 (10) 1233143 (10) 6915696 (10) 
     dis: 	4542.042 5012.328 5151.526 7858.528 8062.667 8498.254 8687.844 9207.074 9287.541 9814.024 
query 3 nn's (10, 10): 7375372 (10) 8694166 (10) 4153275 (10) 1074776 (10) 9100185 (10) 9157428 (10) 5621855 (10) 8656601 (10) 1174052 (10) 6835770 (10) 
     dis: 	9178.121 9677.692 9891.278 10423.970 10469.760 10479.249 10713.815 10921.291 10968.396 11394.721 
query 4 nn's (10, 10): 9788862 (10) 3849231 (10) 3037959 (10) 9193832 (10) 6082909 (10) 3480152 (10) 7100626 (10) 449527 (10) 3195289 (10) 6614912 (10) 
     dis: 	6165.131 6168.659 6421.977 6456.212 6536.395 6616.665 6724.251 6766.941 6787.833 6794.460 
[ 80.962s ] *** Query time: 16.548
qps: 604.296
 *** ivfpq recall 
ivfpq get 77862 postive res from 100000 results, recall@10:0.779
recall dist(10% per bucket): 0.002 0.008 0.018 0.031 0.044 0.056 0.087 0.112 0.146 0.230 0.265 
finished ivfpq index examples
[ 80.963s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_10.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_10_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 30 100"
	User time (seconds): 79.56
	System time (seconds): 1.52
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:21.09
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2391972
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 612372
	Voluntary context switches: 6
	Involuntary context switches: 47
	Swaps: 0
	File system inputs: 0
	File system outputs: 16
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:08
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 30
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.700s ] Loaded metadata, 10000000 attr's found
[ 0.700s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.702s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.704s ] Loaded 10000 spacev10m queries
[ 0.711s ] Loaded ground truth, gt_size: 10
[ 0.711s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.900s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.010
[ 78.185s ] Query results (vector ids, then distances):
query 0 nn's (19, 19): 4279856 (19) 8341867 (19) 4470157 (19) 3665805 (19) 7367271 (19) 9931603 (19) 1637453 (19) 5746247 (19) 1770486 (19) 1372131 (19) 
     dis: 	7638.735 9558.711 9934.037 11205.758 12684.057 12869.922 13166.826 13499.471 13583.150 14605.518 
query 1 nn's (19, 19): 3010609 (19) 429713 (19) 4568459 (19) 8829523 (19) 110728 (19) 7568825 (19) 783095 (19) 2929751 (19) 6863211 (19) 3144041 (19) 
     dis: 	8391.524 9736.995 11708.830 11799.709 12010.175 12504.060 12578.889 12892.762 13382.105 13498.253 
query 2 nn's (19, 19): 5535345 (19) 5031536 (19) 8226884 (19) 6084444 (19) 749169 (19) 8617679 (19) 6971757 (19) 5515036 (19) 1458865 (19) 3010954 (19) 
     dis: 	12024.223 12097.814 12805.860 12947.198 12954.128 13331.361 13618.199 13641.347 13672.826 13907.245 
query 3 nn's (19, 19): 8688374 (19) 312551 (19) 4281239 (19) 2035960 (19) 1088105 (19) 7541027 (19) 7449790 (19) 6105877 (19) 8097175 (19) 5461052 (19) 
     dis: 	9944.749 12468.111 12897.088 13140.541 13573.342 13779.833 13839.975 13854.350 13899.174 14459.153 
query 4 nn's (19, 19): 6836665 (19) 7921516 (19) 2798193 (19) 1079096 (19) 6384236 (19) 8437136 (19) 8954656 (19) 2757759 (19) 8921471 (19) 9329860 (19) 
     dis: 	6851.380 7161.380 7243.177 7413.333 7440.549 7512.876 7577.691 7754.162 7851.804 8018.662 
[ 78.185s ] *** Query time: 15.331
qps: 652.283
 *** ivfpq recall 
ivfpq get 65893 postive res from 100000 results, recall@10:0.659
recall dist(10% per bucket): 0.007 0.021 0.041 0.065 0.082 0.105 0.121 0.136 0.150 0.160 0.112 
finished ivfpq index examples
[ 78.186s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_19.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_19_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 30 100"
	User time (seconds): 75.33
	System time (seconds): 3.01
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:18.35
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2392996
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 1120625
	Voluntary context switches: 1
	Involuntary context switches: 159
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:11
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 30
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.698s ] Loaded metadata, 10000000 attr's found
[ 0.698s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.700s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.702s ] Loaded 10000 spacev10m queries
[ 0.709s ] Loaded ground truth, gt_size: 10
[ 0.709s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.885s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.001
[ 79.265s ] Query results (vector ids, then distances):
query 0 nn's (20, 20): 6443191 (20) 4699240 (20) 7019431 (20) 4283885 (20) 9935667 (20) 3931559 (20) 5199441 (20) 6118204 (20) 8723167 (20) 8237360 (20) 
     dis: 	12183.217 12270.143 16160.129 17880.533 17992.535 18207.014 18672.984 19150.332 19745.900 19920.078 
query 1 nn's (20, 20): 9246122 (20) 6649015 (20) 9227196 (20) 8711930 (20) 662332 (20) 7923085 (20) 6779370 (20) 4889973 (20) 9004403 (20) 7856374 (20) 
     dis: 	13139.062 14440.965 14605.871 15184.494 15359.936 16701.602 16707.025 17081.066 17207.820 17775.973 
query 2 nn's (20, 20): 3713444 (20) 8465646 (20) 5699749 (20) 8198536 (20) 328170 (20) 8979320 (20) 9630261 (20) 4791587 (20) 5616307 (20) 7809929 (20) 
     dis: 	11821.822 13209.668 14546.093 14743.147 15838.992 16158.321 16812.693 17017.117 17466.766 17800.916 
query 3 nn's (20, 20): 5023237 (20) 4869461 (20) 6286207 (20) 5515303 (20) 5321494 (20) 2934450 (20) 6165841 (20) 6170727 (20) 9673289 (20) 1150990 (20) 
     dis: 	15682.982 16343.217 16877.375 17505.180 17942.729 18345.178 19071.053 19403.707 19721.559 19924.023 
query 4 nn's (20, 20): 2805400 (20) 2867132 (20) 5608022 (20) 3733057 (20) 7541936 (20) 3722920 (20) 8876586 (20) 5495283 (20) 7312851 (20) 4365971 (20) 
     dis: 	8020.513 8795.764 9016.697 9049.032 9677.945 9754.618 10004.038 10073.567 10130.991 10571.021 
[ 79.265s ] *** Query time: 13.918
qps: 718.500
 *** ivfpq recall 
ivfpq get 40578 postive res from 100000 results, recall@10:0.406
recall dist(10% per bucket): 0.043 0.086 0.138 0.158 0.169 0.145 0.116 0.075 0.043 0.021 0.007 
finished ivfpq index examples
[ 79.266s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_20.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_20_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 30 100"
	User time (seconds): 77.95
	System time (seconds): 1.43
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:19.39
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2392996
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 612824
	Voluntary context switches: 2
	Involuntary context switches: 101
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Start time: 01:27
====================
START: running TEST_IVFPQ, sift data --

dataset: spacev10m
N: 10000000
topk: 10
threads: 1
dataset file: /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs
query file: /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
attr file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
qrange file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json
gt file: /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_10.json
index file: /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100
nprobe: 30
dim: 100
loaded base attributes from:/mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json
[ 0.701s ] Loaded metadata, 10000000 attr's found
[ 0.701s ] Loading query vectors and attributes
query vecs data loaded, with dim: 100, nb=10000
[ 0.703s ] Loaded query vectors from /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs
[ 0.705s ] Loaded 10000 spacev10m queries
[ 0.712s ] Loaded ground truth, gt_size: 10
[ 0.712s ] Index Params -- d: 100, N: 10000000
 load index size: 10000000
--Index created
==============================================
====================Search Results====================
==============================================
==============================================
====================Search====================
==============================================
==================== IVFPQ INDEX ====================
[ 2.843s ] Searching the 10 nearest neighbors of 10000 vectors in the index
selectivity: 0.500
[ 86.021s ] Query results (vector ids, then distances):
query 0 nn's (6, 6): 4661794 (6) 1352077 (6) 1300400 (6) 2436347 (6) 425302 (6) 606211 (6) 1781760 (6) 3647719 (6) 9694965 (6) 8021837 (6) 
     dis: 	2984.658 3268.221 3451.792 5087.593 5217.498 5289.615 5431.436 5457.437 5935.341 6236.472 
query 1 nn's (6, 6): 3024255 (6) 4465136 (6) 6693881 (6) 1087257 (6) 547651 (6) 5778168 (6) 1739093 (6) 128447 (6) 913237 (6) 2201796 (6) 
     dis: 	6379.874 7832.273 8301.762 8504.258 9004.402 9105.973 9150.039 9356.089 9373.139 9564.128 
query 2 nn's (6, 6): 4574760 (6) 5189301 (6) 9191130 (6) 5932138 (6) 2966676 (6) 2096002 (6) 9602743 (6) 9746650 (6) 4710102 (6) 9561351 (6) 
     dis: 	3037.224 3383.687 6267.928 6957.796 7162.279 7653.282 8058.683 8065.928 8146.718 8304.261 
query 3 nn's (6, 6): 7481558 (6) 1208824 (6) 1153720 (6) 9922446 (6) 3092850 (6) 1681561 (6) 2871407 (6) 8906949 (6) 1866926 (6) 7371232 (6) 
     dis: 	7708.729 7734.653 8343.044 8379.474 8417.971 8437.070 8743.284 8931.419 9213.961 9248.313 
query 4 nn's (6, 6): 8316529 (6) 5624462 (6) 3987492 (6) 1706143 (6) 9534901 (6) 9970746 (6) 5744224 (6) 9323555 (6) 9211260 (6) 4390138 (6) 
     dis: 	2200.067 3592.018 3754.258 4565.575 5128.794 5232.411 5427.193 5444.871 5811.854 5974.076 
[ 86.021s ] *** Query time: 25.540
qps: 391.550
 *** ivfpq recall 
ivfpq get 81714 postive res from 100000 results, recall@10:0.817
recall dist(10% per bucket): 0.002 0.005 0.015 0.022 0.035 0.048 0.064 0.091 0.133 0.241 0.344 
finished ivfpq index examples
[ 86.022s ] -----DONE-----
	Command being timed: "../faiss/build/demos/ivfpq_query spacev10m 10000000 10 1 /mnt/data/mocheng/dataset/spacev10m/base10M.fvecs /mnt/data/mocheng/dataset/spacev10m/query10k.fvecs /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/attr_sel_1_500_random.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/qrangesel_1_1_500_random_6.json /mnt/data/mocheng/dataset/spacev10m/label/sel_1_500_random/sif_gt_sel_1_1_500_random_6_10.json /mnt/data/mocheng/dataset/spacev10m/ivfpq/index/index_ivfpq_sel_1_500_random_100 30 100"
	User time (seconds): 84.69
	System time (seconds): 1.46
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:26.16
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 2392996
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 612312
	Voluntary context switches: 1
	Involuntary context switches: 84
	Swaps: 0
	File system inputs: 0
	File system outputs: 24
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
